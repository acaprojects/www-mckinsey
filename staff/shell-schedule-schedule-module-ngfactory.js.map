{"version":3,"sources":["webpack:///./src/app/shell/schedule/event-list/event-list.component.html","webpack:///./src/app/shell/schedule/event-list/event-list.component.ts","webpack:///./src/app/shell/schedule/locker-listings/locker-listings.template.html","webpack:///./src/app/shell/schedule/locker-listings/locker-listings.component.ts","webpack:///./src/app/shell/schedule/meeting-listings/meeting-listings.component.ts","webpack:///./src/app/shell/schedule/schedule.template.html","webpack:///./src/app/shell/schedule/schedule.component.ts","webpack:///./src/app/shell/schedule/schedule.module.ts","webpack:///./src/app/shell/schedule/visitor-listings/visitor-listings.component.ts"],"names":[],"mappings":"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","file":"shell-schedule-schedule-module-ngfactory.js","sourcesContent":["<div class=\"container\">\n    <cdk-virtual-scroll-viewport itemSize=\"80\" (scrolledIndexChange)=\"checkScroll()\">\n        <div class=\"content\">\n            <ng-container *cdkVirtualFor=\"let item of items | async \">\n                <div #list_item [class]=\"'item ' + item.type\" [title]=\"item?.custom_name || item?.name || item?.title || item\"\n                    [ngSwitch]=\"item.type\" [id]=\"item.title\" (touchrelease)=\"item.type==='event'? view(item):''\">\n                    <ng-container *ngSwitchCase=\"'date'\">\n                        <div [id]=\"'item-'+item.date\" class=\"dot today\" *ngIf=\"item.today\"></div>{{item.title}}\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'no-items'\">\n                        {{item.title}}\n                    </ng-container>\n                    <ng-container *ngSwitchCase=\"'event'\">\n                        <div class=\"period\">\n                            <div class=\"text\">{{item.all_day ? 'All Day' : item.display?.start}}</div>\n                            <div class=\"info\">{{item.display?.short_duration}}</div>\n                        </div>\n                        <div class=\"icon\">\n                            <img *ngIf=\"!item.visitors && item.attendees && item.attendees.length > 0\" src=\"assets/icon/roombooked.svg\">\n                            <img *ngIf=\"item.visitors\" src=\"assets/icon/events.svg\">\n                            <div class=\"dot\" *ngIf=\"!item.attendees || item.attendees.length <= 0\"></div>\n                        </div>\n                        <div class=\"details\">\n                            <div class=\"text\">{{item.title}}</div>\n                            <div class=\"location\" *ngIf=\"item.display && item.display.room\">\n                                <div class=\"icon\"><img src=\"assets/icon/location.svg\"></div>\n                                <div class=\"text\">{{item.location_name || 'No location set'}}</div>\n                            </div>\n                        </div>\n\n                    </ng-container>\n                    <div class=\"line\"></div>\n                </div>\n            </ng-container>\n        </div>\n    </cdk-virtual-scroll-viewport>\n    <div class=\"loader\" *ngIf=\"model.loading\">\n        <spinner type=\"circle-ring\" color=\"#000\"></spinner>\n    </div>\n</div>\n","\nimport { animate, keyframes, style, transition, trigger } from '@angular/animations';\nimport { Component, OnInit, ViewChild, Input, OnChanges, OnDestroy } from '@angular/core';\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { BaseComponent } from '../../../shared/globals/base.component';\nimport { AppService } from '../../../services/app.service';\nimport { IBooking } from '../../../services/data/bookings.service';\n\nimport * as moment from 'moment';\nimport { Utils } from '../../../shared/utility.class';\nimport { IUser } from '../../../services/data/users.service';\nimport { userInfo } from 'os';\n\n@Component({\n    selector: 'schedule-event-list',\n    templateUrl: './event-list.component.html',\n    styleUrls: ['./event-list.component.scss'],\n    animations: [\n        trigger('show', [\n            transition('void => event', animate('.3s ease-out', keyframes([\n                style({ height: 0, opacity: 0, offset: 0 }),\n                style({ height: '80px', opacity: 1, offset: 1 })\n            ])))\n        ])\n    ]\n})\nexport class ScheduleEventListComponent extends BaseComponent implements OnInit, OnChanges, OnDestroy {\n    /** User to show events for */\n    @Input() public user: IUser;\n    @Input() public date = moment().valueOf();\n    public model: any = {};\n    public items: BehaviorSubject<IBooking[]> = new BehaviorSubject([]);\n    public selected_index: number;\n\n    // @ViewChild('list') private list: ElementRef;\n\n    @ViewChild(CdkVirtualScrollViewport) private viewport: CdkVirtualScrollViewport;\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.model.days = 15;\n        this.checkScroll();\n        this.items.subscribe((res) => this.model.list = res);\n        this.subscription('bookings', this.service.Bookings.listen('timeline', (timeline) => {\n            const date = moment().startOf('d');\n            const end = moment(date).add(this.model.days, 'd');\n            let list: IBooking[] = [];\n            for (; date.isBefore(end, 'm'); date.add(1, 'd')) {\n                list = [ ...list, ...(timeline[date.format('YYYY/MM/DD')] || []) ];\n            }\n            list = Utils.unique(list, 'order_id');\n            if (this.user) {\n                list = list.filter(i =>\n                    i.organiser.email === this.user.email\n                    || !!i.attendees.find(j => j.email === this.user.email)\n                );\n            }\n            this.model.list = list\n            this.processBookings();\n        }));\n        this.loadBookings();\n        this.interval('update', () => this.updateBookings(), 10 * 1000);\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.date) {\n            this.timeout('date_change', () => this.changeDate(this.date), 500);\n        }\n        if (changes.user) {\n            this.updateBookings();\n            this.interval('update', () => this.updateBookings(), 10 * 1000);\n        }\n    }\n\n    public ngOnDestroy(): void {\n        super.ngOnDestroy();\n        this.clearInterval('update');\n    }\n\n    public loadBookings() {\n        if (this.model.loading) { return; }\n        return new Promise((resolve, reject) => {\n            this.model.loading = true;\n            const date = moment().startOf('d');\n            const end = moment(date).add(Math.max(3, this.model.days), 'd');\n            const user = this.service.Users.current();\n            if (!this.user) {\n                this.user = this.service.Users.current();\n            }\n            const user_list = user.delegates && user.delegates.length > 0 ? [user.email, ...user.delegates] : [user.email];\n            this.service.Bookings.query({\n                email: this.user ? this.user.email : user_list.reduce((a, v) => (a ? a + ',' : a) + v, ''),\n                from: date.unix(), to: end.unix()\n            }).then((items) => {\n                this.service.Bookings.clear({ from: date.valueOf(), to: end.valueOf() });\n                this.service.Bookings.updateList(Utils.unique(items, 'icaluid'));\n                this.model.loading = false;\n                resolve();\n            }, _ => {\n                this.model.loading = false;\n                reject();\n            });\n        });\n    }\n\n    public checkScroll() {\n        this.timeout('check_scroll', () => {\n            if (!this.viewport) { return this.timeout('atBottom', () => this.checkScroll()); }\n            const start = this.viewport.getRenderedRange().start;\n            const end = this.viewport.getRenderedRange().end;\n            const total = this.viewport.getDataLength();\n            const from_start = moment().add(this.model.from_start, 'd').format('YYYY-MM-DD');\n            const items = this.items.getValue();\n            if (end === total) {\n                this.atBottom();\n            } else if (this.model.from_start > 0 && items.indexOf(items.find(i => i.id === from_start)) > start) {\n                this.atTop();\n            }\n        }, 100);\n    }\n\n    public atBottom() {\n        if (this.model.loading) { return; }\n        this.model.days += 3;\n        this.interval('update', () => this.updateBookings(), 5 * 1000);\n        this.updateBookings();\n    }\n\n    public getViewLocation() {\n        if (this.viewport) {\n            const start = Math.floor(this.viewport.measureScrollOffset() / 80);\n            const items = this.items.getValue();\n            if (items && items.length > 0 && start < items.length) {\n                const item = items[start];\n                return item ? item.id : null;\n            }\n        }\n        return null;\n    }\n\n    public atTop() {\n        if (this.model.loading || this.model.from_start <= 0) { return; }\n        const range = this.viewport.getRenderedRange();\n        const now = moment().startOf('d');\n        const items = this.items.getValue();\n        const middle = Math.floor((range.start + range.end) / 2);\n        const time = moment(items && items[middle] ? items[middle].date : undefined);\n        this.model.from_start = Math.floor(moment.duration(time.diff(now)).asDays());\n        this.updateBookings();\n    }\n\n    public scrollTo(id: string, offset: number = 0, smooth: boolean = true) {\n        if (!id || (this.model.ignore && id !== this.model.ignore)) { return; }\n        const items = this.items.getValue();\n        const index = items.findIndex(i => i.id === id);\n        if (index >= 0) {\n            this.viewport.scrollToOffset(index * 80 + offset, smooth ? 'smooth' : 'auto');\n        }\n        this.timeout('ignore', () => this.model.ignore = null, 1000);\n    }\n\n    public changeDate(date: number) {\n        const now = moment().startOf('d');\n        const day = moment(date);\n        let time = moment(day).subtract(3, 'd');\n        if (time.isBefore(now, 'd')) { time = moment(now); }\n        if (day.diff(now, 'd') < this.model.days) {\n            this.model.ignore = day.format('YYYY-MM-DD');\n            this.scrollTo(day.format('YYYY-MM-DD'));\n        } else {\n            this.model.from_start = time.diff(now, 'd');\n            this.model.days = this.model.from_start + 8;\n            this.updateBookings().then(() => {\n                this.timeout('scroll', () => this.scrollTo(day.format('YYYY-MM-DD')), 1000);\n            });\n        }\n    }\n\n    public updateBookings() {\n        return new Promise((resolve, reject) => {\n            if (this.model.loading) { return reject(); }\n            if (!this.viewport) {\n                return this.timeout('update_bookings', () => this.updateBookings().then(resolve, reject));\n            }\n            if (!this.user) {\n                this.user = this.service.Users.current();\n            }\n            const range = this.viewport.getRenderedRange();\n            const now = moment().startOf('d');\n            const items = this.items.getValue();\n            const middle = Math.floor((range.start + range.end) / 2);\n            const date = items && items[middle] ? items[middle].date : undefined;\n            const start = moment(date).subtract(3, 'd').startOf('d');\n            const end = moment(date).add(3, 'd').endOf('d');\n            this.setLoading(start.valueOf(), end.valueOf());\n            const user = this.service.Users.current();\n            const user_list = user.delegates && user.delegates.length > 0 ? [user.email, ...user.delegates] : [user.email];\n            this.model.loading = true;\n            this.service.Bookings.query({\n                email: this.user ? this.user.email : user_list.reduce((a, v) => (a ? a + ',' : a) + v, ''),\n                from: start.isBefore(now, 'd') ? now.unix() : start.unix(),\n                to: end.unix()\n            }).then((list) => {\n                this.service.Bookings.clear({ from: start.isBefore(now, 'd') ? now.valueOf() : start.valueOf(), to: end.valueOf() });\n                this.service.Bookings.updateList(list);\n                this.model.loading = false;\n                resolve();\n            }, _ => { this.model.loading = false; reject()});\n        });\n    }\n\n    public setLoading(start: number, end: number) {\n        const from = moment(start);\n        const to = moment(end);\n        const items: any[] = this.items.getValue();\n        for (; from.isBefore(to, 'm'); from.add(1, 'd')) {\n            const item = items.find(i => i.id === from.format('YYYY-MM-DD'));\n            if (item) { item.loading = true; }\n        }\n    }\n\n    public processBookings() {\n        this.timeout('process', () => {\n            const offset = this.viewport.measureScrollOffset() % 80;\n            const scroll_id = this.getViewLocation();\n            this.model.list.sort((a, b) => a.date - b.date);\n            let list: any[] = [];\n            const now = moment();\n            const date = moment().startOf('d');\n            const end = moment(date).add(this.model.days, 'd').endOf('d');\n            for (; date.isSameOrBefore(end, 'd'); date.add(1, 'd')) {\n                list.push({\n                    order_id: date.format('YYYY-MM-DD'),\n                    id: date.format('YYYY-MM-DD'),\n                    type: 'date',\n                    today: now.isSame(date, 'd'),\n                    title: date.format('dddd, DD MMM'),\n                    value: date.format('YYYY-MM-DD'),\n                    date: date.valueOf()\n                });\n                const length = list.length;\n                for (const bkn of this.model.list) {\n                    if (bkn.type && bkn.type !== 'event') { continue; }\n                    const bkn_date = moment(bkn.for_date || bkn.date);\n                    if (bkn_date.isSame(date, 'd')) {\n                        const item = { ...bkn, status: bkn.status, type: 'event' };\n                        list.push(item);\n                    }\n                }\n                if (list.length === length) {\n                    list.push({ order_id: `${date.format('YYYY-MM-DD')}-no-items`, type: 'no-items', title: 'No events', date: date.valueOf() });\n                }\n            }\n            list.sort((a, b) => (a.for_date || a.date) - (b.for_date || b.date));\n            list = Utils.unique(list, 'order_id');\n            this.items.next(list);\n            this.model.bookings = list.filter(i => i.id);\n            if (this.model.ignore && !!list.find(i  => i.id === this.model.ignore)) {\n                this.scrollTo(this.model.ignore);\n            } else {\n                this.scrollTo(scroll_id, offset, false);\n            }\n        });\n    }\n\n    public view(item: any) {\n        this.model.mainIndex = this.model.bookings.indexOf(item);\n\n        const idx = this.model.mainIndex;\n        item.disableSwitch = idx === 0 ? 'first' : (idx === this.model.bookings.length - 1 ? 'last' : 'undefined');\n        if (this.service) {\n            this.service.Overlay.openModal('meeting-details', { data: {\n                booking: this.service.Bookings.item(item.id),\n                as_delegate: this.user && this.user.email !== this.service.Users.current().email,\n                delegate: this.user.email\n            } }, (event) => {\n                if (event.type === 'next') { // Show next booking\n                    this.timeout('next_booking', () => this.nextbooking());\n                } else if (event.type === 'delete') { // Delete active booking\n                    this.timeout('delete_booking', () => this.deletebooking());\n                } else if (event.type === 'previous') { // Show previous booking\n                    this.timeout('previous_booking', () => this.previousbooking());\n                } else if (event.type === 'check-in') { // Checkin to active booking\n                    this.timeout('delete_booking', () => this.checkin());\n                }\n                event.close();\n            });\n        }\n    }\n\n    public checkin() {\n        const index = this.model.mainIndex;\n        this.model.bookings[index].checkin = true;\n    }\n\n    public deletebooking() {\n        this.model.bookings.splice(this.model.mainIndex, 1);\n    }\n\n    public nextbooking() {\n        const index = this.model.mainIndex;\n        if (index < this.model.bookings.length - 1) {\n            this.view(this.model.bookings[index + 1]);\n        } else {\n            this.view(this.model.bookings[index]);\n        }\n    }\n\n    public previousbooking() {\n        const index = this.model.mainIndex;\n        if (index > 0) {\n            this.view(this.model.bookings[index - 1]);\n        } else {\n            this.view(this.model.bookings[index]);\n        }\n    }\n\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"contents\">\n            <div class=\"text\">Lockers{{model.count ? '('+model.count+')' : ''}}</div>\n        </div>\n    </div>\n    <div class=\"body\">\n            <carousel name=\"schedule\" *ngIf=\"model.list && model.list.length > 0\">\n                <carousel-item *ngFor=\"let item of model.list; let i = index\">\n                    <div class=\"item\" [class.past]=\"item.is_past\">\n                        <div class=\"content\">\n                            <div class=\"details\">\n                                <div class=\"date\">Locker {{item.id}}</div>\n                                <div class=\"field\">\n                                    {{item.level}} - {{item.section}}\n                                </div>\n                                <div class=\"field\">\n                                    <div class=\"label\">Expires on:</div>\n                                    <div class=\"value\">\n                                        {{item.display.expiry || 'Unknown'}} ({{item.display.duration || 'Sometime'}}\n                                        {{item.display.duration > 0 ? 'day' + (item.display.duration === 1 ? '' : 's') : ''}})\n                                    </div>\n                                </div>\n                            </div>\n                            <btn name=\"full-width inverse\" [disabled]=\"item.expired\" (tapped)=\"item.booking ? '' : open(item)\">\n                                <div class=\"text\" *ngIf=\"!item.booking\">Open</div>\n                                <spinner type=\"cirlce-ring\" *ngIf=\"item.booking\"></spinner>\n                            </btn>\n                        </div>\n                    </div>\n                </carousel-item>\n            </carousel>\n        <div class=\"no-item\" *ngIf=\"!model.list || model.list.length <= 0\">\n            <div class=\"text\">No lockers</div>\n        </div>\n    </div>\n</div>\n","\nimport { Component, Input, Output, EventEmitter, OnInit, OnChanges } from '@angular/core';\n\nimport { BaseComponent } from '../../../shared/globals/base.component';\nimport { AppService } from '../../../services/app.service';\n\nimport * as faker from 'faker';\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'locker-listings',\n    templateUrl: './locker-listings.template.html',\n    styleUrls: ['./locker-listings.styles.scss']\n})\nexport class LockerListingsComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public date: number;\n    @Input() public count: number;\n    @Output() public countChange = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n        this.model.list = [];\n        this.postCount();\n    }\n\n    public ngOnInit() {\n        this.subscription('lockers', this.service.Users.listen('user', (user) => {\n            if (user) {\n                this.model.list = this.service.Users.current().lockers;\n                this.updateList();\n            }\n        }));\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.date) {\n            this.model.date_display = moment(this.date).format('DD MMM YYYY');\n            this.updateList();\n        }\n    }\n\n    public view(item) {\n        this.service.Visitors.view(item);\n    }\n\n    public updateList() {\n        const bld = this.service.Buildings.current();\n        if (!bld) {\n            return this.timeout('update', () => this.updateList());\n        }\n        const now = moment();\n        for (const item of (this.model.list || [])) {\n            const expiry = moment(item.expiry * 1000);\n            item.expired = now.isAfter(expiry);\n            const remaining = moment.duration(expiry.diff(now)).asDays();\n            item.display = {\n                expiry: expiry.format('DD MMM YYYY'),\n                duration: remaining < 0 ? 'Expired' : Math.round(remaining)\n            };\n            for (const lvl in bld.lockers) {\n                if (bld.lockers.hasOwnProperty(lvl)) {\n                    for (const section in bld.lockers[lvl]) {\n                        if (bld.lockers[lvl].hasOwnProperty(section)) {\n                            const section_data = bld.lockers[lvl][section];\n                            for (const type in section_data) {\n                                if (section_data.hasOwnProperty(type)) {\n                                    for (const row of section_data[type]) {\n                                        if (row.indexOf(item.id) >= 0) {\n                                            item.level = this.service.Buildings.getLevel(lvl).name;\n                                            item.section = section;\n                                            break;\n                                        }\n                                    }\n                                    if (item.level) { break; }\n                                }\n                            }\n                            if (item.level) { break; }\n                        }\n                    }\n                    if (item.level) { break; }\n                }\n            }\n        }\n        this.postCount();\n    }\n\n    public postCount() {\n        setTimeout(() => {\n            this.count = this.model.list ? this.model.list.length : 0;\n            this.countChange.emit(this.count);\n        }, 50);\n    }\n\n    public open(locker) {\n        locker.opening = true;\n        this.service.Lockers.open(locker.id).then(() => {\n            locker.opening = false;\n            this.service.error('Successfully opened locker');\n        }, () => {\n            locker.opening = false;\n            this.service.error('Unable to open locker');\n        });\n    }\n}\n","\nimport { Component, OnInit, Input, OnChanges, EventEmitter, Output } from '@angular/core';\nimport { AppService } from '../../../services/app.service';\n\nimport * as moment from 'moment';\nimport { BaseComponent } from '../../../shared/globals/base.component';\nimport { IBooking } from '../../../services/data/bookings.service';\n\n@Component({\n    selector: 'meeting-listings',\n    templateUrl: './meeting-listings.template.html',\n    styleUrls: ['./meeting-listings.styles.scss']\n})\nexport class MeetingListingsComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public date = moment().valueOf();\n    @Output() public dateChange = new EventEmitter();\n\n    public model: any = {};\n    public module: any = null;\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.model.offset = 0;\n        this.model.today = moment().valueOf();\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init());\n        }\n        this.subscription('timeline', this.service.Bookings.listen('timeline', (list) => {\n            const date = moment(this.date).format('YYYY/MM/DD');\n            this.model.bookings = list[date] || [];\n            this.removeVisitorOnlyBookings();\n            this.processBookings();\n        }));\n        this.model.settings = this.service.Settings.get('schedule');\n        this.processBookings();\n        this.updateCheckinState();\n    }\n\n    public removeVisitorOnlyBookings() {\n        const hide_visitors = (this.model.settings || {}).hide_visitor_bookings;\n        if (hide_visitors) {\n            this.model.bookings = this.model.bookings.reduce((l, bkn) => {\n                const external = bkn.attendees.reduce((a, i) => a += i.external ? 1 : 0, 0);\n                if (external < bkn.attendees.length) { l.push(bkn); }\n                return l;\n            }, []);\n        }\n    }\n\n    public updateCheckinState() {\n        const now = moment();\n        for (const bkn of this.model.bookings) {\n            if (bkn.room) {\n                const start = moment(bkn.date);\n\n                if (this.model['last_meeting_started' + bkn.room.id]) {\n                    // Meeting checked in and current time is within the duration of meeting\n                    if (now.valueOf() >= moment(start).subtract(15, 'm').valueOf() && now.valueOf() <= moment(start).add(bkn.duration, 'm').valueOf()) {\n\n                        bkn.checkin = 'done';\n                    }\n\n                } else {\n                    if (now.valueOf() >= moment(start).subtract(15, 'm').valueOf() && now.valueOf() <= moment(start).add(15, 'm').valueOf()) {\n                        bkn.checkin = 'available';\n                    } else {\n                        bkn.checkin = 'notavailable';\n                    }\n                }\n            }\n        }\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.date) {\n            const day = moment(this.date);\n            const date = day.format('YYYY/MM/DD');\n            this.model.date_display = day.format('DD MMM YYYY');\n            this.model.date = day.isSame(moment(), 'd') ? 'Today' : day.format('ddd, Do MMMM');\n            const list = this.service.Bookings.get('timeline') || {};\n            this.model.bookings = list[date] || [];\n            this.removeVisitorOnlyBookings();\n            this.processBookings();\n        }\n    }\n\n    // public view(item: any) {\n    //     this.service.Bookings.view(item);\n    // }\n\n    public view(item: any) {\n        this.model.mainIndex = this.model.bookings.indexOf(item);\n\n        // check if meeting is present or if meeting is in the past\n\n        const start = moment(item.date);\n        const duration = item.duration;\n        const now = moment();\n        if (now > start) {\n            item.startStatus = 'past';\n\n\n            // now need to pack this duration and update the booking\n        } else {\n            item.startStatus = 'future';\n\n        }\n\n        if (this.model.mainIndex == 0) {\n            item.disableSwitch = 'first';\n        } else {\n            if (this.model.mainIndex == this.model.bookings.length - 1) {\n                item.disableSwitch = 'last';\n            } else {\n                item.disableSwitch = 'undefined';\n            }\n        }\n        if (this.service) {\n            this.service.Overlay.openModal('meeting-details', { data: { booking: item } })\n                .then((inst: any) => inst.subscribe((event) => {\n                    if (event.type === 'next') {\n                        setTimeout(() => {\n                            this.nextbooking();\n                        }, 300);\n\n                    }\n                    if (event.type === 'delete') {\n\n                        setTimeout(() => {\n                            this.deletebooking();\n                        }, 300);\n\n                        event.close();\n                    }\n\n\n                    if (event.type === 'previous') {\n                        setTimeout(() => {\n                            this.previousbooking();\n                        }, 300);\n                    }\n\n                    if (event.type === 'duplicate') {\n                        event.close();\n                    }\n                    event.close();\n\n                    if (event.type === 'check-in') {\n                        setTimeout(() => {\n                            this.checkin();\n                        }, 300);\n                    }\n\n                }));\n        }\n    }\n\n    public checkin() {\n\n        const index = this.model.mainIndex;\n        this.model.bookings[index].checkin = true;\n\n\n    }\n    public deletebooking() {\n        this.model.bookings.splice(this.model.mainIndex, 1);\n    }\n\n    public nextbooking() {\n\n        if (this.model.mainIndex < this.model.bookings.length - 1) {\n            const index = this.model.mainIndex + 1;\n\n            this.view(this.model.bookings[index]);\n        } else {\n            const index = this.model.mainIndex;\n\n            this.view(this.model.bookings[index]);\n        }\n\n\n    }\n\n    public previousbooking() {\n        if (this.model.mainIndex > 0) {\n            const index = this.model.mainIndex - 1;\n            this.view(this.model.bookings[index]);\n        } else {\n            const index = this.model.mainIndex;\n            this.view(this.model.bookings[index]);\n        }\n    }\n\n    public changeDate() {\n        this.dateChange.emit(this.date);\n        this.model.show_calendar = false;\n    }\n\n    private processBookings() {\n        this.model.list = [];\n        const now = moment();\n        const bld = this.service.Buildings.current();\n        const bookings: IBooking[] = (this.model.bookings || []);\n        for (const bkn of bookings) {\n            const start = moment(bkn.date);\n            const end = moment(start).add(bkn.duration, 'm');\n            const attend_cnt = bkn.attendees ? bkn.attendees.length : 0;\n            bkn.display = {\n                date: start.format('MMM D'),\n                cal: start.format('MMMM YYYY'),\n                title: bkn.title,\n                time: `${start.format('h:mma')} - ${end.format('h:mma')}`,\n                desc: (bkn.notes.find(i => i.type === 'description') || { message: '' }).message,\n                duration: bkn.display.duration,\n                attend: attend_cnt ? `${attend_cnt} Attendee${attend_cnt === 1 ? '' : 's'}` : 'No attendees'\n            };\n            if (bkn.room) {\n                // get the status of last meeting for this particular room\n                bkn.display.location = `${bkn.room.name}${bkn.room.level ? ' - ' + bkn.room.level.name : ''}`;\n            }\n            if (bkn.attendees && bkn.attendees.length > 0) {\n                const len = bkn.attendees.length;\n                bkn.display.attend = `${len} Attendee${len > 1 ? 's' : ''}`;\n            }\n        }\n        if (this.model.bookings && this.model.bookings.length > 0) {\n            if (!this.model.bookings[0].display || !this.model.bookings[0].display.location) {\n                this.timeout('process', () => this.processBookings());\n            }\n        }\n\n    }\n\n    public newBooking() {\n        this.service.navigate('book');\n    }\n\n    public confirm(item: any) {\n        this.model.room = item.room;\n        const roomid = item.room.id;\n        this.module = this.service.Systems.getModule(roomid, 'Bookings_1');\n        this.startMeeting(item);\n\n    }\n\n    public startMeeting(item: any) {\n        if (!this.model && !this.model.room) { return; }\n        if (this.model.room) {\n            const time = item.date;\n            if (time) {\n                this.model.started = true;\n                if (this.module) {\n                    this.module.exec('start_meeting', time)\n                        .then(() => console.log(\"meeting updated in the backend\"), () => null);\n                }\n            }\n        }\n    }\n\n    public bookingId(index: number, item: IBooking) {\n        return item ? item.id : index;\n    }\n}\n","<div class=\"container\" [class.popout]=\"model.popout\" [class.visitor-dropdown]=\"model.visitorDropdown\">\n    <div class=\"header\">\n        <div class=\"icon text\">\n            <dropdown\n                *ngIf=\"users && users.length > 1\"\n                klass=\"no-back form\"\n                [list]=\"users\"\n                [model]=\"model.host\"\n                (modelChange)=\"model.show_user = users[$event]\"\n            ></dropdown>\n        </div>\n        <div class=\"buttons\">\n            <btn klass=\"mck-primary\" format=\"mini-action\" (tapped)=\"model.show_tooltip = !model.show_tooltip\">\n                <i\n                    tooltip\n                    [(show)]=\"model.show_tooltip\"\n                    [template]=\"calendar\"\n                    [triangle]=\"true\"\n                    position=\"bottom\"\n                    offset=\"end\"\n                    class=\"material-icons\"\n                >\n                    today\n                </i>\n            </btn>\n        </div>\n    </div>\n    <ng-template #calendar>\n        <a-date-picker\n            klass=\"themed\"\n            [ngModel]=\"model.date?.value\"\n            [counters]=\"model.events\"\n            [options]=\"{ from: model.today }\"\n            (ngModelChange)=\"setDate($event); model.show_tooltip = false\"\n        ></a-date-picker>\n    </ng-template>\n\n    <div class=\"body\">\n        <div class=\"events\" *ngIf=\"!model.settings || model.settings.visitors !== false\">\n            <schedule-event-list\n                [user]=\"model.show_user\"\n                [(date)]=\"model.date.value\"\n                (loading)=\"model.loading = $event\"\n            ></schedule-event-list>\n        </div>\n        <div class=\"events\" *ngIf=\"model.lockers && model.has_lockers\">\n            <locker-listings [date]=\"model.date.value\"></locker-listings>\n        </div>\n    </div>\n</div>\n","/*\n * @Author: Alex Sorafumo\n * @Date:   2017-05-16 14:12:48\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-08-08 14:49:27\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport { FormGroup, AbstractControl } from '@angular/forms';\n\nimport { AppService } from '../../services/app.service';\nimport { IBooking } from '../../services/data/bookings.service';\nimport { BaseComponent } from '../../shared/globals/base.component';\n\nimport * as moment from 'moment';\nimport { IUser } from '../../services/data/users.service';\n\n@Component({\n    selector: 'app-schedule',\n    templateUrl: './schedule.template.html',\n    styleUrls: ['./schedule.styles.scss'],\n})\nexport class ScheduleComponent extends BaseComponent implements OnInit {\n    public model: any = {};\n    public form: FormGroup;\n    /** List of users that the current user can see the bookings of */\n    public users: IUser[] = [];\n    /** Email of the host of the last created booking */\n    public host: string;\n\n\n    private process_list = (dates) => (list) => {\n        const timeline: { [name: string]: IBooking[] } = this.service.Bookings.get('timeline');\n        for (const d of dates) {\n            this.service.Bookings.clear({ from: d });\n        }\n    }\n\n    constructor(private service: AppService, private route: ActivatedRoute) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.model.dates = [];\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.day_count = this.service.Settings.get('app.schedule.length') || 14;\n        this.model.has_lockers = this.service.Settings.get('app.lockers.enabled');\n        this.model.popout = this.service.Settings.get('app.style.popout') || false;\n        this.model.settings = this.service.Settings.get('app.schedule');\n        if (this.model.settings.popout === false) {\n            this.model.popout = false;\n        }\n        this.service.set('BANNER.block_height', 0);\n        this.model.year = moment().year();\n        this.loadBookings();\n        this.model.visitorDropdown = false;\n        this.service.Analytics.screen('Schedule');\n        this.service.Analytics.page('/schedule');\n        this.model.today = moment().valueOf();\n        this.model.user = this.service.Users.current();\n        this.model.host = 0;\n        this.users = [this.model.user];\n        for (const email of this.model.user.delegates) {\n            let user = this.service.Users.item(email);\n            if (user) {\n                this.users.push(user);\n            } else {\n                this.service.Users.show(email).then((u) => {\n                    if (this.host && u.email === this.host) {\n                        this.model.host = this.users.length;\n                        this.model.show_user = u;\n                    }\n                    this.users.push(u);\n                });\n            }\n        }\n        this.model.lockers = this.model.user.lockers;\n        this.model.show_tooltip = false;\n        const date = this.model.date ? this.model.date.value : undefined;\n        this.model.is_today = moment().isSame(moment(date), 'd');\n        this.subscription('route', this.route.queryParamMap.subscribe((params) => {\n            if (params.has('host')) {\n                const email = params.get('host')\n                const index = this.users.findIndex(i => i.email === email);\n                this.model.host = index > 0 ? index : 0;\n                this.model.show_user = this.users[this.model.host];\n                this.host = email;\n            }\n        }));\n    }\n\n    public loadBookings() {\n        const date = moment().startOf('d');\n        this.model.date = this.model.dates.find(i => moment(i.value).isSame(date, 'd')) || {};\n        this.service.Bookings.listen<{ [name: string]: IBooking[] }>(`timeline`, (list) => {\n            this.timeout('update_timeline', () => this.processTimeline(list), 100);\n        });\n    }\n\n    public setDate(date: number) {\n        this.model.date = { value: date };\n    }\n\n    public changeDate(value: number) {\n        const date_obj = this.model.date ? this.model.date.value : undefined;\n        const date = moment(date_obj);\n        date.add(value, 'd');\n        this.setDate(date.valueOf());\n    }\n\n    public resetDate() {\n        this.setDate(moment().valueOf());\n    }\n\n    public toggleView(e: any) {\n        this.model.visitorDropdown = e;\n    }\n\n    public updateEvents(timestamp?: number) {\n        this.model.dates = [];\n        const date = moment(timestamp).startOf('M');\n        const end = moment(date).endOf('M');\n        const now = moment();\n        for (; date.isSameOrBefore(end); date.add(1, 'd')) {\n            const date_obj = {\n                count: 0,\n                display: now.isSame(date, 'd') ? 'Today' : date.format('ddd, MMM Do'),\n                date: date.format('YYYY/MM/DD'),\n                value: date.valueOf()\n            };\n            this.model.dates.push(date_obj);\n        }\n        this.processTimeline(this.service.Bookings.get('timeline'));\n    }\n\n    public processTimeline(list: { [name: string]: IBooking[] }) {\n        this.model.events = {};\n        for (const day of this.model.dates) {\n            day.count = (list ? list[day.date] || [] : []).length;\n            this.model.events[moment(day.value).format('YYYY-MM-DD')] = day.count;\n        }\n    }\n\n}\n","\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { WidgetsModule } from '@acaprojects/ngx-widgets';\nimport { RouterModule } from '@angular/router';\nimport { ROUTES } from './schedule.routes';\n\nimport { SharedComponentModule } from '../../shared/components/shared.module';\n\nimport { ScheduleComponent } from './schedule.component';\nimport { MeetingListingsComponent } from './meeting-listings/meeting-listings.component';\nimport { VisitorListingsComponent } from './visitor-listings/visitor-listings.component';\nimport { LockerListingsComponent } from './locker-listings/locker-listings.component';\nimport { ScheduleEventListComponent } from './event-list/event-list.component';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { ComposerModule } from '@acaprojects/ngx-composer';\n\nconst COMPONENTS: any = [\n    ScheduleComponent,\n    MeetingListingsComponent,\n    VisitorListingsComponent,\n    LockerListingsComponent,\n    ScheduleEventListComponent,\n\n];\n\n@NgModule({\n    declarations: [\n        ...COMPONENTS\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        WidgetsModule,\n        ComposerModule,\n        RouterModule.forChild(ROUTES),\n        SharedComponentModule,\n        ScrollingModule\n    ],\n    exports: [\n        ...COMPONENTS\n    ]\n})\nexport class AppScheduleModule { }\n","\nimport { Component, Input, Output, EventEmitter, OnInit, OnChanges } from '@angular/core';\n\nimport { BaseComponent } from '../../../shared/globals/base.component';\nimport { AppService } from '../../../services/app.service';\n\nimport * as faker from 'faker';\nimport * as moment from 'moment';\nimport { IVisitorGroup } from '../../../services/data/visitors.service';\n\n@Component({\n    selector: 'visitor-listings',\n    templateUrl: './visitor-listings.template.html',\n    styleUrls: ['./visitor-listings.styles.scss']\n})\nexport class VisitorListingsComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public date: number;\n    @Input() public count: number;\n    @Output() public countChange = new EventEmitter();\n    @Output() public dateChange = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n        this.model.list = [];\n        this.model.offset = 0;\n        const cnt = Math.floor(Math.random() * 10 + 3);\n        for (let i = 0; i < cnt; i++) {\n            const time = moment().add(Math.floor(Math.random() * 8 - 1) * 15, 'm');\n            this.model.list.push({\n                name: `${faker.name.firstName()} ${faker.name.lastName()}`,\n                image: faker.image.avatar(),\n                date: time.valueOf(),\n                arrival_time: time.format('h:mm a'),\n            });\n        }\n        this.model.list.sort((a, b) => a.time - b.time);\n        this.postCount();\n    }\n\n    public ngOnInit() {\n        this.model.today = moment().valueOf();\n        this.subscription('visitor_list', this.service.Visitors.listen('timeline', (list) => {\n            this.model.visitor_list = list;\n            this.updateList();\n        }));\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.date) {\n            const day = moment(this.date);\n            this.model.date_display = moment(this.date).format('DD MMM YYYY');\n            this.model.date = day.isSame(moment(), 'd') ? 'Today' : day.format('ddd, Do MMMM');\n            this.updateList();\n        }\n    }\n\n    public view(item) {\n        this.service.Visitors.view(item);\n    }\n\n    public changeDate() {\n        this.dateChange.emit(this.date);\n        this.model.show_calendar = false;\n    }\n\n    public updateList() {\n        const date = moment(this.date || '').format('YYYY/MM/DD');\n        const v_list = this.model.visitor_list;\n        const visitors = v_list ? v_list[date] || [] : [];\n        const last_update = this.service.Visitors.get('last_update') || 0;\n        const expiry = moment().add(-5, 'm');\n        this.model.list = visitors;\n        this.model.list.sort((a, b) => a.date - b.date);\n        if (!this.model.list || this.model.list.length <= 0 || last_update < expiry.valueOf()) {\n            const start = moment(this.date || '').hours(0).minutes(0).unix();\n            const end = moment(this.date || '').hours(23).minutes(59).unix();\n            // this.service.Bookings.query({ from: start, to: end });\n        }\n        this.postCount();\n    }\n\n    public postCount() {\n        setTimeout(() => {\n            this.count = this.model.list ? this.model.list.length : 0;\n            this.countChange.emit(this.count);\n        }, 50);\n    }\n\n    public newVisitor() {\n        this.service.Visitors.new((e) => {\n\n        });\n    }\n\n    public groupId(index: number, item: IVisitorGroup) {\n        return item ? item.id : index;\n    }\n}\n"],"sourceRoot":""}