(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/hlU":function(l,n,e){"use strict";e.r(n);var t=e("8Y7J"),o=e("kTUd"),i=e("iInd"),s=e("OaWH"),u=e("wd/R"),a=e("SGYZ"),r=e("yw+2"),d=e("Fpt7"),m=e("0ct1"),c=e("ZdQM");class h extends r.a{constructor(l,n,e){super(),this.route=l,this.router=n,this.service=e,this.model=[],this.model.setting_list=[{id:"desks",name:"Desks Status"},{id:"rooms",name:"Rooms Status"},{id:"teams",name:"Team Tables"},{id:"zones",name:"Zones Status"}]}ngOnInit(){this.show_time=void 0,this.subscription("router",this.router.events.subscribe(l=>{l instanceof i.e?this.service.set("APP.swipe_disabled",l.url.indexOf("explore")>=0):l instanceof i.d&&(this.model.zones&&(this.model.zones.show=!1),this.model.map&&(this.model.map.zoom=100,this.model.map.center={x:.5,y:.5}),this.clear(),this.update())})),this.subscription("params",this.route.paramMap.subscribe(l=>{l.has("search")&&(this.model.search=l.get("search"))})),this.service.set("BANNER.block_height",0),this.subscription("query",this.route.queryParamMap.subscribe(l=>{l.has("room_id")&&this.focusOnRoom(l.get("room_id")),l.has("level")&&this.setLevelByID(l.get("level")),l.has("level_id")&&this.setLevelByID(l.get("level_id")),l.has("back")&&(this.model.back=l.get("back"))})),this.subscription("user",this.service.Users.listen("user",l=>this.model.user=l)),this.model.map={},this.model.show={rooms:!0,desks:!0},this.model.map.poi=[],this.model.desks={},this.model.zones={},this.model.settings={},this.service.set("EXPLORE.show.desks",this.model.show.desks),this.service.set("EXPLORE.show.rooms",this.model.show.rooms),this.subscription("exp_filter",this.service.listen("EXPLORE.filters",()=>this.update())),this.subscription("exp_features",this.service.listen("EXPLORE.map.hide",l=>{this.update()})),this.subscription("exp_settings",this.service.listen("EXPLORE.settings",l=>this.updateSettings(l))),this.subscription("exp_level",this.service.listen("EXPLORE.level",l=>this.setLevelByID(l))),this.model.colours={rooms:{},desks:{},zones:{}},this.model.keys&&(this.model.keys.show=!1),this.clear(),this.interval("time-update",()=>{this.timeChange(this.show_time)},6e4),this.service.set("APP.swipe_disabled",!0),this.subscription("building",this.service.Buildings.listen(l=>{if(l){const n=this.model.level?this.model.level.active:null;if(this.model.level={},this.model.system=l.systems.desks,this.model.focus_user=null,this.model.found_room=null,this.model.info=null,this.model.level.list=l.levels,this.model.rooms=this.service.Rooms.list(),this.model.room_pin=null,this.model.level.list){this.model.level.names=[];for(const n of this.model.level.list)this.model.level.names.push(n.name);let l=null;n&&(l=this.setLevelByID(n.id)),!l&&this.model.level.list.length>0&&this.setLevel(this.model.level.list[0])}this.model.found_user&&this.focusUser(this.model.found_user),this.update()}})),this.init()}init(){this.service.ready()||this.timeout("init",()=>this.init(),500),this.model.colours={},this.model.colours.rooms=this.service.Settings.get("app.colors.rooms")||{},this.model.colours.desks=this.service.Settings.get("app.colors.desks")||{},this.model.colours.zones=this.service.Settings.get("app.colors.zones")||{},this.model.keys=this.service.Settings.get("app.map_keys")||{},this.model.keys.types=Object.keys(this.model.keys),this.model.zones.enabled=this.service.Settings.get("app.zones.enabled"),this.model.zones.toggle=this.service.Settings.get("app.zones.toggle"),this.model.settings=this.service.Settings.get("app.explore")||{},this.model.old=this.service.Settings.get("app.explore.old_overlay"),this.model.zones.enabled&&this.model.zones.toggle&&(this.model.keys.types=[this.model.zones.toggle]),this.model.keys&&(this.model.keys.list=(this.model.keys.room||[]).concat(this.model.keys.general||[])),this.subscription("rooms",this.service.Rooms.listen("list",()=>{this.model.rooms=this.service.Rooms.list(),this.update()})),this.model.map_bookable=this.service.Settings.get("app.map.bookings"),this.interval("rooms",()=>this.updateRoomState(),25e3),this.service.Analytics.screen("Explore"),this.service.Analytics.page(`/explore${this.model.search?"/"+this.model.search:""}`),this.timeout("zoom",()=>this.model.zoom+=1,300)}focusOnRoom(l,n=0){if(!(n>10))if(this.model.rooms&&this.model.rooms.length>0){for(const n of this.model.rooms)if(n.id===l){this.focusSpace(n);break}}else this.timeout("focus_room",()=>this.focusOnRoom(l,n++),300*n++)}toggle(l){this.timeout(`toggle_${l}`,()=>this.model[l].show=!this.model[l].show,100)}setLevelByID(l,n=!0){if(l&&this.model.level&&this.model.level.list)for(const e of this.model.level.list)if(e.id===l)return this.setLevel(e,n),e;return null}setLevel(l,n=!0,e=!1){if(l&&(this.model.level&&this.model.level.list&&this.model.level.list.indexOf(l)>=0||e)){const e=this.model.level.active;this.model.level.active=l,this.model.level.index=this.model.level.list.indexOf(l),this.model.map.src=l.map_url,this.model.room_pin=null,this.model.map.focus=null,this.update(),!n||e&&e.id===l.id||this.service.set("EXPLORE.level",l.id)}}updateLevel(){for(const l of this.model.level.list)if(this.model.map.src===l.map_url){this.model.level.active=l;break}this.update()}updateSettings(l){this.model.map.zoom=l&&void 0!==l.zoom?l.zoom:this.model.map.zoom,this.model.map.center=l&&void 0!==l.center?l.center:this.model.map.center,l&&l.center&&delete l.center,this.update()}updateRoomState(){if(this.model.rooms){for(const l of this.model.rooms)this.processBookings(l,!1);this.update()}}processBookings(l,n=!0){l.raw_bookings&&(delete l.bookings,this.service.Rooms.processRoom(l),n&&this.update(),this.model.change=!this.model.change)}updateZoom(){const l=this.service.get("EXPLORE.settings");l.zoom=this.model.map.zoom,this.service.set("EXPLORE.settings",l)}update(){this.model.zones&&this.model.show&&(this.model.zones.show=this.model.show.zones),this.model.show||(this.model.show={}),this.model.show.desks=this.service.get("EXPLORE.show.desks"),this.model.show.rooms=this.service.get("EXPLORE.show.rooms"),this.model.show.teams=this.service.get("EXPLORE.show.teams"),this.model.zones&&this.model.zones.enabled&&(this.model.zones.show=this.service.get("EXPLORE.show.zones"),this.model.zones.toggle&&(this.model.keys.types=[this.model.zones.show?"zone":this.model.zones.toggle])),this.updateListeners()}updateState(){this.model.show&&(this.service.set("EXPLORE.show.desks",this.model.show.desks),this.service.set("EXPLORE.show.rooms",this.model.show.rooms),this.service.set("EXPLORE.show.teams",this.model.show.teams)),this.model.zones&&this.service.set("EXPLORE.show.zones",this.model.zones.show),this.update()}updateListeners(){this.timeout("update_listeners",()=>{if(this.model.map.listeners=[],this.model.rooms&&this.model.level&&this.model.level.active&&this.model.level.active.id){const l=this.model.rooms.filter(l=>l.zones.indexOf(this.model.level.active.id)>=0);for(const n of l)if(this.model.map.listeners.push({id:`area-${n.map_id}-status`,event:"mouseenter",callback:()=>{this.timeout("mouseenter",()=>{this.model.info=n,this.updatePointsOfInterest()},50)}}),this.model.map.listeners.push({id:`area-${n.map_id}-status`,event:"mouseleave",callback:()=>{this.timeout("mouseleave",()=>{this.model.info=null,this.updatePointsOfInterest()},50)}}),n.bookable){const l=()=>{this.model.selected=null,this.model.display=null,this.book(n)};this.model.map.listeners.push({id:`area-${n.map_id}-status`,event:"mouseup",callback:l}),this.model.map.listeners.push({id:`area-${n.map_id}-status`,event:"touchend",callback:l})}}if(this.model.desks&&this.model.desks.in_use){for(const l of this.model.desks.in_use)this.model.map.listeners.push({id:`${l}`,event:"mouseenter",callback:()=>this.setDesk(l)}),this.model.map.listeners.push({id:`${l}`,event:"mouseleave",callback:()=>this.setDesk(null)});for(const l of this.model.desks.reserved||[])this.model.map.listeners.push({id:`${l}`,event:"mouseenter",callback:()=>this.setDesk(l)}),this.model.map.listeners.push({id:`${l}`,event:"mouseleave",callback:()=>this.setDesk(null)})}this.model.desk=null,console.log("Listeners:",this.model.map.listeners),this.updateStyles(),this.updatePointsOfInterest()})}setDesk(l){this.model.desk=l,this.updatePointsOfInterest()}updateStyles(){this.timeout("styles",()=>{this.model.style={},this.model.map.styles={},this.model.style.general={},this.updateRoomStyles(),this.updateDeskStyles(),this.updateZoneStyles(),this.updateFeatureStyles();for(const l in this.model.style)if(this.model.style.hasOwnProperty(l)&&this.model.style[l])for(const n in this.model.style[l])this.model.style[l].hasOwnProperty(n)&&(this.model.map.styles[n]=this.model.style[l][n]);this.clearTimeout("styles")})}updateRoomStyles(){if(this.model.style.rooms={},!this.model.show.rooms)return void(this.model.style.rooms['[id$="-status"]']={opacity:"0"});const l=u(this.show_time),n=this.service.Buildings.current(),e=this.model.colours.rooms||{};if(this.model.rooms&&this.model.rooms.length>0){const t=this.model.rooms.filter(l=>l.zones.indexOf(this.model.level.active.id)>=0);for(const o of t){let t=this.model.colours.rooms["not-bookable"]||"#ccc";const i=this.service.Bookings.getNextFreeBlock(o.bookings,l.valueOf(),2),s=Object(m.b)({user:this.service.Users.current(),space:o,time:l.valueOf(),duration:60,rules:n.booking_rules});s&&(o.book_type=s.auto_approve?"Book":"Request");const a=i&&u(i.start).isAfter(l);o.bookable&&!s.hide&&(t=a?e.unavailable||"#E53935":"Request"===o.book_type?e.pending||"#fbc02d":e.available||"#4CAF50"),this.model.style.rooms[`#area-${o.map_id}-status`]={fill:t,opacity:"0.8"}}}else this.timeout("room_styles",()=>this.updateRoomStyles())}updateDeskStyles(){this.model.style.desks={};const l=this.model.colours.desks||{};if(this.model.show.desks){if(this.model.found_user&&this.model.found_user.location&&this.model.found_user.location.fixed&&(this.model.style.desks[`#${this.model.found_user.location.map_id}`]={fill:l["unavailable-fill"]||"#fff",stroke:l["unavailable-stroke"]||"#ccc"}),this.model.desks){const n=this.model.desks.user,e=this.model.desks.in_use||[],t=this.model.desks.reserved;if(this.model.desks.list)for(const o of this.model.desks.list)if(o){const i=`${o}`,s=(o.split("-"),t&&t.indexOf(o)>=0),u=e&&e.indexOf(o)>=0,a=n&&n.connected&&n.desk_id===o;if(this.model.style.desks[`#${i}`]={fill:l["available-fill"]||"#4CAF50",stroke:l["available-stroke"]||"#4CAF50"},u||s){const n=a?"user":s?"reserved":"unavailable";this.model.style.desks[`#${i}`].fill=l[`${n}-fill`]||l["unavailable-fill"]||"#fff",this.model.style.desks[`#${i}`].stroke=l[`${n}-stroke`]||l["unavailable-stroke"]||"#ccc"}}}}else this.model.style.desks['[id^="table-"]']={fill:l["not-bookable-fill"]||"#fff",stroke:l["not-bookable-stroke"]||"#ccc"}}updateZoneStyles(){this.model.style.zones={};const l=this.model.colours.zones||{},n=this.model.level.active;if(this.model.zones&&this.model.zones.enabled&&this.model.zones.show||(this.model.style.zones["#Zones"]={opacity:"0"}),this.model.colours&&this.model.level&&n&&(this.model.style.zones['[id^="zone"]']={fill:l[n.defaults.zone]||l.default||"#317c36"}),this.model.zone_usage)for(const e in this.model.zone_usage)if(this.model.zone_usage.hasOwnProperty(e)){const t=Math.max(n.defaults.zone_min||0,this.model.zone_usage[e].people_count/this.model.zone_usage[e].capacity*100),o=t<40?l.low||"#317c36":t<75?l.medium||"#f4a81d":l.high||"#cd212e";this.model.map.styles[`#${e}`]={fill:o},this.model.map.styles[`#${e}-status`]={fill:o}}}updateFeatureStyles(){this.model.style.features={};const l=this.service.get("EXPLORE.map.hide")||[];for(const n of l)this.model.style.features[`#${n}`]={opacity:"0"}}book(l){let n=!1;this.timeout("opened",()=>n=!0);const e=u(this.show_time),t=this.service.Buildings.list().find(n=>n.id===l.level.bld_id)||{},o=Object(m.b)({user:this.service.Users.current(),space:l,time:e.valueOf(),duration:60,rules:t.booking_rules});if(o){if(o.hide)return void this.service.info(`You do not have permission to book room "${l.name}"`);l.book_type=o.auto_approve?"Book":"Request"}const i=l.bookings.find(l=>e.isBetween(u(l.date),u(l.date).add(l.duration,"m"),"m","[)"));if(i&&i.all_day)return this.service.info("The selected room is booked all day. Please select another date from the timeline and try again.");this.service.Overlay.openModal("explore-booking",{data:{space:l,date:this.show_time}},l=>{"Accept"===l.type?this.service.Bookings.book(l.data.form).then(()=>l.close(),l=>null):"New"===l.type?(localStorage&&localStorage.setItem("STAFF.booking_form",JSON.stringify(l.data.form)),this.service.navigate("book",{back:"explore/all"}),l.close()):n&&l.close()})}check(l){"warning"===l.type&&this.model.found_user&&this.model.found_user.location&&this.model.found_user.location.map_id&&l.msg.indexOf(this.model.found_user.location.map_id)>=0&&(this.model.found_user.pin_error=!0)}focus(l){this.model.map.zoom=100,this.model.map.center={x:.5,y:.5},l.type?this.focusUser(l):this.focusSpace(l)}focusUser(l){l&&(this.model.found_item=null,this.model.focus_room=null,"role"===l.type?(this.updatePointsOfInterest(),this.service.Users.show(l.email).then(l=>{this.locate(l)},l=>null)):this.locate(l))}locate(l){l.location=null,this.model.found_user=l,this.service.Users.location(l.id,l.win_id).then(l=>{this.model.found_user.location=l;let n=!1;const e=this.service.Buildings.current();if(this.model.settings.cblf){const t=this.service.Buildings.getLevel(l.level);if(t){for(const l of e?e.levels:this.model.level.list)if(t.id===l.id){this.setLevel(l),n=!0;break}n||(this.setLevel(t,!1,!0),this.model.found_user.location.building=this.service.Buildings.get(t.bld_id),this.model.found_user.external=!0,n=!0)}}else for(const t of e?e.levels:this.model.level.list)if(l.level===t.id){this.setLevel(t),n=!0;break}n?this.model.map.focus={coordinates:l.fixed?null:{x:l.x,y:l.y},id:l.map_id,zoom:0}:(this.model.found_user.location=null,this.model.found_user.external=!0),this.updatePointsOfInterest(),this.timeout("focus",()=>this.model.map.zoom=100)},l=>{this.model.found_user.location=null,this.updatePointsOfInterest()})}focusSpace(l){if(!(this.model&&this.model.level&&this.model.level.list&&l))return;const n=`${!1===l.prefix?"":"area-"}${l.map_id}-status`,e=l.level;if(e){for(const l of this.model.level.list)if(e.id===l.id){this.setLevel(l),this.timeout("focus_space",()=>this.model.map.focus={id:n,zoom:150},100);break}this.timeout("update_space",()=>{this.model.found_user=null,this.model.focus_room=l,this.updatePointsOfInterest()},20)}}clear(){this.model.found_item=null,this.model.focus_room=null,this.model.found_user=null,this.model.info=null,this.updatePointsOfInterest()}updatePointsOfInterest(){this.timeout("poi",()=>{if(this.model.map.poi=[],this.model.toggle=!this.model.toggle,this.model.found_user&&this.model.found_user.location&&this.model.found_user.location.level&&this.model.found_user.location.level===this.model.level.active.id){const l=this.model.found_user.location;this.model.map.poi.push({id:l.map_id||`person-${this.model.found_user.id}`,content:l.fixed?o.v:o.w,coordinates:l.fixed?null:{x:l.x,y:l.y},data:{text:`${this.model.found_user.name} is here`,back:"#F44336",diameter:2*l.confidence}})}if(this.model.info){const l=this.model.info,n=u(this.show_time).endOf("m"),e=l.bookings.filter(l=>u(l.date).isSame(n,"d")||l.all_day),t=this.service.Bookings.getNextFreeBlock(e,n.valueOf(),2),o=e.find(l=>{const e=u(l.date).subtract(l.setup,"s"),t=u(l.date).add(l.duration,"m").add(l.breakdown,"s");return n.isBetween(e,t,"s","[)")}),i=e.find(l=>n.isBefore(u(l.date),"m")),s=u(this.show_time).endOf("d"),r=this.service.Buildings.current();if(o&&t&&-1!==t.start)this.model.selected_time=`Booked until ${u(t.start).format("h:mmA")}`,(o.all_day||o.duration>1380)&&(this.model.selected_time="Booked all day");else if(o)this.model.selected_time=`Booked until ${o.display.end}`,(o.all_day||o.duration>1380)&&(this.model.selected_time="Booked all day");else if(t&&t.end>=0&&u(t.end).isSame(s,"m")){const l=u(t.end),o=Math.floor(l.diff(n,"m"));if(this.model.selected_time=`Free until ${l.format("h:mmA")}`,o<30)if(t.end<0||!u(t.end).isSame(s,"m"))this.model.selected_time+="<br>Next available at tomorrow";else{const l=this.service.Bookings.getNextFreeBlock(e,t.end);this.model.selected_time+=`<br>Next available at ${u(l.start).format("h:mmA")}`}}else if(!o&&i&&t){this.model.selected_time=`Free until ${u(t.end).format("h:mmA")}`;const l=this.service.Bookings.getNextFreeBlock(e,i.date);t.start>0&&(this.model.selected_time+=`<br>Next available at ${u(l.start).format("h:mmA")}`)}else this.model.selected_time="Free today";const d=Object(m.b)({user:this.service.Users.current(),space:l,time:n.valueOf(),duration:60,rules:r.booking_rules});d.auto_approve||(this.model.selected_time+="<br>Available by request"),this.model.display=null,this.model.map.poi.push({id:`area-${l.map_id}-status`,content:a.a,data:{room:Object.assign({},l,{bookable:l.bookable&&!d.hide}),display:{time:this.model.selected_time},available:!o}})}if(this.model.desk&&this.model.map.poi.push({id:this.model.desk,content:d.a,data:{system:this.model.system,desk_id:this.model.desk}}),this.model.focus_room&&this.model.focus_room.level.id===this.model.level.active.id){const l=this.model.focus_room;this.model.map.poi.push({id:`${!1===l.prefix?"":"area-"}${l.map_id}-status`,prefix:"pin",content:o.v,data:{back:this.model.colours.rooms.pin||"#03A9F4",text:this.model.focus_room.name}})}this.clearTimeout("poi")})}back(){this.model.back?this.service.navigate(this.model.back):this.service.back()}timeChange(l){this.timeout("time_change",()=>{this.show_time=l;const n=u();if(!u(this.show_time).isSame(n,"d")){const l=u(this.show_time).startOf("d"),n=u(l).endOf("d");this.service.Rooms.query({from:l.unix(),to:n.unix(),zone_ids:this.model.level.active.id,show_declined:!1}).then(e=>{for(const t of e){const e=this.model.rooms.find(l=>l.id===t.id);if(e){const o=(e.raw_bookings||[]).filter(e=>!u(e.date).isBetween(l,n,"m","[]")),i=c.a.unique([...t.bookings||[],...o],"id");e.raw_bookings=i,this.processBookings(e)}}this.updateStyles()})}this.updateStyles()},100)}}class p extends r.a{constructor(l){super(),this.service=l,this.model={},this.settings={}}ngOnInit(){this.service.Buildings.listen(l=>{l&&(this.model.bld=l,this.has_details=!!l.booking_details,this.model.system=l.systems.desks,this.loadLevels())}),this.loadbuildings(),this.model.desks={},this.model.show={},this.model.template={room:this.room_info,keys:this.key_list},this.model.options=[{id:"building",name:"Building Select",icon:{class:"material-icons",value:"location_city"},action:"pickBuilding"},{id:"level",name:"Level Select",large:!0,icon:{class:"material-icons",value:"layers"},number:!0,action:"pickLevel"},{id:"keys",name:"Keys",icon:{class:"material-icons",value:"vpn_key"},template:!0}],this.model.rooms={},this.init(),this.setTemplates()}ngOnChanges(l){l.change&&setTimeout(()=>{this.model.rooms.list=this.service.Rooms.list(),this.processRooms()},100)}setTemplates(){if(!this.room_info||!this.key_list)return setTimeout(()=>this.setTemplates(),500);this.model.template.room=this.room_info,this.model.template.keys=this.key_list,this.subscription("explore_lvl",this.service.listen("EXPLORE.level",l=>this.setLevelByID(l,!1))),this.subscription("explore_search",this.service.listen("EXPLORE.search",l=>this.model.search=l))}tapWindow(l){this.model.keys.show=!this.model.keys&&this.model.keys}init(){if(!this.service.Settings.setup)return setTimeout(()=>this.init(),500);if(this.model.map_settings=this.service.Settings.get("app.map")||{},this.model.keys={},this.model.keys.groups=this.model.map_settings.keys||{},this.model.keys.types=Object.keys(this.model.keys.groups),this.model.zones={},this.model.zones.enabled=this.service.Settings.get("app.zones.enabled"),this.model.zones.toggle=this.service.Settings.get("app.zones.toggle"),this.model.settings=this.service.Settings.get("app.explore")||{},this.subscription("bld",this.service.Buildings.listen(l=>l?this.setBuilding(l,!1):null)),this.model.zones.enabled&&this.model.zones.toggle&&(this.model.keys.types=[this.model.zones.toggle]),this.model.keys&&(this.model.keys.list=(this.model.keys.groups.room||[]).concat(this.model.keys.groups.general||[])),(!this.model.keys.types||this.model.keys.types.length<=0)&&(!this.model.keys.list||this.model.keys.list.length<=0))for(const l of this.model.options)if("keys"===l.id){this.model.options.splice(this.model.options.indexOf(l),1);break}if(this.model.map_settings&&!1===this.model.map_settings.settings)for(const l of this.model.options)if("settings"===l.id){this.model.options.splice(this.model.options.indexOf(l),1);break}if(this.model.map_settings&&!1===this.model.map_settings.info)for(const l of this.model.options)if("room"===l.id){this.model.options.splice(this.model.options.indexOf(l),1);break}this.settings={zoom:0},this.model.old=this.service.Settings.get("app.explore.old_overlay"),this.service.set("EXPLORE.settings",this.settings),this.subscription("rooms",this.service.Rooms.listen("room_list",()=>{this.model.rooms.list=this.service.Rooms.list(),this.processRooms()})),this.initOld()}initOld(){this.subscription("exp_show_dsks",this.service.listen("EXPLORE.show.desks",l=>{this.model.show.desks=l})),this.subscription("exp_show_rms",this.service.listen("EXPLORE.show.rooms",l=>{this.model.show.rooms=l})),this.subscription("exp_show_tms",this.service.listen("EXPLORE.show.teams",l=>{this.model.show.teams=l})),this.subscription("exp_show_zns",this.service.listen("EXPLORE.show.zones",l=>{this.model.zones.show=l}))}loadLevels(){if(this.model.level={list:[]},this.model.bld){this.model.level.list=this.model.bld.levels,this.model.level.names=[];for(const l of this.model.level.list)this.model.level.names.push(l.name);this.setLevel(this.model.level.list[0])}}loadbuildings(){this.model.buildings={},this.model.buildings.list=this.service.Buildings.list()||[],this.model.buildings.names=this.model.buildings.list.map(l=>`${l.code} - ${l.name}${l.address?" - "+l.address:""}`),this.setBuilding(this.service.Buildings.current())}setBuildingByID(l,n=!0){if(l&&this.model.buildings&&this.model.bld)for(const e of this.model.buildings.list)if(e.id===l)return this.setBuilding(e,n),e;return null}setLevelByID(l,n=!0){if(l&&this.model.level&&this.model.level.list)for(const e of this.model.level.list)if(e.id===l)return this.setLevel(e,n),e;return null}setBuilding(l,n=!0){this.model.buildings.active=l,this.model.bld=l,this.has_details=!!l.booking_details,this.loadLevels(),this.model.buildings.index=this.model.buildings.list.indexOf(l),n&&this.service.Buildings.set(l.id,!1)}setLevel(l,n=!0){if(l&&this.model.level&&this.model.level.list&&this.model.level.list.indexOf(l)>=0){const e=this.model.level.active;this.model.level.active=l,this.model.level.index=this.model.level.list.indexOf(l),!n||e&&e.id===l.id||this.service.set("EXPLORE.level",l.id),this.processRooms()}}pickLevel(){if(this.model.level&&this.model.level.list){const l=this.model.level.active;this.service.Overlay.openModal("level-select",{data:{active:l?l.id:""}}).then(l=>l.subscribe(l=>{"Select"===l.type&&this.setLevelByID(l.data.active),this.model.show_menu=!1,l.close()}))}}pickBuilding(){if(this.model.buildings){const l=this.model.buildings.active;this.service.Overlay.openModal("building-select",{data:{active:l?l.id:""}}).then(l=>l.subscribe(l=>{"Select"===l.type&&this.setBuildingByID(l.data.active),this.model.show_menu=!1,l.close()}))}}processRooms(){if(this.model.rooms&&this.model.rooms.list){this.model.rooms.count=0,this.model.rooms.free=0;for(const l of this.model.rooms.list)l.level&&l.level.id===this.model.level.active.id&&l.bookable&&(this.model.rooms.count++,l.in_use||this.model.rooms.free++);this.model.rooms.percent=this.model.rooms.free/(this.model.rooms.count||1)*100}this.model.desks&&(this.model.desks.percent=(this.model.desks.free||0)/(this.model.desks.count||1)*100)}updateSettings(){this.service.Overlay.openModal("map-filter",{}).then(l=>l.subscribe(l=>{l.close(),this.model.show_menu=!1,this.model.show_filters=!1}))}showFilters(){this.model.show_filters=!this.model.show_filters}updateState(){this.service.set("EXPLORE.show.desks",this.model.show.desks),this.service.set("EXPLORE.show.rooms",this.model.show.rooms),this.service.set("EXPLORE.show.teams",this.model.show.teams),this.model.zones&&this.service.set("EXPLORE.show.zones",this.model.zones.show),this.service.set("EXPLORE.filters",!this.service.get("EXPLORE.filters"))}action(l){l.action&&this[l.action]instanceof Function&&this[l.action]()}toggle(l,n=!1){const e=`${l}${n?"_mobile":""}`;setTimeout(()=>{this.model[l]?this.model[l].show=!this.model[l].show:this.model.show[e]=!this.model.show[e]},300)}zoom(l){const n=Math.max(100,(this.settings.zoom||100)*l);this.settings||(this.settings={}),this.settings.zoom=n,this.postSettings()}reset(){this.settings||(this.settings={}),this.settings.zoom=100,this.settings.center={x:.5,y:.5},this.postSettings()}applyFilters(){const l=this.model.level.active.map.features,n=[];for(const e of l)e.active||n.push(e.id);this.service.set("EXPLORE.map.hide",n.length===l.length?[]:n),this.model.show_filters=!1}postSettings(){this.settings=JSON.parse(JSON.stringify(this.settings)),this.service.set("EXPLORE.settings",this.settings)}viewBookingRules(){this.service.Overlay.openModal("booking-rules",{data:{building:this.model.bld,from_map:!0}},l=>l.close())}}class g extends r.a{constructor(l,n,e){super(),this.service=l,this.route=n,this.router=e,this.item=null,this.itemChange=new t.m,this.model={},this.filtered_items=[],this.timers={}}ngOnInit(){const l=self;this.model.loaded=!1,this.model.speech=!(!l.SpeechRecognition&&!l.webkitSpeechRecognition),this.model.settings={},this.subscription("users",this.service.Users.listen("user_list",l=>{this.model.user_list=l||[],this.model.user_list.sort((l,n)=>l.name.localeCompare(n.name)),this.filter()})),this.subscription("rooms",this.service.Rooms.listen("room_list",()=>{this.model.room_list=this.service.Rooms.list()})),this.subscription("bld",this.service.Buildings.listen(l=>{l&&(this.model.search="",this.model.room_list=this.service.Rooms.list(),this.filter())})),this.subscription("query",this.route.queryParamMap.subscribe(l=>{l.has("role")&&(this.model.role_param=l.get("role"),this.initRole())})),this.subscription("route",this.route.paramMap.subscribe(l=>{l.has("search")&&(this.model.search_type=l.get("search"),this.updateShow(),this.filter())})),this.subscription("routing",this.router.events.subscribe(l=>{l instanceof i.e?(this.filtered_items=[],this.model.search="",this.service.set("BANNER.block_height",0)):l instanceof i.d&&this.updateShow()})),this.init()}init(){const l=this.service.Buildings.current();if(!this.service.Settings.setup||!l)return setTimeout(()=>this.init(),500);if(this.model.route=this.service.Settings.get("app.style.popout"),this.model.min_search=this.service.Settings.get("app.people_min_char")||0,this.model.settings=this.service.Settings.get("app.explore")||{},this.model.role={details:this.service.Settings.get("app.roles"),list:[],active:-1},l.roles)for(const n in l.roles)l.roles.hasOwnProperty(n)&&this.model.role.list.push({id:n,name:n.split("-").join(" "),icon:this.model.role.details?this.model.role.details[n]:null,users:l.roles[n]});this.filter(),this.updateShow(),this.model.inited=!0}initRole(){if(this.model.role_param&&this.model.role&&this.model.role.list){for(const l of this.model.role.list)if(l.id===this.model.role_param){this.model.role.active=this.model.role.list.indexOf(l),this.filter();break}}else this.model.role&&this.model.role.list||setTimeout(()=>this.initRole(),500)}filter(l=!1){this.model.settings&&(this.model.loading=!0,this.timeout("loading",()=>this.model.loading=!1,310),l&&this.input&&this.input.nativeElement&&(this.input.nativeElement.focus(),this.model.focus=!0,this.updateShow()),this.timers.search&&(clearTimeout(this.timers.search),this.timers.search=null),this.timeout("filter",()=>{this.clearTimeout("loading"),this.model.loading=!0,"spaces"===this.model.search_type?this.filterRooms().then(l=>(this.filtered_items=l,this.filtered_items.sort((l,n)=>l.name.localeCompare(n.name)),this.model.loading=!1)):"people"===this.model.search_type?this.filterUsers().then(l=>(this.filtered_items=l,this.model.loading=!1)):this.filterUsers().then(l=>{const n=this.model.role;if(n&&n.active>=0)return this.filtered_items=l,this.model.loading=!1;this.filterRooms().then(n=>(this.filtered_items=(l||[]).concat(n),this.filtered_items.sort((l,n)=>l.name.localeCompare(n.name)),this.model.loading=!1))})}))}filterUsers(){return new Promise(l=>{const n=(this.model.search||"").toLowerCase(),e=this.model.role;if(n&&n.length>=this.model.min_search||e&&e.active>=0||!this.model.min_search){let t=[];if(e&&e.active>=0)t=this.service.Users.getFilteredUsers(n,e.list[e.active].users),l(t);else if(!this.model.min_search&&this.model.user_list&&this.model.user_list.length>0)t=this.service.Users.getFilteredUsers(n,this.model.user_list),l(t);else{const e=Math.floor(899999*Math.random()+1e5);this.model.request_id=e,this.service.Users.query({q:n,limit:50}).then(o=>{e===this.model.request_id&&(t=this.service.Users.getFilteredUsers(n,o),l(t))},()=>l(t))}}else l([])})}filterRooms(){return new Promise(l=>{const n=(this.model.search||"").toLowerCase(),e=[];for(const i of this.model.room_list)e.push({id:i.id,prefix:i.prefix,bookable:i.bookable,map_id:i.map_id,name:i.name,level:i.level});const t=this.service.Buildings.current();if(t&&t.map&&t.map.searchables)for(const i in t.map.searchables)if(t.map.searchables.hasOwnProperty(i))for(const l in t.map.searchables[i])if(t.map.searchables[i].hasOwnProperty(l)){const n=this.service.Buildings.getLevel(i);e.push({map_id:t.map.searchables[i][l],name:l,level:n,prefix:!1})}if(!n)return l(e);const o=[];for(const i of e)((i.name||"").toLowerCase().indexOf(n)>=0||i.level&&(i.level.name||"").toLowerCase().indexOf(n)>=0)&&!1!==i.searchable&&o.push(i);l(o)})}find(l){this.item=l,this.model.search=l.name,this.model.focus=!1,this.model.dictate=!1,this.input&&this.input.nativeElement&&this.input.nativeElement.blur(),this.itemChange.emit(l),this.updateShow()}call(l){l.loading=!0;let n="";l.phone=-1,l.phone&&-1!==l.phone?(n=c.a.removeChars(l.phone," ()_-"),location.href=`tel:${n}`,l.loading=!1):this.service.Users.show(l.email).then(e=>{e&&e.phone?(n=c.a.removeChars(e.phone," ()_-"),location.href=`tel:${n}`):l.phone=-1,l.loading=!1},()=>l.phone=-1)}control(l){l.support_url&&window.open(l.support_url,"blank_")}close(){this.model.search="",this.item=null,this.model.role.active=-1,this.filter(),this.input&&this.input.nativeElement&&this.input.nativeElement.blur(),this.itemChange.emit(this.item)}startDictation(){if(!this.input)return;if(this.model.recognition)return this.model.recognition.stop(),this.model.dictate=!1,void(this.model.recognition=null);const l=self,n=l.SpeechRecognition||l.webkitSpeechRecognition;n&&(this.model.recognition=new n,this.model.recognition.continuous=!1,this.model.recognition.interimResults=!1,this.model.recognition.lang="en-US",this.model.recognition.start(),this.model.dictate=!0,this.model.recognition.onresult=l=>{this.input.nativeElement.value=l.results[0][0].transcript,this.model.search=l.results[0][0].transcript,this.model.recognition.stop(),this.filter(),this.model.dictate=!1},this.model.recognition.onerror=l=>{this.model.recognition.stop(),this.model.dictate=!1})}updateShow(){this.timeout("update_show",()=>{this.model.show=!this.item&&-1!==this.model.role.active||"people"===this.model.search_type&&!this.item||this.model.focus||this.model.dictate,this.model.banner=this.model.settings&&this.model.settings.banner&&this.model.settings.banner.search,this.model.banner_roles=this.model.banner&&this.model.settings.banner.roles&&"spaces"!==this.model.search_type&&this.model.role&&this.model.role.list&&this.model.role.list.length>0,this.service.set("BANNER.block_height",this.model.show&&this.model.banner?this.model.banner_roles?6.5:4:0)},500)}}class b extends r.a{constructor(l){super(),this.renderer=l,this.duration=720,this.block_size=30,this.expired_length=120,this.events=[],this.time=new t.m,this.blocks=[],this.selected_offset=0,this.date_offset=0}ngOnInit(){this.generateTimelineBlocks(),this.selected_offset=0,this.date_offset=0;const l=u().add(this.selected_offset,"m").add(this.date_offset,"d").startOf("m");l.minutes(5*Math.ceil(l.minutes()/5)),this.display_time=l.format("h:mm a"),this.display_date=l.isSame(u(),"d")?"Today":l.format("DD MMM YYYY"),this.display_value=l.valueOf(),this.interval("expired",()=>this.generateTimelineBlocks(),6e4)}ngAfterViewInit(){this.resize()}ngOnDestroy(){this.handleRelease()}get length(){return this.duration+this.block_size}generateTimelineBlocks(){let l=u().add(this.date_offset,"d").startOf("m");this.date_offset&&l.hour(7).minutes(0),l=l.minute(5*Math.round(l.minute()/5));const n=u(l).subtract(this.date_offset?30:this.expired_length||120,"m"),e=u(n).add(this.duration||720,"m"),t=u(n);for(delete this.blocks,this.blocks=[];t.isBefore(e,"m");)this.blocks.push({value:t.valueOf(),show:t.minute()%((this?this.block_size:null)||30)==0,hour:0===t.minute()?t.hour()%12==0?12:t.hour()%12:null,offset:t.diff(l,"m"),in_use:!1}),t.add(5,"m");this.updateSelected()}selectTime(l){const n=l instanceof MouseEvent?l.clientX:l.touches[0].clientX;MouseEvent,this.cntr_box||(this.cntr_box=this.container.nativeElement.getBoundingClientRect());const e=(n-this.cntr_box.left)/this.cntr_box.width-(this.date_offset?0:this.expired_length/this.duration),t=5*Math.ceil((this.duration-(this.date_offset?0:this.expired_length)-30)/5);this.selected_offset=Math.min(t,Math.max(this.date_offset?30:0,this.duration*e));const o=u().startOf("m");this.date_offset&&o.hours(7).minutes(0).subtract(30,"m");const i=u(o).add(this.selected_offset,"m").add(this.date_offset,"d");i.minutes(5*Math.ceil(i.minutes()/5)),this.selected_time=i.valueOf(),this.display_time=i.format("h:mm a"),this.display_date=i.isSame(u(),"d")?"Today":i.format("DD MMM YYYY"),this.time.emit(i.startOf("m").valueOf())}set(l){this.selected_offset=Math.min(this.duration-(this.date_offset?0:this.expired_length)-30,Math.max(this.date_offset?30:0,l));const n=u().startOf("m");this.date_offset&&n.hours(7).minutes(0).subtract(30,"m");const e=u(n).add(this.selected_offset,"m").add(this.date_offset,"d");e.minutes(5*Math.ceil(e.minutes()/5)),this.selected_time=e.valueOf(),this.display_time=e.format("h:mm a"),this.display_date=e.isSame(u(),"d")?"Today":e.format("DD MMM YYYY"),this.time.emit(e.startOf("m").valueOf())}changeDate(l=1){this.clearTimeout("grab"),this.date_offset+=l;let n=this.selected_offset;1===this.date_offset&&l>0?n=this.expired_length+this.selected_offset:0===this.date_offset&&l<0&&(n=this.selected_offset-this.expired_length),this.set(n),this.generateTimelineBlocks()}resize(){this.container&&(this.cntr_box=this.container.nativeElement.getBoundingClientRect())}grab(l){this.timeout("grab",()=>{this.handleRelease(),this.cntr_box||(this.cntr_box=this.container.nativeElement.getBoundingClientRect()),l instanceof MouseEvent?(this._move_listener=this.renderer.listen("window","mousemove",l=>this.handleMove(l)),this._release_listener=this.renderer.listen("window","mouseup",l=>this.handleRelease())):(this._move_listener=this.renderer.listen("window","touchmove",l=>this.handleMove(l)),this._release_listener=this.renderer.listen("window","touchend",l=>this.handleRelease()))},10)}handleMove(l){this.selectTime(l)}handleRelease(){this._move_listener&&(this._move_listener(),this._move_listener=null),this._release_listener&&(this._release_listener(),this._release_listener=null)}updateSelected(){const l=u().add(this.date_offset,"d");this.date_offset&&l.hours(7).minutes(0).subtract(30,"m");const n=u(this.display_value).diff(l,"m");if(n<0){const n=u(l).startOf("m");n.minute(5*Math.ceil(n.minute()/5)),this.selected_time=n.valueOf(),this.display_time=n.format("h:mm a"),this.display_date=n.isSame(u(),"d")?"Today":n.format("DD MMM YYYY"),this.display_value=n.valueOf(),n.minutes(5*Math.ceil(n.minutes()/5)),this.time.emit(n.valueOf())}this.selected_offset=Math.min(this.duration-(this.date_offset?0:this.expired_length)-30,Math.max(this.date_offset?30:0,n))}}class f{}var v=e("tN88"),_=e("pMnS"),P=e("s+yc"),x=e("c9vl"),C=e("8fYl"),k=e("2t5/"),O=e("aiwB"),w=e("bPUX"),M=e("MIzx"),y=e("jtT9"),z=e("QoQi"),R=e("2cjq"),I=e("PnLf"),L=e("PfHN"),$=e("fBUd"),F=e("04GH"),S=e("/T1M"),E=e("SVse"),B=e("Wucu"),D=e("hOhj"),H=e("IP0z"),T=e("Hl9y"),X=e("q/nq"),j=t.tb({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{height:3em;width:100%;z-index:900}.container.route[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{height:6em}.container.route[_ngcontent-%COMP%]   .search.show[_ngcontent-%COMP%]{height:100%}.container.route[_ngcontent-%COMP%]   .search.show[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:1048px}.container.route[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:100%;max-width:100vw;height:3em;border:none;border-radius:1.5em;margin-top:.25em}.search[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;background-color:#ecf1f5;z-index:105;top:0;left:0;right:0;height:6em;transition:height .3s}.search.position-normal[_ngcontent-%COMP%]{position:unset}.search[_ngcontent-%COMP%]   .banner-roles[_ngcontent-%COMP%]{margin-bottom:0}.search.show[_ngcontent-%COMP%]{height:calc(100% - 3.5em)}.search.show[_ngcontent-%COMP%]   .banner-roles[_ngcontent-%COMP%]{margin-bottom:.5em}.header[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:#a3a2a2;overflow:hidden;height:6em;transition:height .3s,transform .3s,background .3s;z-index:202;transform:translateY(0);padding:0 .5em}.header.roles[_ngcontent-%COMP%]{height:6.5em}.header.banner[_ngcontent-%COMP%]{position:absolute;height:4em;top:0;transform:translateY(-100%);background:0 0}.header.banner.roles[_ngcontent-%COMP%]{height:7.5em}.header.banner[_ngcontent-%COMP%]   .banner-roles[_ngcontent-%COMP%]{height:2.3em}.header[_ngcontent-%COMP%]   .banner-roles[_ngcontent-%COMP%]{display:flex;height:0;width:100%;overflow:hidden;transition:height .3s;justify-content:center;border-bottom:1px solid rgba(255,255,255,.54)}.header[_ngcontent-%COMP%]   .banner-roles[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-transform:uppercase}.field[_ngcontent-%COMP%]{width:100%;z-index:101;display:flex;align-items:center;min-height:3em;transition:width .3s}.field[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.5em}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1em;background:0 0;outline:0;color:rgba(0,0,0,.87);border:none;width:100%}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:rgba(0,0,0,.2)}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:rgba(0,0,0,.2)}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:rgba(0,0,0,.2)}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:rgba(0,0,0,.2)}.field[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:.4em;left:.4em;height:1.5em;width:1.5em}.body[_ngcontent-%COMP%]{overflow:auto;width:100%;flex:1;transition:height .3s;height:50%}.user[_ngcontent-%COMP%]{display:flex;min-height:5em;padding:.25em 1em;width:1024px;max-width:95vw;margin:.5em auto;background-color:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);border-radius:8px}.item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:left}.list[_ngcontent-%COMP%]{min-height:70vh;height:100%}.details[_ngcontent-%COMP%]{flex-grow:1;width:40%;min-width:8em}@media only screen and (orientation:portrait) and (max-width:450px){.loc[_ngcontent-%COMP%]{display:none}.details[_ngcontent-%COMP%]{font-size:.8em}}@media only screen and (orientation:landscape) and (max-width:800px){.loc[_ngcontent-%COMP%]{display:none}.details[_ngcontent-%COMP%]{font-size:.8em}}.name[_ngcontent-%COMP%]{font-size:1.2em;width:100%}.email[_ngcontent-%COMP%]{font-size:.8em;width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.email[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#7dd6d6}.email[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.info[_ngcontent-%COMP%]{min-width:9em;display:flex;flex-wrap:nowrap;flex-direction:row}.info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{font-size:.8em}@media only screen and (orientation:portrait) and (max-width:450px){.info[_ngcontent-%COMP%]{font-size:.8em}}@media only screen and (orientation:landscape) and (max-width:800px){.info[_ngcontent-%COMP%]{font-size:.8em}}.icon[_ngcontent-%COMP%]{position:relative;height:1em;width:1em;margin-right:.25em;font-size:2em}.role-list[_ngcontent-%COMP%]{font-size:.8em;padding:.5em;text-align:center}.role-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:.5em}.role[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0 .5em}.role[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:1em;width:1em;font-size:1em;margin:0;display:flex;align-items:center;justify-content:center}.role[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:0 0 0 .25em;white-space:nowrap;flex:1;text-transform:capitalize}.opts[_ngcontent-%COMP%]   btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;height:4em;width:4em;margin:.4em;font-size:.25em}.close[_ngcontent-%COMP%]{position:relative;color:rgba(0,0,0,.54);height:2em;width:2em;cursor:pointer}.close[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.87)}.close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5em}.close[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#1937ea}.close.active[_ngcontent-%COMP%]{color:#40485a}.filter[_ngcontent-%COMP%]{left:.5em;position:absolute;top:.5em;height:2em;width:2em;border:1px solid #000;background-color:#fff;border-radius:1em}.filter[_ngcontent-%COMP%]:hover{opacity:.8}.filter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5em}.no-item[_ngcontent-%COMP%]{overflow:hidden;max-height:100%;min-height:100%}"]],data:{}});function N(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"i",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){l(n,0,0,n.parent.parent.context.$implicit.icon.class),l(n,1,0,n.parent.parent.context.$implicit.icon.value)}))}function A(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.parent.parent.context.$implicit.image,n.parent.parent.context.$implicit.name)}))}function Y(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","icon"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,N)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,A)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.parent.context.$implicit.icon),l(n,4,0,n.parent.context.$implicit.image)}),null)}function U(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,6,"div",[["class","role"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,5,"btn",[],null,[[null,"tapped"]],(function(l,n,e){var t=!0,o=l.component;return"tapped"===n&&(o.model.role.active=o.model.role.active===l.context.index?-1:l.context.index,t=!1!==o.filter(!0)&&t),t}),v.w,v.h)),t.ub(2,704512,null,0,o.c,[t.h],{name:[0,"name"]},{tapped:"tapped"}),(l()(),t.kb(16777216,null,0,1,null,Y)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(5,0,null,0,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(6,null,["",""]))],(function(l,n){l(n,2,0,n.component.model.role.active===n.context.index?"wide banner inverse":"wide banner"),l(n,4,0,n.context.$implicit.icon||n.context.$implicit.image)}),(function(l,n){l(n,6,0,n.context.$implicit.name)}))}function q(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","banner-roles"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,U)),t.ub(2,278528,null,0,E.l,[t.P,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.model.role.list)}),null)}function Z(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"i",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){l(n,0,0,n.parent.parent.context.$implicit.icon.class),l(n,1,0,n.parent.parent.context.$implicit.icon.value)}))}function G(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,0,"img",[],[[8,"src",4],[8,"alt",0]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.parent.parent.context.$implicit.image,n.parent.parent.context.$implicit.name)}))}function J(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","icon"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Z)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,G)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.parent.context.$implicit.icon),l(n,4,0,n.parent.context.$implicit.image)}),null)}function V(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,6,"div",[["class","role"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,5,"btn",[],null,[[null,"tapped"]],(function(l,n,e){var t=!0,o=l.component;return"tapped"===n&&(o.model.role.active=o.model.role.active===l.context.index?-1:l.context.index,o.model.show_roles=!1,t=!1!==o.filter()&&t),t}),v.w,v.h)),t.ub(2,704512,null,0,o.c,[t.h],{name:[0,"name"]},{tapped:"tapped"}),(l()(),t.kb(16777216,null,0,1,null,J)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(5,0,null,0,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(6,null,["",""]))],(function(l,n){l(n,2,0,n.component.model.role.active===n.context.index?"wide":"wide inverse"),l(n,4,0,n.context.$implicit.icon||n.context.$implicit.image)}),(function(l,n){l(n,6,0,n.context.$implicit.name)}))}function K(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,9,"div",[["class","role-list"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"div",[["class","header"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Select Role"])),(l()(),t.vb(3,0,null,null,4,"div",[["class","role"]],null,null,null,null,null)),(l()(),t.vb(4,0,null,null,3,"btn",[],null,[[null,"tapped"]],(function(l,n,e){var t=!0,o=l.component;return"tapped"===n&&(o.model.role.active=-1,o.model.show_roles=!1,t=!1!==o.filter()&&t),t}),v.w,v.h)),t.ub(5,704512,null,0,o.c,[t.h],{name:[0,"name"]},{tapped:"tapped"}),(l()(),t.vb(6,0,null,0,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["None"])),(l()(),t.kb(16777216,null,null,1,null,V)),t.ub(9,278528,null,0,E.l,[t.P,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,5,0,void 0===e.model.role.active||-1===e.model.role.active?"wide":"wide inverse"),l(n,9,0,e.model.role.list)}),null)}function W(l){return t.Rb(0,[(l()(),t.kb(16777216,null,null,1,null,K)),t.ub(1,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,e.model.role.list&&e.model.role.list.length>0)}),null)}function Q(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,"div",[["class","close"],["offset","end"],["tooltip",""]],null,[[null,"touchrelease"],[null,"showChange"],[null,"mouseenter"],[null,"mouseleave"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mouseenter"===n&&(o=!1!==t.Hb(l,1).onEnter(e.target)&&o),"mouseleave"===n&&(o=!1!==t.Hb(l,1).onLeave(e.target)&&o),"mousedown"===n&&(o=!1!==t.Hb(l,2).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,2).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,2).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,2).touch(e)&&o),"touchrelease"===n&&(o=0!=(i.model.show_roles=!0)&&o),"showChange"===n&&(o=!1!==(i.model.show_roles=e)&&o),o}),null,null)),t.ub(1,671744,null,0,o.V,[t.k,o.E],{offset:[0,"offset"],template:[1,"template"],show:[2,"show"]},{showChange:"showChange"}),t.ub(2,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.vb(3,0,null,null,1,"i",[["center",""],["class","material-icons"]],[[2,"active",null]],null,null,null,null)),(l()(),t.Pb(-1,null,["filter_list"])),(l()(),t.kb(0,[["rolelist",2]],null,0,null,W))],(function(l,n){var e=n.component;l(n,1,0,"end",t.Hb(n,5),e.model.show_roles)}),(function(l,n){var e=n.component;l(n,3,0,(e.model.role.active||0===e.model.role.active)&&-1!==e.model.role.active)}))}function ll(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","email"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"a",[],[[8,"href",4]],null,null,null,null)),(l()(),t.Pb(2,null,["",""]))],null,(function(l,n){l(n,1,0,"mailto:"+n.parent.context.$implicit.email),l(n,2,0,n.parent.context.$implicit.email)}))}function nl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[["class","email"]],null,null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){l(n,1,0,null==n.parent.context.$implicit.level?null:n.parent.context.$implicit.level.name)}))}function el(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[["class","loc"]],null,null,null,null,null)),(l()(),t.Pb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.parent.context.$implicit.location.name)}))}function tl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","details"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"div",[["class","name"]],null,null,null,null,null)),(l()(),t.Pb(2,null,["",""])),(l()(),t.vb(3,0,null,null,1,"div",[["class","email"]],null,null,null,null,null)),(l()(),t.Pb(4,null,[" "," "]))],null,(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.location.display.building),l(n,4,0,n.parent.parent.context.$implicit.location.display.level)}))}function ol(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,"div",[["class","item info"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,el)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(3,0,null,null,2,"div",[["class","icon"]],null,null,null,null,null)),(l()(),t.vb(4,0,null,null,1,"i",[["center",""],["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(5,null,["",""])),(l()(),t.kb(16777216,null,null,1,null,tl)),t.ub(7,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.parent.context.$implicit.location.fixed),l(n,7,0,n.parent.context.$implicit.location.display)}),(function(l,n){l(n,5,0,n.parent.context.$implicit.location?n.parent.context.$implicit.location.fixed?"room":"wifi":"")}))}function il(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,"btn",[["name","red"]],null,[[null,"tapped"]],(function(l,n,e){var t=!0;return"tapped"===n&&(t=!1!==l.component.control(l.parent.context.$implicit)&&t),t}),v.w,v.h)),t.ub(1,704512,null,0,o.c,[t.h],{name:[0,"name"]},{tapped:"tapped"}),(l()(),t.vb(2,0,null,0,1,"div",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Control"]))],(function(l,n){l(n,1,0,"red")}),null)}function sl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Contact"]))],null,null)}function ul(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","icon"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"spinner",[["color","#fff"],["type","circle-ring"]],null,null,null,v.F,v.q)),t.ub(2,770048,null,0,o.P,[t.h],{type:[0,"type"],color:[1,"color"]},null)],(function(l,n){l(n,2,0,"circle-ring","#fff")}),null)}function al(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,"btn",[],null,[[null,"tapped"]],(function(l,n,e){var t=!0;return"tapped"===n&&(t=!1!==l.component.call(l.parent.context.$implicit)&&t),t}),v.w,v.h)),t.ub(1,704512,null,0,o.c,[t.h],{disabled:[0,"disabled"]},{tapped:"tapped"}),(l()(),t.kb(16777216,null,0,1,null,sl)),t.ub(3,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,0,1,null,ul)),t.ub(5,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,-1===n.parent.context.$implicit.phone),l(n,3,0,!n.parent.context.$implicit.loading),l(n,5,0,n.parent.context.$implicit.loading)}),null)}function rl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,19,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,18,"div",[["class","user"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,6,"div",[["class","item details"]],null,null,null,null,null)),(l()(),t.vb(3,0,null,null,1,"div",[["class","name"]],null,null,null,null,null)),(l()(),t.Pb(4,null,["",""])),(l()(),t.kb(16777216,null,null,1,null,ll)),t.ub(6,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,nl)),t.ub(8,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,ol)),t.ub(10,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(11,0,null,null,8,"div",[["class","item opts"]],null,null,null,null,null)),(l()(),t.vb(12,0,null,null,3,"btn",[["name","red"]],null,[[null,"tapped"]],(function(l,n,e){var t=!0;return"tapped"===n&&(t=!1!==l.component.find(l.context.$implicit)&&t),t}),v.w,v.h)),t.ub(13,704512,null,0,o.c,[t.h],{name:[0,"name"]},{tapped:"tapped"}),(l()(),t.vb(14,0,null,0,1,"div",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Find"])),(l()(),t.kb(16777216,null,null,1,null,il)),t.ub(17,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,al)),t.ub(19,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,6,0,!n.context.$implicit.level),l(n,8,0,n.context.$implicit.level),l(n,10,0,n.context.$implicit.location),l(n,13,0,"red"),l(n,17,0,n.context.$implicit.level&&e.model.settings.control&&n.context.$implicit.support_url),l(n,19,0,!n.context.$implicit.level)}),(function(l,n){l(n,4,0,n.context.$implicit.name)}))}function dl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","list cdk-virtual-scroll-viewport"],["itemSize","90"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,B.b,B.a)),t.Mb(6144,null,D.b,null,[D.d]),t.ub(3,540672,null,0,D.a,[],{itemSize:[0,"itemSize"]},null),t.Mb(1024,null,D.h,D.i,[D.a]),t.ub(5,245760,null,0,D.d,[t.k,t.h,t.y,[2,D.h],[2,H.b],D.f],null,null),(l()(),t.kb(16777216,null,0,1,null,rl)),t.ub(7,409600,null,0,D.c,[t.P,t.L,t.r,[1,D.d],t.y],{cdkVirtualForOf:[0,"cdkVirtualForOf"]},null)],(function(l,n){var e=n.component;l(n,3,0,"90"),l(n,5,0),l(n,7,0,e.filtered_items)}),(function(l,n){l(n,1,0,"horizontal"===t.Hb(n,5).orientation,"horizontal"!==t.Hb(n,5).orientation)}))}function ml(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","list"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,dl)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.filtered_items)}),null)}function cl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"spinner",[["color","#999"],["type","circle-ring"]],null,null,null,v.F,v.q)),t.ub(1,770048,null,0,o.P,[t.h],{type:[0,"type"],color:[1,"color"]},null)],(function(l,n){l(n,1,0,"circle-ring","#999")}),null)}function hl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){var e=n.component;l(n,1,0,e.model.search&&e.model.search.length>=e.model.min_search?"close":"keyboard")}))}function pl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,"div",[["class","no-item center"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,4,"div",[["class","icon"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,cl)),t.ub(3,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,hl)),t.ub(5,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(6,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(7,null,[" "," "]))],(function(l,n){var e=n.component;l(n,3,0,e.model.loading),l(n,5,0,!e.model.loading)}),(function(l,n){var e=n.component;l(n,7,0,e.model.loading?"Searching...":e.model.search&&e.model.search.length>=e.model.min_search?"No matches found":"Type above to search")}))}function gl(l){return t.Rb(0,[t.Nb(671088640,1,{input:0}),(l()(),t.vb(1,0,null,null,15,"div",[["class","container"]],[[2,"route",null]],null,null,null,null)),(l()(),t.vb(2,0,null,null,0,"div",[["class","tapzone"]],null,[["window","tap"]],(function(l,n,e){var t=!0;return"window:tap"===n&&(t=!1!==l.component.updateShow()&&t),t}),null,null)),(l()(),t.vb(3,0,null,null,13,"div",[["class","search"]],[[2,"show",null]],null,null,null,null)),(l()(),t.vb(4,0,null,null,7,"div",[["class","header"]],[[2,"banner",null],[2,"roles",null]],null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,q)),t.ub(6,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(7,0,null,null,4,"div",[["class","field"]],null,null,null,null,null)),(l()(),t.vb(8,0,null,null,3,"searchbar",[],null,[[null,"filterChange"],[null,"focus"],[null,"blur"]],(function(l,n,e){var t=!0,o=l.component;return"filterChange"===n&&(t=!1!==(o.model.search=e)&&t),"filterChange"===n&&(t=!1!==o.filter()&&t),"focus"===n&&(o.item=null,o.model.focus=!0,t=!1!==o.updateShow()&&t),"blur"===n&&(o.model.focus=!1,t=!1!==o.updateShow()&&t),t}),T.b,T.a)),t.ub(9,180224,null,0,X.a,[],{filter:[0,"filter"],dictation:[1,"dictation"],placeholder:[2,"placeholder"]},{filterChange:"filterChange",focus:"focus",blur:"blur"}),(l()(),t.kb(16777216,null,0,1,null,Q)),t.ub(11,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(12,0,null,null,4,"div",[["class","body"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,ml)),t.ub(14,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,pl)),t.ub(16,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,6,0,e.model.banner_roles),l(n,9,0,e.model.search,!1,"people"===e.model.search_type?"Search for people...":"spaces"===e.model.search_type?"Search for spaces...":"Search..."),l(n,11,0,"spaces"!==e.model.search_type&&!e.model.banner_roles&&e.model.role&&e.model.role.list&&e.model.role.list.length>0&&(!e.model.settings||!e.model.settings.banner||"roles"!==e.model.settings.banner.people)),l(n,14,0,!e.model.loading&&e.model.inited),l(n,16,0,e.model.loading||!e.filtered_items||e.filtered_items.length<=0||!e.model.inited)}),(function(l,n){var e=n.component;l(n,1,0,e.model.route),l(n,3,0,e.model.show),l(n,4,0,e.model.show&&e.model.banner,e.model.banner_roles)}))}var bl=e("CJor"),fl=e("s7LF"),vl=t.tb({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;pointer-events:none}.container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:auto}.topbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.zoom[_ngcontent-%COMP%]{position:absolute;left:0;bottom:5em;background-color:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);border-top-right-radius:4px;border-bottom-right-radius:4px;display:flex;align-items:center;flex-direction:column;overflow:hidden}.zoom[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{height:1.75em;width:1.75em;font-size:1.25em;display:flex;align-items:center;justify-content:center;transition:background-color .3s,color .3s}.zoom[_ngcontent-%COMP%]   .item.disabled[_ngcontent-%COMP%]{color:rgba(0,0,0,.2);pointer-events:none}.zoom[_ngcontent-%COMP%]   .item.disabled[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.2);background:0 0}.zoom[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1);color:#1937ea}.settings[_ngcontent-%COMP%]{width:15em;padding:.25em .5em .25em 1em}.settings[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center}.settings[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1}.room[_ngcontent-%COMP%]{padding:.5em 1em;width:13em}.room[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;margin:.5em}.room[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1}.room[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%]{color:#309b40}.room[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{color:#ff9800}.room[_ngcontent-%COMP%]   .high[_ngcontent-%COMP%]{color:#db291d}.key-list[_ngcontent-%COMP%]{margin-right:auto;font-size:1em;padding:.5em 0;border-radius:4px;background-color:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12)}@media screen and (max-height:640px){.key-list[_ngcontent-%COMP%]{margin-left:2em}}.key-list[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;color:rgba(0,0,0,.2);width:100%;margin-top:.5em}.key-list[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:1px;width:1px;flex:1;background-color:rgba(0,0,0,.2)}.key-list[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{padding:0 .5em;text-transform:capitalize;font-size:.8em}.key-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;left:0;box-shadow:0 0 0 0 transparent;border-radius:4px}.key-list[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{width:100%;max-height:45vh;overflow:auto}.key-list[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]{pointer-events:auto;border:1px solid #1937ea;transition:opacity .3s,box-shadow .3s;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);background-color:#fff}.key-list[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex}.key-list[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.key-list[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:0}.key-list[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{color:#fff;background-color:#1937ea}.key-list[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff}.key-list[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:inherit}.key-list.select[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{font-size:1em}.key-list.select[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#112abf;color:#fff}.key-list[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{overflow:hidden;display:flex;align-items:center}.key-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;pointer-events:none;padding:.25em 1.5em .25em .5em;font-size:.8em;height:2em;white-space:nowrap}.key-list[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{pointer-events:auto;opacity:1;font-size:1em}.key-list[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:0;color:#1937ea}.key-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{white-space:nowrap;flex:1}.key-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1;text-transform:capitalize}.key-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{background-size:contain;background-position:center;background-repeat:no-repeat;max-width:1em;max-height:1em;height:1em;width:1em}.key-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:1em;width:1em;margin:.5em 1em .5em .5em;min-width:1em;border-radius:1.1em;background-color:#fff;border:1px solid #f0f0f0}.key-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .circle.icon[_ngcontent-%COMP%]{height:1.5em;width:1.5em;margin:.25em .75em .25em .25em}.header-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:1.2em;width:1.2em;font-size:2em;color:#ff9800;cursor:pointer;margin-right:auto}@media screen and (max-height:720px){.header-icon[_ngcontent-%COMP%]{margin-left:1em}}.header-icon.fixed[_ngcontent-%COMP%]{position:absolute;bottom:2.5em;right:.25em}.simple[_ngcontent-%COMP%]{position:absolute;top:.5em;right:.5em;display:flex;flex-direction:column;align-items:flex-end;padding:.5em}.simple[_ngcontent-%COMP%]   btn[_ngcontent-%COMP%]{font-size:1.6em}.number[_ngcontent-%COMP%]{position:absolute;top:.1em;left:50%;transform:translateX(-50%);font-size:.5em;height:2em;width:2em;color:#fff;display:flex;align-items:center;justify-content:center}btn[_ngcontent-%COMP%]   i.large[_ngcontent-%COMP%]{font-size:1.5em}.option-list[_ngcontent-%COMP%]{position:absolute;left:.5em;top:1em;width:auto!important;display:flex;align-items:center;flex-direction:column;z-index:104;font-size:1.2em}.option-list[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:1.5em;width:1.5em}.option-list[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   btn[_ngcontent-%COMP%]{position:absolute;top:-2px;left:-2px;transition:transform .3s,opacity .4s;transform:translateY(0);opacity:0}.option-list[_ngcontent-%COMP%]   btn[format=action][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s;transform:rotate(0)}.option-list.show[_ngcontent-%COMP%]   btn[format=action][_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(45deg)}.option-list.show[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   btn[_ngcontent-%COMP%]{opacity:1}.mobile-menu-info[_ngcontent-%COMP%]{background:url(info.7f2d7327f23e0285cf18.svg) center no-repeat;display:flex;justify-content:center;align-items:center;width:100%;height:72%;align-items:center;text-align:center}.options[_ngcontent-%COMP%]{position:absolute;top:.5em;right:0;display:flex;align-items:flex-end;flex-direction:column;z-index:101;width:3em!important}.options.info[_ngcontent-%COMP%]{display:flex;flex-flow:row;width:4em!important;height:4em}.options[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:1.25em;margin:.2em}.options[_ngcontent-%COMP%]   .btn.info[_ngcontent-%COMP%]{background-color:#fff;height:70%;width:70%;display:flex;border-radius:50%;justify-content:center;align-items:center}.options[_ngcontent-%COMP%]   .btn.info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:65%;height:65%}.options.push[_ngcontent-%COMP%]{top:3.5em}.options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{position:relative;margin:.5em;overflow:hidden;background-color:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);width:2.5em;height:2.5em;border-radius:1.3em;transition:width .3s,height .3s,border-radius .3s}.options[_ngcontent-%COMP%]   .option.show[_ngcontent-%COMP%]{width:13em;height:13em;border-radius:4px}.options[_ngcontent-%COMP%]   .option.half.show[_ngcontent-%COMP%]{height:7.5em}.options[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;align-items:center;flex-direction:column;width:13em;height:13em}.options[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}.options[_ngcontent-%COMP%]   .content.info[_ngcontent-%COMP%]{background:url(info.7f2d7327f23e0285cf18.svg) center no-repeat;width:100%;height:60%}.options[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:.65em 1em;border-bottom:1px solid #f0f0f0}.options[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;height:1.66666em;width:1.66666em!important;font-size:1.5em;cursor:pointer}.options[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{opacity:.54}.options[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{padding:.25em .25em .25em 1em}.options[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center}.options[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1}.options[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:.25em .75em}.options[_ngcontent-%COMP%]   .high[_ngcontent-%COMP%]{color:#db291d}.options[_ngcontent-%COMP%]   .medium[_ngcontent-%COMP%]{color:#ff9800}.options[_ngcontent-%COMP%]   .low[_ngcontent-%COMP%]{color:#309b40}.level[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:.5em;z-index:100;flex-flow:column;display:flex;align-items:center;flex-wrap:wrap;max-width:calc(100% - 3.5em);pointer-events:none}.level[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:auto}.level.push[_ngcontent-%COMP%]{top:3em}.show-state[_ngcontent-%COMP%]{width:8em;height:2em;background-color:#fff;border-radius:4px;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);margin:-6px .5em 0;display:flex;align-items:center;padding:0 .5em;font-size:1.2em}.show-state[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex:1}.show-state[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-left:.5em;font-size:.8em}.keys-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.keys-header[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1;text-align:left;font-weight:300;padding:.5em}.keys-list[_ngcontent-%COMP%]{margin-top:-6px}.dropdown[_ngcontent-%COMP%]{position:relative;width:10em;height:2em;background-color:#fff;border-radius:4px;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);margin:0 .5em;font-size:1.2em}.dropdown[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:none;align-items:center;color:#aaa;width:100%;margin-top:.5em}.dropdown[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{height:1px;width:1px;flex:1;background-color:#aaa}.dropdown[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{padding:0 .5em;text-transform:capitalize;font-size:.8em}.dropdown[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{pointer-events:none;position:absolute;top:0;left:0;box-shadow:0 0 0 0 transparent;border-radius:4px}.dropdown[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{width:100%;max-height:45vh;overflow:auto;display:none}.dropdown[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]{pointer-events:auto;border:1px solid #1937ea;transition:opacity .3s,box-shadow .3s;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);background-color:#fff}.dropdown[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex}.dropdown[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{opacity:1;pointer-events:auto}.dropdown[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:0}.dropdown[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{color:#fff;background-color:#1937ea}.dropdown[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff}.dropdown[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:inherit}.dropdown.select[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{font-size:1em}.dropdown.select[_ngcontent-%COMP%]   .list.show[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background-color:#112abf;color:#fff}.dropdown[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{overflow:hidden;display:flex;align-items:center}.dropdown[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;align-items:center;opacity:0;pointer-events:none;padding:.25em .5em;font-size:.8em;min-width:10em;height:2em;white-space:nowrap}.dropdown[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]{pointer-events:auto;opacity:1;font-size:1em}.dropdown[_ngcontent-%COMP%]   .item.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:0;color:#1937ea}.dropdown[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{white-space:nowrap;flex:1}.dropdown[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:1;text-transform:capitalize}.dropdown[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{background-size:contain;background-position:center;background-repeat:no-repeat;width:1em;height:1em}.dropdown[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:1em;width:2em;margin:.5em 1em .5em .5em;min-width:1e m;border-radius:.4em;background-color:#fff;border:1px solid #f0f0f0}.dropdown[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .circle.icon[_ngcontent-%COMP%]{height:1.5em;width:1.5em;margin:.25em .75em .25em .25em}.filters[_ngcontent-%COMP%]{position:absolute;top:1em;left:50%;min-height:10em;width:20em;display:flex;align-items:center;flex-direction:column;background-color:#fff;border-radius:6px;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);transform:translate(-50%,-150%);opacity:0;padding:.5em;transition:transform .2s,opacity .2s;z-index:200}.filters.show[_ngcontent-%COMP%]{opacity:1;transform:translate(-50%,0)}.filters[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:100%;display:flex;padding:.5em;font-weight:500;font-size:1.1em}.filters[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{flex:1;width:100%}.close[_ngcontent-%COMP%]{position:absolute;top:50%;right:.5em;transform:translateY(-50%)}.old-overlay[_ngcontent-%COMP%]   custom-dropdown[_ngcontent-%COMP%], .old-overlay[_ngcontent-%COMP%]   dropdown[_ngcontent-%COMP%]{width:100%}"]],data:{}});function _l(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","bindings"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"i",[["binding",""],["mod","DeskManagement"]],null,[[null,"modelChange"],[null,"valueChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.desks.free=e)&&t),"valueChange"===n&&(t=!1!==o.processRooms()&&t),t}),null,null)),t.ub(2,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"}),(l()(),t.vb(3,0,null,null,1,"i",[["binding",""],["mod","DeskManagement"]],null,[[null,"modelChange"],[null,"valueChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.desks.count=e)&&t),"valueChange"===n&&(t=!1!==o.processRooms()&&t),t}),null,null)),t.ub(4,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"})],(function(l,n){var e=n.component;l(n,2,0,e.model.system,"DeskManagement",e.model.level.active.id+":free_count",e.model.desks.free),l(n,4,0,e.model.system,"DeskManagement",e.model.level.active.id+":desk_count",e.model.desks.count)}),null)}function Pl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"i",[],[[8,"className",0],[2,"large",null]],null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){l(n,0,0,n.parent.context.$implicit.icon.class,n.parent.context.$implicit.large),l(n,1,0,n.parent.context.$implicit.icon.value)}))}function xl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[["class","number"]],null,null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){var e=n.component;l(n,1,0,null==e.model.level?null:null==e.model.level.active?null:e.model.level.active.number)}))}function Cl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,7,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"btn",[["format","mini-action"],["name","black inverse"],["position","left"],["tooltip",""]],null,[[null,"tapped"],[null,"showChange"],[null,"mouseenter"],[null,"mouseleave"]],(function(l,n,e){var o=!0,i=l.component;return"mouseenter"===n&&(o=!1!==t.Hb(l,3).onEnter(e.target)&&o),"mouseleave"===n&&(o=!1!==t.Hb(l,3).onLeave(e.target)&&o),"tapped"===n&&(o=!1!==i.action(l.context.$implicit)&&o),"showChange"===n&&(o=!1!==(i.model.show[l.context.$implicit.id]=e)&&o),"tapped"===n&&(o=!1!==(l.context.$implicit.template?i.model.show[l.context.$implicit.id]=!i.model.show[l.context.$implicit.id]:"")&&o),o}),v.w,v.h)),t.ub(2,704512,null,0,o.c,[t.h],{name:[0,"name"],format:[1,"format"]},{tapped:"tapped"}),t.ub(3,671744,null,0,o.V,[t.k,o.E],{name:[0,"name"],position:[1,"position"],offset:[2,"offset"],template:[3,"template"],show:[4,"show"]},{showChange:"showChange"}),(l()(),t.kb(16777216,null,0,1,null,Pl)),t.ub(5,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,0,1,null,xl)),t.ub(7,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,"black inverse","mini-action"),l(n,3,0,"black inverse","left",n.context.$implicit.offset||"start",e.model.template[n.context.$implicit.id],e.model.show[n.context.$implicit.id]),l(n,5,0,n.context.$implicit.icon),l(n,7,0,n.context.$implicit.number)}),null)}function kl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","simple"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Cl)),t.ub(2,278528,null,0,E.l,[t.P,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.model.options)}),null)}function Ol(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,6,"div",[["class","show-state"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Zones"])),(l()(),t.vb(3,0,null,null,3,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),t.vb(4,0,null,null,2,"toggle",[["name","zones"],["type","ios"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.zones.show=e)&&t),"modelChange"===n&&(t=!1!==o.updateState()&&t),t}),v.G,v.r)),t.Mb(5120,null,fl.m,(function(l){return[l]}),[o.T]),t.ub(6,704512,null,0,o.T,[],{name:[0,"name"],model:[1,"model"],type:[2,"type"]},{modelChange:"modelChange"})],(function(l,n){l(n,6,0,"zones",n.component.model.zones.show,"ios")}),null)}function wl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Ml(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,"div",[["class","header-icon"]],null,[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mousedown"===n&&(o=!1!==t.Hb(l,1).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,1).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,1).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,1).touch(e)&&o),"touchrelease"===n&&(o=!1!==i.viewBookingRules()&&o),o}),null,null)),t.ub(1,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.vb(2,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["info"]))],null,null)}function yl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,12,"div",[["class","level"]],[[2,"push",null]],null,null,null,null)),(l()(),t.vb(1,0,null,null,2,"dropdown",[["klass","form"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.buildings.index=e)&&t),"modelChange"===n&&(t=!1!==o.setBuilding(o.model.buildings.list[e])&&t),t}),v.A,v.l)),t.Mb(5120,null,fl.m,(function(l){return[l]}),[o.l]),t.ub(3,704512,null,0,o.l,[],{klass:[0,"klass"],model:[1,"model"],list:[2,"list"]},{modelChange:"modelChange"}),(l()(),t.vb(4,0,null,null,2,"dropdown",[["klass","form"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.level.index=e)&&t),"modelChange"===n&&(t=!1!==o.setLevel(o.model.level.list[e])&&t),t}),v.A,v.l)),t.Mb(5120,null,fl.m,(function(l){return[l]}),[o.l]),t.ub(6,704512,null,0,o.l,[],{klass:[0,"klass"],model:[1,"model"],list:[2,"list"]},{modelChange:"modelChange"}),(l()(),t.kb(16777216,null,null,1,null,Ol)),t.ub(8,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,wl)),t.ub(10,540672,null,0,E.s,[t.P],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(l()(),t.kb(16777216,null,null,1,null,Ml)),t.ub(12,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,3,0,"form",e.model.buildings.index,e.model.buildings.names),l(n,6,0,"form",e.model.level.index,e.model.level.names),l(n,8,0,e.model.zones&&e.model.zones.enabled&&"people"!==e.model.search),l(n,10,0,t.Hb(n.parent.parent,26)),l(n,12,0,e.has_details)}),(function(l,n){var e=n.component;l(n,0,0,"spaces"===e.model.search||"people"===e.model.search)}))}function zl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"btn",[["format","mini-action"],["offset","start"],["position","left"],["tooltip",""]],null,[[null,"tapped"],[null,"showChange"],[null,"mouseenter"],[null,"mouseleave"]],(function(l,n,e){var o=!0,i=l.component;return"mouseenter"===n&&(o=!1!==t.Hb(l,2).onEnter(e.target)&&o),"mouseleave"===n&&(o=!1!==t.Hb(l,2).onLeave(e.target)&&o),"tapped"===n&&(o=0!=(i.model.show.settings=!i.model.show.settings)&&o),"showChange"===n&&(o=!1!==(i.model.show.settings=e)&&o),o}),v.w,v.h)),t.ub(1,704512,null,0,o.c,[t.h],{name:[0,"name"],format:[1,"format"]},{tapped:"tapped"}),t.ub(2,671744,null,0,o.V,[t.k,o.E],{name:[0,"name"],position:[1,"position"],offset:[2,"offset"],template:[3,"template"],show:[4,"show"]},{showChange:"showChange"}),(l()(),t.vb(3,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["settings"]))],(function(l,n){var e=n.component;l(n,1,0,e.model.show.settings?"":"black inverse","mini-action"),l(n,2,0,e.model.show.settings?"":"black inverse","left","start",t.Hb(n.parent,3),e.model.show.settings)}),null)}function Rl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,28,"div",[["class","settings"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Desk Status"])),(l()(),t.vb(4,0,null,null,3,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),t.vb(5,0,null,null,2,"toggle",[["name","zones"],["type","ios"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.show.desks=e)&&t),"modelChange"===n&&(t=!1!==o.updateState()&&t),t}),v.G,v.r)),t.Mb(5120,null,fl.m,(function(l){return[l]}),[o.T]),t.ub(7,704512,null,0,o.T,[],{name:[0,"name"],model:[1,"model"],type:[2,"type"]},{modelChange:"modelChange"}),(l()(),t.vb(8,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(9,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Room Status"])),(l()(),t.vb(11,0,null,null,3,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),t.vb(12,0,null,null,2,"toggle",[["name","zones"],["type","ios"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.show.rooms=e)&&t),"modelChange"===n&&(t=!1!==o.updateState()&&t),t}),v.G,v.r)),t.Mb(5120,null,fl.m,(function(l){return[l]}),[o.T]),t.ub(14,704512,null,0,o.T,[],{name:[0,"name"],model:[1,"model"],type:[2,"type"]},{modelChange:"modelChange"}),(l()(),t.vb(15,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(16,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Team Tables"])),(l()(),t.vb(18,0,null,null,3,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),t.vb(19,0,null,null,2,"toggle",[["name","zones"],["type","ios"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.show.teams=e)&&t),"modelChange"===n&&(t=!1!==o.updateState()&&t),t}),v.G,v.r)),t.Mb(5120,null,fl.m,(function(l){return[l]}),[o.T]),t.ub(21,704512,null,0,o.T,[],{name:[0,"name"],model:[1,"model"],type:[2,"type"]},{modelChange:"modelChange"}),(l()(),t.vb(22,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(23,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Zones"])),(l()(),t.vb(25,0,null,null,3,"div",[["class","checkbox"]],null,null,null,null,null)),(l()(),t.vb(26,0,null,null,2,"toggle",[["name","zones"],["type","ios"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.zones.show=e)&&t),"modelChange"===n&&(t=!1!==o.updateState()&&t),t}),v.G,v.r)),t.Mb(5120,null,fl.m,(function(l){return[l]}),[o.T]),t.ub(28,704512,null,0,o.T,[],{name:[0,"name"],model:[1,"model"],type:[2,"type"]},{modelChange:"modelChange"})],(function(l,n){var e=n.component;l(n,7,0,"zones",e.model.show.desks,"ios"),l(n,14,0,"zones",e.model.show.rooms,"ios"),l(n,21,0,"zones",e.model.show.teams,"ios"),l(n,28,0,"zones",e.model.zones.show,"ios")}),null)}function Il(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,"div",[["class","btn"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,zl)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,[["map_settings",2]],null,0,null,Rl))],(function(l,n){var e=n.component;l(n,2,0,!e.model.map_settings||!1!==e.model.map_settings.settings&&e.model.zones.status)}),null)}function Ll(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,"btn",[["format","mini-action"]],null,[[null,"tapped"]],(function(l,n,e){var t=!0,o=l.component;return"tapped"===n&&(t=0!=(o.model.show_filters=!o.model.show_filters)&&t),t}),v.w,v.h)),t.ub(1,704512,null,0,o.c,[t.h],{name:[0,"name"],format:[1,"format"]},{tapped:"tapped"}),(l()(),t.vb(2,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["filter_list"]))],(function(l,n){l(n,1,0,n.component.model.show_filters?"":"black inverse","mini-action")}),null)}function $l(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","btn"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Ll)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,!e.model.map_settings||!1!==e.model.map_settings.filters)}),null)}function Fl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,"btn",[["format","mini-action"],["name","black"]],null,[[null,"tapped"]],(function(l,n,e){var t=!0;return"tapped"===n&&(t=!1!==l.component.back()&&t),t}),v.w,v.h)),t.ub(1,704512,null,0,o.c,[t.h],{name:[0,"name"],format:[1,"format"]},{tapped:"tapped"}),(l()(),t.vb(2,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["arrow_back"]))],(function(l,n){l(n,1,0,"black","mini-action")}),null)}function Sl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,9,"div",[["class","old-overlay"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,yl)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(3,0,null,null,6,"div",[["class","options info"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Il)),t.ub(5,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,$l)),t.ub(7,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Fl)),t.ub(9,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.model.level&&e.model.level.list&&e.model.level.list.length),l(n,5,0,!e.model.zones.enabled&&e.model.zones.status),l(n,7,0,!e.model.zones.enabled&&e.model.zones.filters),l(n,9,0,e.model.back)}),null)}function El(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Desks free"])),(l()(),t.vb(3,0,null,null,1,"div",[["class","value"]],[[2,"low",null],[2,"medium",null],[2,"high",null]],null,null,null,null)),(l()(),t.Pb(4,null,[" "," "])),(l()(),t.vb(5,0,null,null,1,"div",[["class","value"]],null,null,null,null,null)),(l()(),t.Pb(6,null,["\xa0of ",""]))],null,(function(l,n){var e=n.component;l(n,3,0,e.model.desks.percent>75,e.model.desks.percent>25&&e.model.desks.percent<=75,e.model.desks.percent<=25),l(n,4,0,e.model.desks.free),l(n,6,0,e.model.desks.count)}))}function Bl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Spaces free"])),(l()(),t.vb(3,0,null,null,1,"div",[["class","value"]],[[2,"low",null],[2,"medium",null],[2,"high",null]],null,null,null,null)),(l()(),t.Pb(4,null,[" "," "])),(l()(),t.vb(5,0,null,null,1,"div",[["class","value"]],null,null,null,null,null)),(l()(),t.Pb(6,null,["\xa0of ",""]))],null,(function(l,n){var e=n.component;l(n,3,0,e.model.rooms.percent>75,e.model.rooms.percent>25&&e.model.rooms.percent<=75,e.model.rooms.percent<=25),l(n,4,0,e.model.rooms.free),l(n,6,0,e.model.rooms.count)}))}function Dl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","room"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,El)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Bl)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.model.desks&&e.model.desks.count),l(n,4,0,e.model.rooms&&e.model.rooms.count)}),null)}function Hl(l){return t.Rb(0,[(l()(),t.kb(16777216,null,null,1,null,Dl)),t.ub(1,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,e.model.level&&e.model.level.active&&e.model.desks)}),null)}function Tl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,10,"div",[["class","room"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["# of desks"])),(l()(),t.vb(4,0,null,null,1,"div",[["class","value"]],null,null,null,null,null)),(l()(),t.Pb(5,null,["",""])),(l()(),t.vb(6,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(7,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Free desks"])),(l()(),t.vb(9,0,null,null,1,"div",[["class","value"]],[[2,"low",null],[2,"medium",null],[2,"high",null]],null,null,null,null)),(l()(),t.Pb(10,null,[" "," "]))],null,(function(l,n){var e=n.component;l(n,5,0,e.model.desks.count||"0"),l(n,9,0,e.model.desks.free>50,e.model.desks.free>25&&e.model.desks.free<=25,e.model.desks.free<=25),l(n,10,0,e.model.desks.free||"0")}))}function Xl(l){return t.Rb(0,[(l()(),t.kb(16777216,null,null,1,null,Tl)),t.ub(1,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,e.model.level&&e.model.level.active&&e.model.desks)}),null)}function jl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,10,"div",[["class","room"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["# of Rooms"])),(l()(),t.vb(4,0,null,null,1,"div",[["class","value"]],null,null,null,null,null)),(l()(),t.Pb(5,null,["",""])),(l()(),t.vb(6,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(7,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Free Rooms"])),(l()(),t.vb(9,0,null,null,1,"div",[["class","value"]],[[2,"low",null],[2,"medium",null],[2,"high",null]],null,null,null,null)),(l()(),t.Pb(10,null,[" "," "]))],null,(function(l,n){var e=n.component;l(n,5,0,e.model.rooms.count||"0"),l(n,9,0,e.model.desks.free>50,e.model.desks.free>25&&e.model.desks.free<=25,e.model.desks.free<=25),l(n,10,0,e.model.rooms.free||"0")}))}function Nl(l){return t.Rb(0,[(l()(),t.kb(16777216,null,null,1,null,jl)),t.ub(1,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var e=n.component;l(n,1,0,e.model.level&&e.model.level.active)}),null)}function Al(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","divider"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,0,"div",[["class","bar"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,1,"div",[["class","type"]],null,null,null,null,null)),(l()(),t.Pb(3,null,["",""])),(l()(),t.vb(4,0,null,null,0,"div",[["class","bar"]],null,null,null,null,null))],null,(function(l,n){l(n,3,0,n.parent.context.$implicit)}))}function Yl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,0,"div",[["class","image"]],[[4,"background-image",null]],null,null,null,null))],null,(function(l,n){l(n,0,0,"url("+n.parent.parent.context.$implicit.image+")")}))}function Ul(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"i",[],[[8,"className",0]],null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){l(n,0,0,n.parent.parent.context.$implicit.icon.class),l(n,1,0,n.parent.parent.context.$implicit.icon.value)}))}function ql(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","icon"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Yl)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Ul)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.parent.context.$implicit.image),l(n,4,0,n.parent.context.$implicit.icon)}),null)}function Zl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,2,"div",[["class","circle "],["style","width:2em"]],[[4,"background-color",null],[2,"icon",null]],null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,ql)),t.ub(3,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(4,0,null,null,1,"div",[["class","name"]],null,null,null,null,null)),(l()(),t.Pb(5,null,["",""]))],(function(l,n){l(n,3,0,n.context.$implicit.icon||n.context.$implicit.image)}),(function(l,n){l(n,1,0,n.context.$implicit.color,n.context.$implicit.icon||n.context.$implicit.image),l(n,5,0,n.context.$implicit.name)}))}function Gl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Al)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Zl)),t.ub(4,278528,null,0,E.l,[t.P,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.model.keys.types.length>1),l(n,4,0,e.model.keys.groups[n.context.$implicit])}),null)}function Jl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","key-list"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Gl)),t.ub(2,278528,null,0,E.l,[t.P,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.model.keys.types)}),null)}function Vl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"i",[],[[8,"className",0],[2,"large",null]],null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){l(n,0,0,n.parent.context.$implicit.icon.class,n.parent.context.$implicit.large),l(n,1,0,n.parent.context.$implicit.icon.value)}))}function Kl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,0,"img",[["style","width:15%"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.parent.context.$implicit.imgSrc)}))}function Wl(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[["class","number"]],null,null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){var e=n.component;l(n,1,0,null==e.model.level?null:null==e.model.level.active?null:e.model.level.active.number)}))}function Ql(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,9,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,8,"btn",[["format","mini-action"],["position","right"],["tooltip",""]],[[4,"transform",null]],[[null,"tapped"],[null,"showChange"],[null,"mouseenter"],[null,"mouseleave"]],(function(l,n,e){var o=!0,i=l.component;return"mouseenter"===n&&(o=!1!==t.Hb(l,3).onEnter(e.target)&&o),"mouseleave"===n&&(o=!1!==t.Hb(l,3).onLeave(e.target)&&o),"tapped"===n&&(o=!1!==i.action(l.context.$implicit)&&o),"showChange"===n&&(o=!1!==(i.model.show[l.context.$implicit.id+"_mobile"]=e)&&o),"tapped"===n&&(o=!1!==(l.context.$implicit.template?i.model.show[l.context.$implicit.id+"_mobile"]=!i.model.show[l.context.$implicit.id+"_mobile"]:"")&&o),o}),v.w,v.h)),t.ub(2,704512,null,0,o.c,[t.h],{name:[0,"name"],format:[1,"format"]},{tapped:"tapped"}),t.ub(3,671744,null,0,o.V,[t.k,o.E],{name:[0,"name"],position:[1,"position"],offset:[2,"offset"],template:[3,"template"],show:[4,"show"]},{showChange:"showChange"}),(l()(),t.kb(16777216,null,0,1,null,Vl)),t.ub(5,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,0,1,null,Kl)),t.ub(7,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,0,1,null,Wl)),t.ub(9,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,"black inverse no-margin "+n.context.$implicit.class,"mini-action"),l(n,3,0,"black inverse no-margin "+n.context.$implicit.class,"right",n.context.$implicit.offset||"start",e.model.template[n.context.$implicit.id],e.model.show[n.context.$implicit.id+"_mobile"]),l(n,5,0,n.context.$implicit.icon&&!n.context.$implicit.imgSrc),l(n,7,0,!n.context.$implicit.icon&&n.context.$implicit.imgSrc),l(n,9,0,n.context.$implicit.number)}),(function(l,n){l(n,1,0,n.component.model.show_menu?"translateY("+2.5*(n.context.index+1)+"em)":"")}))}function ln(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,"div",[["class","header-icon fixed mobile-only"]],null,[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mousedown"===n&&(o=!1!==t.Hb(l,1).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,1).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,1).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,1).touch(e)&&o),"touchrelease"===n&&(o=!1!==i.viewBookingRules()&&o),o}),null,null)),t.ub(1,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.vb(2,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["info"]))],null,null)}function nn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,3,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,2,"checkbox",[],null,[[null,"modelChange"]],(function(l,n,e){var t=!0;return"modelChange"===n&&(t=!1!==(l.context.$implicit.active=e)&&t),t}),v.x,v.i)),t.Mb(5120,null,fl.m,(function(l){return[l]}),[o.f]),t.ub(3,704512,null,0,o.f,[],{model:[0,"model"],label:[1,"label"]},{modelChange:"modelChange"})],(function(l,n){l(n,3,0,n.context.$implicit.active,n.context.$implicit.name)}),null)}function en(l){return t.Rb(0,[t.Nb(402653184,1,{room_info:0}),t.Nb(402653184,2,{key_list:0}),(l()(),t.vb(2,0,null,null,50,"div",[["class","container"]],null,[["window","tap"],["window","resize"]],(function(l,n,e){var t=!0,o=l.component;return"window:tap"===n&&(t=!1!==o.tapWindow(e)&&t),"window:resize"===n&&(t=!1!==(o.model.show={})&&t),t}),null,null)),(l()(),t.kb(16777216,null,null,1,null,_l)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(5,0,null,null,12,"div",[["class","zoom"]],null,null,null,null,null)),(l()(),t.vb(6,0,null,null,3,"div",[["class","item"]],null,[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mousedown"===n&&(o=!1!==t.Hb(l,7).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,7).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,7).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,7).touch(e)&&o),"touchrelease"===n&&(o=!1!==i.zoom(1.2)&&o),o}),null,null)),t.ub(7,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.vb(8,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["add"])),(l()(),t.vb(10,0,null,null,3,"div",[["class","item"]],[[2,"disabled",null]],[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mousedown"===n&&(o=!1!==t.Hb(l,11).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,11).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,11).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,11).touch(e)&&o),"touchrelease"===n&&(o=!1!==i.zoom(1/1.2)&&o),o}),null,null)),t.ub(11,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.vb(12,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["remove"])),(l()(),t.vb(14,0,null,null,3,"div",[["class","item"]],null,[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mousedown"===n&&(o=!1!==t.Hb(l,15).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,15).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,15).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,15).touch(e)&&o),"touchrelease"===n&&(o=!1!==i.reset()&&o),o}),null,null)),t.ub(15,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.vb(16,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["refresh"])),(l()(),t.vb(18,0,null,null,8,"div",[["class","not-mobile"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,kl)),t.ub(20,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Sl)),t.ub(22,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,[[1,2],["room_info",2]],null,0,null,Hl)),(l()(),t.kb(0,[[1,2],["room_info",2]],null,0,null,Xl)),(l()(),t.kb(0,[["room_details",2]],null,0,null,Nl)),(l()(),t.kb(0,[[2,2],["key_list",2]],null,0,null,Jl)),(l()(),t.vb(27,0,null,null,10,"div",[["class","mobile"]],null,null,null,null,null)),(l()(),t.vb(28,0,null,null,7,"div",[["class","option-list mobile-only"]],[[2,"show",null]],null,null,null,null)),(l()(),t.vb(29,0,null,null,2,"div",[["class","group"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,Ql)),t.ub(31,278528,null,0,E.l,[t.P,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.vb(32,0,null,null,3,"btn",[["format","action"],["name","black inverse no-margin"]],null,[[null,"tapped"]],(function(l,n,e){var t=!0,o=l.component;return"tapped"===n&&(t=0!=(o.model.show_menu=!o.model.show_menu)&&t),t}),v.w,v.h)),t.ub(33,704512,null,0,o.c,[t.h],{name:[0,"name"],format:[1,"format"]},{tapped:"tapped"}),(l()(),t.vb(34,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(35,null,["",""])),(l()(),t.kb(16777216,null,null,1,null,ln)),t.ub(37,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(38,0,null,null,14,"div",[["class","filters"]],[[2,"show",null]],null,null,null,null)),(l()(),t.vb(39,0,null,null,6,"div",[["class","header"]],null,null,null,null,null)),(l()(),t.vb(40,0,null,null,1,"div",[["class","heading"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["Filter zones"])),(l()(),t.vb(42,0,null,null,3,"div",[["class","close"]],null,[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mousedown"===n&&(o=!1!==t.Hb(l,43).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,43).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,43).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,43).touch(e)&&o),"touchrelease"===n&&(o=0!=(i.model.show_filters=!1)&&o),o}),null,null)),t.ub(43,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.vb(44,0,null,null,1,"div",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["close"])),(l()(),t.vb(46,0,null,null,2,"div",[["class","body"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,nn)),t.ub(48,278528,null,0,E.l,[t.P,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.vb(49,0,null,null,3,"div",[["class","footer"]],null,null,null,null,null)),(l()(),t.vb(50,0,null,null,2,"btn",[["name","inverse"]],null,[[null,"tapped"]],(function(l,n,e){var t=!0;return"tapped"===n&&(t=!1!==l.component.applyFilters()&&t),t}),v.w,v.h)),t.ub(51,704512,null,0,o.c,[t.h],{name:[0,"name"]},{tapped:"tapped"}),(l()(),t.Pb(-1,0,["Apply filters"]))],(function(l,n){var e=n.component;l(n,4,0,e.model.level&&e.model.level.active),l(n,20,0,!e.model.old),l(n,22,0,e.model.old),l(n,31,0,e.model.options),l(n,33,0,"black inverse no-margin","action"),l(n,37,0,e.has_details),l(n,48,0,e.model.level.active.map.features),l(n,51,0,"inverse")}),(function(l,n){var e=n.component;l(n,10,0,!e.settings||!e.settings.zoom||e.settings.zoom<=100),l(n,28,0,e.model.show_menu),l(n,35,0,e.model.show_menu?"add":"more_vert"),l(n,38,0,e.model.show_filters)}))}var tn=t.tb({encapsulation:0,styles:[[".explore-timeline[_ngcontent-%COMP%]{position:relative;width:100%;height:3.5em;color:#fff;z-index:800;background:linear-gradient(to right,#051c2c,#051c2c 40%,#0b2453 60%,#1f40e6 100%)}.block-list[_ngcontent-%COMP%], .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center}.overlay[_ngcontent-%COMP%]{pointer-events:none}.block[_ngcontent-%COMP%]{position:relative;flex:1;height:100%}.block.show[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{display:initial}.block.in-use[_ngcontent-%COMP%]{background-color:rgba(219,41,29,.54)}.hour[_ngcontent-%COMP%]{position:absolute;top:.75em;left:0;transform:translateX(-50%)}.bar[_ngcontent-%COMP%]{position:absolute;display:none;width:1px;top:80%;left:0;bottom:0;transform:translateX(-50%);background-color:rgba(255,255,255,.87)}.bar.hour[_ngcontent-%COMP%]{top:60%;background-color:rgba(255,255,255,.87)}.expired[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;background-color:rgba(0,0,0,.54);pointer-events:none}.line[_ngcontent-%COMP%]{position:absolute;height:100%;left:-1px;width:2px;bottom:0;background-color:#fff}.active[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:0;pointer-events:none}.arrow[_ngcontent-%COMP%]{position:absolute;bottom:0;left:1px;transform:translateX(-50%);border-style:solid;border-width:0 .6em 1.5em;border-color:transparent transparent #ff9800}.top-arrow[_ngcontent-%COMP%]{position:absolute;top:-.25em;left:1px;transform:translateX(-50%);border-style:solid;border-width:.5em .5em 0;border-color:#fff transparent transparent}.date-details[_ngcontent-%COMP%], .time-details[_ngcontent-%COMP%]{position:absolute;top:-.25em;left:1px;transform:translate(-50%,-100%);box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);padding:.5em .75em;white-space:nowrap;color:rgba(0,0,0,.87);font-weight:500;background-color:#fff;border-radius:4px;cursor:-webkit-grab;cursor:grab;pointer-events:auto}.date-details[_ngcontent-%COMP%]:active, .time-details[_ngcontent-%COMP%]:active{cursor:-webkit-grabbing;cursor:grabbing}.date-details[_ngcontent-%COMP%]{top:-2.75em;display:flex;align-items:center;padding:.25em}.date-details[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0 .25em}.icon[_ngcontent-%COMP%]{height:1.2em;width:1.2em;display:flex;align-items:center;justify-content:center;font-size:1.4em;cursor:pointer}.icon[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.54)}.icon.disabled[_ngcontent-%COMP%]{pointer-events:none;color:rgba(0,0,0,.2)}"]],data:{}});function on(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[["class","hour"]],null,null,null,null,null)),(l()(),t.Pb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.hour)}))}function sn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","block"]],[[2,"show",null],[2,"in-use",null]],[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mousedown"===n&&(o=!1!==t.Hb(l,1).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,1).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,1).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,1).touch(e)&&o),"touchrelease"===n&&(o=!1!==i.set(l.context.$implicit.offset)&&o),o}),null,null)),t.ub(1,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.kb(16777216,null,null,1,null,on)),t.ub(3,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(4,0,null,null,0,"div",[["class","bar"]],[[2,"hour",null]],null,null,null,null))],(function(l,n){l(n,3,0,n.context.$implicit.hour)}),(function(l,n){l(n,0,0,n.context.$implicit.show||n.context.$implicit.hour,n.context.$implicit.in_use),l(n,4,0,n.context.$implicit.hour)}))}function un(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","block-list"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,sn)),t.ub(2,278528,null,0,E.l,[t.P,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.blocks)}),null)}function an(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,0,"div",[["class","expired"]],[[4,"width",null]],null,null,null,null))],null,(function(l,n){var e=n.component;l(n,0,0,e.expired_length/e.duration*100+"%")}))}function rn(l){return t.Rb(0,[t.Nb(402653184,1,{container:0}),(l()(),t.vb(1,0,[[1,0],["container",1]],null,21,"div",[["class","explore-timeline"]],null,[["window","resize"]],(function(l,n,e){var t=!0;return"window:resize"===n&&(t=!1!==l.component.resize()&&t),t}),null,null)),(l()(),t.kb(16777216,null,null,1,null,un)),t.ub(3,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,an)),t.ub(5,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(6,0,null,null,16,"div",[["class","active"]],[[4,"left",null]],null,null,null,null)),(l()(),t.vb(7,0,null,null,15,"div",[["class","line"]],null,null,null,null,null)),(l()(),t.vb(8,0,null,null,0,"div",[["class","arrow"]],null,null,null,null,null)),(l()(),t.vb(9,0,null,null,1,"div",[["class","time-details"]],null,[[null,"touchstart"],[null,"mousedown"]],(function(l,n,e){var t=!0,o=l.component;return"touchstart"===n&&(t=!1!==o.grab(e)&&t),"mousedown"===n&&(t=!1!==o.grab(e)&&t),t}),null,null)),(l()(),t.Pb(10,null,["",""])),(l()(),t.vb(11,0,null,null,10,"div",[["class","date-details"]],null,[[null,"touchstart"],[null,"mousedown"]],(function(l,n,e){var t=!0,o=l.component;return"touchstart"===n&&(t=!1!==o.grab(e)&&t),"mousedown"===n&&(t=!1!==o.grab(e)&&t),t}),null,null)),(l()(),t.vb(12,0,null,null,3,"div",[["class","icon previous"]],[[2,"disabled",null]],[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mousedown"===n&&(o=!1!==t.Hb(l,13).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,13).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,13).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,13).touch(e)&&o),"touchrelease"===n&&(o=!1!==i.changeDate(-1)&&o),o}),null,null)),t.ub(13,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.vb(14,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["keyboard_arrow_left"])),(l()(),t.vb(16,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),t.Pb(17,null,["",""])),(l()(),t.vb(18,0,null,null,3,"div",[["class","icon next"]],null,[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],(function(l,n,e){var o=!0,i=l.component;return"mousedown"===n&&(o=!1!==t.Hb(l,19).mousestart(e)&&o),"touchstart"===n&&(o=!1!==t.Hb(l,19).touchstart(e)&&o),"mouseup"===n&&(o=!1!==t.Hb(l,19).mouse(e)&&o),"touchend"===n&&(o=!1!==t.Hb(l,19).touch(e)&&o),"touchrelease"===n&&(o=!1!==i.changeDate()&&o),o}),null,null)),t.ub(19,16384,null,0,o.wb,[],null,{event:"touchrelease"}),(l()(),t.vb(20,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),t.Pb(-1,null,["keyboard_arrow_right"])),(l()(),t.vb(22,0,null,null,0,"div",[["class","top-arrow"]],null,null,null,null,null))],(function(l,n){var e=n.component;l(n,3,0,e.blocks&&e.blocks.length>0),l(n,5,0,e.date_offset<=0)}),(function(l,n){var e=n.component;l(n,6,0,((e.date_offset>0?0:e.expired_length)+(e.selected_offset||0))/e.duration*100+"%"),l(n,10,0,e.display_time),l(n,12,0,e.date_offset<=0),l(n,17,0,e.display_date||"Today")}))}var dn=t.tb({encapsulation:0,styles:[[".container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;flex-direction:column;pointer-events:none}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{pointer-events:auto;width:100%}.topbar[_ngcontent-%COMP%]{max-height:6em;max-width:100vw;max-width:100vw;flex:1;display:flex;justify-content:center;align-items:center;background-color:#a3a2a2;z-index:101}.map-space[_ngcontent-%COMP%]{position:relative;flex:1;height:5em;z-index:99;max-height:100%}.map[_ngcontent-%COMP%]{height:100%}.level[_ngcontent-%COMP%]{position:absolute;top:1em;right:.5em;padding:.5em 1em;height:2.2em;border-radius:1.2em;background-color:#fff;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12)}.level.old[_ngcontent-%COMP%]{right:5em}.keys[_ngcontent-%COMP%]{margin-top:-6px}.not-located[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;bottom:.5em;right:.5em;padding:.5em 1em;border-radius:4px;background-color:#fff;max-width:50vw;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12)}.not-located[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{font-size:.9em}.not-located[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media only screen and (orientation:portrait) and (max-width:450px){.not-located[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-width:70vw;right:4.5em;bottom:1.5em}.not-located[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{max-width:calc(70vw - 14.5em)}}@media only screen and (orientation:landscape) and (max-width:800px){.not-located[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{max-width:70vw;right:4.5em;bottom:1.5em}.not-located[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{max-width:calc(70vw - 14.5em)}}.back[_ngcontent-%COMP%]{position:absolute;bottom:.5em;right:.5em}.timeline[_ngcontent-%COMP%]{width:100%;height:3.5em;z-index:100}"]],data:{}});function mn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"explore-search",[],null,[[null,"itemChange"]],(function(l,n,e){var t=!0,o=l.component;return"itemChange"===n&&(t=!1!==(o.model.found_item=e)&&t),"itemChange"===n&&(t=!1!==o.focus(e)&&t),t}),gl,j)),t.ub(1,245760,null,0,g,[s.a,i.a,i.m],{item:[0,"item"]},{itemChange:"itemChange"})],(function(l,n){l(n,1,0,n.component.model.found_item)}),null)}function cn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"i",[["binding",""],["mod","DeskManagement"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.desks.user=e)&&t),"modelChange"===n&&(t=!1!==o.updateStyles()&&t),t}),null,null)),t.ub(1,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"})],(function(l,n){var e=n.component;l(n,1,0,e.model.system,"DeskManagement",e.model.user.win_id,e.model.desks.user)}),null)}function hn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,19,"div",[["class","desks"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"i",[["binding",""],["mod","DeskManagement"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.desks.in_use=e)&&t),"modelChange"===n&&(t=!1!==o.updateListeners()&&t),t}),null,null)),t.ub(2,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"}),(l()(),t.vb(3,0,null,null,1,"i",[["binding",""],["mod","DeskManagement"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.desks.reserved=e)&&t),"modelChange"===n&&(t=!1!==o.updateStyles()&&t),t}),null,null)),t.ub(4,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"}),(l()(),t.kb(16777216,null,null,1,null,cn)),t.ub(6,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(7,0,null,null,1,"i",[["binding",""],["mod","DeskManagement"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.desks.list=e)&&t),"modelChange"===n&&(t=!1!==o.updateStyles()&&t),t}),null,null)),t.ub(8,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"}),(l()(),t.vb(9,0,null,null,1,"i",[["binding",""],["mod","DeskManagement"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0;return"modelChange"===n&&(t=!1!==(l.component.model.desks.usage=e)&&t),t}),null,null)),t.ub(10,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"}),(l()(),t.vb(11,0,null,null,1,"i",[["binding",""],["mod","DeskManagement"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0;return"modelChange"===n&&(t=!1!==(l.component.model.desks.free=e)&&t),t}),null,null)),t.ub(12,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"}),(l()(),t.vb(13,0,null,null,1,"i",[["binding",""],["mod","DeskManagement"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0;return"modelChange"===n&&(t=!1!==(l.component.model.desks.count=e)&&t),t}),null,null)),t.ub(14,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"}),(l()(),t.vb(15,0,null,null,2,"i",[["binding",""],["exec","manual_checkin"],["mod","DeskManagement"]],null,null,null,null,null)),t.ub(16,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],exec:[2,"exec"],params:[3,"params"],model:[4,"model"]},null),t.Ib(17,1),(l()(),t.vb(18,0,null,null,1,"i",[["binding",""],["exec","cancel_reservation"],["mod","DeskManagement"]],null,null,null,null,null)),t.ub(19,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],exec:[2,"exec"],params:[3,"params"],model:[4,"model"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.model.system,"DeskManagement",e.model.level.active.id,e.model.desks.in_use),l(n,4,0,e.model.system,"DeskManagement",e.model.level.active.id+":reserved",e.model.desks.reserved),l(n,6,0,e.model.user),l(n,8,0,e.model.system,"DeskManagement",e.model.level.active.id+":desk_ids",e.model.desks.list),l(n,10,0,e.model.system,"DeskManagement",e.model.level.active.id+":occupied_count",e.model.desks.usage),l(n,12,0,e.model.system,"DeskManagement",e.model.level.active.id+":free_count",e.model.desks.free),l(n,14,0,e.model.system,"DeskManagement",e.model.level.active.id+":desk_count",e.model.desks.count);var o=e.model.system,i=l(n,17,0,e.model.desks.id);l(n,16,0,o,"DeskManagement","manual_checkin",i,e.model.desks.checkin),l(n,19,0,e.model.system,"DeskManagement","cancel_reservation",t.eb,e.model.desks.cancel)}),null)}function pn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"i",[["bind","today"],["binding",""],["mod","Bookings"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(l.context.$implicit.raw_bookings=e)&&t),"modelChange"===n&&(t=!1!==o.processBookings(l.context.$implicit)&&t),t}),null,null)),t.ub(2,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"})],(function(l,n){l(n,2,0,n.context.$implicit.id,"Bookings","today",n.context.$implicit.raw_bookings)}),null)}function gn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","bookings"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,pn)),t.ub(2,278528,null,0,E.l,[t.P,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.model.rooms)}),null)}function bn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","zones"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"i",[["binding",""],["mod","FloorManagement"]],null,[[null,"modelChange"]],(function(l,n,e){var t=!0,o=l.component;return"modelChange"===n&&(t=!1!==(o.model.zone_usage=e)&&t),"modelChange"===n&&(t=!1!==o.updateStyles()&&t),t}),null,null)),t.ub(2,737280,null,0,bl.a,[bl.b,t.k,t.D],{sys:[0,"sys"],mod:[1,"mod"],bind:[2,"bind"],model:[3,"model"]},{modelChange:"modelChange"})],(function(l,n){var e=n.component;l(n,2,0,e.model.system,"FloorManagement",e.model.level.active.id,e.model.zone_usage)}),null)}function fn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Pb(1,null,[" ",""," "]))],null,(function(l,n){var e=n.component;l(n,1,0,e.model.found_user&&e.model.found_user.external&&e.model.found_user.location&&e.model.found_user.location.building?e.model.found_user.location.building.name+" - ":"",null==e.model.level.active?null:e.model.level.active.name)}))}function vn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","level mobile-only"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,fn)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.model.level&&e.model.level.active)}),null)}function _n(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Pb(1,null,[" "," - "," "]))],null,(function(l,n){var e=n.component;l(n,1,0,null==e.model.found_user.location?null:null==e.model.found_user.location.building?null:e.model.found_user.location.building.name,null==e.model.level.active?null:e.model.level.active.name)}))}function Pn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,"div",[["class","level not-mobile"]],[[2,"old",null]],null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,_n)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.model.level&&e.model.level.active)}),(function(l,n){l(n,0,0,!n.component.model.old)}))}function xn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Pb(2,null,["",""])),(l()(),t.Pb(-1,null,["\xa0"])),(l()(),t.vb(4,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["is currently not locatable"]))],null,(function(l,n){l(n,2,0,n.component.model.found_user.name)}))}function Cn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Pb(2,null,["",""])),(l()(),t.Pb(-1,null,["\xa0"])),(l()(),t.vb(4,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Pb(-1,null,["is located in another building"]))],null,(function(l,n){l(n,2,0,n.component.model.found_user.name)}))}function kn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,xn)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Cn)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,!e.model.found_user.external),l(n,4,0,e.model.found_user.external)}),null)}function On(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.vb(1,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Pb(2,null,[""," is located on ",""]))],null,(function(l,n){var e=n.component;l(n,2,0,e.model.found_user.name,null==e.model.level.active?null:e.model.level.active.name)}))}function wn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,4,"div",[["class","not-located"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,kn)),t.ub(2,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,On)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,!e.model.found_user.location||!e.model.found_user.location.map_id&&!e.model.found_user.location.x&&!e.model.found_user.location.y),l(n,4,0,!(!e.model.found_user.location||!e.model.found_user.location.map_id&&!e.model.found_user.location.x&&!e.model.found_user.location.y)&&e.model.found_user.pin_error)}),null)}function Mn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,26,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.vb(1,0,null,null,3,"div",[["class","topbar"]],null,null,null,null,null)),(l()(),t.vb(2,0,null,null,2,"div",[["class","search"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,mn)),t.ub(4,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(5,0,null,null,18,"div",[["class","map-space"]],null,null,null,null,null)),(l()(),t.vb(6,0,null,null,6,"div",[["class","bindings"]],null,null,null,null,null)),(l()(),t.kb(16777216,null,null,1,null,hn)),t.ub(8,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,gn)),t.ub(10,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,bn)),t.ub(12,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(13,0,null,null,2,"div",[["class","map"]],null,null,null,null,null)),(l()(),t.vb(14,0,null,null,1,"map",[],null,[[null,"zoomChange"],[null,"centerChange"],[null,"event"]],(function(l,n,e){var t=!0,o=l.component;return"zoomChange"===n&&(t=!1!==(o.model.map.zoom=e)&&t),"zoomChange"===n&&(t=!1!==o.updateZoom()&&t),"centerChange"===n&&(t=!1!==(o.model.map.center=e)&&t),"event"===n&&(t=!1!==o.check(e)&&t),t}),v.C,v.n)),t.ub(15,704512,null,0,o.u,[],{src:[0,"src"],css:[1,"css"],zoom:[2,"zoom"],poi:[3,"poi"],focus:[4,"focus"],listeners:[5,"listeners"],center:[6,"center"]},{zoomChange:"zoomChange",centerChange:"centerChange",event:"event"}),(l()(),t.kb(16777216,null,null,1,null,vn)),t.ub(17,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,Pn)),t.ub(19,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.kb(16777216,null,null,1,null,wn)),t.ub(21,16384,null,0,E.m,[t.P,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.vb(22,0,null,null,1,"explore-map-overlay",[],null,null,null,en,vl)),t.ub(23,770048,null,0,p,[s.a],{change:[0,"change"]},null),(l()(),t.vb(24,0,null,null,2,"div",[["class","timeline"]],null,null,null,null,null)),(l()(),t.vb(25,0,null,null,1,"explore-timeline",[],null,[[null,"time"]],(function(l,n,e){var t=!0;return"time"===n&&(t=!1!==l.component.timeChange(e)&&t),t}),rn,tn)),t.ub(26,4440064,null,0,b,[t.D],null,{time:"time"})],(function(l,n){var e=n.component;l(n,4,0,e.model.search),l(n,8,0,e.model.desks&&e.model.level&&e.model.level.active),l(n,10,0,e.model.rooms),l(n,12,0,e.model.zones&&e.model.level&&e.model.level.active),l(n,15,0,e.model.map.src,e.model.map.styles,e.model.map.zoom,e.model.map.poi,e.model.map.focus,e.model.map.listeners,e.model.map.center),l(n,17,0,!(e.model.found_user&&(!e.model.found_user.location||!e.model.found_user.location.map_id&&!e.model.found_user.location.x&&!e.model.found_user.location.y))),l(n,19,0,e.model.found_user&&e.model.found_user.location&&e.model.found_user.external),l(n,21,0,e.model.found_user),l(n,23,0,e.model.change),l(n,26,0)}),null)}function yn(l){return t.Rb(0,[(l()(),t.vb(0,0,null,null,1,"app-explore",[],null,null,null,Mn,dn)),t.ub(1,245760,null,0,h,[i.a,i.m,s.a],null,null)],(function(l,n){l(n,1,0)}),null)}var zn=t.rb("app-explore",h,yn,{},{},[]),Rn=e("IheW"),In=e("/HVE"),Ln=e("crmZ"),$n=e("oapL"),Fn=e("6B7d"),Sn=e("Aftm"),En=e("+EC0"),Bn=e("/X8Z"),Dn=e("xQn8");e.d(n,"AppExploreModuleNgFactory",(function(){return Hn}));var Hn=t.sb(f,[],(function(l){return t.Eb([t.Fb(512,t.j,t.cb,[[8,[v.a,v.g,v.d,v.e,v.f,v.v,v.K,v.L,v.b,v.c,_.a,P.a,x.a,C.a,k.a,O.a,w.a,M.a,y.a,z.a,R.a,I.a,L.a,$.a,F.a,S.a,zn]],[3,t.j],t.w]),t.Fb(4608,E.o,E.n,[t.t,[2,E.A]]),t.Fb(4608,fl.v,fl.v,[]),t.Fb(4608,Rn.i,Rn.o,[E.e,t.A,Rn.m]),t.Fb(4608,Rn.p,Rn.p,[Rn.i,Rn.n]),t.Fb(5120,Rn.a,(function(l){return[l]}),[Rn.p]),t.Fb(4608,Rn.l,Rn.l,[]),t.Fb(6144,Rn.j,null,[Rn.l]),t.Fb(4608,Rn.h,Rn.h,[Rn.j]),t.Fb(6144,Rn.b,null,[Rn.h]),t.Fb(4608,Rn.f,Rn.k,[Rn.b,t.q]),t.Fb(4608,Rn.c,Rn.c,[Rn.f]),t.Fb(4608,fl.e,fl.e,[]),t.Fb(1073742336,E.c,E.c,[]),t.Fb(1073742336,fl.u,fl.u,[]),t.Fb(1073742336,fl.j,fl.j,[]),t.Fb(1073742336,Rn.e,Rn.e,[]),t.Fb(1073742336,Rn.d,Rn.d,[]),t.Fb(1073742336,o.tb,o.tb,[]),t.Fb(1073742336,o.ub,o.ub,[]),t.Fb(1073742336,o.F,o.F,[]),t.Fb(1073742336,o.zb,o.zb,[]),t.Fb(1073742336,o.xb,o.xb,[]),t.Fb(1073742336,o.Ab,o.Ab,[]),t.Fb(1073742336,o.Bb,o.Bb,[]),t.Fb(1073742336,H.a,H.a,[]),t.Fb(1073742336,In.b,In.b,[]),t.Fb(1073742336,D.g,D.g,[]),t.Fb(1073742336,o.Cb,o.Cb,[]),t.Fb(1073742336,o.Db,o.Db,[]),t.Fb(1073742336,o.Eb,o.Eb,[]),t.Fb(1073742336,o.Fb,o.Fb,[]),t.Fb(1073742336,o.Gb,o.Gb,[]),t.Fb(1073742336,o.Ib,o.Ib,[]),t.Fb(1073742336,o.Jb,o.Jb,[]),t.Fb(1073742336,o.q,o.q,[]),t.Fb(1073742336,o.o,o.o,[]),t.Fb(1073742336,o.bb,o.bb,[]),t.Fb(1073742336,o.Kb,o.Kb,[]),t.Fb(1073742336,o.cb,o.cb,[]),t.Fb(1073742336,o.db,o.db,[]),t.Fb(1073742336,o.eb,o.eb,[]),t.Fb(1073742336,o.fb,o.fb,[]),t.Fb(1073742336,o.r,o.r,[]),t.Fb(1073742336,o.G,o.G,[]),t.Fb(1073742336,o.Y,o.Y,[]),t.Fb(1073742336,bl.c,bl.c,[]),t.Fb(1073742336,i.n,i.n,[[2,i.s],[2,i.m]]),t.Fb(1073742336,fl.s,fl.s,[]),t.Fb(1073742336,Ln.b,Ln.b,[]),t.Fb(1073742336,$n.b,$n.b,[]),t.Fb(1073742336,o.n,o.n,[]),t.Fb(1073742336,Fn.b,Fn.b,[]),t.Fb(1073742336,Sn.a,Sn.a,[]),t.Fb(1073742336,En.b,En.b,[]),t.Fb(1073742336,Bn.e,Bn.e,[]),t.Fb(1073742336,Dn.a,Dn.a,[]),t.Fb(1073742336,f,f,[]),t.Fb(256,Rn.m,"XSRF-TOKEN",[]),t.Fb(256,Rn.n,"X-XSRF-TOKEN",[]),t.Fb(1024,i.k,(function(){return[[{path:"",component:h},{path:":search",component:h},{path:"**",redirectTo:""}]]}),[])])}))}}]);