(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{nkgc:function(l,n,t){"use strict";t.r(n);var i=t("CcnG"),e=t("mrSG"),u=t("yw+2"),o=t("OaWH"),r=t("Wgwc"),s=function(){return(s=Object.assign||function(l){for(var n,t=1,i=arguments.length;t<i;t++)for(var e in n=arguments[t])Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e]);return l}).apply(this,arguments)},a=function(l){function n(n,t){var i=l.call(this)||this;return i._service=n,i._route=t,i.active_view="visitors",i.visitor_list={raw:[],filtered:[]},i.host_list={raw:[],filtered:[]},i}return Object(e.d)(n,l),n.prototype.ngOnInit=function(){var l=this;this.subscription("building",this._service.Buildings.listen(function(n){n&&(l.building=n,l.updateListing())})),this.subscription("date",this._service.listen("APP.date",function(n){l.date=n;var t=r(),i=r(n);l.date_display=i.isSame(t,"d")?"Today":i.format("DD MMM YYYY"),l.visitor_list.filtered=[],l.host_list.filtered=[],l.updateListing(),l.interval("update",function(){return l.updateListing()},15e3)})),this.subscription("route",this._route.paramMap.subscribe(function(n){n.has("tab_id")&&(l.active_view=n.get("tab_id"))})),this.building=this._service.Buildings.current(),this.updateListing(),this.interval("update",function(){return l.updateListing()},15e3)},n.prototype.updateListing=function(){var l=this;this.building&&this.timeout("listing",function(){var n=r(l.date).startOf("d"),t=n.endOf("d");l.loading=!0,l._service.Rooms.query({zone_ids:l.building.id,available_from:n.unix(),available_to:t.unix()}).then(function(i){var e=i.reduce(function(l,i){return l.concat((i.bookings||[]).filter(function(l){return l.date>n.valueOf()&&l.date<t.valueOf()}))},[]).sort(function(l,n){return l.date-n.date});l._service.Visitors.clearList();var u=l._service.Visitors.addFromBookings(e.slice()).reduce(function(l,n){return l.concat(n.visitors.map(function(l){return s({},l,{group:n})}))},[]);l.visitor_list.raw=u,l.host_list.raw=e.slice(),l.filter(l.search_str),l.loading=!1})})},n.prototype.filter=function(l){var n=(l||"").toLowerCase();this.filterVisitors(n),this.filterHosts(n)},n.prototype.trackByFn=function(l,n){return n.group?n.group.id||l:n.id||l},n.prototype.focus=function(){this.input&&this.input.nativeElement.focus()},n.prototype.filterVisitors=function(l){this.visitor_list.filtered=l?this.visitor_list.raw.filter(function(n){return n.name.toLowerCase().indexOf(l)>=0||n.email.indexOf(l)>=0||n.group.host.email.indexOf(l)>=0||n.group.host.name.toLowerCase().indexOf(l)>=0}):this.visitor_list.raw},n.prototype.filterHosts=function(l){this.host_list.filtered=l?this.host_list.raw.filter(function(n){return n.organiser.email.indexOf(l)>=0||n.organiser.name.toLowerCase().indexOf(l)>=0}):this.host_list.raw},n}(u.a),c=function(){return function(){}}(),b=t("tN88"),d=t("8fYl"),p=t("2t5/"),g=t("aiwB"),f=t("bPUX"),h=t("MIzx"),m=t("jtT9"),v=t("QoQi"),x=t("2cjq"),w=t("PnLf"),k=t("PfHN"),_=t("fBUd"),C=t("04GH"),O=t("/T1M"),y=t("pMnS"),M=t("cnlR"),P=t("Ip0R"),E=function(){return(E=Object.assign||function(l){for(var n,t=1,i=arguments.length;t<i;t++)for(var e in n=arguments[t])Object.prototype.hasOwnProperty.call(n,e)&&(l[e]=n[e]);return l}).apply(this,arguments)},I=function(l){function n(n){var t=l.call(this)||this;return t._service=n,t}return Object(e.d)(n,l),n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(l){var n=this;l.group&&this.group&&this.timeout("date",function(){var l=r(n.group.date),t=l.add(n.group.duration,"m");n.time_display=l.format("h:mm a")+" - "+t.format("h:mm a")},10)},n.prototype.closeTooltip=function(){var l=this;this.timeout("close_tooltip",function(){return l.show_tooltip=!1})},n.prototype.cancelClose=function(){this.clearTimeout("close_tooltip")},n.prototype.addAttendees=function(){var l=this;this._service.Overlay.openModal("add-visitors",{data:{visitors:this.group.visitors}},function(n){if("finish"===n.type){var t=n.data.visitors.filter(function(l){return!l.id}).map(function(l){return l.external=!0,l});l._service.Bookings.update(l.group.id,E({},l.group,{attendees:l.group.attendees.concat(t)})).then(function(){l._service.success("Successfully added new users"),l.group.visitors=n.data.visitors,n.close()},function(t){n.data.loading=!1,"User cancelled"!==t&&l._service.error("Error: "+t)})}else n.close()})},n}(u.a),S=i.sb({encapsulation:0,styles:[[".group-details[_ngcontent-%COMP%]{width:100%;height:3.5em;background-color:#fff;border-radius:8px;-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.group-details[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:3.5em;padding:.75em 1em;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.host[_ngcontent-%COMP%]{margin-bottom:.5em}.time[_ngcontent-%COMP%]{position:relative;background-color:#00adef;border-right:1px solid #fff;color:#fff;-webkit-box-pack:center;justify-content:center;min-width:11.5em;border-radius:8px 0 0 8px}.meeting[_ngcontent-%COMP%]{position:relative;background-color:#00adef;border-right:1px solid #fff;color:#fff;max-width:50%;min-width:40%}.catering[_ngcontent-%COMP%]{background-color:#f0f0f0;border-right:1px solid #ccc;width:12%;min-width:8em}.attendees[_ngcontent-%COMP%]{position:relative;background-color:#f0f0f0;border-right:1px solid #ccc;padding:0!important;-webkit-transition:background-color .2s;transition:background-color .2s;width:12%;min-width:8em}.attendees[_ngcontent-%COMP%]:hover{background-color:#e6e6e6}.attendees[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:.75em 1em;cursor:pointer;overflow:hidden;height:100%;-webkit-box-flex:1;flex:1}.attendee-list[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:0;width:12em;-webkit-transform:translateY(100%);transform:translateY(100%);background-color:#fff;-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);z-index:999;overflow:hidden;border-radius:4px}ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}span[_ngcontent-%COMP%]{font-weight:500}.text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}a.disabled[_ngcontent-%COMP%]{pointer-events:none}.actions[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;min-width:6.5em;-webkit-box-pack:end;justify-content:flex-end}.icon[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;height:1.25em;width:1.25em}.item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:.75em 1em}.item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;min-width:8em}.item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#309b40;font-size:1.2em}"]],data:{animation:[{type:7,name:"show",definitions:[{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0,height:0,width:0},offset:null},{type:4,styles:{type:6,styles:{opacity:1,height:"*",width:"*"},offset:null},timings:200}],options:null},{type:1,expr:":leave",animation:[{type:6,styles:{opacity:1,height:"*",width:"*"},offset:null},{type:4,styles:{type:6,styles:{opacity:0,height:0,width:0},offset:null},timings:200}],options:null}],options:{}}]}});function j(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,2,"div",[["class","arrived icon"]],null,null,null,null,null)),(l()(),i.ub(1,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["done"]))],null,null)}function L(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,4,"li",[["class","item"]],null,null,null,null,null)),(l()(),i.ub(1,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),i.Mb(2,null,["",""])),(l()(),i.lb(16777216,null,null,1,null,j)),i.tb(4,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,4,0,"accepted"===n.context.$implicit.state)},function(l,n){l(n,2,0,n.context.$implicit.name)})}function A(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,6,"btn",[["klass","full-width"]],null,[[null,"tapped"]],function(l,n,t){var i=!0;return"tapped"===n&&(i=!1!==l.component.addAttendees()&&i),i},b.u,b.h)),i.tb(1,704512,null,0,M.c,[i.h],{klass:[0,"klass"]},{tapped:"tapped"}),(l()(),i.ub(2,0,null,0,2,"div",[["class","icon"]],null,null,null,null,null)),(l()(),i.ub(3,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["add"])),(l()(),i.ub(5,0,null,0,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["Add Attendees"]))],function(l,n){l(n,1,0,"full-width")},null)}function F(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,6,"div",[["class","attendee-list"]],[[24,"@show",0]],[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],function(l,n,t){var e=!0,u=l.component;return"mousedown"===n&&(e=!1!==i.Eb(l,1).mousestart(t)&&e),"touchstart"===n&&(e=!1!==i.Eb(l,1).touchstart(t)&&e),"mouseup"===n&&(e=!1!==i.Eb(l,1).mouse(t)&&e),"touchend"===n&&(e=!1!==i.Eb(l,1).touch(t)&&e),"touchrelease"===n&&(e=!1!==u.cancelClose()&&e),e},null,null)),i.tb(1,16384,null,0,M.vb,[],null,{event:"touchrelease"}),(l()(),i.ub(2,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),i.lb(16777216,null,null,1,null,L)),i.tb(4,278528,null,0,P.k,[i.S,i.O,i.u],{ngForOf:[0,"ngForOf"]},null),(l()(),i.lb(16777216,null,null,1,null,A)),i.tb(6,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,4,0,t.group.attendees),l(n,6,0,!t.group.expired)},function(l,n){l(n,0,0,void 0)})}function z(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,10,"div",[["class","actions"]],null,null,null,null,null)),(l()(),i.ub(1,0,null,null,4,"a",[],[[8,"href",4],[2,"disabled",null]],null,null,null,null)),(l()(),i.ub(2,0,null,null,3,"btn",[["format","mini-action"],["klass","inverse"]],null,null,null,b.u,b.h)),i.tb(3,704512,null,0,M.c,[i.h],{klass:[0,"klass"],disabled:[1,"disabled"],format:[2,"format"]},null),(l()(),i.ub(4,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["email"])),(l()(),i.ub(6,0,null,null,4,"a",[],[[8,"href",4],[2,"disabled",null]],null,null,null,null)),(l()(),i.ub(7,0,null,null,3,"btn",[["format","mini-action"],["klass","inverse"]],null,null,null,b.u,b.h)),i.tb(8,704512,null,0,M.c,[i.h],{klass:[0,"klass"],disabled:[1,"disabled"],format:[2,"format"]},null),(l()(),i.ub(9,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["call"]))],function(l,n){var t=n.component;l(n,3,0,"inverse",!t.group.organiser.email||t.loading,"mini-action"),l(n,8,0,"inverse",!t.group.phone||t.loading,"mini-action")},function(l,n){var t=n.component;l(n,1,0,"mailto:"+t.group.organiser.email,!t.group.organiser.email),l(n,6,0,"tel:"+t.group.phone,!t.group.phone)})}function B(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,25,"div",[["class","host-item"]],null,[["window","click"]],function(l,n,t){var i=!0,e=l.component;return"window:click"===n&&(i=!1!==(e.show_tooltip?e.closeTooltip():"")&&i),i},null,null)),(l()(),i.ub(1,0,null,null,3,"div",[["class","host"]],null,null,null,null,null)),(l()(),i.ub(2,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i.Mb(-1,null,["Host:"])),(l()(),i.Mb(4,null,["\xa0",""])),(l()(),i.ub(5,0,null,null,20,"div",[["class","group-details"]],null,null,null,null,null)),(l()(),i.ub(6,0,null,null,1,"div",[["class","time"]],null,null,null,null,null)),(l()(),i.Mb(7,null,["",""])),(l()(),i.ub(8,0,null,null,4,"div",[["class","meeting"]],[[8,"title",0]],null,null,null,null)),(l()(),i.ub(9,0,null,null,3,"div",[["class","text"]],null,null,null,null,null)),(l()(),i.Mb(10,null,[" "," in\xa0"])),(l()(),i.ub(11,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i.Mb(12,null,["",""])),(l()(),i.ub(13,0,null,null,10,"div",[["class","attendees"]],null,null,null,null,null)),(l()(),i.ub(14,0,null,null,7,"div",[["class","contents"],["click-responder",""]],null,[[null,"touchrelease"],[null,"mousedown"],[null,"touchstart"],[null,"mouseup"],[null,"touchend"]],function(l,n,t){var e=!0,u=l.component;return"touchrelease"===n&&(e=!1!==i.Eb(l,15).onclick(t)&&e),"mousedown"===n&&(e=!1!==i.Eb(l,16).mousestart(t)&&e),"touchstart"===n&&(e=!1!==i.Eb(l,16).touchstart(t)&&e),"mouseup"===n&&(e=!1!==i.Eb(l,16).mouse(t)&&e),"touchend"===n&&(e=!1!==i.Eb(l,16).touch(t)&&e),"touchrelease"===n&&(e=0!=(u.show_tooltip=!u.show_tooltip)&&e),e},b.w,b.j)),i.tb(15,704512,null,0,M.g,[i.k,i.h],null,null),i.tb(16,16384,null,0,M.vb,[],null,{event:"touchrelease"}),(l()(),i.ub(17,0,null,0,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),i.Mb(18,null,[" "," Attendee"," "])),(l()(),i.ub(19,0,null,0,2,"div",[["class","icon"]],null,null,null,null,null)),(l()(),i.ub(20,0,null,null,1,"div",[["class","material-icons"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["keyboard_arrow_down"])),(l()(),i.lb(16777216,null,null,1,null,F)),i.tb(23,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"]},null),(l()(),i.lb(16777216,null,null,1,null,z)),i.tb(25,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,23,0,t.show_tooltip),l(n,25,0,t.group&&t.group.organiser)},function(l,n){var t=n.component;l(n,4,0,null==t.group?null:null==t.group.organiser?null:t.group.organiser.name),l(n,7,0,t.time_display),l(n,8,0,(null==t.group?null:t.group.title)+" in "+(null==t.group?null:null==t.group.room?null:t.group.room.name)),l(n,10,0,null==t.group?null:t.group.title),l(n,12,0,null==t.group?null:null==t.group.room?null:t.group.room.name),l(n,18,0,null==t.group?null:t.group.attendees.length,1===(null==t.group?null:t.group.attendees.length)?"":"s")})}var K=function(l){function n(n){var t=l.call(this)||this;return t._service=n,t}return Object(e.d)(n,l),n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(l){var n=this;l.visitor&&this.timeout("is_now",function(){var l=r(),t=r(n.visitor.group.date);n.is_now=l.add(5,"m").isBefore(t,"m")&&l.subtract(5,"m").isAfter(t,"m")},100)},Object.defineProperty(n.prototype,"status",{get:function(){var l=r(),n=r(this.visitor.group.date),t=n.add(this.visitor.group.duration,"m");return(this.visitor?"accepted"===this.visitor.state?l.isAfter(n,"m")?"collected":l.isAfter(t,"m")?"departed":"arrived":l.isAfter(n.add(5,"m"),"m")?"late":"":null)||""},enumerable:!0,configurable:!0}),n.prototype.addNotes=function(){this._service.Bookings.item(this.visitor.group.id)&&this._service.info("Not implemented.")},n.prototype.checkin=function(){var l=this,n=this.visitor.group;n?(this.processing="checkin",this._service.Visitors.checkin(this.visitor.group.id,{attendee_email:this.visitor.email,attendee_name:this.visitor.name,response_type:"accepted",room_id:n.room_id,host_email:n.host?n.host.email:"",icaluid:n.icaluid,booking_id:n.id,notify_users:n.notify_users,check_ins:n.booking.check_ins}).then(function(){l.visitor.state="accepted",l.processing=null},function(n){l._service.error("Error checking in user: "+n),l.processing=null})):this._service.error("No booking associated with visitor")},n.prototype.decline=function(){var l=this,n=this.visitor.group;n?(this.processing="decline",this._service.Visitors.checkin(this.visitor.group.id,{attendee_email:this.visitor.email,attendee_name:this.visitor.name,response_type:"declined",room_id:n.room_id,host_email:n.host?n.host.email:"",icaluid:n.icaluid,booking_id:n.id,notify_users:n.notify_users,check_ins:n.booking.check_ins}).then(function(){l.visitor.state="declined",l.processing=null},function(n){l._service.error("Error checking in user: "+n),l.processing=null})):this._service.error("No booking associated with visitor")},n}(u.a),T=i.sb({encapsulation:0,styles:[[".list-item[_ngcontent-%COMP%]{width:100%;height:4.5em;background-color:#fff;border-radius:8px;-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;overflow:hidden}.list-item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:4.5em;padding:.75em 1em;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.list-item.plus[_ngcontent-%COMP%], .list-item.plus[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{height:5.5em}.list-item[_ngcontent-%COMP%]   div.time[_ngcontent-%COMP%]{padding:.5em 1em 1.5em}.time[_ngcontent-%COMP%]{position:relative;background-color:#00adef;border-right:1px solid #fff;color:#fff;-webkit-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;min-width:6.5em}.status[_ngcontent-%COMP%]{position:absolute;height:2em;bottom:0;width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;text-transform:capitalize;font-size:.8em;background-color:#0377a8}.status.arrived[_ngcontent-%COMP%], .status.collected[_ngcontent-%COMP%]{background-color:#309b40}.status.late[_ngcontent-%COMP%]{background-color:#ff9800}.space[_ngcontent-%COMP%]{background-color:#00adef;border-right:1px solid #fff;color:#fff;width:22%;min-width:12em}.host[_ngcontent-%COMP%]{background-color:#f0f0f0;border-right:1px solid #ccc;width:22%;min-width:8em}span[_ngcontent-%COMP%]{font-weight:500}.text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}a.disabled[_ngcontent-%COMP%]{pointer-events:none}.actions[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;min-width:10em;-webkit-box-pack:end;justify-content:flex-end}btn[_ngcontent-%COMP%]   spinner[_ngcontent-%COMP%]{font-size:.25em}"]],data:{}});function H(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,1,"div",[["class","now"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["Now!"]))],null,null)}function Y(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["done"]))],null,null)}function N(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,1,"spinner",[["type","circle-ring"]],null,null,null,b.C,b.p)),i.tb(1,770048,null,0,M.P,[i.h],{type:[0,"type"]},null)],function(l,n){l(n,1,0,"circle-ring")},null)}function G(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,32,"div",[["class","list-item"]],[[2,"plus",null]],null,null,null,null)),(l()(),i.ub(1,0,null,null,6,"div",[["class","time"]],null,null,null,null,null)),(l()(),i.lb(16777216,null,null,1,null,H)),i.tb(3,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"]},null),(l()(),i.ub(4,0,null,null,1,"div",[["class","display"]],null,null,null,null,null)),(l()(),i.Mb(5,null,["",""])),(l()(),i.ub(6,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),i.Mb(7,null,["",""])),(l()(),i.ub(8,0,null,null,2,"div",[["class","space"]],[[8,"title",0]],null,null,null,null)),(l()(),i.ub(9,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),i.Mb(10,null,["",""])),(l()(),i.ub(11,0,null,null,4,"div",[["class","host"]],[[8,"title",0]],null,null,null,null)),(l()(),i.ub(12,0,null,null,3,"div",[["class","text"]],null,null,null,null,null)),(l()(),i.ub(13,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i.Mb(-1,null,["Host:"])),(l()(),i.Mb(15,null,["\xa0",""])),(l()(),i.ub(16,0,null,null,4,"div",[["class","user"]],[[8,"title",0]],null,null,null,null)),(l()(),i.ub(17,0,null,null,3,"div",[["class","text"]],null,null,null,null,null)),(l()(),i.ub(18,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),i.Mb(-1,null,["Guest:"])),(l()(),i.Mb(20,null,["\xa0",""])),(l()(),i.ub(21,0,null,null,11,"div",[["class","actions"]],null,null,null,null,null)),(l()(),i.ub(22,0,null,null,4,"a",[],[[8,"href",4],[2,"disabled",null]],null,null,null,null)),(l()(),i.ub(23,0,null,null,3,"btn",[["format","mini-action"],["klass","inverse"]],null,null,null,b.u,b.h)),i.tb(24,704512,null,0,M.c,[i.h],{klass:[0,"klass"],disabled:[1,"disabled"],format:[2,"format"]},null),(l()(),i.ub(25,0,null,0,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["email"])),(l()(),i.ub(27,0,null,null,5,"btn",[["format","mini-action"]],null,[[null,"tapped"]],function(l,n,t){var i=!0;return"tapped"===n&&(i=!1!==l.component.checkin()&&i),i},b.u,b.h)),i.tb(28,704512,null,0,M.c,[i.h],{klass:[0,"klass"],disabled:[1,"disabled"],format:[2,"format"]},{tapped:"tapped"}),(l()(),i.lb(16777216,null,0,1,null,Y)),i.tb(30,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"]},null),(l()(),i.lb(16777216,null,0,1,null,N)),i.tb(32,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,3,0,t.is_now),l(n,24,0,"inverse",!t.visitor.email||t.loading,"mini-action"),l(n,28,0,"accepted"===t.visitor.state?"success events-none":"checkin"===t.processing?"events-none":"inverse",t.loading||"decline"===t.processing||"declined"===t.visitor.state,"mini-action"),l(n,30,0,"checkin"!==t.processing),l(n,32,0,"checkin"===t.processing)},function(l,n){var t=n.component;l(n,0,0,t.is_now),l(n,5,0,null==t.visitor.group?null:null==t.visitor.group.display?null:t.visitor.group.display.arrival),l(n,6,0,"status "+t.status),l(n,7,0,t.status||"Upcoming"),l(n,8,0,null==t.visitor.group?null:null==t.visitor.group.room?null:t.visitor.group.room.name),l(n,10,0,null==t.visitor.group?null:null==t.visitor.group.room?null:t.visitor.group.room.name),l(n,11,0,"Host: "+(null==t.visitor.group?null:null==t.visitor.group.host?null:t.visitor.group.host.name)+"<"+(null==t.visitor.group?null:null==t.visitor.group.host?null:t.visitor.group.host.email)+">"),l(n,15,0,null==t.visitor.group?null:null==t.visitor.group.host?null:t.visitor.group.host.name),l(n,16,0,"Guest: "+t.visitor.name+"<"+t.visitor.email+">"),l(n,20,0,t.visitor.name),l(n,22,0,"mailto:"+t.visitor.email,!t.visitor.email)})}var q=t("gIcY"),V=t("ZYCi"),D=i.sb({encapsulation:0,styles:[[".visitor-list[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%;width:100%;overflow:hidden}header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:100%;padding:1em 1.5em}header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;height:1.2em;width:1.6em;padding-right:.4em}header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child{border-right:1px solid #ccc}.searchbar[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;width:100%;background-color:#fff;border-radius:8px;-webkit-box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);font-size:1.3em;padding:.75em}.searchbar[_ngcontent-%COMP%]:focus{outline:#000}input[_ngcontent-%COMP%]{background:0 0;border:none;outline:0;-webkit-box-flex:1;flex:1;font-size:.8em;margin:0 .75em}main[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;width:100%;-webkit-box-flex:1;flex:1;min-height:10em;background-color:#fff}ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none}li[_ngcontent-%COMP%]{padding:1em 1em .5em}.tab-group[_ngcontent-%COMP%]{position:relative;padding:1em 0 0;width:100%;display:-webkit-box;display:flex}.tab-group[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{position:relative;bottom:-1px;background-color:#f9f9f9;z-index:2;border:1px solid #ccc;border-bottom:none;padding:1em 1.5em;border-radius:8px 8px 0 0;margin-left:.5em;min-width:12em;text-align:center;color:rgba(0,0,0,.35);-webkit-transition:color .2s,background-color .2s;transition:color .2s,background-color .2s}.tab-group[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{color:rgba(0,0,0,.6);background-color:#f0f0f0}.tab-group[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{color:rgba(0,0,0,.85);background-color:#f9f9fa;z-index:4}.tab-group[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background-color:#f9f9fa;color:rgba(0,0,0,.85)}a[_ngcontent-%COMP%]{text-decoration:none;color:rgba(0,0,0,.85)}a[_ngcontent-%COMP%]:last-child   .tab[_ngcontent-%COMP%]{margin-right:.5em}.list-view[_ngcontent-%COMP%]{position:relative;border-top:1px solid #ccc;background-color:#f9f9fa;z-index:3;width:100%;-webkit-box-flex:1;flex:1;min-height:10em;overflow:auto}.loader[_ngcontent-%COMP%]{position:absolute;top:50%;right:1em;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:.5em}"]],data:{}});function J(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,2,"div",[["class","loader"]],null,null,null,null,null)),(l()(),i.ub(1,0,null,null,1,"spinner",[["color","#000"],["type","circle-ring"]],null,null,null,b.C,b.p)),i.tb(2,770048,null,0,M.P,[i.h],{type:[0,"type"],color:[1,"color"]},null)],function(l,n){l(n,2,0,"circle-ring","#000")},null)}function U(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),i.ub(1,0,null,null,1,"visitor-list-host-item",[],null,null,null,B,S)),i.tb(2,770048,null,0,I,[o.a],{group:[0,"group"]},null)],function(l,n){l(n,2,0,n.context.$implicit)},null)}function R(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),i.lb(16777216,null,null,1,null,U)),i.tb(2,278528,null,0,P.k,[i.S,i.O,i.u],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),i.lb(0,null,null,0))],function(l,n){var t=n.component;l(n,2,0,t.host_list.filtered,t.trackByFn)},null)}function W(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),i.lb(16777216,null,null,1,null,R)),i.tb(2,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(l,n){var t=n.component;l(n,2,0,t.host_list&&t.host_list.filtered&&t.host_list.filtered.length>0,i.Eb(n.parent,38))},null)}function X(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,2,"li",[],null,null,null,null,null)),(l()(),i.ub(1,0,null,null,1,"visitor-list-item",[],null,null,null,G,T)),i.tb(2,770048,null,0,K,[o.a],{visitor:[0,"visitor"]},null)],function(l,n){l(n,2,0,n.context.$implicit)},null)}function $(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),i.lb(16777216,null,null,1,null,X)),i.tb(2,278528,null,0,P.k,[i.S,i.O,i.u],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(l()(),i.lb(0,null,null,0))],function(l,n){var t=n.component;l(n,2,0,t.visitor_list.filtered,t.trackByFn)},null)}function Q(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),i.lb(16777216,null,null,1,null,$)),i.tb(2,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(l,n){var t=n.component;l(n,2,0,t.visitor_list&&t.visitor_list.filtered&&t.visitor_list.filtered.length>0,i.Eb(n.parent,38))},null)}function Z(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,5,"div",[["center",""],["class","no-item"]],null,null,null,null,null)),(l()(),i.ub(1,0,null,null,2,"div",[["class","icon"]],null,null,null,null,null)),(l()(),i.ub(2,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["close"])),(l()(),i.ub(4,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(l()(),i.Mb(5,null,[" No "," "," for "," "]))],null,function(l,n){var t=n.component;l(n,5,0,t.search_str?"matching":"","hosts"===t.active_view?"hosts":"visitors",t.date_display)})}function ll(l){return i.Ob(0,[i.Kb(402653184,1,{input:0}),(l()(),i.ub(1,0,null,null,37,"section",[["class","visitor-list"]],null,null,null,null,null)),(l()(),i.ub(2,0,null,null,10,"header",[["class","search"]],null,null,null,null,null)),(l()(),i.ub(3,0,null,null,9,"div",[["class","searchbar"],["tabindex","0"]],null,[[null,"focus"]],function(l,n,t){var i=!0;return"focus"===n&&(i=!1!==l.component.focus()&&i),i},null,null)),(l()(),i.ub(4,0,null,null,2,"div",[["class","icon"]],null,null,null,null,null)),(l()(),i.ub(5,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(l()(),i.Mb(-1,null,["search"])),(l()(),i.ub(7,0,[[1,0],["input",1]],null,5,"input",[["placeholder","Search for someone here..."]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var e=!0,u=l.component;return"input"===n&&(e=!1!==i.Eb(l,8)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==i.Eb(l,8).onTouched()&&e),"compositionstart"===n&&(e=!1!==i.Eb(l,8)._compositionStart()&&e),"compositionend"===n&&(e=!1!==i.Eb(l,8)._compositionEnd(t.target.value)&&e),"ngModelChange"===n&&(e=!1!==(u.search_str=t)&&e),"ngModelChange"===n&&(e=!1!==u.filter(t)&&e),e},null,null)),i.tb(8,16384,null,0,q.d,[i.G,i.k,[2,q.a]],null,null),i.Jb(1024,null,q.m,function(l){return[l]},[q.d]),i.tb(10,671744,null,0,q.r,[[8,null],[8,null],[8,null],[6,q.m]],{model:[0,"model"]},{update:"ngModelChange"}),i.Jb(2048,null,q.n,null,[q.r]),i.tb(12,16384,null,0,q.o,[[4,q.n]],null,null),(l()(),i.ub(13,0,null,null,24,"main",[["class",""]],null,null,null,null,null)),(l()(),i.ub(14,0,null,null,16,"div",[["class","tab-group"]],null,null,null,null,null)),(l()(),i.ub(15,0,null,null,6,"a",[["routerLink","/visitor-list/visitors"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==i.Eb(l,16).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),i.tb(16,671744,[[3,4]],0,V.n,[V.l,V.a,P.h],{routerLink:[0,"routerLink"]},null),i.tb(17,1720320,null,2,V.m,[V.l,i.k,i.G,i.h],{routerLinkActive:[0,"routerLinkActive"]},null),i.Kb(603979776,2,{links:1}),i.Kb(603979776,3,{linksWithHrefs:1}),(l()(),i.ub(20,0,null,null,1,"div",[["class","tab"]],null,null,null,null,null)),(l()(),i.Mb(21,null,["All visitors ",""])),(l()(),i.ub(22,0,null,null,6,"a",[["routerLink","/visitor-list/hosts"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==i.Eb(l,23).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),i.tb(23,671744,[[5,4]],0,V.n,[V.l,V.a,P.h],{routerLink:[0,"routerLink"]},null),i.tb(24,1720320,null,2,V.m,[V.l,i.k,i.G,i.h],{routerLinkActive:[0,"routerLinkActive"]},null),i.Kb(603979776,4,{links:1}),i.Kb(603979776,5,{linksWithHrefs:1}),(l()(),i.ub(27,0,null,null,1,"div",[["class","tab"]],null,null,null,null,null)),(l()(),i.Mb(28,null,["All hosts ",""])),(l()(),i.lb(16777216,null,null,1,null,J)),i.tb(30,16384,null,0,P.l,[i.S,i.O],{ngIf:[0,"ngIf"]},null),(l()(),i.ub(31,0,null,null,6,"div",[["class","list-view"]],null,null,null,null,null)),(l()(),i.ub(32,0,null,null,5,"div",[],null,null,null,null,null)),i.tb(33,16384,null,0,P.p,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),i.lb(16777216,null,null,1,null,W)),i.tb(35,278528,null,0,P.q,[i.S,i.O,P.p],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),i.lb(16777216,null,null,1,null,Q)),i.tb(37,16384,null,0,P.r,[i.S,i.O,P.p],null,null),(l()(),i.lb(0,[["no_items",2]],null,0,null,Z))],function(l,n){var t=n.component;l(n,10,0,t.search_str),l(n,16,0,"/visitor-list/visitors"),l(n,17,0,"active"),l(n,23,0,"/visitor-list/hosts"),l(n,24,0,"active"),l(n,30,0,t.loading),l(n,33,0,t.active_view),l(n,35,0,"hosts")},function(l,n){var t=n.component;l(n,7,0,i.Eb(n,12).ngClassUntouched,i.Eb(n,12).ngClassTouched,i.Eb(n,12).ngClassPristine,i.Eb(n,12).ngClassDirty,i.Eb(n,12).ngClassValid,i.Eb(n,12).ngClassInvalid,i.Eb(n,12).ngClassPending),l(n,15,0,i.Eb(n,16).target,i.Eb(n,16).href),l(n,21,0,t.date_display),l(n,22,0,i.Eb(n,23).target,i.Eb(n,23).href),l(n,28,0,t.date_display)})}function nl(l){return i.Ob(0,[(l()(),i.ub(0,0,null,null,1,"app-visitor-list",[],null,null,null,ll,D)),i.tb(1,245760,null,0,a,[o.a,V.a],null,null)],function(l,n){l(n,1,0)},null)}var tl=i.qb("app-visitor-list",a,nl,{},{},[]),il=t("t/Na"),el=t("tbE3"),ul=t("Fzqc"),ol=t("dWZg"),rl=t("qAlS"),sl=t("5UE1"),al=t("/VYK"),cl=t("Kitg"),bl=t("z3XH"),dl=t("gsSG"),pl=t("CDrs"),gl=t("y4qS"),fl=t("xQn8");t.d(n,"VisitorListModuleNgFactory",function(){return hl});var hl=i.rb(c,[],function(l){return i.Bb([i.Cb(512,i.j,i.fb,[[8,[b.a,b.g,b.d,b.e,b.f,b.t,b.G,b.H,b.b,b.c,d.a,p.a,g.a,f.a,h.a,m.a,v.a,x.a,w.a,k.a,_.a,C.a,O.a,y.a,tl]],[3,i.j],i.z]),i.Cb(4608,P.n,P.m,[i.w,[2,P.A]]),i.Cb(4608,q.x,q.x,[]),i.Cb(4608,q.e,q.e,[]),i.Cb(4608,il.i,il.o,[P.d,i.D,il.m]),i.Cb(4608,il.p,il.p,[il.i,il.n]),i.Cb(5120,il.a,function(l){return[l]},[il.p]),i.Cb(4608,il.l,il.l,[]),i.Cb(6144,il.j,null,[il.l]),i.Cb(4608,il.h,il.h,[il.j]),i.Cb(6144,il.b,null,[il.h]),i.Cb(4608,il.f,il.k,[il.b,i.s]),i.Cb(4608,il.c,il.c,[il.f]),i.Cb(1073742336,P.b,P.b,[]),i.Cb(1073742336,q.u,q.u,[]),i.Cb(1073742336,q.j,q.j,[]),i.Cb(1073742336,q.s,q.s,[]),i.Cb(1073742336,el.b,el.b,[]),i.Cb(1073742336,il.e,il.e,[]),i.Cb(1073742336,il.d,il.d,[]),i.Cb(1073742336,M.tb,M.tb,[]),i.Cb(1073742336,M.ub,M.ub,[]),i.Cb(1073742336,M.F,M.F,[]),i.Cb(1073742336,M.yb,M.yb,[]),i.Cb(1073742336,M.wb,M.wb,[]),i.Cb(1073742336,M.zb,M.zb,[]),i.Cb(1073742336,M.Ab,M.Ab,[]),i.Cb(1073742336,ul.a,ul.a,[]),i.Cb(1073742336,ol.b,ol.b,[]),i.Cb(1073742336,rl.g,rl.g,[]),i.Cb(1073742336,M.Bb,M.Bb,[]),i.Cb(1073742336,M.Cb,M.Cb,[]),i.Cb(1073742336,M.Db,M.Db,[]),i.Cb(1073742336,M.Eb,M.Eb,[]),i.Cb(1073742336,M.Fb,M.Fb,[]),i.Cb(1073742336,M.Hb,M.Hb,[]),i.Cb(1073742336,M.Ib,M.Ib,[]),i.Cb(1073742336,M.q,M.q,[]),i.Cb(1073742336,M.o,M.o,[]),i.Cb(1073742336,M.bb,M.bb,[]),i.Cb(1073742336,M.Jb,M.Jb,[]),i.Cb(1073742336,M.cb,M.cb,[]),i.Cb(1073742336,M.db,M.db,[]),i.Cb(1073742336,M.eb,M.eb,[]),i.Cb(1073742336,M.fb,M.fb,[]),i.Cb(1073742336,M.r,M.r,[]),i.Cb(1073742336,M.G,M.G,[]),i.Cb(1073742336,M.Y,M.Y,[]),i.Cb(1073742336,sl.b,sl.b,[]),i.Cb(1073742336,al.b,al.b,[]),i.Cb(1073742336,M.n,M.n,[]),i.Cb(1073742336,cl.a,cl.a,[]),i.Cb(1073742336,bl.b,bl.b,[]),i.Cb(1073742336,dl.e,dl.e,[]),i.Cb(1073742336,pl.c,pl.c,[]),i.Cb(1073742336,gl.m,gl.m,[]),i.Cb(1073742336,fl.a,fl.a,[]),i.Cb(1073742336,V.o,V.o,[[2,V.u],[2,V.l]]),i.Cb(1073742336,c,c,[]),i.Cb(256,il.m,"XSRF-TOKEN",[]),i.Cb(256,il.n,"X-XSRF-TOKEN",[]),i.Cb(1024,V.j,function(){return[[{path:":tab_id",component:a},{path:"**",redirectTo:"visitors"}]]},[])])})}}]);