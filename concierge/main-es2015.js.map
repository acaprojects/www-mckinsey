{"version":3,"sources":["./node_modules/moment/locale sync ^\\.\\/.*$","./src/$_lazy_route_resource lazy namespace object","./src/app/app.component.ts.AppComponent.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/app.routes.ts","./src/app/overlays/add-visitor-modal/add-visitor-modal.component.html","./src/app/overlays/add-visitor-modal/add-visitor-modal.component.ts","./src/app/overlays/attendee-modal/attendee-modal.template.html","./src/app/overlays/attendee-modal/attendee-modal.component.ts","./src/app/overlays/booking-modal/booking-details/booking-details.component.html","./src/app/overlays/booking-modal/booking-details/booking-details.component.ts","./src/app/overlays/booking-modal/booking-modal.template.html","./src/app/overlays/booking-modal/booking-modal.component.ts","./src/app/overlays/booking-modal/catering-details/catering-details.component.html","./src/app/overlays/booking-modal/catering-details/catering-details.component.ts","./src/app/overlays/booking-modal/equipment-details/equipment-details.component.html","./src/app/overlays/booking-modal/equipment-details/equipment-details.component.ts","./src/app/overlays/booking-modal/find-space/find-space.component.html","./src/app/overlays/booking-modal/find-space/find-space.component.ts","./src/app/overlays/booking-modal/find-space/space-item/space-item.component.html","./src/app/overlays/booking-modal/find-space/space-item/space-item.component.ts","./src/app/overlays/booking-modal/form/form.component.html","./src/app/overlays/booking-modal/form/form.component.ts","./src/app/overlays/booking-modal/index.ts","./src/app/overlays/calendar-modal/calendar-modal.template.html","./src/app/overlays/calendar-modal/calendar-modal.component.ts","./src/app/overlays/catering-details-overlay/catering-details-overlay.component.html","./src/app/overlays/catering-details-overlay/catering-details-overlay.component.ts","./src/app/overlays/catering-modal/catering-modal.template.html","./src/app/overlays/catering-modal/catering-modal.component.ts","./src/app/overlays/confirm-delete/confirm-delete.component.html","./src/app/overlays/confirm-delete/confirm-delete.component.ts","./src/app/overlays/confirm-modal/confirm-modal.component.html","./src/app/overlays/confirm-modal/confirm-modal.component.ts","./src/app/overlays/meeting-details-overlay/details-display/details-display.component.html","./src/app/overlays/meeting-details-overlay/details-display/details-display.component.ts","./src/app/overlays/meeting-details-overlay/meeting-details-overlay.template.html","./src/app/overlays/meeting-details-overlay/meeting-details-overlay.component.ts","./src/app/overlays/new-visitor-modal/new-visitor-modal.component.html","./src/app/overlays/new-visitor-modal/new-visitor-modal.component.ts","./src/app/overlays/overlays.module.ts","./src/app/overlays/private-details-modal/private-details-modal.component.html","./src/app/overlays/private-details-modal/private-details-modal.component.ts","./src/app/overlays/room-select-modal/room-select-modal.template.html","./src/app/overlays/room-select-modal/room-select-modal.component.ts","./src/app/overlays/user-details-overlay/user-details-overlay.template.html","./src/app/overlays/user-details-overlay/user-details-overlay.component.ts","./src/app/overlays/visitor-details-overlay/visitor-details-overlay.template.html","./src/app/overlays/visitor-details-overlay/visitor-details-overlay.component.ts","./src/app/services/app.service.ts","./src/app/services/data/analytics.service.ts","./src/app/services/data/base.service.ts","./src/app/services/data/bookings.service.ts","./src/app/services/data/bookingsreports.service.ts","./src/app/services/data/buildings.service.ts","./src/app/services/data/catering/catering-categories.service.ts","./src/app/services/data/catering/catering-category.class.ts","./src/app/services/data/catering/catering-item.class.ts","./src/app/services/data/catering/catering-items.service.ts","./src/app/services/data/catering/catering-menu.service.ts","./src/app/services/data/catering/catering-order.class.ts","./src/app/services/data/catering/catering.utilities.ts","./src/app/services/data/comments.service.ts","./src/app/services/data/contacts.service.ts","./src/app/services/data/location.service.ts","./src/app/services/data/reports.service.ts","./src/app/services/data/rooms.service.ts","./src/app/services/data/users.service.ts","./src/app/services/data/visitors.service.ts","./src/app/services/hotkey.service.ts","./src/app/services/settings.service.ts","./src/app/shared/components/avatar/avatar.template.html","./src/app/shared/components/avatar/avatar.component.ts","./src/app/shared/components/catering/category-list/category-list.component.html","./src/app/shared/components/catering/category-list/category-list.component.ts","./src/app/shared/components/catering/catering-order/catering-order.component.html","./src/app/shared/components/catering/catering-order/catering-order.component.ts","./src/app/shared/components/catering/catering.component.html","./src/app/shared/components/catering/catering.component.ts","./src/app/shared/components/catering/item-list/item-list.component.html","./src/app/shared/components/catering/item-list/item-list.component.ts","./src/app/shared/components/catering/item-list/list-item/list-item.component.html","./src/app/shared/components/catering/item-list/list-item/list-item.component.ts","./src/app/shared/components/catering/order-list/item/item.component.html","./src/app/shared/components/catering/order-list/item/item.component.ts","./src/app/shared/components/catering/order-list/order-list.component.html","./src/app/shared/components/catering/order-list/order-list.component.ts","./src/app/shared/components/custom-fields/cost-field/cost-field.component.html","./src/app/shared/components/custom-fields/cost-field/cost-field.component.ts","./src/app/shared/components/custom-fields/date-field/date-field.component.html","./src/app/shared/components/custom-fields/date-field/date-field.component.ts","./src/app/shared/components/custom-fields/dropdown-field/dropdown-field.component.html","./src/app/shared/components/custom-fields/dropdown-field/dropdown-field.component.ts","./src/app/shared/components/custom-fields/duration-field/duration-field.component.html","./src/app/shared/components/custom-fields/duration-field/duration-field.component.ts","./src/app/shared/components/custom-fields/editor-field/editor-field.component.html","./src/app/shared/components/custom-fields/editor-field/editor-field.component.ts","./src/app/shared/components/custom-fields/guest-settings-field/guest-settings-field.component.html","./src/app/shared/components/custom-fields/guest-settings-field/guest-settings-field.component.ts","./src/app/shared/components/custom-fields/index.ts","./src/app/shared/components/custom-fields/preference-field/preference-field.component.html","./src/app/shared/components/custom-fields/preference-field/preference-field.component.ts","./src/app/shared/components/custom-fields/recurrence-field/recurrence-field.component.html","./src/app/shared/components/custom-fields/recurrence-field/recurrence-field.component.ts","./src/app/shared/components/custom-fields/time-field/time-field.component.html","./src/app/shared/components/custom-fields/time-field/time-field.component.ts","./src/app/shared/components/custom-fields/user-list-field/user-list-field.component.html","./src/app/shared/components/custom-fields/user-list-field/user-list-field.component.ts","./src/app/shared/components/custom-fields/user-search-field/user-search-field.component.html","./src/app/shared/components/custom-fields/user-search-field/user-search-field.component.ts","./src/app/shared/components/custom-fields/week-field/week-field.component.html","./src/app/shared/components/custom-fields/week-field/week-field.component.ts","./src/app/shared/components/feedback/feedback.template.html","./src/app/shared/components/feedback/feedback.component.ts","./src/app/shared/components/icon/icon.component.html","./src/app/shared/components/icon/icon.component.ts","./src/app/shared/components/login/forgot-pass-form/forgot-pass-form.component.ts","./src/app/shared/components/login/index.ts","./src/app/shared/components/login/login-form/login-form.template.html","./src/app/shared/components/login/login-form/login-form.component.ts","./src/app/shared/components/login/login.template.html","./src/app/shared/components/login/login.component.ts","./src/app/shared/components/login/register-form/register-form.component.ts","./src/app/shared/components/searchbar/searchbar.template.html","./src/app/shared/components/searchbar/searchbar.component.ts","./src/app/shared/components/shared.module.ts","./src/app/shared/components/user-form/user-form.template.html","./src/app/shared/components/user-form/user-form.component.ts","./src/app/shared/components/user-search/index.ts","./src/app/shared/components/user-search/user-display/user-display.template.html","./src/app/shared/components/user-search/user-display/user-display.component.ts","./src/app/shared/components/user-search/user-list/user-list.template.html","./src/app/shared/components/user-search/user-list/user-list.component.ts","./src/app/shared/components/user-search/user-search.template.html","./src/app/shared/components/user-search/user-search.component.ts","./src/app/shared/components/user-tag/user-tag.template.html","./src/app/shared/components/user-tag/user-tag.component.ts","./src/app/shared/components/visitor-form/visitor-form.template.html","./src/app/shared/components/visitor-form/visitor-form.component.ts","./src/app/shared/directives/cdk-drop-list-scroll-container.directive.ts","./src/app/shared/globals/application.ts","./src/app/shared/globals/base.class.ts","./src/app/shared/globals/base.directive.ts","./src/app/shared/globals/custom-field-register.ts","./src/app/shared/mock/backend.mock.ts","./src/app/shared/mock/backend/base.mock.ts","./src/app/shared/mock/backend/bookings.mock.ts","./src/app/shared/mock/backend/buildings.mock.ts","./src/app/shared/mock/backend/catering.mock.ts","./src/app/shared/mock/backend/rooms.mock.ts","./src/app/shared/mock/backend/users.mock.ts","./src/app/shared/mock/index.ts","./src/app/shared/mock/system.mockup.ts","./src/app/shared/pipes/time.pipe.ts","./src/app/shared/utilities/booking.utilities.ts","./src/app/shared/utilities/formatting.utilities.ts","./src/app/shared/utilities/validation.utilities.ts","./src/app/shared/utility.class.ts","./src/app/shell/catering/catering.component.ts","./src/app/shell/catering/catering.module.ts","./src/app/shell/catering/overlays/category-modal/category-modal.component.html","./src/app/shell/catering/overlays/category-modal/category-modal.component.ts","./src/app/shell/catering/overlays/group-modal/group-modal.component.html","./src/app/shell/catering/overlays/group-modal/group-modal.component.ts","./src/app/shell/catering/overlays/item-modal/item-modal.component.html","./src/app/shell/catering/overlays/item-modal/item-modal.component.ts","./src/app/shell/components/sidebar-menu/sidebar-menu.template.html","./src/app/shell/components/sidebar-menu/sidebar-menu.component.ts","./src/app/shell/components/topbar-menu/topbar-menu.template.html","./src/app/shell/components/topbar-menu/topbar-menu.component.ts","./src/app/shell/notifications/notifications.template.html","./src/app/shell/notifications/notifications.component.ts","./src/app/shell/shell.template.html","./src/app/shell/shell.component.ts","./src/app/shell/week-view/booking-list/booking-list.template.html","./src/app/shell/week-view/booking-list/booking-list.component.ts","./src/app/shell/week-view/week-view.template.html","./src/app/shell/week-view/week-view.component.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","file":"main-es2015.js","sourcesContent":["var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","var map = {\n\t\"./shell/day-view/day-view.module.ngfactory\": [\n\t\t\"./src/app/shell/day-view/day-view.module.ngfactory.js\",\n\t\t\"shell-day-view-day-view-module-ngfactory\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","\n        <div class=\"app\">\n            <router-outlet></router-outlet>\n        </div>\n    ","import { Component, ViewContainerRef } from '@angular/core';\nimport { ViewEncapsulation } from '@angular/core';\nimport { OverlayService } from '@acaprojects/ngx-widgets';\nimport { UploadManager, Amazon, Md5Workers } from '@acaprojects/ngx-uploads';\nimport { ComposerService } from '@acaprojects/ngx-composer';\n\nimport { environment } from '../environments/environment';\nimport { BaseDirective } from './shared/globals/base.directive';\n\n@Component({\n    selector: 'app-root',\n    template: `\n        <div class=\"app\">\n            <router-outlet></router-outlet>\n        </div>\n    `,\n    styleUrls: [\n        './styles/application.styles.scss',\n        './styles/custom-element.styles.scss',\n        './styles/native-element.styles.scss'\n    ],\n    encapsulation: ViewEncapsulation.None\n})\nexport class AppComponent extends BaseDirective {\n    constructor(\n        private view: ViewContainerRef,\n        private uploads: UploadManager,\n        private _md5_workers: Md5Workers,\n        private _composer: ComposerService,\n        private _overlays: OverlayService\n    ) {\n        super();\n        this._overlays.view = view;\n        (window as any).app_loaded = true;\n        if (environment.production && 'serviceWorker' in navigator) {\n            navigator.serviceWorker\n                .getRegistration()\n                .then(active => !active && navigator.serviceWorker.register('ngsw-worker.js'))\n                .catch(console.error);\n        }\n        this._md5_workers.setup('assets/md5_worker.js');\n        this.initUploads();\n    }\n\n    private initUploads() {\n        this.subscription(\n            'composer',\n            this._composer.initialised.subscribe(state => {\n                if (state) {\n                    this.timeout('init_uploads', () => {\n                        const token = this._composer.auth.token;\n                        if (!token) {\n                            return setTimeout(() => this.initUploads(), 300);\n                        }\n                        this.uploads.token = token;\n                        this.uploads.autoStart = true;\n                        this.uploads.endpoint = '/api/staff/uploads';\n                        UploadManager.addProvider(Amazon);\n                    });\n                    this.unsub('composer');\n                }\n            })\n        );\n    }\n}\n","\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\n\nimport { ComposerModule } from '@acaprojects/ngx-composer';\nimport { WidgetsModule } from '@acaprojects/ngx-widgets';\n\nimport { OverlayComponentModule } from './overlays/overlays.module';\nimport { SharedComponentModule } from './shared/components/shared.module';\n\nimport { AppComponent } from './app.component';\nimport { APP_COMPONENTS, APP_ENTRY_COMPONENTS } from './shell';\nimport { ROUTES } from './app.routes';\nimport { environment } from '../environments/environment';\n\nimport './shared/mock';\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        ...APP_COMPONENTS,\n        ...APP_ENTRY_COMPONENTS\n    ],\n    imports: [\n        BrowserAnimationsModule,\n        BrowserModule,\n        RouterModule.forRoot(ROUTES, { useHash: true }),\n        HttpClientModule,\n        FormsModule,\n        ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production }),\n        WidgetsModule.forRoot(),\n        ComposerModule,\n        OverlayComponentModule,\n        SharedComponentModule,\n        DragDropModule\n    ],\n    providers: [ ],\n    entryComponents: [\n        ...APP_ENTRY_COMPONENTS,\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","\nimport { Routes } from '@angular/router';\n\nimport { AppShellComponent } from './shell/shell.component';\nimport { DayViewComponent } from './shell/day-view/day-view.component';\nimport { WeekViewComponent } from './shell/week-view/week-view.component';\nimport { AppNotificationsComponent } from './shell/notifications/notifications.component';\nimport { AppReportsComponent } from './shell/reports/reports.component';\n\nexport const ROUTES: Routes = [\n    { path: '', component: AppShellComponent, children: [\n        { path: 'day-view', loadChildren: './shell/day-view/day-view.module#DayViewModule' },\n        { path: 'week-view', component: WeekViewComponent },\n        { path: 'visitor-list', loadChildren: () => import('./shell/visitor-list/visitor-list.module').then(m => m.VisitorListModule) },\n        { path: 'catering', loadChildren: () => import('./shell/catering/catering.module').then(m => m.ConciergeCateringModule) },\n        { path: 'reports', loadChildren: () => import('./shell/reports/reports.module').then(m => m.ReportsModule) },\n        { path: 'notifications', component: AppNotificationsComponent },\n        { path: '**',      redirectTo: 'day-view' }\n    ] },\n    { path: '**',      redirectTo: 'day-view' }\n];\n","<header>\n    <div class=\"text\">Edit attendees</div>\n    <button mat-icon-button mat-dialog-close *ngIf=\"!loading\">\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <div class=\"body\" *ngIf=\"form && !loading; else loader\">\n        <div class=\"new-visitor\">\n            <div class=\"contents\">\n                <div class=\"field\">\n                    <label for=\"name\">Name</label>\n                    <div class=\"value\">\n                        <input name=\"name\" type=\"text\" [(ngModel)]=\"form.name\" placeholder=\"Visitor name\" />\n                    </div>\n                </div>\n                <div class=\"field\" [class.error]=\"form.email && !valid_email\">\n                    <label for=\"email\">Email</label>\n                    <div class=\"value\">\n                        <input\n                            name=\"email\"\n                            type=\"email\"\n                            [(ngModel)]=\"form.email\"\n                            (ngModelChange)=\"validateEmail()\"\n                            placeholder=\"Visitor email\"\n                        />\n                    </div>\n                </div>\n            </div>\n            <div class=\"footer\">\n                <button mat-button class=\"inverse\" [disabled]=\"!form.name && !form.email\" (touchrelease)=\"clearForm()\">\n                    Clear\n                </button>\n                <button mat-button [disabled]=\"!form.name && !form.email\" (touchrelease)=\"addVisitor()\">Add</button>\n            </div>\n        </div>\n        <div class=\"visitor-list\">\n            <div class=\"contents\">\n                <ng-container *ngIf=\"visitors && visitors.length > 0; else no_items\">\n                    <div class=\"item\" *ngFor=\"let item of visitors\">\n                        <div class=\"details\">\n                            <div class=\"name\">{{ item.name }}</div>\n                            <div class=\"email\">{{ item.email }}</div>\n                        </div>\n                        <button mat-icon-button *ngIf=\"!item.id\" (touchrelease)=\"removeVisitor(item.email)\">\n                            <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n                        </button>\n                    </div>\n                </ng-container>\n            </div>\n            <div class=\"footer\">\n                <button mat-button (touchrelease)=\"submit()\">Save</button>\n            </div>\n        </div>\n    </div>\n</mat-dialog-content>\n<ng-template #no_items>\n    <main>\n        <div class=\"no-item\" center>\n            <div class=\"icon\">\n                <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n            </div>\n            <div class=\"text\">\n                No visitors added\n            </div>\n        </div>\n    </main>\n</ng-template>\n<ng-template #loader>\n    <main>\n        <div class=\"no-item\" center>\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\" color=\"#000\"></spinner>\n            </div>\n            <div class=\"text\">\n                Processing request\n            </div>\n        </div>\n    </main>\n</ng-template>\n","import { Component, Inject, EventEmitter, Output } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { IUser } from '../../services/data/users.service';\nimport { Utils } from '../../shared/utility.class';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { AppService } from '../../services/app.service';\nimport { DialogEvent } from '../../shared/utilities/type.helpers';\n\nconst VALID_DOMAINS = ['@mckinsey.com', '@external.mckinsey.com', '@quantumblack.com'];\n\nexport interface AddVisitorModalData {\n    visitors: IUser[];\n}\n\n@Component({\n    selector: 'add-visitor-modal',\n    templateUrl: './add-visitor-modal.component.html',\n    styleUrls: ['./add-visitor-modal.component.scss']\n})\nexport class AddVisitorModalComponent extends BaseDirective {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of new visitors to add to the meeting */\n    public visitors: IUser[] = [];\n    /** Whether to user input email is valid */\n    public valid_email = false;\n    /** Whether there is already an visitor with the form email */\n    public valid_match = false;\n    /** Form parameters */\n    public form = { name: '', email: '' };\n    /** Count of the number of new users */\n    public new_users = 0;\n    /** Whether request is being processed */\n    public loading = false;\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: AddVisitorModalData,\n        private _service: AppService\n    ) {\n        super();\n        this.visitors = this._data.visitors || [];\n        this.new_users = this.visitors.reduce((n, i) => (!i.id ? ++n : n), 0);\n    }\n\n    /**\n     * Add new visitor with the given form values\n     */\n    public addVisitor() {\n        if (this.valid_email || !this.form.email) {\n            if (VALID_DOMAINS.findIndex(i => this.form.email.indexOf(i) >= 0) >= 0) {\n                return this._service.notifyError('Visitors email need to be on an external domain');\n            }\n            if (!this.form.email) {\n                this.form.email = `${Math.floor(Math.random() * 9999_9999)}@guest.mckinsey.com`;\n            }\n            this.form.email = this.form.email.toLowerCase();\n            if (!this.form.name) {\n                this.form.name = this.form.email\n                    .split('@')[0]\n                    .split('.')\n                    .join(' ')\n                    .split('_')\n                    .join(' ');\n            }\n            this.visitors.push(this.form as IUser);\n            this.form = { name: '', email: '' };\n            this.new_users = this.visitors.reduce((n, i) => (!i.id ? ++n : n), 0);\n            this.clearForm();\n        }\n    }\n\n    /**\n     * Remove visitor with the given email address\n     * @param email Email address of the user to remove\n     */\n    public removeVisitor(email: string) {\n        this.visitors = this.visitors.filter(i => i.email !== email);\n        this.new_users = this.visitors.reduce((n, i) => (!i.id ? ++n : n), 0);\n    }\n\n    /**\n     * Clear the form fields\n     */\n    public clearForm() {\n        this.form.name = '';\n        this.form.email = '';\n    }\n\n    /**\n     * Post new visitors to the parent component\n     */\n    public submit() {\n        this.loading = true;\n        this.event.emit({ reason: 'done' });\n    }\n\n    /**\n     * Validate the email address input by the user\n     */\n    public validateEmail() {\n        this.valid_match = false;\n        if (this.form.email) {\n            this.valid_email = Utils.validateEmail(this.form.email);\n            if (this.visitors.findIndex(i => i.email === this.form.email.toLowerCase()) >= 0) {\n                this.valid_match = true;\n                this.valid_email = false;\n            }\n        } else {\n            this.valid_email = false;\n        }\n    }\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Manage Attendees</div>\n        <button mat-icon-button mat-dialog-close>\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n        </button>\n    </div>\n    <div class=\"body\" *ngIf=\"form\">\n        <user-search [modal]=\"true\" [(users)]=\"form.attendees\" [host]=\"form.host\" (close)=\"event.emit({ reason: 'action' })\"></user-search>\n    </div>\n</div>\n","import { Component, Inject, Output, EventEmitter, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { HashMap, DialogEvent } from '../../shared/utilities/type.helpers';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { IUser } from '../../services/data/users.service';\n\nexport interface AttendeeModalData {\n    host: IUser;\n    attendees: IUser[];\n}\n\n@Component({\n    selector: 'attendee-modal',\n    templateUrl: './attendee-modal.template.html',\n    styleUrls: ['./attendee-modal.styles.scss'],\n})\nexport class AttendeeModalComponent extends BaseDirective implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form data */\n    public form: HashMap;\n\n    constructor(@Inject(MAT_DIALOG_DATA) private _data: AttendeeModalData) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.form = {};\n        this.form.host = this._data.host;\n        this.form.attendees = JSON.parse(JSON.stringify(this._data.attendees || []));\n    }\n}\n","<div class=\"catering-modal\">\n    <div class=\"body\">\n        <div class=\"image\" *ngIf=\"!loading\">\n            <img [alt]=\"success ? 'Confirmed' : 'Check details'\" [src]=\"success ? 'assets/img/confirmed.svg' : 'assets/img/edit.svg'\" />\n        </div>\n        <div class=\"details\" *ngIf=\"!loading\">Booking Details <span *ngIf=\"success\">Confirmed!</span></div>\n        <div class=\"form\" *ngIf=\"!loading; else loader\">\n            <div class=\"field\" [attr.field]=\"'host'\">\n                <label for=\"notes\">Booked by:</label>\n                <div class=\"value\">{{ host.name }}</div>\n            </div>\n            <div class=\"field\" [attr.field]=\"'date'\">\n                <label for=\"notes\">Date:</label>\n                <div class=\"value\">{{ date }}</div>\n            </div>\n            <div class=\"field\" [attr.field]=\"'period'\">\n                <label for=\"notes\">Period:</label>\n                <div class=\"value\">{{ form.all_day ? 'All Day' : (duration > 840 ? '1 Week' : period) }}</div>\n            </div>\n            <div class=\"field\" [attr.field]=\"'attendees'\">\n                <label for=\"notes\" (touchrelease)=\"show_attendees = !show_attendees\">\n                    Attendee{{ attendees.length === 1 ? '' : 's' }}({{ attendees.length || '0' }})\n                    <app-icon [icon]=\"{ class: 'material-icons', content: show_attendees ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}\"></app-icon>\n                </label>\n                <div class=\"value\" [@show]=\"show_attendees ? 'show' : 'hide'\">\n                    <div class=\"item\" *ngFor=\"let item of attendees\">\n                        <div class=\"name\">{{ item.name }}</div>\n                        <div class=\"email\">{{ item.email }}</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\" [attr.field]=\"'conferencing'\" *ngIf=\"conferencing\">\n                <label for=\"notes\">Conferencing:</label>\n                <div class=\"value\">{{ conferencing }}</div>\n            </div>\n            <div class=\"field\" [attr.field]=\"'rooms'\">\n                <label for=\"notes\" (touchrelease)=\"show_spaces = !show_spaces\">\n                    Space{{ spaces.length === 1 ? '' : 's' }}({{ spaces.length || '0' }})\n                    <app-icon [icon]=\"{ class: 'material-icons', content: show_spaces ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}\"></app-icon>\n                </label>\n                <div class=\"value\" [@show]=\"show_spaces ? 'show' : 'hide'\">\n                    <div class=\"item\" *ngFor=\"let item of spaces\">\n                        <div class=\"name\">{{ item.name }}</div>\n                    </div>\n                    <div class=\"item\" *ngIf=\"!spaces || spaces.length <= 0\">\n                        <div class=\"name\">No spaces selected</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\" *ngIf=\"notes\" [attr.field]=\"'notes'\">\n                <label for=\"spaces\" (touchrelease)=\"show_notes = !show_notes\">\n                    Space notes\n                    <app-icon [icon]=\"{ class: 'material-icons', content: show_notes ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}\"></app-icon>\n                </label>\n                <div class=\"value\" [@show]=\"show_notes ? 'show' : 'hide'\">\n                    <div class=\"item\" *ngFor=\"let item of notes\">\n                        <div class=\"name\">{{ item }}</div>\n                    </div>\n                    <div class=\"item\" *ngIf=\"!notes || notes.length <= 0\">\n                        <div class=\"name\">No space notes</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\" [attr.field]=\"'catering'\" *ngIf=\"catering\">\n                <label for=\"catering\" (touchrelease)=\"show_catering = !show_catering\">\n                    Catering ({{ item_count || '0' }} item{{ item_count === 1 ? '' : 's' }})\n                    <i class=\"material-icons\">{{ show_catering ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</i>\n                </label>\n                <div class=\"value\" [@show]=\"show_catering ? 'show' : 'hide'\">\n                    <ng-container *ngFor=\"let order of catering\">\n                        <div class=\"item\" *ngIf=\"order.item_count\">\n                            <div class=\"name\">{{ order.location }} at {{ order.deliver_at_time }}</div>\n                            <div class=\"email\">\n                                {{ order.item_count }} item{{ order.item_count === 1 ? '' : 's' }} |\n                                {{ (order.total || 0) / 100 | currency: order.symbol }}\n                            </div>\n                        </div>\n                    </ng-container>\n                    <div class=\"item\" *ngIf=\"!spaces || item_count <= 0\">\n                        <div class=\"name\">No catering</div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\" [attr.field]=\"'cost-codes'\" *ngIf=\"cost_codes\">\n                <label for=\"notes\">Charge Codes:</label>\n                <div class=\"value\">{{ cost_codes }}</div>\n            </div>\n        </div>\n    </div>\n</div>\n<ng-template #loader>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <spinner type=\"circle-ring\"></spinner>\n        </div>\n        <div class=\"text\">{{ check ? 'Checking room availability...' : 'Sending booking request...' }}</div>\n    </div>\n</ng-template>\n","\nimport { Component, ChangeDetectorRef, Input, SimpleChanges, OnChanges, Output, EventEmitter } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { trigger, state, style, animate, transition } from '@angular/animations';\n\nimport { AppService } from '../../../services/app.service';\n\nimport { IUser } from '../../../services/data/users.service';\nimport { IRoom } from '../../../services/data/rooms.service';\n\nimport * as dayjs from 'dayjs';\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { IBooking } from '../../../services/data/bookings.service';\nimport { CateringOrder } from '../../../services/data/catering/catering-order.class';\n\n@Component({\n    selector: 'booking-flow-details',\n    templateUrl: './booking-details.component.html',\n    styleUrls: ['./booking-details.component.scss'],\n    animations: [\n        trigger('show', [\n            state('show', style({ opacity: 1, height: '*' })),\n            state('hide', style({ opacity: 0, height: 0 })),\n            transition('show <=> hide', animate('200ms')),\n        ])\n    ]\n})\nexport class BookingDetailsComponent extends BaseDirective implements OnChanges {\n    @Input() public form: { [name: string]: any } = {};\n\n    @Input() public book: number;\n    /** Whether the booking is being editing for the whole flow */\n    @Input() public can_edit: boolean;\n    @Output() public event = new EventEmitter<boolean>();\n    /** Whether the booking request is being processed */\n    public loading: boolean;\n    /** Whether the room availability is being checked */\n    public check: boolean;\n    /** Whether the booking request succeeded */\n    public success: boolean;\n    /** Whether to show the list of spaces */\n    public show_spaces: boolean;\n    /** Whether to show the catering details */\n    public show_catering: boolean;\n    /** Whether to show the list of attendees */\n    public show_attendees: boolean;\n\n    constructor(private _service: AppService) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (this.form) {\n            if (this.form.time_group) {\n                this.form = { ...this.form, ...this.form.time_group };\n            }\n            if (this.form.period_group) {\n                this.form = { ...this.form, ...this.form.period_group };\n            }\n        }\n        if (changes.book) {\n            const now = dayjs();\n            if (this.book > now.valueOf()) {\n                this.makeBooking();\n            }\n        }\n    }\n\n    /** Host of the booking */\n    public get host(): IUser {\n        return this.form.host || {};\n    }\n\n    /** Length of the booking */\n    public get duration(): number {\n        return this.form.duration || 60;\n    }\n\n    /** Display date for the given booking */\n    public get date(): string {\n        const day = dayjs(this.form.date);\n        return day.format('DD MMM YYYY');\n    }\n\n    /** Display period for the given booking */\n    public get period(): string {\n        const day = dayjs(this.form.date);\n        const end = day.add(this.form.duration || 60, 'm');\n        return `${day.format('h:mm A')} - ${end.format('h:mm A')}`\n    }\n\n    /** List of attendees for the booking */\n    public get attendees(): IUser[] {\n        return this.form.attendees || [];\n    }\n\n    /** Display string for the names of the attendees */\n    public get attendee_list(): string {\n        return this.attendees.map(i => i.name).join(', ');\n    }\n\n    /** Conferencing details of the booking */\n    public get conferencing(): string {\n        return this.form.conference || '';\n    }\n\n    /** List of the selected rooms for the booking */\n    public get spaces(): IRoom[] {\n        return this.form.room || []\n    }\n\n    /** Display string for the names of the selected rooms */\n    public get space_list(): string {\n        return this.spaces.map(i => i.name).join(', ');\n    }\n\n    /** List of catering orders for booking */\n    public get catering(): CateringOrder[] {\n        if (!this.form.catering) {\n            return [];\n        }\n        return this.form.catering.map(order => new CateringOrder(order));\n    }\n\n    /** Total number of catering items in booking */\n    public get item_count(): number {\n        return this.catering.reduce((count, order) => count + order.item_count, 0);\n    }\n\n    /** Private notes for spaces and equipment */\n    public get notes(): string[] {\n        const notes = this.form.equipment;\n        const note_list = Object.keys(notes).reduce((a, v) => { a.push(notes[v]); return a; }, []);\n        return note_list;\n    }\n\n    /** Private notes for catering */\n    public get catering_notes(): string {\n        return this.form.catering_notes;\n    }\n\n    /** Cost codes for equipment and catering */\n    public get cost_codes(): string {\n        const equip_codes = this.form.equipment_code || {};\n        const eq_code_list = Object.keys(equip_codes).reduce((a, v) => { a.push(equip_codes[v]); return a; }, []);\n        const eq_codes = eq_code_list.join(', ');\n        const catering_codes = this.form.catering_code || {};\n        const code_list = Object.keys(catering_codes)\n            .filter(i => this.spaces.find(j => j.id === i))\n            .reduce((a, v) => { a.push(catering_codes[v]); return a; }, []);\n        const codes = code_list.join(', ');\n        return `${ eq_codes || 'none'} | ${codes || 'none'}`;\n    }\n\n    /**\n     * Perform pre-booking checks and send booking request if the pass\n     */\n    public makeBooking() {\n        const room_ids = this.spaces.map(i => i.id).join(',');\n        const date = this.form.all_day ? dayjs(this.form.date).startOf('d').valueOf() : this.form.date;\n        const duration = this.form.all_day ? 24 * 60 : this.form.duration || 60;\n        this.check = true;\n        this.loading = true;\n        if (room_ids) {\n            const setup = (this.item_count > 0) || this.notes ? 15 * 60 : 0;\n            const breakdown = (this.item_count > 0) || this.notes ? 15 * 60 : 0;\n            const ignore = this.form.icaluid;\n            this._service.Rooms.available({\n                room_ids,\n                date,\n                duration,\n                setup,\n                breakdown,\n                ignore\n            }).then((list) => {\n                this.check = false;\n                this.loading = false;\n                if (list.length === this.spaces.length) {\n                    this.sendBookingRequest();\n                } else {\n                    this.showError(setup, breakdown);\n                }\n            }, () => {\n                this.loading = false;\n                this.showError(setup, breakdown);\n            });\n        } else {\n            this.check = false;\n            this.loading = false;\n            this.sendBookingRequest();\n        }\n    }\n\n    /** Error Message if not available */\n    public showError(setup, breakdown) {\n        if (setup || breakdown) {\n            this._service.notifyError(\n                `Selected spaces are not free at the given time(${this.date} ${this.period}).\n                 Meetings with additional requirements or catering require a minimum buffer of 15 minutes outside the selected period.`\n            );\n        } else {\n            this._service.notifyError(`Selected spaces are not free at the given time(${this.date} ${this.period})`);\n        }\n        this.event.emit(false);\n    }\n\n    /**\n     * Send booking request to the server\n     */\n    public sendBookingRequest() {\n        this.loading = true;\n        const request = this.form.id && this.form.id !== 'map-booking'\n            ? this._service.Bookings.updateItem(this.form.id, this.form)\n            : this._service.Bookings.add(this.form);\n        request.then((booking: IBooking) => {\n            for (const room of this.form.room) {\n                this._service.Rooms.updateTimeline(room.id, [booking]);\n            }\n            this.loading = false;\n            this.success = true;\n            this.event.emit(true);\n            this._service.set('CONCIERGE.latest_booking', booking);\n        }, (e) => {\n            this.loading = false;\n            this._service.notifyError(`Booking Error: ${e}`);\n            this.event.emit(false);\n        })\n    }\n}\n\n","<header>\n    <div class=\"heading\">{{ form.id ? 'Edit': 'New' }} Meeting</div>\n    <button mat-icon-button *ngIf=\"!book\" (touchrelease)=\"close()\">\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <main>\n        <ng-container [ngSwitch]=\"page\">\n            <ng-container *ngSwitchCase=\"'space'\">\n                <booking-flow-find-space\n                    [dateField]=\"date_field\"\n                    [duration]=\"duration\"\n                    [all_day]=\"all_day\"\n                    [catering]=\"needs_catering\"\n                    [spaces]=\"space_list\"\n                    (event)=\"progress($event)\"\n                ></booking-flow-find-space>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"'equipment'\">\n                <booking-flow-equipment-details\n                    [spaces]=\"spaces\"\n                    [notes]=\"notes\"\n                    [costCode]=\"cost_code\"\n                    [expected]=\"expected_attendees\"\n                    [(valid)]=\"requirements_valid\"\n                ></booking-flow-equipment-details>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"'catering'\">\n                <catering-order-list\n                    *ngIf=\"!active_order\"\n                    [id]=\"id\"\n                    [spaces]=\"spaces\"\n                    [catering]=\"catering\"\n                    (order)=\"active_order = $event\"\n                    (event)=\"progress($event)\"\n                ></catering-order-list>\n                <catering-edit\n                    *ngIf=\"active_order\"\n                    [id]=\"id\"\n                    [spaces]=\"spaces\"\n                    [date]=\"date_field?.control.value\"\n                    [duration]=\"duration\"\n                    [order]=\"active_order\"\n                    [all_day]=\"all_day\"\n                    (event)=\"updateOrder(active_order); active_order = null\"\n                ></catering-edit>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"'catering-details'\">\n                <booking-flow-catering-details\n                    [spaces]=\"spaces\"\n                    [notes]=\"catering_notes\"\n                    [costCode]=\"catering_code\"\n                ></booking-flow-catering-details>\n            </ng-container>\n            <ng-container *ngSwitchCase=\"'details'\">\n                <booking-flow-details\n                    [can_edit]=\"can_edit\"\n                    [form]=\"form\"\n                    [book]=\"book\"\n                    (event)=\"book = false; success = $event\"\n                ></booking-flow-details>\n            </ng-container>\n            <ng-container *ngSwitchDefault>\n                <booking-flow-form [fields]=\"form_fields\"></booking-flow-form>\n            </ng-container>\n        </ng-container>\n    </main>\n</mat-dialog-content>\n<mat-dialog-actions *ngIf=\"!success && !book\">\n    <footer>\n        <button\n            *ngIf=\"page && page !== 'form' && (!edit_equipment || page !== 'equipment') && (!edit_catering || page !== 'catering')\"\n            mat-button\n            class=\"inverse\"\n            (touchrelease)=\"progress({ type: 'previous' })\"\n        >\n            Back\n        </button>\n        <button\n            *ngIf=\"page === 'details' && can_edit\"\n            mat-button\n            class=\"inverse\"\n            (touchrelease)=\"progress({ type: 'start' })\"\n        >\n            Edit\n        </button>\n        <button mat-button (touchrelease)=\"progress({ type: page === 'details' ? 'book' : 'next' })\">\n            {{ page === 'details' ? (form.id ? 'Save' : 'Create') : 'Continue' }}\n        </button>\n    </footer>\n</mat-dialog-actions>\n","import { Component, OnDestroy, OnInit, Inject } from '@angular/core';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { of } from 'rxjs';\n\nimport { AppService } from '../../services/app.service';\nimport { IRoom } from '../../services/data/rooms.service';\nimport { IBooking } from '../../services/data/bookings.service';\nimport { IUser } from '../../services/data/users.service';\n\nimport { generateBookingFormMetadata } from '../../shared/utilities/booking.utilities';\nimport { formatSpaces } from '../../shared/utilities/formatting.utilities';\nimport { CateringOrder } from '../../services/data/catering/catering-order.class';\nimport { BaseDirective } from '../../shared/globals/base.directive';\n\nimport * as dayjs from 'dayjs';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\nexport interface IBookingFlowEvent {\n    type: 'next' | 'previous';\n    data?: { [name: string]: any };\n}\n\nexport interface BookingModalData {\n    edit_catering?: boolean;\n    edit_equipment?: boolean;\n    booking?: IBooking;\n}\n\n@Component({\n    selector: 'booking-modal',\n    templateUrl: './booking-modal.template.html',\n    styleUrls: ['./booking-modal.styles.scss'],\n})\nexport class BookingModalComponent extends BaseDirective implements OnDestroy, OnInit {\n    /** Currently displayed page of the booking modal flow */\n    public page: 'form' | 'space' | 'equipment' | 'catering' | 'catering-details' | 'details';\n    /** Booking ID */\n    public id: string;\n    /** List of form fields associated with a booking */\n    public form_fields: ADynamicFormField[];\n    /** Form field for the selected date */\n    public date_field: ADynamicFormField;\n    /** Time of the last booking event */\n    public book: number;\n    /** Whether booking succeeded */\n    public success: boolean;\n    /** Whether requirements are valid */\n    public requirements_valid: boolean;\n\n    public active_order: CateringOrder;\n\n    public get edit_equipment(): boolean {\n        return !!this._data.edit_equipment;\n    }\n\n    public get edit_catering(): boolean {\n        return !!this._data.edit_catering;\n    }\n\n    constructor(\n        private _service: AppService,\n        @Inject(MAT_DIALOG_DATA) private _data: BookingModalData,\n        private _dialog_ref: MatDialogRef<BookingModalComponent>\n    ) {\n        super();\n        this._dialog_ref.disableClose = true;\n    }\n\n    public ngOnDestroy(): void {\n        super.ngOnDestroy();\n        localStorage.removeItem('CONCIERGE.booking.filters');\n    }\n\n    public ngOnInit(): void {\n        if (!this._service.ready()) {\n            return this.timeout('init', () => this.ngOnInit());\n        }\n        this.clearForm();\n    }\n\n    public get form() {\n        return this.formToBooking();\n    }\n\n    /** Form field for the list of selected spaces */\n    public get space_list(): ADynamicFormField {\n        const field = this.form_fields.find(i => i.key === 'room');\n        return field;\n    }\n\n    /** Form field for listing selected catering items */\n    public get catering() {\n        return this.form_fields.find(i => i.key === 'catering');\n    }\n\n    /** Form field for listing number of expected attendees for each space */\n    public get expected_attendees() {\n        return this.form_fields.find(i => i.key === 'expected_attendees');\n    }\n\n    /** Form field for equipment notes */\n    public get notes() {\n        return this.form_fields.find(i => i.key === 'equipment');\n    }\n\n    /** Form field for catering notes */\n    public get catering_notes() {\n        return this.form_fields.find(i => i.key === 'catering_notes');\n    }\n\n    /** Form field for catering cost code */\n    public get catering_code() {\n        return this.form_fields.find(i => i.key === 'catering_code');\n    }\n\n    /** Form field for equipment cost code */\n    public get cost_code() {\n        return this.form_fields.find(i => i.key === 'equipment_code');\n    }\n\n    /** Whether the form is valid */\n    public get valid(): boolean {\n        return this.form_fields.reduce((a, v) => {\n            const valid = v.children && v.children.length > 0\n                ? v.children.reduce((r, i) => r && (i.isValid() || !i.required || i.disabled), true)\n                : (v.isValid() || !v.required || v.disabled);\n            return a && valid;\n        }, true);\n    }\n\n    /** List of selected rooms for the booking */\n    public get spaces(): IRoom[] {\n        const field = this.space_list;\n        if (field) {\n            return field.control.value || [];\n        }\n        return [];\n    }\n\n    /** Datetime selected for the booking */\n    public get date(): number {\n        const field = this.form_fields.find(i => i.key === 'date');\n        if (field) {\n            return field.control.value;\n        }\n        return dayjs()\n            .startOf('m')\n            .valueOf();\n    }\n\n    /** Whether booking is all day */\n    public get all_day(): boolean {\n        const field = this.form_fields.find(i => i.key === 'all_day');\n        return field ? field.control.value : false;\n    }\n\n    /** Selected duration for the booking */\n    public get duration(): number {\n        let field: any = this.form_fields.find(i => i.key === 'duration');\n        if (field) {\n            return field.control.value;\n        }\n        field = this.form_fields.find(i => i.key === 'time_group');\n        if (field) {\n            return field.control.controls.duration.value;\n        }\n        return 60;\n    }\n\n    public set duration(number) {\n        let field: any = this.form_fields.find(i => i.key === 'duration') || this.form_fields.find(i => i.key === 'time_group');\n        if (field) {\n            field.setValue(number);\n        }\n    }\n\n    /** Whether the booking is being editing for the whole flow */\n    public get can_edit(): boolean {\n        return !this._data.edit_catering && !this._data.edit_equipment;\n    }\n\n    /** Whether the user want to add catering to their booking */\n    public get needs_catering(): boolean {\n        const empty = { control: { value: {} } };\n        const catering: boolean = (this.form_fields.find(i => i.key === 'needs_catering') || empty).control.value;\n        return catering;\n    }\n\n    /** Number of items in the catering order */\n    public get has_ordered(): number {\n        const empty = { control: { value: [] } };\n        const order_list: CateringOrder[] = (this.form_fields.find(i => i.key === 'catering') || empty).control.value;\n        return order_list ? order_list.reduce((count, order) => count + order.item_count, 0) : 0;\n    }\n\n    /** Type of booking */\n    public get type(): string {\n        const empty = { control: { value: {} } };\n        const type = ((this.form_fields || []).find(i => i.key === 'booking_type') || empty).control.value || '';\n        const attendees = ((this.form_fields || []).find(i => i.key === 'attendees') || empty).control.value || [];\n        const booking_type = typeof type === 'string' ? type : type.id;\n        if (\n            attendees &&\n            attendees.length > 0 &&\n            attendees.some(i => i.external) &&\n            booking_type === 'internal'\n        ) {\n            return 'external';\n        }\n        return booking_type;\n    }\n\n    public close(): void {\n        this._dialog_ref.close();\n    }\n\n    /**\n     * Store changes to the order\n     * @param order\n     */\n    public updateOrder(order: CateringOrder) {\n        let order_list: CateringOrder[] = this.catering.getValue() || [];\n        const index = order_list.findIndex(c_order => c_order.id === order.id);\n        const new_item_count = order.changes && order.changes.items\n            ? order.changes.items.reduce(\n                  (count, item) => count + (item.amount || 0),\n                  0\n              )\n            : order.item_count;\n        if (new_item_count > 0) {\n            if (index < 0) {\n                order_list.push(new CateringOrder(order.toJSON(true)));\n            } else {\n                order_list.splice(index, 1, new CateringOrder(order.toJSON(true)));\n            }\n        } else {\n            if (index >= 0) {\n                order_list.splice(index, 1);\n            }\n        }\n        order_list = order_list.map(an_order => new CateringOrder({ ...an_order, booking_date: this.date }));\n        this.catering.control.setValue(order_list || []);\n    }\n\n    /**\n     * Progress to the next step in the flow\n     */\n    public progress(event: IBookingFlowEvent) {\n        const empty = { control: { value: true } };\n        const catering = (this.form_fields.find(i => i.key === 'needs_catering') || empty).control.value;\n        const space = (this.form_fields.find(i => i.key === 'needs_space') || empty).control.value;\n        const id = (this.form_fields.find(i => i.key === 'id') || empty).control.value;\n        this.id = id || !space ? '10' : '';\n        if (event.type === 'next') {\n            switch (this.page) {\n                case 'catering':\n                    if (this.active_order) {\n                        this.updateOrder(this.active_order);\n                        this.active_order = null;\n                    }\n                    this.page = this.has_ordered > 0 ? 'catering-details' : 'details';\n                    break;\n                case 'space':\n                    if (this.spaces.length > 0) {\n                        this.page = 'equipment'\n                    } else {\n                        this._service.notifyError('No meeting space has been selected');\n                    }\n                    break;\n                case 'equipment':\n                    this.requirements_valid = Math.random() as any;\n                    this.timeout('validate_requirements', () => {\n                        console.log(this.requirements_valid);\n                        if (this.requirements_valid === true) {\n                            this.page = catering ? 'catering' : 'details';\n                        }\n                    });\n                    break;\n                case 'catering-details':\n                    this.page = 'details';\n                    break;\n                default:\n                    this.form_fields.forEach(i => i.control.markAsDirty());\n                    if (this.valid) {\n                        if (space && !id) {\n                            this.page = 'space';\n                        } else if (space && id) {\n                            this.page = 'equipment';\n                        } else if (space && catering) {\n                            this.page = 'catering';\n                        } else {\n                            this.page = 'details';\n                        }\n                    } else {\n                        this._service.notifyError('Some of the form fields are invalid');\n                    }\n                    break;\n            }\n        } else if (event.type === 'previous') {\n            switch (this.page) {\n                case 'catering':\n                    this.page = (id || !space) ? 'form' : 'space';\n                    break;\n                case 'equipment':\n                    this.page = 'space';\n                    break;\n                case 'catering-details':\n                    this.page = 'catering';\n                    break;\n                case 'details':\n                    this.page = space ? ((catering || this._data.edit_catering) ? (this.has_ordered > 0 ? 'catering-details' : 'catering') : 'equipment') : 'form';\n                    break;\n                case 'space':\n                    this.page = 'form';\n                    break;\n                default:\n                    this._service.navigate(['home']);\n                    break;\n            }\n        } else if (event.type === 'start') {\n            this.page = 'form';\n        } else if (event.type === 'book') {\n            this.book = dayjs().add(1, 'm').startOf('m').valueOf();\n        }\n    }\n\n    /**\n     * Clear any form data\n     */\n    private clearForm() {\n        if (localStorage) {\n            localStorage.removeItem('CONCIERGE.booking_form');\n        }\n        this.loadForm();\n    }\n\n    /**\n     * Load old form data and intialise the form\n     */\n    private loadForm() {\n        let booking: any = {};\n        if (Object.keys(booking).length <= 0) {\n            booking = this._data.booking || {};\n        }\n        if (this._data.edit_catering) {\n            this.page = 'catering';\n        } else if (this._data.edit_equipment) {\n            this.page = 'equipment';\n        }\n        this.form_fields = generateBookingFormMetadata(\n            booking as IBooking,\n            this._service.Settings.get('app.booking.fields'),\n            this._service\n        );\n        this.date_field = this.form_fields\n            .reduce((v, i) => v.concat(i.children && i.children.length ? i.children : [i]), [])\n            .find(i => i.key === 'date');\n        const CUSTOM_FIELDS = ['room', 'catering', 'equipment', 'catering_notes', 'catering_code', 'equipment_code', 'id'];\n        const CUSTOM_DEFAULTS = [[], [], '', '', '', '', ''];\n        CUSTOM_FIELDS.forEach((key, i) => {\n            this.form_fields.push(new ADynamicFormField({\n                key,\n                label: key === 'room' ? 'Select Spaces' : key,\n                type: 'action',\n                format: key === 'room' ? formatSpaces : null,\n                hide: !(key === 'room' && booking.id),\n                value: booking[key] || CUSTOM_DEFAULTS[i]\n            }));\n            this.form_fields.sort((a, b) => a.key === 'room' ? -1 : (b.key === 'room' ? 1 : 0));\n        });\n        this.form_fields.forEach(i => {\n            if (i.children && i.children.length) {\n                i.children.forEach(j => {\n                    this.subscription(`booking-${j.key}`, j.control.valueChanges.subscribe(v => {\n                        if (v && j.control.valid) { this.saveForm(); }\n                    }));\n                });\n            } else {\n                this.subscription(`booking-${i.key}`, i.control.valueChanges.subscribe(v => {\n                    if (v && i.control.valid) { this.saveForm(); }\n                }));\n            }\n        });\n        const empty = { control: { value: true, valueChanges: of(false) } };\n        const id = (this.form_fields.find(i => i.key === 'id') || empty).control.value;\n        const time = (this.form_fields.find(i => i.key === 'start') || empty);\n        const duration = (this.form_fields.find(i => i.key === 'duration') || empty);\n        const all_day = (this.form_fields.find(i => i.key === 'all_day') || empty);\n        (time as ADynamicFormField).setDisabled(this.duration > 720);\n        this.subscription(`all_day`, all_day.control.valueChanges.subscribe((state) => {\n            if (!state && this.duration === 60 * 24) {\n                this.duration = 60;\n            }\n            (time as ADynamicFormField).setDisabled(this.duration > 720 || state);\n        }));\n        this.subscription(`duration`, duration.control.valueChanges.subscribe((duration: any) => {\n            (time as ADynamicFormField).setDisabled(duration > 720);\n        }));\n        this.id = id ? '10' : '';\n    }\n\n    /**\n     * Save changes to the form data\n     */\n    private saveForm() {\n        this.timeout('save_form', () => {\n            const form = this.formToBooking();\n            if (localStorage) {\n                localStorage.setItem('CONCIERGE.booking_form', JSON.stringify(form));\n            }\n        });\n    }\n\n    /**\n     * Convert form field data to a Booking object\n     */\n    private formToBooking(): IBooking {\n        return (this.form_fields || []).reduce((v, i) => {\n            if (i.children && i.children.length) {\n                i.children.forEach(j => (v[j.key] = j.control.value));\n            } else {\n                v[i.key] = i.control.value;\n            }\n            return v;\n        }, {}) as IBooking;\n    }\n\n    /**\n     * Get list of users available to select as the meeting host\n     */\n    private getHostOptions(): IUser[] {\n        const user = this._service.Users.current();\n        const list: IUser[] = [user];\n        if (user.delegates) {\n            for (const email of user.delegates) {\n                const delegate = this._service.Users.item(email);\n                if (delegate) {\n                    list.push(delegate);\n                } else {\n                    this.timeout(`load_user|${email}`, () =>\n                        this._service.Users.show(email, { update: true }).then(() => {\n                            this.timeout('update_host_options', () => {\n                                const host = this.form_fields.find(i => i.key === 'host');\n                                if (host) {\n                                    host.metadata = { service: this._service.Bookings, options: this.getHostOptions() };\n                                    host.setValue(host.getValue());\n                                }\n                            });\n                        })\n                    );\n                }\n            }\n        }\n        return list;\n    }\n}\n","<div class=\"catering-modal\">\n    <div class=\"header\">\n        <div class=\"room-list\">\n            <div\n                class=\"item\"\n                *ngFor=\"let item of spaces\"\n                [class.active]=\"active_space === item.id\"\n                [title]=\"item.name\"\n                (touchrelease)=\"active_space = item.id\"\n            >\n                <div class=\"text\">{{ item.name }}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"body\">\n        <div class=\"image\">\n            <img src=\"assets/img/food-notes.svg\" />\n        </div>\n        <div class=\"details\">\n            Please specify any allergies or gluten intolerances\n        </div>\n        <div class=\"form\">\n            <div class=\"field\">\n                <label for=\"notes\">(eg - allergies, in tolerances, no ice in drinks etc) Additional requests are handled in confidence.</label>\n                <textarea name=\"notes\" [(ngModel)]=\"notes[active_space]\" placeholder=\"Add notes here...\"></textarea>\n            </div>\n            <div class=\"field\">\n                <label for=\"cost-code\">Charge code</label>\n                <input name=\"cost-code\" [(ngModel)]=\"cost_code[active_space]\" placeholder=\"Charge code\" />\n            </div>\n        </div>\n        <div class=\"info\"><span>Note:</span> Your booking will be confirmed before you are charged.</div>\n    </div>\n</div>\n","\nimport { Component, OnInit, Input, SimpleChanges, OnChanges } from '@angular/core';\n\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { IRoom } from '../../../services/data/rooms.service';\n\n@Component({\n    selector: 'booking-flow-catering-details',\n    templateUrl: './catering-details.component.html',\n    styleUrls: ['./catering-details.component.scss']\n})\nexport class BookingCateringDetailsModalComponent extends BaseDirective implements OnChanges {\n    @Input('spaces') public spaces: IRoom[];\n    @Input('notes') public _notes: ADynamicFormField;\n    @Input('costCode') public _cost_code: ADynamicFormField;\n    /** ID of the active space */\n    public active_space: string = 'default';\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.spaces && this.spaces && this.spaces.length > 0) {\n            const space = this.spaces.find(i => i.id === this.active_space);\n            if (!space) {\n                this.active_space = this.spaces[0].id;\n            }\n        }\n    }\n\n    /** Catering notes for the meeting */\n    public get notes(): { [space_id: string]: string } {\n        if (this._notes && this._notes.control) {\n            const value = this._notes.control.value;\n            if (!value) {\n                this._notes.setValue({});\n            }\n            return this._notes.control.value;\n        }\n        return {};\n    }\n\n    /** Catering cost code for the meeting */\n    public get cost_code(): { [space_id: string]: string } {\n        if (this._cost_code && this._cost_code.control) {\n            const value = this._cost_code.control.value;\n            if (!value) {\n                this._cost_code.setValue({});\n            }\n            return this._cost_code.control.value;\n        }\n        return {};\n    }\n}\n\n","<div class=\"equipment\">\n    <div class=\"header\">\n        <div class=\"room-list\">\n            <div\n                class=\"item\"\n                *ngFor=\"let item of spaces\"\n                [class.active]=\"active_space === item.id\"\n                [class.error]=\"errors[item.id]\"\n                [title]=\"item.name\"\n                (touchrelease)=\"active_space = item.id\"\n            >\n                <div class=\"text\">{{ item.name }}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"body\">\n        <div class=\"image\">\n            <img src=\"assets/img/equipment.svg\" />\n        </div>\n        <div class=\"details\">\n            Would you like to add equipment to your room booking?\n        </div>\n        <div class=\"form\">\n            <div class=\"field\" *ngIf=\"notes\">\n                <label for=\"notes\">\n                    (eg - particular room configurations or specific equipment etc)\n                    Additional requests are handled in confidence\n                </label>\n                <textarea name=\"notes\" [(ngModel)]=\"notes[active_space]\" placeholder=\"Add notes here...\"></textarea>\n            </div>\n            <div class=\"fieldset\">\n                <div class=\"field\" *ngIf=\"cost_code\" [class.error]=\"errors[active_space]?.charge_code\">\n                    <label for=\"cost-code\">Charge code<span *ngIf=\"requires_code\">*</span></label>\n                    <input name=\"cost-code\" [(ngModel)]=\"cost_code[active_space]\" placeholder=\"Charge code\" />\n                    <div class=\"info\"><span>Note:</span> Your booking will be confirmed before you are charged.</div>\n                </div>\n                <div class=\"field\" *ngIf=\"expected_attendees\" [class.error]=\"errors[active_space]?.expected_attendees\">\n                    <label for=\"expected-attendees\">Headcount Estimate<span>*</span></label>\n                    <input name=\"expected-attendees\" type=\"tel\" [(ngModel)]=\"expected_attendees[active_space]\" placeholder=\"Expected Attendees\" />\n                    <div class=\"info\"><span>Note:</span> This estimate is used to calculate catering and/or assign rooms. Please keep updated of any changes.</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"error-info\" *ngIf=\"has_errors\">Required fields are missing</div>\n    </div>\n</div>\n","\nimport { Component, OnInit, Input, SimpleChanges, OnChanges, Output, EventEmitter } from '@angular/core';\n\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { IRoom } from '../../../services/data/rooms.service';\nimport { IBuilding } from '../../../services/data/buildings.service';\nimport { AppService } from '../../../services/app.service';\n\n@Component({\n    selector: 'booking-flow-equipment-details',\n    templateUrl: './equipment-details.component.html',\n    styleUrls: ['./equipment-details.component.scss']\n})\nexport class BookingEquipmentDetailsComponent extends BaseDirective implements OnChanges {\n    @Input('spaces') public spaces: IRoom[];\n    @Input('notes') public _notes: ADynamicFormField;\n    @Input('costCode') public _cost_code: ADynamicFormField;\n    @Input('expected') public _expected: ADynamicFormField;\n    /** Whether form fields is valid */\n    @Input() public valid: boolean;\n    /** Emitter for valid state of the form fields */\n    @Output() public validChange = new EventEmitter<boolean>();\n    /** ID of the active space */\n    public active_space: string = 'default';\n    /** Mapping of spaces to form errors */\n    public errors: { [space_id: string]: { charge_code: boolean, expected_attendees: boolean } } = {};\n\n    constructor(private _service: AppService) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.spaces && this.spaces && this.spaces.length > 0) {\n            const space = this.spaces.find(i => i.id === this.active_space);\n            if (!space) {\n                this.active_space = this.spaces[0].id;\n                this.initValues();\n            }\n            this.clearPastValues();\n        }\n        if (changes.valid && this.valid) {\n            this.timeout('validate', () => {\n                this.isValid()\n                    ? this.validChange.emit(true)\n                    : this.updateErrors();\n            }, 10);\n        }\n    }\n\n    /** Inititalise form with the first value in each object */\n    public initValues() {\n        if (this.notes && !this.notes[this.active_space]) {\n            this._notes.setValue({ [this.active_space]: Object.values(this._notes.control.value)[0] });\n        }\n        if (this.cost_code && !this.cost_code[this.active_space]) {\n            this._cost_code.setValue({ [this.active_space]:  Object.values(this._cost_code.control.value)[0] });\n        }\n        if (this.expected_attendees && !this.expected_attendees[this.active_space]) {\n            this._expected.setValue({ [this.active_space]: Object.values(this._expected.control.value)[0] });\n        }\n    }\n\n    /** Clear past values */\n    public clearPastValues() {\n        const spaces_id = this.spaces.map(i => i.id);\n        Object.keys(this.expected_attendees).forEach(id => {\n            let expected_attendees = this.expected_attendees;\n            let cost_codes = this.cost_code;\n            let notes = this.notes;\n            if (!spaces_id.includes(id)) {\n                delete expected_attendees[id];\n                delete cost_codes[id];\n                delete notes[id];\n                this._notes.setValue(notes);\n                this._cost_code.setValue(cost_codes);\n                this._expected.setValue(expected_attendees);\n            }\n        });\n    }\n\n    /** Whether form has errors */\n    public get has_errors(): boolean {\n        return Object.keys(this.errors).length > 0;\n    }\n\n    /** Equipment notes for the meeting */\n    public get notes(): { [space_id: string]: string } {\n        if (this._notes && this._notes.control) {\n            const value = this._notes.control.value;\n            if (!value) {\n                this._notes.setValue({});\n            }\n            return this._notes.control.value;\n        }\n        return {};\n    }\n\n    /** Equipment cost code for the meeting */\n    public get cost_code(): { [space_id: string]: string } {\n        if (this._cost_code && this._cost_code.control) {\n            const value = this._cost_code.control.value;\n            if (!value) {\n                this._cost_code.setValue({});\n            }\n            return this._cost_code.control.value;\n        }\n        return {};\n    }\n\n    /** Expected number of attendees for spaces */\n    public get expected_attendees(): { [space_id: string]: number } {\n        if (this._expected && this._expected.control) {\n            const value = this._expected.control.value;\n            if (!value) {\n                this._expected.setValue({});\n            }\n            return this._expected.control.value;\n        }\n        return {};\n    }\n\n    /** Whether the active space requires a charge code */\n    public get requires_code(): boolean {\n        return this.isCodeRequired(this.active_space);\n    }\n\n    /**\n     * Update form errors\n     */\n    private updateErrors() {\n        this.errors = {};\n        return this.spaces.forEach((space) => {\n            const code_error = this.isCodeRequired(space.id) && !this.cost_code[space.id];\n            const attendee_error = !this.expected_attendees[space.id];\n            if (code_error || attendee_error) {\n                this.errors[space.id] = {\n                    charge_code: code_error,\n                    expected_attendees: attendee_error\n                };\n            }\n        });\n    }\n\n    /**\n     * Whether current state of the form is valid for the selected spaces\n     */\n    private isValid(): boolean {\n        return this.spaces.reduce((valid, space) => {\n            return (\n                valid &&\n                (!this.isCodeRequired(space.id) || !!this.cost_code[space.id]) &&\n                !!this.expected_attendees[space.id]\n            );\n        }, true);\n    }\n\n\n    /**\n     * Whether the given space requires a charge code\n     * @param space_id ID of the space to check\n     */\n    private isCodeRequired(space_id: string) {\n        const bld = this.buildingForSpace(space_id);\n        if (!bld) {\n            return false;\n        }\n        return bld.required.equipment_code;\n    }\n\n    /**\n     * Get the building for the space with the given ID\n     * @param space_id ID of the space to check\n     */\n    private buildingForSpace(space_id: string): IBuilding {\n        const space = this.spaces.find(space => space.id === space_id);\n        if (!space || !space.level) {\n            return null;\n        }\n        return this._service.Buildings.get(space.level.bld_id);\n    }\n}\n\n","<div class=\"find-space\">\n    <div class=\"header\">\n        <div class=\"location-select\">\n            <custom-dropdown klass=\"options\" [(show)]=\"show\" [content]=\"content\" [template]=\"list\">\n                <ng-template #content>\n                    <div class=\"dropdown-header\" (touchrelease)=\"show = !show\">\n                        <div class=\"image\">\n                            <img src=\"assets/img/location-img.svg\" />\n                        </div>\n                        <div class=\"text\">Select location(s)</div>\n                        <app-icon\n                            [icon]=\"{\n                                class: 'material-icons',\n                                content: show ? 'keyboard_arrow_up' : 'keyboard_arrow_down'\n                            }\"\n                        ></app-icon>\n                    </div>\n                </ng-template>\n                <ng-template #list>\n                    <div class=\"item-list\">\n                        <ng-container *ngIf=\"locations && locations.length > 0\">\n                            <cdk-virtual-scroll-viewport\n                                [itemSize]=\"40\"\n                                [style.height]=\"(locations.length < 6 ? locations.length : 6) * 40 + 'px'\"\n                            >\n                                <ng-container *cdkVirtualFor=\"let item of locations; let i = index\">\n                                    <div\n                                        class=\"item\"\n                                        (touchrelease)=\"\n                                            item.selected = !item.selected; filter$.next(item.id + item.selected)\n                                        \"\n                                    >\n                                        <a-checkbox klass=\"dark\" [ngModel]=\"item.selected\"></a-checkbox>\n                                        <div class=\"text\">\n                                            <div class=\"code\" [title]=\"item.code\">{{ item.code }}</div>\n                                            <div class=\"name\" [title]=\"item.name\">{{ item.name }}</div>\n                                            <div class=\"address\" [title]=\"item.address\">{{ item.address }}</div>\n                                        </div>\n                                    </div>\n                                </ng-container>\n                            </cdk-virtual-scroll-viewport>\n                        </ng-container>\n                    </div>\n                </ng-template>\n            </custom-dropdown>\n        </div>\n        <div class=\"selected-locations\">\n            <ng-container *ngFor=\"let item of locations\">\n                <div class=\"location\" *ngIf=\"item.selected\">\n                    <button mat-icon-button (touchrelease)=\"item.selected = false; filter$.next()\">\n                        <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n                    </button>\n                    <div class=\"text\">({{ item.code }}) {{ item.name }}</div>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n    <div class=\"body\">\n        <ng-container *ngIf=\"!loading\">\n            <cdk-virtual-scroll-viewport [itemSize]=\"120\">\n                <div class=\"item\" *cdkVirtualFor=\"let item of shown_spaces || []\">\n                    <booking-flow-space-item\n                        [space]=\"item\"\n                        [(selected)]=\"item.selected\"\n                        (selectedChange)=\"setState(item, $event)\"\n                    ></booking-flow-space-item>\n                </div>\n            </cdk-virtual-scroll-viewport>\n        </ng-container>\n        <div class=\"no-item center\" *ngIf=\"!shown_spaces || shown_spaces.length <= 0 || loading\">\n            <div class=\"icon\">\n                <app-icon *ngIf=\"!loading\" [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n                <spinner *ngIf=\"loading\" type=\"circle-ring\" color=\"rgba(0,0,0,.6)\"></spinner>\n            </div>\n            <div class=\"text\" *ngIf=\"!loading\">No available rooms</div>\n        </div>\n    </div>\n    <div class=\"footer\">\n        <div class=\"date\">\n            <div class=\"arrow\" [class.disabled]=\"is_today\" (touchrelease)=\"changeDate(-1)\">\n                <app-icon [icon]=\"{ class: 'material-icons', content: 'keyboard_arrow_left' }\"></app-icon>\n            </div>\n            <div class=\"display\">{{ date_display }}</div>\n            <div class=\"arrow\" (touchrelease)=\"changeDate(1)\">\n                <app-icon [icon]=\"{ class: 'material-icons', content: 'keyboard_arrow_right' }\"></app-icon>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter, SimpleChanges } from '@angular/core';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { Subject } from 'rxjs';\nimport { debounceTime, switchMap } from 'rxjs/operators';\n\nimport { IBookingFlowEvent } from '../booking-modal.component';\nimport { IBuilding } from '../../../services/data/buildings.service';\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { AppService } from '../../../services/app.service';\nimport { IRoom, IRoomAvailabilityRequest } from '../../../services/data/rooms.service';\nimport { IUser } from '../../../services/data/users.service';\n\nimport * as dayjs from 'dayjs';\n\n@Component({\n    selector: 'booking-flow-find-space',\n    templateUrl: './find-space.component.html',\n    styleUrls: ['./find-space.component.scss']\n})\nexport class BookingFlowFindSpaceComponent extends BaseDirective implements OnInit {\n    /** Date time to search for free rooms */\n    @Input('dateField') public date_field: ADynamicFormField;\n    /** Available slot size to search for free rooms */\n    @Input() public duration: number;\n    /** Whether booking is all day */\n    @Input() public all_day: boolean;\n    /** Whether booking has catering */\n    @Input() public catering: boolean;\n    /** Selected host for the booking being created */\n    @Input() public user: IUser;\n    /** Form field for selected spaces */\n    @Input() public spaces: ADynamicFormField;\n    /** Emitter for form events */\n    @Output() public event = new EventEmitter<IBookingFlowEvent>();\n\n    /** List of available buildings to filter available rooms on */\n    public locations: IBuilding[] = [];\n    /** Whether the space results are being loaded or not */\n    public loading: boolean;\n    /** Spaces available before local filtering */\n    public available_spaces: IRoom[] = [];\n    /** Spaces available with the selected filters */\n    public shown_spaces: IRoom[] = [];\n    /** Whether to show the location dropdown list */\n    public show: boolean;\n    /** Subject for changes filters for displaying available rooms */\n    private filter$ = new Subject<any>();\n    /** Last query string used for searching for rooms */\n    private last_query = '';\n\n    constructor(private _service: AppService) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        if (!this._service.ready() || this._service.Rooms.list(true).length <= 0) {\n            return this.timeout('init', () => this.ngOnInit());\n        }\n        this.last_query = '';\n        this.subscription(\n            'filter',\n            this.filter$\n                .pipe(\n                    debounceTime(500),\n                    switchMap(_ => this.search())\n                )\n                .subscribe((results: IRoom[]) => {\n                    this.available_spaces = results;\n                    this.shown_spaces = this.filter(results);\n                    this.loading = false;\n                })\n        );\n        this.subscription('building', this._service.Buildings.listen((bld) => {\n            if (bld) {\n                let active_locations = '';\n                if (localStorage) {\n                    active_locations = localStorage.getItem('CONCIERGE.booking.filters') || '';\n                }\n                const spaces: IRoom[] = this.spaces ? this.spaces.control.value : [];\n                if (!active_locations && spaces && spaces.length) {\n                    active_locations = spaces.map(i => i.level.bld_id).join(',');\n                }\n                this.locations = this._service.Buildings.list().map(i => ({\n                    ...i,\n                    selected: active_locations ? active_locations.indexOf(i.id) >= 0 : i.id === bld.id\n                }));\n                this.filter$.next(Math.floor(Math.random() * 99999));\n            }\n        }));\n    }\n\n    /** Timestamp of the currently selected date */\n    public get date(): number {\n        let date: number = this.date_field ? this.date_field.getValue() : dayjs().valueOf();\n        if (this.catering) {\n            date = dayjs(date).subtract(15, 'm').valueOf();\n        }\n        if (this.duration > 720 || this.all_day) {\n            date = dayjs(date).startOf('d').valueOf();\n        }\n        return date;\n    }\n\n    /** Display string for the selected date */\n    public get date_display(): string {\n        return dayjs(this.date).format('ddd, DD MMM YYYY');\n    }\n\n    /** Whether the selected date is today */\n    public get is_today(): boolean {\n        const date = dayjs(this.date);\n        return dayjs().isSame(date, 'd');\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if ((changes.date_field && this.date_field) || (changes.duration && this.duration)) {\n            this.filter$.next(`${this.date}|${this.duration}`);\n        }\n    }\n\n    /**\n     * Search for available rooms matching the set filters\n     */\n    public search(): Promise<IRoom[]> {\n        const query: IRoomAvailabilityRequest = {\n            date: this.all_day ? dayjs(this.date).startOf('d').valueOf() : this.date,\n            duration: this.all_day ? 24 * 60 : (this.duration + (this.catering ? 15 : 0)),\n            hide_bookings: true\n        };\n        const locations = this.locations.reduce((v, i) => { (i as any).selected ? v.push(i.id) : ''; return v }, []);\n        if (locations.length <= 0) {\n            locations.push(this._service.Buildings.current().id);\n        }\n        const location_list = locations.join(',');\n        this.timeout('save_filters', () => {\n            if (localStorage) {\n                localStorage.setItem('CONCIERGE.booking.filters', location_list);\n            }\n        });\n        // Limit number of rooms retrieved\n        query.zone_ids = location_list;\n        const query_str = JSON.stringify(query);\n        if (query_str !== this.last_query && this.locations && this.locations.length > 0) {\n            this.last_query = query_str;\n            this.loading = true;\n        }\n        return this._service.Rooms.available(query);\n    }\n\n    /**\n     * Filter rooms based booking rules\n     * @param list List of rooms\n     */\n    public filter(list: IRoom[]): IRoom[] {\n        const selected = (this.spaces ? this.spaces.control.value : null) || [];\n        return list\n            .map(i => ({ ...i, selected: !!selected.find(j => i.id === j.id) } as any));\n    }\n\n    /**\n     * Update the list of spaces selected for the current booking\n     * @param space Space with which it's state has changed\n     * @param state New selected state of the space\n     */\n    public setState(space: IRoom, state: boolean) {\n        const list = this.spaces.control.value || [];\n        if (state) {\n            if (list.findIndex(i => i.id === space.id) < 0) {\n                this.spaces.setValue(list.concat([space]));\n            }\n        } else {\n            this.spaces.setValue(list.filter(i => i.id !== space.id));\n        }\n    }\n\n    /**\n     * Update the selected date\n     * @param value Value to change the date by. 1, 0 or -1 days\n     */\n    public changeDate(value: number) {\n        if (this.date_field) {\n            const date = dayjs(this.date);\n            const new_date = date.add(value, 'd');\n            const now = this.duration > 23 * 60 || this.all_day\n                ? dayjs().startOf('d')\n                : dayjs();\n            if (new_date.isAfter(now.subtract(10, 'm'), 'm')) {\n                this.date_field.setValue(new_date.valueOf());\n                this.filter$.next(`${this.date}|${this.duration}`);\n            }\n        }\n    }\n}\n","<div class=\"space-item\" [class.request]=\"book_type === 'Request'\">\n    <div class=\"details\">\n        <div class=\"icon\">\n            <img src=\"assets/img/location.svg\" />\n        </div>\n        <div class=\"text\">\n            <div class=\"name\">{{ space?.level?.name }}, {{ space?.name }}</div>\n            <div class=\"info\" *ngIf=\"building\">({{ building.code }}) {{ building.name }}</div>\n            <div class=\"info\">Capacity: {{ space?.capacity }} {{ space && space.capacity === 1 ? 'Person' : 'People' }}</div>\n        </div>\n    </div>\n    <div class=\"options\">\n        <button mat-button (touchrelease)=\"toggle()\" [class.inverse]=\"!selected\">\n            {{\n                selected ? (book_type === 'Request' ? 'Requesting' : 'Selected') : book_type === 'Request' ? 'Request' : 'Select'\n            }}\n        </button>\n    </div>\n</div>\n","\nimport { Component, Input, Output, EventEmitter, SimpleChanges, OnChanges } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { IRoom } from '../../../../services/data/rooms.service';\nimport { BaseDirective } from '../../../../shared/globals/base.directive';\nimport { AppService } from '../../../../services/app.service';\nimport { IBuilding } from '../../../../services/data/buildings.service';\n\n@Component({\n    selector: 'booking-flow-space-item',\n    templateUrl: './space-item.component.html',\n    styleUrls: ['./space-item.component.scss']\n})\nexport class BookingFlowSpaceItemComponent extends BaseDirective implements OnChanges {\n    /** Space to display */\n    @Input() public space: IRoom;\n    /** Whether the space has been selected for booking */\n    @Input() public selected: boolean;\n    /** Emitter for changes to selected state of the space */\n    @Output() public selectedChange = new EventEmitter<boolean>();\n    /** Building associated with the set space */\n    public building: IBuilding;\n\n    constructor(private _service: AppService, private _dialog: MatDialog) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.space &&  this.space) {\n            this.timeout('building', () => {\n                if (this.space.level) {\n                    this.building = this._service.Buildings.get(this.space.level.bld_id);\n                }\n            }, 100);\n        }\n    }\n\n    /** Booking type for the space */\n    public get book_type() {\n        return (this.space ? this.space.book_type : null) || 'Book';\n    }\n\n    /**\n     * Toggle the selected state of the space\n     */\n    public toggle() {\n        this.selected = !this.selected;\n        this.selectedChange.emit(this.selected);\n    }\n\n    /**\n     * Open modal to show the location of the space on a map\n     */\n    public showMap() {\n        // TODO\n    }\n}\n\n","<div class=\"booking-form\">\n    <div class=\"form\" *ngIf=\"fields\">\n        <a-dynamic-form [fields]=\"fields\"></a-dynamic-form>\n    </div>\n</div>","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\n\nimport { IBookingFlowEvent } from '../booking-modal.component';\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { AppService } from '../../../services/app.service';\nimport { RoomSelectModalComponent } from '../../room-select-modal/room-select-modal.component';\n\n@Component({\n    selector: 'booking-flow-form',\n    templateUrl: './form.component.html',\n    styleUrls: ['./form.component.scss']\n})\nexport class BookingFlowFormComponent extends BaseDirective implements OnChanges {\n    /** List of fields to display on the form */\n    @Input() fields: ADynamicFormField[] = [];\n    /** Emitter for form events */\n    @Output() public event = new EventEmitter<IBookingFlowEvent>();\n\n    constructor(private _service: AppService, private _dialog: MatDialog) {\n        super();\n    }\n\n    /** Whether the form is valid */\n    public get valid(): boolean {\n        return this.fields.reduce((a, v) => {\n            const valid = v.children && v.children.length > 0\n                ? v.children.reduce((r, i) => r && (i.isValid() || !i.required), true)\n                : (v.isValid() || !v.required);\n            return a && valid;\n        }, true);\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.fields && this.fields) {\n            const find = this.fields.find(i => i.key === 'recurrence' || !!(i.children && i.children.find(j => j.key === 'recurrence')));\n            const field = find ? (find.key === 'recurrence' ? find : find.children.find(j => j.key === 'recurrence')) : null;\n            if (field) {\n                this.subscription('recurrence', field.action.subscribe(() => this.setRecurrence(field)));\n            }\n            const find_space = this.fields.find(i => i.key === 'room' || !!(i.children && i.children.find(j => j.key === 'room')));\n            const spaces = find_space ? (find_space.key === 'room' ? find_space : find_space.children.find(j => j.key === 'room')) : null;\n            if (spaces && !spaces.hide) {\n                this.subscription('spaces', spaces.action.subscribe(() => this.setSpaces(spaces)));\n            }\n        }\n    }\n\n    /**\n     * Open modal to change the selected spaces for the booking\n     * @param field Form field associated with spaces\n     */\n    public setSpaces(field: ADynamicFormField) {\n        let dateField = this.fields.find(i => i.key === 'date');\n        let durationField = this.fields.find(i => i.key === 'duration');\n        const ref = this._dialog.open(RoomSelectModalComponent, {\n            data: {\n                date: dateField.control.value,\n                duration: durationField.control.value,\n                spaces: field.getValue() || [],\n                multi: true\n            }\n        })\n        ref.componentInstance.event.subscribe(event => {\n            if (event.reason === 'done') {\n                field.setValue(ref.componentInstance.spaces || []);\n            }\n        });\n    }\n\n    /**\n     * Open modal to change the recurrence options for the booking\n     * @param field Form field associated with recurrence\n     */\n    public setRecurrence(field: ADynamicFormField) {\n        // TODO\n    }\n}\n","import { Type } from '@angular/core';\n\nimport { BookingModalComponent } from './booking-modal.component';\nimport { BookingDetailsComponent } from './booking-details/booking-details.component';\nimport { BookingFlowFindSpaceComponent } from './find-space/find-space.component';\nimport { BookingFlowSpaceItemComponent } from './find-space/space-item/space-item.component';\nimport { BookingCateringDetailsModalComponent } from './catering-details/catering-details.component';\nimport { BookingEquipmentDetailsComponent } from './equipment-details/equipment-details.component';\nimport { BookingFlowFormComponent } from './form/form.component';\n\nexport * from './booking-modal.component';\n\nexport const BOOKING_MODAL_COMPONENTS: Type<any>[] = [\n    BookingModalComponent,\n    BookingDetailsComponent,\n    BookingFlowFormComponent,\n    BookingFlowFindSpaceComponent,\n    BookingFlowSpaceItemComponent,\n    BookingCateringDetailsModalComponent,\n    BookingEquipmentDetailsComponent\n];\n","<mat-dialog-content>\n    <main>\n        <a-date-picker name=\"modal\" [(ngModel)]=\"date\" [options]=\"{ from: today }\" ></a-date-picker>\n    </main>\n</mat-dialog-content>\n<mat-dialog-actions>\n    <footer>\n        <button mat-button mat-dialog-close>Cancel</button>\n        <button mat-button (tapped)=\"event.emit({ reason: 'done'})\">Ok</button>\n    </footer>\n</mat-dialog-actions>\n","\nimport { Component, EventEmitter, Output, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { AppService } from '../../services/app.service';\nimport { DialogEvent } from '../../shared/utilities/type.helpers';\n\nimport * as dayjs from 'dayjs';\n\nexport interface CalendaraModalData {\n    /** Currently selected datetime */\n    date: number;\n}\n\n@Component({\n    selector: 'calendar-modal',\n    templateUrl: './calendar-modal.template.html',\n    styleUrls: ['./calendar-modal.styles.scss'],\n})\nexport class CalendarModalComponent extends BaseDirective {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Unix epoch of the current time */\n    public today: number;\n    /** Currently selected datetime */\n    public date: number;\n    /** Number of days to limit the date range of the calendar */\n    public limit: number;\n\n    constructor(\n        private _service: AppService,\n        @Inject(MAT_DIALOG_DATA) private _data: CalendaraModalData\n    ) {\n        super();\n    }\n\n    public init() {\n        this.today = dayjs().valueOf();\n        this.limit = this._service.Settings.get('app.booking.limit') || 6;\n        this.date = this._data.date || dayjs().valueOf();\n    }\n}\n","<mat-dialog-content *ngIf=\"order && booking\">\n    <div class=\"body\">\n        <button class=\"close\" mat-icon-button *ngIf=\"!processing || !loading\" mat-dialog-close>\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n        </button>\n        <div class=\"meeting-details\">\n            <div class=\"burger-icon\"></div>\n            <div class=\"room\">{{ order.location }}</div>\n            <div class=\"time\">{{ time }}</div>\n            <div class=\"status\" [class.disabled]=\"order.loading || loading_status\">\n                <custom-dropdown\n                    klass=\"status-dropdown {{ order.status }}\"\n                    [(show)]=\"show_dropdown\"\n                    [content]=\"out_header\"\n                    [template]=\"out_template\"\n                >\n                    <ng-template #out_header>\n                        <div class=\"text\" (touchrelease)=\"show_dropdown = !show_dropdown\">{{ order.status }}</div>\n                        <app-icon [class]=\"'status-icon ' + order.status\"\n                            (touchrelease)=\"show_dropdown = !show_dropdown\"\n                            [icon]=\"{ class: 'custom-' + order.status }\"\n                        ></app-icon>\n                    </ng-template>\n                    <ng-template #out_template>\n                        <div class=\"colours list\">\n                            <div class=\"item\" *ngFor=\"let status of orders_statuses\" (touchrelease)=\"statusUpdate(status, order)\">\n                                <div class=\"text\">{{ status }}</div>\n                                <div class=\"colour {{ status }}\"></div>\n                            </div>\n                        </div>\n                    </ng-template>\n                </custom-dropdown>\n                <div class=\"status-loader\" *ngIf=\"order.loading || loading_status\">\n                    <spinner type=\"circle-ring\"></spinner>\n                </div>\n            </div>\n        </div>\n        <div class=\"catering-body\" *ngIf=\"order\">\n            <div class=\"block\">\n                <div class=\"header\">\n                    Meeting Details\n                </div>\n                <div class=\"content\">\n                    <div class=\"field\">\n                        <label>Host:</label>\n                        <div class=\"value\">{{ booking?.organiser?.name }}</div>\n                    </div>\n                    <div class=\"field\">\n                        <label>Room:</label>\n                        <div class=\"value\">{{ order.location }}</div>\n                    </div>\n                    <div class=\"field\">\n                        <label>Period:</label>\n                        <div class=\"value\">{{ period }}</div>\n                    </div>\n                    <div class=\"field\">\n                        <label>Attendees:</label>\n                        <div class=\"value\">{{ booking?.attendees?.length || 0 }} ({{ booking?.expected_attendees[order.location_id]}} Expected)</div>\n                    </div>\n                </div>\n                <div class=\"footer\">\n                    <button mat-button (touchrelease)=\"toDayView()\">View on Concierge Grid</button>\n                </div>\n            </div>\n            <div class=\"block\">\n                <div class=\"header\" [class.edit]=\"edit\">\n                    <button mat-icon-button *ngIf=\"edit\" (touchrelease)=\"edit = false\">\n                        <app-icon [icon]=\"{ class: 'material-icons', content: 'arrow_back'}\"></app-icon>\n                    </button>\n                    <div class=\"heading\">Order Details</div>\n                </div>\n                <ng-container *ngIf=\"!loading; else loader\">\n                    <div class=\"content\">\n                        <ng-container *ngIf=\"!edit; else edit_form\">\n                            <ng-container *ngFor=\"let item of order.items\">\n                                <div class=\"item\" *ngIf=\"item.amount\">\n                                    <div class=\"details\">\n                                        <div class=\"name\">{{ item.name }}</div>\n                                        <div class=\"amount\" *ngIf=\"item.amount\">x{{ item.amount || '0' }}</div>\n                                    </div>\n                                    <ng-container *ngIf=\"item.items\">\n                                        <ng-container *ngFor=\"let itm of item.items\">\n                                            <div class=\"item\" *ngIf=\"itm.selected !== false\">\n                                                <div class=\"details\">\n                                                    <div class=\"name\">{{ itm.name }}</div>\n                                                    <div class=\"amount\" *ngIf=\"itm.amount\">x{{ itm.amount || '0' }}</div>\n                                                </div>\n                                                <ng-container *ngIf=\"itm.items\">\n                                                    <ng-container *ngFor=\"let option of itm.items\">\n                                                        <div class=\"item\" *ngIf=\"option.selected !== false\">\n                                                            <div class=\"details\">\n                                                                <div class=\"name\">{{ option.name }}</div>\n                                                                <div class=\"amount\" *ngIf=\"option.amount\">x{{ option.amount || '0' }}</div>\n                                                            </div>\n                                                        </div>\n                                                    </ng-container>\n                                                </ng-container>\n                                            </div>\n                                        </ng-container>\n                                    </ng-container>\n                                </div>\n                            </ng-container>\n                        </ng-container>\n                        <ng-template #edit_form>\n                            <catering-edit\n                                [flow]=\"false\"\n                                [search]=\"false\"\n                                [spaces]=\"[space]\"\n                                [all_day]=\"booking.all_day\"\n                                [date]=\"booking.date\"\n                                [duration]=\"booking.duration\"\n                                [order]=\"temp_order\"\n                                (event)=\"saveOrder()\"\n                            ></catering-edit>\n                        </ng-template>\n                    </div>\n                    <div class=\"footer\" *ngIf=\"!edit\">\n                        <button mat-button (touchrelease)=\"edit = !edit\">Edit Order</button>\n                    </div>\n                </ng-container>\n            </div>\n            <div class=\"block\">\n                <div class=\"header\">\n                    Private notes\n                </div>\n                <div class=\"content\">\n                    <div class=\"note\" *ngFor=\"let note of private_notes\">\n                        <div class=\"details\">\n                            <div class=\"author\">By {{ note.author }}</div>\n                            <div class=\"time\">{{ note.time }}</div>\n                        </div>\n                        <div class=\"message\">\n                            {{ note.message }}\n                        </div>\n                    </div>\n                </div>\n                <div class=\"footer notes\">\n                    <input [(ngModel)]=\"new_note\" placeholder=\"Type to add note\" (keyup.enter)=\"saveNote();$event.target?.blur()\" />\n                    <button mat-icon-button [disabled]=\"!new_note\" (touchrelease)=\"saveNote()\">\n                        <app-icon [icon]=\"{ class: 'material-icons', content: 'send'}\"></app-icon>\n                    </button>\n                    <div class=\"footer-loader\" *ngIf=\"loading_notes\">\n                        <spinner class=\"center\" type=\"circle-ring\"></spinner>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</mat-dialog-content>\n\n<ng-template #loader>\n    <div class=\"content\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\"></spinner>\n            </div>\n            <div class=\"text\">Updating order...</div>\n        </div>\n    </div>\n</ng-template>\n\n","import { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\nimport { AppService } from '../../services/app.service';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { IBookingNote, IBooking } from '../../services/data/bookings.service';\nimport { IRoom } from '../../services/data/rooms.service';\nimport { DialogEvent, HashMap } from '../../shared/utilities/type.helpers';\nimport { CateringOrder, CateringOrderStatus } from '../../services/data/catering/catering-order.class';\n\nimport * as dayjs from 'dayjs';\n\nexport interface CateringDetailsModalData {\n    booking: IBooking;\n    order: CateringOrder;\n}\n\n@Component({\n    selector: 'catering-details-overlay',\n    templateUrl: './catering-details-overlay.component.html',\n    styleUrls: ['./catering-details-overlay.component.scss']\n})\nexport class CateringDetailsOverlayComponent extends BaseDirective {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** New note to add to private notes */\n    public new_note: string;\n    /** Whether the order is being edited */\n    public edit: boolean;\n    /** Whether changes to order are being processed */\n    public loading: boolean;\n    /** Whether note additions are being processed */\n    public loading_notes: boolean;\n    /** List of available status */\n    public orders_statuses: string[] = ['accepted', 'preparing', 'ready', 'delivered', 'cancelled'];\n    /** Form fields */\n    public form: HashMap;\n    /** Whether status is being updated */\n    public loading_status: boolean;\n\n    public group: number;\n    /** Variable to temporarily hold catering orders */\n    public temp_order: CateringOrder;\n    /** Whether to show status dropdown options */\n    public show_dropdown: boolean;\n    /** Whether a request is being processed */\n    public processing: boolean;\n\n    /** Order to display on the modal */\n    public get order(): CateringOrder {\n        if (!this.temp_order) {\n            this.temp_order = new CateringOrder(this._data.order || ({} as any));\n        }\n        return this._data.order || ({} as any);\n    }\n\n    /** Room for the current order */\n    public get space(): IRoom {\n        const id = this.order.location_id;\n        const space = this._service.Rooms.item(id);\n        return space || ({} as any);\n    }\n\n    /** Booking associated with the order */\n    public get booking(): IBooking {\n        return this.order.booking || this._data.booking;\n    }\n\n    /** Private notes for the current order */\n    public get private_notes(): IBookingNote[] {\n        const booking: IBooking = this.booking || ({} as any);\n        const notes = booking.notes || [];\n        let list =\n            (notes instanceof Array\n                ? notes.filter(i => i.type === 'catering' && (!i.space || i.space === this.space.id))\n                : null) || [];\n        list = this.removeDuplicateMessages(list);\n        const now = dayjs();\n        list.forEach(note => {\n            const date = dayjs(note.date);\n            note.time = date.format(date.isSame(now, 'd') ? 'h:mm A' : 'DD MMM YY');\n        });\n        return list;\n    }\n\n    /** Start date and time of the meeting associated with the order */\n    public get time(): string {\n        const date = dayjs(this.booking.date);\n        return `(${this.temp_order.deliver_on_date}) To be delivered at ${this.temp_order.deliver_at_time}`;\n    }\n    /** Booking period for the meeting associated with the order */\n    public get period(): string {\n        if (this.booking.all_day || this.booking.duration > 23 * 60) {\n            return 'All Day';\n        } else {\n            const date = dayjs(this.booking.date);\n            const end = date.add(this.booking.duration, 'm');\n            return `${date.format('h:mm A')} - ${end.format('h:mm A')}`;\n        }\n    }\n\n    constructor(\n        private _dialog_ref: MatDialogRef<CateringDetailsOverlayComponent>,\n        private _service: AppService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringDetailsModalData\n    ) {\n        super();\n    }\n\n    public init() {\n        console.log('Order:', this._data);\n        if (!this.order.booking && this._data.booking) {\n            this.order.booking = this._data.booking;\n        }\n        this.form = this.order;\n        this.group = 0;\n    }\n\n    /** Update the status of an order */\n    public statusUpdate(status: CateringOrderStatus, order: CateringOrder) {\n        this.show_dropdown = false;\n        const id = order.location_id;\n        const catering = this.booking.catering;\n        const new_order = new CateringOrder({ ...order, status });\n        catering.splice(\n            catering.findIndex(an_order => an_order.id === order.id),\n            1,\n            new_order\n        );\n        this.loading_status = true;\n        this._service.Bookings.updateItem(this.booking.id, {\n            ...this.booking,\n            catering,\n            room: this.booking.room_list || [this.booking.room]\n        }).then(\n            (res: IBooking) => {\n                this.loading_status = false;\n                this._data.order = new_order;\n                this.order.booking = { ...res, room: this.space };\n                this._data.booking = this._data.order.booking;\n                this._service.notifySuccess('Successfully updated status of order');\n                this.event.emit({ reason: 'action'});\n            },\n            () => {\n                this.loading_status = false;\n                this._service.notifyError('Failed to update status of meeting order');\n            }\n        );\n    }\n\n    /**\n     * Navigate to the day view page for the booking associated with the order\n     */\n    public toDayView() {\n        const room = this.space;\n        if (room && room.id) {\n            if (room.level) {\n                this._service.set('APP.level', room.level.id);\n            }\n            this._service.navigate('day-view', { id: this.booking.id, room_id: room.id });\n            this._dialog_ref.close();\n        }\n    }\n\n    public saveNote() {\n        if (this.new_note) {\n            const user = this._service.Users.current();\n            const booking = this.booking;\n            const notes = booking.notes || [];\n            const date = dayjs().startOf('m');\n            booking.notes = [\n                ...notes,\n                {\n                    type: 'catering',\n                    date: date.valueOf(),\n                    author: user.name,\n                    order_id: this.order.id,\n                    space: booking.room.id,\n                    message: this.new_note,\n                    time: date.format('h:mm A')\n                }\n            ];\n            this.new_note = '';\n            const rooms = booking.room_list ? booking.room_list : [booking.room];\n            this.loading_notes = true;\n            this._service.Bookings.updateItem(booking.id, { ...booking, room: rooms }).then(\n                res => {\n                    this.order.booking = { ...res, room: this.space };\n                    this._data.booking = this._data.order.booking;\n                    this.event.emit({ reason: 'done' });\n                    this.loading_notes = false;\n                },\n                (err) => {\n                    console.error(err);\n                    this._service.notifyError('Failed to add note to meeting associated with order');\n                    booking.notes = notes;\n                    this.loading_notes = false;\n                }\n            );\n        }\n    }\n\n    public saveOrder() {\n        this.loading = true;\n        const booking = this.booking;\n        const old_order: any = (booking.catering || []).find(order => order.id === this.order.id) || {};\n        if (this.temp_order) {\n            const new_order = new CateringOrder(this.temp_order.toJSON(true));\n            const catering = this.booking.catering;\n            catering.splice(\n                this.booking.catering.findIndex(order => order.id === this.order.id),\n                1,\n                new_order\n            );\n            this._service.Bookings.updateItem(booking.id, {\n                ...booking,\n                catering,\n                room: booking.room_list || [booking.room]\n            }).then(\n                (res) => {\n                    this.loading = false;\n                    this.edit = false;\n                    this._service.notifySuccess('Successfully updated catering order');\n                    this._data.booking = res;\n                    new_order.booking = res;\n                    this._data.order = new_order;\n                    this.event.emit({ reason: 'done' });\n                },\n                () => {\n                    this.loading = false;\n                    this._service.notifyError('Failed to update catering order');\n                    booking.catering = old_order;\n                }\n            );\n        }\n    }\n\n    /**\n     * Remove duplicates from the notes\n     */\n    private removeDuplicateMessages(list: IBookingNote[]): IBookingNote[] {\n        const output_list = [];\n        for (const item of list) {\n            const match = output_list.find(note => note.author === item.author && item.message === note.message);\n            if (!match) {\n                output_list.push(item);\n            }\n        }\n        return output_list;\n    }\n}\n","\n<div [class]=\"'booking-modal center ' + type\" *ngIf=\"form_fields && form_fields.length\">\n    <div class=\"header\">\n        <div class=\"heading\">Add Catering</div>\n        <button mat-icon-button mat-dialog-close>\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n        </button>\n    </div>\n    <div class=\"body\" *ngIf=\"!loading; else load_state\">\n        <ng-container [ngSwitch]=\"page\">\n            <ng-container *ngSwitchCase=\"'catering-details'\">\n                <booking-flow-catering-details\n                    [notes]=\"catering_notes\"\n                    [costCode]=\"catering_code\"\n                ></booking-flow-catering-details>\n            </ng-container>\n            <ng-container *ngSwitchDefault>\n                <catering-edit [id]=\"id\" [spaces]=\"spaces\" [all_day]=\"all_day\" [order]=\"catering\"> </catering-edit>\n            </ng-container>\n        </ng-container>\n    </div>\n    <div class=\"footer\" *ngIf=\"!success && !loading\">\n        <button *ngIf=\"page && page !== 'form'\" mat-button (touchrelease)=\"progress({ type: 'previous' })\">Back</button>\n        <button mat-button (touchrelease)=\"progress({ type: page === 'catering-details' ? 'save' : 'next' })\">\n            {{ page === 'catering-details' ? 'Save' : 'Continue' }}\n        </button>\n    </div>\n</div>\n<ng-template #load_state>\n    <div class=\"body\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\"></spinner>\n            </div>\n            <div class=\"text\">Saving catering...</div>\n        </div>\n    </div>\n</ng-template>\n\n","import { Component, EventEmitter, Output, Inject } from '@angular/core';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { IRoom } from '../../services/data/rooms.service';\nimport { IBooking } from '../../services/data/bookings.service';\nimport { IUser } from '../../services/data/users.service';\nimport { IBookingFlowEvent } from '../booking-modal';\nimport { AppService } from '../../services/app.service';\nimport { CateringOrder } from '../../services/data/catering/catering-order.class';\n\nimport { generateBookingFormMetadata } from '../../shared/utilities/booking.utilities';\nimport { formatSpaces } from '../../shared/utilities/formatting.utilities';\nimport { DialogEvent } from '../../shared/utilities/type.helpers';\n\nimport * as dayjs from 'dayjs';\n\nexport interface CateringModalData {\n    booking: IBooking;\n}\n\n@Component({\n    selector: 'catering-modal',\n    templateUrl: './catering-modal.template.html',\n    styleUrls: ['./catering-modal.styles.scss']\n})\nexport class CateringModalComponent extends BaseDirective {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Currently displayed page of the booking modal flow */\n    public page: 'catering' | 'catering-details';\n    /** Booking ID */\n    public id: string;\n    /** List of form fields associated with a booking */\n    public form_fields: ADynamicFormField[];\n    /** Form field for the selected date */\n    public date_field: ADynamicFormField;\n    /** Time of the last booking event */\n    public book: number;\n    /** Whether booking succeeded */\n    public success: boolean;\n    /** Whether catering details are being saved */\n    public loading: boolean;\n\n    constructor(\n        private _service: AppService,\n        private _dialog_ref: MatDialogRef<CateringModalComponent>,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringModalData\n    ) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.loadForm();\n    }\n\n    public get form() {\n        return this.formToBooking();\n    }\n\n    /** Form field for the list of selected spaces */\n    public get space_list(): ADynamicFormField {\n        const index = this.form_fields.findIndex(i => i.key === 'room');\n        return index ? this.form_fields[index] : null;\n    }\n\n    /** Form field for listing selected catering items */\n    public get catering() {\n        return this.form_fields.find(i => i.key === 'catering');\n    }\n\n    /** Form field for listing selected catering items */\n    public get all_day() {\n        return !!(this.form_fields.find(i => i.key === 'all_day') || { control: { value: false } }).control.value;\n    }\n\n    /** Form field for equipment notes */\n    public get notes() {\n        return this.form_fields.find(i => i.key === 'equipment');\n    }\n\n    /** Form field for catering notes */\n    public get catering_notes() {\n        return this.form_fields.find(i => i.key === 'catering_notes');\n    }\n\n    /** Form field for catering cost code */\n    public get catering_code() {\n        return this.form_fields.find(i => i.key === 'catering_code');\n    }\n\n    /** Form field for equipment cost code */\n    public get cost_code() {\n        return this.form_fields.find(i => i.key === 'equipment_code');\n    }\n\n    /** Whether the form is valid */\n    public get valid(): boolean {\n        return this.form_fields.reduce((a, v) => {\n            const valid =\n                v.children && v.children.length > 0\n                    ? v.children.reduce((r, i) => r && (i.isValid() || !i.required || i.disabled), true)\n                    : v.isValid() || !v.required || v.disabled;\n            return a && valid;\n        }, true);\n    }\n\n    /** List of selected rooms for the booking */\n    public get spaces(): IRoom[] {\n        const field = this.space_list;\n        if (field) {\n            return field.control.value || [];\n        }\n        return [];\n    }\n\n    /** Datetime selected for the booking */\n    public get date(): number {\n        const field = this.form_fields.find(i => i.key === 'date');\n        if (field) {\n            return field.control.value;\n        }\n        return dayjs()\n            .startOf('m')\n            .valueOf();\n    }\n\n    /** Selected duration for the booking */\n    public get duration(): number {\n        let field: any = this.form_fields.find(i => i.key === 'duration');\n        if (field) {\n            return field.control.value;\n        }\n        field = this.form_fields.find(i => i.key === 'time_group');\n        if (field) {\n            return field.control.controls.duration.value;\n        }\n        return 60;\n    }\n\n    /** Number of items in the catering order */\n    public get has_ordered(): number {\n        const empty = { control: { value: {} } };\n        const order_list: CateringOrder[] = (this.form_fields.find(i => i.key === 'catering') || empty).control.value;\n        return order_list ? order_list.reduce((count, order) => count + order.item_count, 0) : 0;\n    }\n\n    /** Type of booking */\n    public get type(): string {\n        const empty = { control: { value: {} } };\n        const type = ((this.form_fields || []).find(i => i.key === 'booking_type') || empty).control.value || '';\n        const attendees = ((this.form_fields || []).find(i => i.key === 'attendees') || empty).control.value || [];\n        const booking_type = typeof type === 'string' ? type : type.id;\n        if (attendees && attendees.length > 0 && attendees.some(i => i.external) && booking_type === 'internal') {\n            return 'external';\n        }\n        return booking_type;\n    }\n\n    /**\n     * Progress to the next step in the flow\n     */\n    public progress(event: IBookingFlowEvent) {\n        if (event.type === 'next') {\n            switch (this.page) {\n                case 'catering-details':\n                    this.save();\n                    break;\n                default:\n                    this.form_fields.forEach(i => i.control.markAsDirty());\n                    this.page = 'catering-details';\n                    break;\n            }\n        } else if (event.type === 'previous') {\n            switch (this.page) {\n                case 'catering-details':\n                    this.page = 'catering';\n                    break;\n                default:\n                    this._dialog_ref.close();\n                    break;\n            }\n        } else if (event.type === 'start') {\n            this.page = 'catering';\n        } else if (event.type === 'save') {\n            this.save();\n        }\n    }\n\n    /**\n     * Clear any form data\n     */\n    private clearForm() {\n        if (localStorage) {\n            localStorage.removeItem('CONCIERGE.booking_form');\n        }\n        this.loadForm();\n    }\n\n    /**\n     * Load old form data and intialise the form\n     */\n    private loadForm() {\n        let booking: any = {};\n        if (localStorage) {\n            booking = JSON.parse(localStorage.getItem('CONCIERGE.booking_form') || '{}');\n        }\n        this.form_fields = generateBookingFormMetadata(\n            booking as IBooking,\n            this._service.Settings.get('app.booking.fields'),\n            this._service\n        );\n        this.date_field = this.form_fields\n            .reduce((v, i) => v.concat(i.children && i.children.length ? i.children : [i]), [])\n            .find(i => i.key === 'date');\n        const CUSTOM_FIELDS = [\n            'room',\n            'catering',\n            'equipment',\n            'catering_notes',\n            'catering_code',\n            'equipment_code',\n            'id'\n        ];\n        const CUSTOM_DEFAULTS = [[], {}, '', '', '', '', ''];\n        CUSTOM_FIELDS.forEach((key, i) => {\n            this.form_fields.push(\n                new ADynamicFormField({\n                    key,\n                    label: key,\n                    type: 'action',\n                    format: key === 'room' ? formatSpaces : null,\n                    hide: true,\n                    value: booking[key] || CUSTOM_DEFAULTS[i]\n                })\n            );\n        });\n        this.form_fields.forEach(i => {\n            if (i.children && i.children.length) {\n                i.children.forEach(j => {\n                    this.subscription(\n                        j.key,\n                        j.control.valueChanges.subscribe(v => {\n                            if (v && j.control.valid) {\n                                this.saveForm();\n                            }\n                        })\n                    );\n                });\n            } else {\n                this.subscription(\n                    i.key,\n                    i.control.valueChanges.subscribe(v => {\n                        if (v && i.control.valid) {\n                            this.saveForm();\n                        }\n                    })\n                );\n            }\n        });\n        const empty = { control: { value: true } };\n        const id = (this.form_fields.find(i => i.key === 'id') || empty).control.value;\n        const time = this.form_fields.find(i => i.key === 'start') || empty;\n        const room = this.form_fields.find(i => i.key === 'room');\n        if (room) {\n            room.setValue(booking.room_list || [booking.room]);\n        }\n\n        (time as ADynamicFormField).setDisabled(this.duration > 720);\n        this.id = id ? '10' : '';\n    }\n\n    /**\n     * Save changes to the form data\n     */\n    private saveForm() {}\n\n    /**\n     * Convert form field data to a Booking object\n     */\n    private formToBooking(): IBooking {\n        return this.form_fields.reduce((v, i) => {\n            if (i.children && i.children.length) {\n                i.children.forEach(j => (v[j.key] = j.control.value));\n            } else {\n                v[i.key] = i.control.value;\n            }\n            return v;\n        }, {}) as IBooking;\n    }\n\n    /**\n     * Get list of users available to select as the meeting host\n     */\n    private getHostOptions(): IUser[] {\n        const user = this._service.Users.current();\n        const list: IUser[] = [user];\n        if (user.delegates) {\n            for (const email of user.delegates) {\n                const delegate = this._service.Users.item(email);\n                if (delegate) {\n                    list.push(delegate);\n                } else {\n                    this.timeout(`load_user|${email}`, () =>\n                        this._service.Users.show(email, { update: true }).then(() => {\n                            this.timeout('update_host_options', () => {\n                                const host = this.form_fields.find(i => i.key === 'host');\n                                if (host) {\n                                    host.metadata = { service: this._service.Bookings, options: this.getHostOptions() };\n                                    host.setValue(host.getValue());\n                                }\n                            });\n                        })\n                    );\n                }\n            }\n        }\n        return list;\n    }\n\n    private save() {\n        let booking: any = {};\n        if (localStorage) {\n            booking = JSON.parse(localStorage.getItem('CONCIERGE.booking_form') || '{}');\n        }\n        const ref = this._service.confirm(\n            {\n                title: 'Save Catering',\n                content: `Save catering details for meeting?`,\n                icon: { type: 'icon', class: 'material-icons', content: 'restaurant' },\n                action: 'Ok'\n            },\n            event => {\n                if (event.reason === 'done') {\n                    this.loading = true;\n                    booking = { ...booking, ...this.formToBooking() };\n                    console.log('Booking:', booking);\n                    this._service.Bookings.updateItem(booking.id, booking).then(\n                        bkn => {\n                            this.loading = false;\n                            this._data.booking = bkn;\n                            this.event.emit({ reason: 'done' });\n                            this.clearForm();\n                            this._dialog_ref.close();\n                        },\n                        () => {\n                            this.loading = false;\n                            this._service.notifyError('Error saving catering.');\n                        }\n                    );\n                }\n                ref.close();\n            }\n        );\n    }\n}\n","<div class=\"confirm-delete modal\">\n    <ng-container *ngIf=\"!loading; else load_state\">\n        <ng-container *ngIf=\"!success; else success_state\">\n            <div class=\"body\">\n                <div class=\"icon\">\n                    <img src=\"assets/img/delete.svg\" />\n                </div>\n                <div class=\"title\">Are you sure you want to delete this meeting?</div>\n                <div class=\"info\">This will permanently delete the booking and all details from the host and attendees calendars</div>\n            </div>\n            <div class=\"footer\">\n                <button mat-dialog-close>Cancel</button>\n                <button class=\"accept\" (touchrelease)=\"delete()\">Yes, Permanently Delete</button>\n            </div>\n        </ng-container>\n    </ng-container>\n</div>\n<ng-template #load_state>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <spinner type=\"circle-ring\"></spinner>\n        </div>\n        <div class=\"text\">Deleting booking...</div>\n    </div>\n</ng-template>\n<ng-template #success_state>\n    <div class=\"body\">\n        <div class=\"icon\">\n            <img src=\"assets/img/delete-success.svg\" />\n        </div>\n        <div class=\"title\">Booking <span>Permanently Deleted</span></div>\n    </div>\n</ng-template>\n","import { Component, EventEmitter, Output, Inject } from '@angular/core';\n\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { AppService } from '../../services/app.service';\nimport { DialogEvent, HashMap } from '../../shared/utilities/type.helpers';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nexport interface ConfirmDeleteModalData {\n    id: string;\n    fields: HashMap;\n}\n\n@Component({\n    selector: 'confirm-delete-modal',\n    templateUrl: './confirm-delete.component.html',\n    styleUrls: ['./confirm-delete.component.scss']\n})\nexport class ConfirmDeleteModalComponent extends BaseDirective {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether item is being deleted */\n    public loading: boolean;\n    /** Whether item was successfully deleted */\n    public success: boolean;\n\n    constructor(\n        private _service: AppService,\n        @Inject(MAT_DIALOG_DATA) private _data: ConfirmDeleteModalData\n    ) {\n        super();\n    }\n\n    /**\n     * Delete the item\n     */\n    public delete(): void {\n        this.loading = true;\n        (this._service.Bookings as any).deleteItem(this._data.id, this._data.fields).then(\n            () => {\n                this.success = true;\n                this.loading = false;\n                this.timeout('success', () => this.event.emit({ reason: 'done' }), 3000);\n            },\n            () => {\n                this.loading = false;\n                this._service.notifyError('Error deleting booking');\n            }\n        );\n    }\n}\n","<header>\n    <div class=\"text\">{{ title || 'Confirm' }}</div>\n</header>\n<mat-dialog-content>\n    <div class=\"body\">\n        <app-icon *ngIf=\"icon\" [icon]=\"icon\"></app-icon>\n        <div class=\"content\">\n            <p [innerHTML]=\"content || 'Are you sure?'\"></p>\n        </div>\n    </div>\n</mat-dialog-content>\n<mat-dialog-actions>\n    <button mat-button name=\"cancel\" class=\"inverse\" mat-dialog-close>Cancel</button>\n    <button mat-button name=\"accept\" (touchrelease)=\"accept()\">{{ action || 'Ok' }}</button>\n</mat-dialog-actions>\n<ng-template #load_state>\n    <div class=\"body\">\n        <div class=\"info-block\">\n            <div class=\"icon\">\n                <mat-spinner diameter=48></mat-spinner>\n            </div>\n            <div class=\"text\">{{ loading }}</div>\n        </div>\n    </div>\n</ng-template>\n","import { Component, OnInit, Output, EventEmitter, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { DialogEvent, ApplicationIcon } from '../../shared/utilities/type.helpers';\n\nexport interface ConfirmModalData {\n    /** Title of the modal */\n    title: string;\n    /** Contents of the modal */\n    content: string;\n    /** Text displaed on the confirmation button */\n    action?: string;\n    /** Icon to display on the modal */\n    icon: ApplicationIcon;\n}\n\nexport const CONFIRM_METADATA = {\n    height: 'auto',\n    width: '24em',\n    maxHeight: 'calc(100vh - 2em)',\n    maxWidth: 'calc(100vw - 2em)'\n};\n\n@Component({\n    selector: 'confirm-modal',\n    templateUrl: './confirm-modal.component.html',\n    styleUrls: ['./confirm-modal.component.scss']\n})\nexport class ConfirmModalComponent extends BaseDirective implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Title of the confirm modal */\n    public title: string;\n    /** Body of the confirm modal */\n    public content: string;\n    /** Display text on the confirm button */\n    public action: string;\n    /** Display icon properties */\n    public icon: ApplicationIcon;\n    /** Loading state */\n    public loading: string;\n\n    constructor(\n        private _dialog: MatDialogRef<ConfirmModalComponent>,\n        @Inject(MAT_DIALOG_DATA) private _data: ConfirmModalData\n    ) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        const data = this._data;\n        if (data) {\n            this.title = data.title || 'Confirm';\n            this.content = data.content || 'Are you sure?';\n            this.action = data.action || 'Ok';\n            this.icon = data.icon;\n        }\n    }\n\n    /**\n     * User confirmation of the content of the modal\n     */\n    public accept() {\n        console.log('Accept');\n        this.event.emit({ reason: 'done' });\n    }\n}\n","<div class=\"meeting-details\" *ngIf=\"booking\">\n    <div class=\"field\" name=\"host\">\n        <label>Host:</label>\n        <div class=\"value\">\n            <div class=\"text\">{{ host?.name }}</div>\n            <div class=\"edited\" *ngIf=\"booking.edit_counts['organiser']\"></div>\n            <div class=\"actions\">\n                <a mat-icon-button [href]=\"'mailto:' + host?.email\" [disabled]=\"!host?.email\">\n                    <app-icon [icon]=\"{ class: 'material-icons', content: 'email'}\"></app-icon>\n                </a>\n                <a mat-icon-button [href]=\"'tel:' + host?.phone\" [disabled]=\"!host?.phone\">\n                    <app-icon [icon]=\"{ class: 'material-icons', content: 'call'}\"></app-icon>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class=\"field\" name=\"booked-by\" *ngIf=\"booked_by\">\n        <label>Booked By:</label>\n        <div class=\"value\">\n            <div class=\"text\">{{ booked_by.name }}</div>\n            <div class=\"actions\">\n                <a mat-icon-button [href]=\"'mailto:' + booked_by?.email\" [disabled]=\"!booked_by?.email\">\n                    <app-icon [icon]=\"{ class: 'material-icons', content: 'email'}\"></app-icon>\n                </a>\n                <a mat-icon-button [href]=\"'tel:' + booked_by?.phone\" [disabled]=\"!booked_by?.phone\">\n                    <app-icon [icon]=\"{ class: 'material-icons', content: 'call'}\"></app-icon>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div class=\"field location\">\n        <label>Location(s):</label>\n        <div class=\"edited\" *ngIf=\"booking.edit_counts['room_id']\"></div>\n        <div class=\"value\">\n            <ng-container *ngIf=\"locations && locations.length\">\n                <div class=\"item\" *ngFor=\"let item of locations\">\n                    {{ item }}\n                </div>\n            </ng-container>\n        </div>\n    </div>\n    <div class=\"field\">\n        <label>Start:</label>\n        <div class=\"value\">{{ start }}</div>\n        <div class=\"edited\" *ngIf=\"booking.edit_counts['start_epoch']\"></div>\n    </div>\n    <div class=\"field\">\n        <label>End:</label>\n        <div class=\"value\">{{ end }}</div>\n        <div class=\"edited\" *ngIf=\"booking.edit_counts['end_epoch']\"></div>\n    </div>\n    <div class=\"field\">\n        <label>Duration:</label>\n        <div class=\"value\">{{ duration || '1 hour' }}</div>\n        <div class=\"edited\" *ngIf=\"booking.edit_counts['duration']\"></div>\n    </div>\n    <div class=\"field\">\n        <label>Recurrence:</label>\n        <div class=\"value\">{{ recurrence || 'No Recurrence' }}</div>\n    </div>\n    <div class=\"field\">\n        <label>Attendees:</label>\n        <div class=\"value inline\">\n            <ng-container *ngIf=\"attendees && attendees.length; else empty_state\">\n                <div class=\"item\" *ngFor=\"let item of attendees\">\n                    {{ item?.name }}\n                </div>\n            </ng-container>\n        </div>\n        <div class=\"edited\" *ngIf=\"booking.edit_counts['attendees']\"></div>\n    </div>\n    <div class=\"field\">\n        <label>VC Equipment:</label>\n        <div class=\"value\">No</div>\n        <div class=\"edited\" *ngIf=\"booking.edit_counts['vc_equipment']\"></div>\n    </div>\n    <div class=\"field\">\n        <label>Notes:</label>\n        <div class=\"value\" [innerHTML]=\"(description || '-') | safe\"></div>\n        <div class=\"edited\" *ngIf=\"booking.edit_counts['description']\"></div>\n    </div>\n</div>\n<ng-template #empty_state>No Attendees</ng-template>\n","import { Component, Input } from '@angular/core';\n\nimport { IBooking } from '../../../services/data/bookings.service';\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { IUser } from '../../../services/data/users.service';\nimport { Utils } from '../../../shared/utility.class';\n\nimport * as dayjs from 'dayjs'\n\n@Component({\n    selector: 'meeting-details-display',\n    templateUrl: './details-display.component.html',\n    styleUrls: ['./details-display.component.scss']\n})\nexport class MeetingDetailsDisplayComponent extends BaseDirective {\n    @Input() public booking: IBooking;\n\n    /** Host of the booking */\n    public get host(): IUser {\n        const booking: IBooking = this.booking || {} as any;\n        return booking.organiser;\n    }\n\n    /** Booker of the booking */\n    public get booked_by(): IUser {\n        const booking: IBooking = this.booking || {} as any;\n        return booking.booked_by && booking.booked_by.email !== booking.organiser.email\n            ? booking.booked_by\n            : null;\n    }\n\n    /** Display date for the booking */\n    public get start(): string {\n        const booking: IBooking = this.booking || {} as any;\n\n        const date = dayjs(booking.date);\n        return date.format('DD MMM YYYY, h:mm A');\n    }\n\n    /** Display date for the booking */\n    public get end(): string {\n        const booking: IBooking = this.booking || {} as any;\n        const date = dayjs(booking.date).add(booking.duration, 'm');\n        return date.format('DD MMM YYYY, h:mm A');\n    }\n\n    /** Display string for the booking duration */\n    public get duration(): string {\n        const booking: IBooking = this.booking || {} as any;\n        return Utils.humaniseDuration(booking.duration);\n    }\n\n    /** List of attendees for the bookoing */\n    public get attendees(): IUser[] {\n        const booking: IBooking = this.booking || {} as any;\n        return booking.attendees || [];\n    }\n\n    /** Description of the booking */\n    public get description(): string {\n        const booking: IBooking = this.booking || {} as any;\n        const notes = booking.notes || [];\n        const description = notes.find(i => i.type === 'description');\n        return (description ? description.message : null) || booking.description || '';\n    }\n\n    /** List of space names */\n    public get locations(): string[] {\n        const booking: IBooking = this.booking || {} as any;\n        const spaces = booking.room_list\n            ? booking.room_list\n            : (booking.room ? [booking.room] : []);\n        return spaces.map(i => i.name);\n    }\n\n    /** Recurrence setting for booking */\n    public get recurrence(): string {\n        return 'No Recurrence';\n    }\n\n}\n","<header [class]=\"type\">\n    <div class=\"period\">{{ period }}</div>\n    <div class=\"title\">\n        {{ title }}\n        <div *ngIf=\"booking && booking.edit_counts && booking.edit_counts['title']\"></div>\n    </div>\n    <button mat-icon-button [matMenuTriggerFor]=\"appMenu\">\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'more_vert'}\"></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <div [class]=\"'body' + (type ? ' ' + type : '')\">\n        <div class=\"block meeting\" [class.no-edit]=\"!can_edit && !in_progress\">\n            <div class=\"heading\">Meeting Details</div>\n            <div class=\"content\">\n                <meeting-details-display [booking]=\"booking\"></meeting-details-display>\n            </div>\n            <button mat-button (touchrelease)=\"editDetails()\">Edit Details</button>\n        </div>\n        <div class=\"block requirements\">\n            <div class=\"heading\">\n                <div class=\"text\">Room Requirements</div>\n            </div>\n            <div class=\"content\">\n                <div class=\"field\">\n                    <label>Location:</label>\n                    <div class=\"value\">{{ space?.name }}</div>\n                </div>\n                <div class=\"field\">\n                    <label>Expected Attendees:</label>\n                    <div class=\"value\">{{ expected }}</div>\n                    <div class=\"edited\" *ngIf=\"booking.edit_counts['expected_attendees']\"></div>\n                </div>\n                <div class=\"field\">\n                    <label>Charge Code:</label>\n                    <div class=\"value\">{{ code || '-' }}</div>\n                    <div class=\"edited\" *ngIf=\"booking.edit_counts['equipment_code']\"></div>\n                </div>\n                <div class=\"field\">\n                    <label>Private Notes:</label>\n                    <div class=\"value\">{{ space_note }}</div>\n                    <div class=\"edited\" *ngIf=\"booking.edit_counts['equipment_note']\"></div>\n                </div>\n            </div>\n            <button mat-button (touchrelease)=\"editRequirements()\">Edit Requirements</button>\n        </div>\n        <div class=\"block catering\">\n            <div class=\"heading\">\n                <div class=\"text\">Catering</div>\n            </div>\n            <div class=\"content\">\n                <div class=\"field multiple\">\n                    <label>Orders:</label>\n                    <div class=\"value\">\n                        <ng-container *ngIf=\"catering && catering.length; else no_catering\">\n                            <div class=\"item\" *ngFor=\"let order of catering\" [matTooltip]=\"order_contents[order.id]\">\n                                <a\n                                    [routerLink]=\"['/catering', 'orders']\"\n                                    [queryParams]=\"{ booking: booking.id, view: order.id }\"\n                                    (click)=\"viewOrder(order.id)\"\n                                >\n                                    <div class=\"name\">At {{ order.deliver_at_time }}</div>\n                                    <div class=\"other\">\n                                        {{ order.item_count || 0 }} item{{ order.item_count === 1 ? '' : 's' }}\n                                    </div>\n                                    <div class=\"value\">{{ (order.total || 0) / 100 | currency:symbol }}</div>\n                                    <div class=\"edited\" *ngIf=\"booking.edit_counts[order.id]\"></div>\n                                </a>\n                            </div>\n                        </ng-container>\n                        <ng-template #no_catering>No catering</ng-template>\n                    </div>\n                </div>\n                <div class=\"field\">\n                    <label>Total:</label>\n                    <div class=\"value\">{{ total / 100 | currency:symbol }}</div>\n                </div>\n                <div class=\"field\">\n                    <label>Charge Code:</label>\n                    <div class=\"value\">{{ catering[0]?.charge_code || '-' }}</div>\n                    <div class=\"edited\" *ngIf=\"booking.edit_counts.charge_code\"></div>\n                </div>\n                <div class=\"field\">\n                    <label>Notes:</label>\n                    <div class=\"value\">{{ catering_note || '-' }}</div>\n                    <div class=\"edited\" *ngIf=\"booking.edit_counts['catering_note']\"></div>\n                </div>\n            </div>\n            <button mat-button (touchrelease)=\"editCatering()\">Edit Catering</button>\n        </div>\n        <div class=\"block notes\">\n            <div class=\"heading\">\n                <div class=\"text\">Private Details</div>\n                <div class=\"edited\" *ngIf=\"booking.edit_counts['setup'] || booking.edit_counts['breakdown']\"></div>\n            </div>\n            <div class=\"content\">\n                <div class=\"field\">\n                    <label>Setup:</label>\n                    <div class=\"value\">{{ setup || 'No setup' }}</div>\n                </div>\n                <div class=\"field\">\n                    <label>Breakdown:</label>\n                    <div class=\"value\">{{ breakdown || 'No breakdown' }}</div>\n                </div>\n                <div class=\"field\">\n                    <label>Notes:</label>\n                    <div class=\"value\">{{ other_note || '-' }}</div>\n                </div>\n            </div>\n            <button mat-button (touchrelease)=\"updateOffsets()\">Edit Private Details</button>\n        </div>\n    </div>\n</mat-dialog-content>\n<mat-menu #appMenu=\"matMenu\" xPosition=\"before\">\n    <button mat-menu-item *ngIf=\"can_accept\" (touchrelease)=\"acceptMeeting()\">\n        <div>\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'event_available'}\"></app-icon>\n            <div class=\"text\">Accept Meeting</div>\n        </div>\n    </button>\n    <button mat-menu-item *ngIf=\"can_decline\" (touchrelease)=\"declineMeeting()\">\n        <div>\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'event_busy'}\"></app-icon>\n            <div class=\"text\">Decline Meeting</div>\n        </div>\n    </button>\n    <button mat-menu-item (touchrelease)=\"deleteMeeting()\">\n        <div>\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'delete'}\"></app-icon>\n            <div class=\"text\">Delete Meeting</div>\n        </div>\n    </button>\n    <button mat-menu-item mat-dialog-close>\n        <div>\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n            <div class=\"text\">Close Popup</div>\n        </div>\n    </button>\n</mat-menu>\n","import { Component, OnDestroy, Inject, Output, EventEmitter } from '@angular/core';\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { MatDialog, MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\nimport { AppService } from '../../services/app.service';\nimport { IBooking } from '../../services/data/bookings.service';\nimport { IRoom } from '../../services/data/rooms.service';\nimport { Utils } from '../../shared/utility.class';\nimport { CateringOrder } from '../../services/data/catering/catering-order.class';\nimport { CateringCategory } from '../../services/data/catering/catering-category.class';\nimport { HashMap, DialogEvent } from '../../shared/utilities/type.helpers';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { BookingModalComponent } from '../booking-modal';\nimport { PrivateDetailsModalComponent } from '../private-details-modal/private-details-modal.component';\nimport { ConfirmDeleteModalComponent } from '../confirm-delete/confirm-delete.component';\n\nimport * as dayjs from 'dayjs';\n\nexport interface MeetingDetailsModalData {\n    booking: IBooking;\n}\n\n@Component({\n    selector: 'meeting-details-overlay',\n    templateUrl: './meeting-details-overlay.template.html',\n    styleUrls: ['./meeting-details-overlay.styles.scss'],\n    animations: [\n        trigger('show', [\n            transition(':enter', [style({ opacity: 0, height: 0 }), animate(200, style({ opacity: 1, height: '*' }))]),\n            transition(':leave', [style({ opacity: 1, height: '*' }), animate(200, style({ opacity: 0, height: 0 }))])\n        ])\n    ]\n})\nexport class MeetingDetailsOverlayComponent extends BaseDirective implements OnDestroy {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether to show modal actions tooltip */\n    public show_actions: boolean;\n\n    /** Booking to render on the view */\n    public get booking(): IBooking {\n        return this._data.booking || null;\n    }\n\n    /** Title of the booking */\n    public get title(): string {\n        return (this.booking || ({} as any)).title || '';\n    }\n\n    /** Period the booking will occur */\n    public get period(): string {\n        const booking = this.booking || ({} as any);\n        return booking.all_day\n            ? 'All Day'\n            : `${dayjs(booking.date).format('h:mm A')} - ${dayjs(booking.date)\n                  .add(booking.duration, 'm')\n                  .format('h:mm A')}`;\n    }\n\n    /** Active space to display */\n    public get space(): IRoom {\n        const booking = this.booking || ({} as any);\n        return booking.room || ({} as any);\n    }\n\n    /** Requirement notes for the active space */\n    public get space_note(): string {\n        const booking: IBooking = this.booking || ({} as any);\n        const notes = (booking.notes || []).filter(i => i.type === 'equipment' && i.space === this.space.id);\n        const note = notes.sort((a, b) => b.date - a.date).map(i => i.message)[0];\n        return note;\n    }\n\n    /** Expected number of attendees for the active space */\n    public get expected(): number {\n        const booking: IBooking = this.booking || ({} as any);\n        return (booking.expected_attendees || {})[this.space.id] || 0;\n    }\n\n    /** Equipment charge code */\n    public get code(): string {\n        const booking: IBooking = this.booking || ({} as any);\n        return (booking.equipment_code || {})[this.space.id] || '';\n    }\n\n    /** Catering order for the active space */\n    public get catering(): CateringOrder[] {\n        const booking: IBooking = this.booking || ({} as any);\n        return booking.catering.filter(order => order.location_id === this.space.id) || [];\n    }\n\n    /** Currency code for the active space */\n    public get symbol(): string {\n        const level = this.space.level || ({} as any);\n        const building = this._service.Buildings.get(level.bld_id) || ({} as any);\n        return building.currency || 'USD';\n    }\n\n    /** Total for the catering order of the active space */\n    public get total(): number {\n        return this.catering.reduce((total, order) => total + order.total, 0) || 0;\n    }\n\n    /** Catering notes for the active space */\n    public get catering_note(): string {\n        const booking: IBooking = this.booking || ({} as any);\n        const notes = (booking.notes || []).filter(i => i.type === 'catering' && i.space === this.space.id);\n        const note = notes.sort((a, b) => a.date - b.date).map(i => i.message)[0];\n        return note;\n    }\n\n    public get order_contents(): HashMap<string> {\n        const map = {};\n        for (const order of this.catering) {\n            map[order.id] = order.items.reduce((listing, item) => {\n                if (listing) {\n                    listing += '\\n\\n';\n                }\n                listing += `${item.amount} x    ${item.name}`;\n                if (item instanceof CateringCategory) {\n                    for (const sub_item of item.items) {\n                        if (!sub_item.amount) {\n                            continue;\n                        }\n                        listing += `\\n  - ${sub_item.amount ? '' + sub_item.amount + ' x    ' : ''}${sub_item.name}`;\n                    }\n                }\n                return listing;\n            }, '');\n        }\n        return map;\n    }\n\n    /** Private notes for the active space */\n    public get other_note(): string {\n        const booking: IBooking = this.booking || ({} as any);\n        const notes = (booking.notes || []).filter(i => i.type === 'private' && i.space === this.space.id);\n        const note = notes.sort((a, b) => b.date - a.date).map(i => i.message)[0];\n        return note;\n    }\n\n    /** Type of booking */\n    public get type(): string {\n        if (!this.booking || !this.booking.booking_type) {\n            return '';\n        }\n        if (this.booking.state === 'cancelled') {\n            return 'cancelled';\n        }\n        const booking_type = (this.booking.booking_type as any).id\n            ? (this.booking.booking_type as any).id\n            : this.booking.booking_type;\n        if (booking_type === 'internal' && this.booking.visitors) {\n            return 'external';\n        }\n        return booking_type;\n    }\n\n    /** Setup time before the meeting start */\n    public get setup(): string {\n        const booking: IBooking = this.booking || ({} as any);\n        return Utils.humaniseDuration(booking.setup || 0);\n    }\n\n    /** Breakdown time after the meeting end */\n    public get breakdown(): string {\n        const booking: IBooking = this.booking || ({} as any);\n        return Utils.humaniseDuration(booking.breakdown || 0);\n    }\n\n    /** Whether the booking can be edited */\n    public get can_edit(): boolean {\n        const now = dayjs();\n        const date = dayjs(this.booking.date);\n        return now.isBefore(date, 'm');\n    }\n\n    /** Whether the booking is in progress */\n    public get in_progress(): boolean {\n        const now = dayjs();\n        const date = dayjs(this.booking.date);\n        const end = date.add(this.booking.duration, 'm');\n        return !now.isBefore(date, 'm') && now.isBefore(end, 'm');\n    }\n\n    /** Whether the booking can be accepted */\n    public get can_accept(): boolean {\n        return this.booking.state === 'tentative' || this.booking.state === 'cancelled';\n    }\n\n    /** Whether the booking can be declined */\n    public get can_decline(): boolean {\n        return this.booking.state !== 'cancelled';\n    }\n\n    constructor(\n        private _service: AppService,\n        private _dialog: MatDialog,\n        private _dialog_ref: MatDialogRef<MeetingDetailsOverlayComponent>,\n        @Inject(MAT_DIALOG_DATA) private _data: MeetingDetailsModalData\n    ) {\n        super();\n    }\n\n    public init() {\n        this.subscription(\n            'new_booking',\n            this._service.listen('CONCIERGE.latest_booking', booking => {\n                if (booking) {\n                    this._data.booking = booking;\n                }\n            })\n        );\n    }\n\n    public ngOnDestroy(): void {\n        super.ngOnDestroy();\n        this._service.set('CONCIERGE.latest_booking', null);\n    }\n\n    /**\n     * Edit the catering orders of the booking\n     */\n    public editCatering() {\n        this.editDetails('catering');\n    }\n\n    /**\n     * Edit space requirements of the booking\n     */\n    public editRequirements() {\n        this.editDetails('equipment');\n    }\n\n    /**\n     * Edit details of the booking\n     * @param type Refine the details to edit\n     */\n    public editDetails(type?: 'catering' | 'equipment' | undefined) {\n        const booking = this.booking || ({} as any);\n        const spaces = booking.room_list ? booking.room_list : booking.room ? [booking.room] : [];\n        const catering = booking.catering;\n        const ref = this._dialog.open(BookingModalComponent, {\n            data: {\n                booking: {\n                    ...booking,\n                    room: spaces.map(i => ({ ...i, bookings: [] })),\n                    equipment: (booking.notes || [])\n                        .filter(i => i.type === 'equipment')\n                        .reduce((a, v) => {\n                            a[v.space] = v.message;\n                            return a;\n                        }, {}),\n                    catering_notes: (booking.notes || [])\n                        .filter(i => i.type === 'catering')\n                        .sort((a, b) => b.date - a.date)\n                        .reduce((a, v) => {\n                            a[v.space] = v.message;\n                            return a;\n                        }, {}),\n                    catering_code: catering.reduce((map, order) => {\n                        map[order.location_id] = order.charge_code;\n                        return map;\n                    }, {}),\n                    expected_attendees: {\n                        ...(booking.expected_attendees || {})\n                    },\n                    old_date: dayjs(booking.date).valueOf(),\n                    old_end: dayjs(booking.date)\n                        .add(booking.duration, 'm')\n                        .unix(),\n                    booking_type: { id: booking.booking_type },\n                    equipment_code: { ...(booking.equipment_code || {}) },\n                    catering: catering.map(order => new CateringOrder(order)),\n                    host: { ...(booking.organiser || {}) }\n                },\n                edit_catering: type === 'catering',\n                edit_equipment: type === 'equipment'\n            }\n        });\n    }\n\n    /**\n     * Accept the active booking\n     */\n    public acceptMeeting() {\n        this._service.Bookings.accept(this.booking.id, {\n            comment: '',\n            room_id: this.booking.room ? this.booking.room.id : (this.booking as any).room_id\n        }).then(\n            () => {\n                this._service.notifySuccess('Successfully accepted meeting');\n                this._dialog_ref.close();\n            },\n            e => {\n                this._service.notifyError(`Error accepting meeting: ${e}`);\n            }\n        );\n    }\n\n    /**\n     * Decline the active booking\n     */\n    public declineMeeting() {\n        this._service.Bookings.decline(this.booking.id, {\n            booking_id: this.booking.id,\n            organiser: this.booking.organiser.email,\n            icaluid: this.booking.icaluid,\n            start: Math.floor(this.booking.date / 1000),\n            end: Math.floor(this.booking.date / 1000) + this.booking.duration * 60,\n            room_id: this.booking.room ? this.booking.room.id : (this.booking as any).room_id\n        }).then(\n            () => {\n                this._service.notifySuccess('Successfully declined meeting');\n                this._dialog_ref.close();\n            },\n            e => {\n                this._service.notifyError(`Error declining meeting: ${e}`);\n            }\n        );\n    }\n\n    /**\n     * Delete the active booking\n     */\n    public deleteMeeting() {\n        const start = dayjs(this.booking.date);\n        const end = start.add(this.booking.duration, 'm');\n        const ref = this._dialog.open(ConfirmDeleteModalComponent, {\n            data: {\n                id: this.booking.id,\n                fields: {\n                    concierge: true,\n                    room_id: this.booking.room.id,\n                    host: this.booking.organiser.email,\n                    icaluid: this.booking.icaluid,\n                    start: start.unix(),\n                    end: end.unix()\n                }\n            }\n        });\n        ref.componentInstance.event.subscribe(event => {\n            if (event.reason === 'done') {\n                ref.close();\n                this.event.emit({ reason: 'action', metadata: 'deleted' });\n                this._dialog_ref.close();\n            }\n        });\n    }\n\n    /**\n     * Update private details for booking\n     */\n    public updateOffsets() {\n        const ref = this._dialog.open(PrivateDetailsModalComponent, {\n            data: {\n                booking: this.booking,\n                space: this.space\n            }\n        });\n    }\n\n    public viewOrder(id: string) {\n        if (sessionStorage) {\n            sessionStorage.setItem('CONCIERGE.view_order', id);\n            const booking = JSON.stringify({ ...this.booking, room: { ...this.booking.room, bookings: [] } });\n            sessionStorage.setItem('CONCIERGE.order_booking', booking);\n        }\n        this._dialog_ref.close();\n    }\n}\n","<header>\n    <div class=\"text\">New Visitor(s)</div>\n    <button mat-icon-button mat-dialog-close>\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <div class=\"body\" *ngIf=\"!loading; else load_state\">\n        <div class=\"form\">\n            <div class=\"content\">\n                <div class=\"basic-details\">\n                    <dynamic-form\n                        [fields]=\"booking_fields\"\n                        (form)=\"processDetails($event)\"\n                        (valid)=\"valid = $event\"\n                    ></dynamic-form>\n                </div>\n                <div class=\"heading\">Add visitor</div>\n                <div class=\"new-user\">\n                    <dynamic-form\n                        [fields]=\"user_fields\"\n                        [validate]=\"validate\"\n                        (form)=\"processUser($event)\"\n                        (valid)=\"user_valid = $event\"\n                    ></dynamic-form>\n                </div>\n            </div>\n            <div class=\"footer\">\n                <button mat-button [disabled]=\"!user_valid\" (touchrelease)=\"addUser(new_user); processUser({}, true)\">\n                    Add\n                </button>\n            </div>\n        </div>\n        <div class=\"sidebar\">\n            <div class=\"content\">\n                <div class=\"heading\">Visitor list ({{ visitors?.length || '0' }})</div>\n                <div class=\"list\">\n                    <div class=\"item\" *ngFor=\"let item of visitors || []\">\n                        <div class=\"tag\">\n                            <user-tag [model]=\"item\" [email]=\"true\"></user-tag>\n                        </div>\n                        <button mat-icon-button (touchrelease)=\"removeUser(item)\">\n                            <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"footer\">\n                <button mat-button [disabled]=\"!visitors || visitors.length <= 0 || !valid\" (touchrelease)=\"post()\">\n                    Finish\n                </button>\n            </div>\n        </div>\n    </div>\n</mat-dialog-content>\n<ng-template #load_state>\n    <div class=\"no-item\" center>\n        <div class=\"icon\">\n            <i class=\"material-icons\" *ngIf=\"!processing\">done</i>\n            <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .2)\" *ngIf=\"processing\"></spinner>\n        </div>\n        <div class=\"text\">\n            {{ loading }}\n        </div>\n    </div>\n</ng-template>\n","import { Component, Output, EventEmitter } from '@angular/core';\nimport { IDynamicFieldOptions } from '@acaprojects/ngx-widgets';\nimport { Validators } from '@angular/forms';\nimport { MatDialogRef } from '@angular/material/dialog';\n\nimport { CUSTOM_FIELD_REGISTER } from '../../shared/globals/custom-field-register';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { IUser } from '../../services/data/users.service';\nimport { CustomDateFieldComponent } from '../../shared/components/custom-fields/date-field/date-field.component';\nimport { CustomTimeFieldComponent } from '../../shared/components/custom-fields/time-field/time-field.component';\nimport { AppService } from '../../services/app.service';\nimport { ILevel } from '../../services/data/buildings.service';\nimport { DialogEvent } from '../../shared/utilities/type.helpers';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'new-visitor-modal',\n    templateUrl: './new-visitor-modal.component.html',\n    styleUrls: ['./new-visitor-modal.component.scss']\n})\nexport class NewVisitorModalComponent extends BaseDirective {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n\n    public levels: ILevel[] = [];\n\n    public booking_fields: any[] = [];\n\n    public user_fields: any[] = [];\n\n    public purpose_list: string[] = [];\n    /** Display string for the current loading state */\n    public loading: string;\n    /** Whether a request is being processed */\n    public processing: boolean;\n    /** */\n    public new_user: any;\n    /**  */\n    public details: any;\n    /** Toggle for validating the state of the new user form */\n    public validate: boolean;\n    /** List of visitors in the meeting */\n    public visitors: IUser[] = [];\n    /** Name of the visitor group / Title of the meeting */\n    public group_name: string;\n\n    constructor(\n        private _service: AppService,\n        private _dialog_ref: MatDialogRef<NewVisitorModalComponent>\n    ) {\n        super();\n    }\n\n    public init() {\n        const bld = this._service.Buildings.current() || { levels: [] };\n        const fields: IDynamicFieldOptions<any>[] = [\n            {\n                key: 'host', label: 'Host', flex: true, control_type: 'custom', cmp: CUSTOM_FIELD_REGISTER.user,\n                metadata: { service: this._service.Users }, required: true\n            },\n            {\n                key: 'level', label: 'Meeting Point', flex: true, control_type: 'dropdown',\n                options: bld.levels, required: true\n            },\n            {\n                key: 'date', label: 'Date', control_type: 'custom',\n                cmp: CustomDateFieldComponent, required: true\n            },\n            {\n                key: 'time', label: 'Time', control_type: 'custom',\n                cmp: CustomTimeFieldComponent, required: true, refs: ['date']\n            }\n        ];\n        this.purpose_list = ['Business', 'Project', 'Delivery', 'Interview', 'Maintainance', 'Social', 'Training', 'Other'];\n        this.levels = bld.levels;\n        this._service.Buildings.listen((bldn) => {\n            if (bldn) {\n                fields[1].options = bldn.levels;\n                this.levels = bldn.levels;\n                this.booking_fields = [ ...fields ];\n            }\n        });\n        this.booking_fields = fields;\n        this.processUserFields();\n    }\n\n    public processUserFields() {\n        const enable = this.new_user && this.new_user.email;\n        const email = enable ? this.new_user.email : '';\n        const first_name = enable ? this.new_user.first_name : '';\n        const last_name = enable ? this.new_user.last_name : '';\n        const phone = enable ? this.new_user.phone : '';\n        const host = this.details ? this.details.host : null;\n        const fields: IDynamicFieldOptions<any>[] = [\n            { key: 'host', label: 'Host', hide: true, value: host },\n            {\n                key: 'contact', label: 'Search', flex: true, control_type: 'custom', cmp: CUSTOM_FIELD_REGISTER.user,\n                metadata: { service: this._service.Contacts }, disabled: !host, refs: ['host']\n            },\n            { key: 'email', label: 'Email', flex: true, control_type: 'text', validators: [Validators.email], required: true, value: email, disabled: !host },\n            { key: 'first_name', label: 'First Name', flex: true, control_type: 'text', required: true, disabled: !enable || !host, value: first_name },\n            { key: 'last_name', label: 'Last Name', flex: true, control_type: 'text', required: true, disabled: !enable || !host, value: last_name },\n            { key: 'phone', label: 'Contact', flex: true, control_type: 'text', type: 'tel', disabled: !enable || !host, value: phone },\n            {\n                key: 'purpose', label: 'Purpose', flex: true, control_type: 'dropdown', disabled: !enable,\n                options: this.purpose_list\n            },\n        ];\n        this.user_fields = fields;\n    }\n\n    public processDetails(form: { [name: string]: any }) {\n        this.details = form;\n        this.processUserFields();\n    }\n\n    public processUser(form: { [name: string]: any }, clear: boolean = false) {\n        this.timeout('process', () => {\n            const email = this.new_user ? this.new_user.email : null;\n            this.new_user = form;\n            if ((form && form.contact && form.contact.email !== this.new_user.email) || clear) {\n                this.new_user = form.contact;\n                this.processUserFields();\n                this.validate = !this.validate;\n            } else if (email !== form.email && !email) {\n                this.processUserFields();\n            }\n        }, 500);\n    }\n\n    public addUser(user: IUser) {\n        if (!this.visitors) { this.visitors = []; }\n        user.name = `${user.first_name} ${user.last_name}`;\n        user.external = true;\n        user.purpose = this.purpose_list[user.purpose];\n        this.visitors.push(user);\n    }\n\n    public removeUser(user: IUser) {\n        if (!this.visitors) { return; }\n        this.visitors.splice(this.visitors.indexOf(user), 1);\n    }\n\n    public post() {\n        this.loading = 'Creating visitor group...';\n        this.processing = true;\n        const date = moment(this.details.date).seconds(0).millisecond(0).valueOf();\n        this._service.Visitors.add({\n            visitors: this.visitors,\n            date,\n            name: this.group_name,\n            host: this.details.host,\n            level: this.levels[this.details.level]\n        }).then(() => {\n            this._service.notifySuccess('Successfully added new visitors');\n            this.processing = false;\n            this.timeout('close', () => this._dialog_ref.close());\n        }, () => {\n            this._service.notifyError('Error adding new visitors');\n            this.loading = null;\n        });\n    }\n\n}\n","\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { WidgetsModule, DynamicFormComponentModule } from '@acaprojects/ngx-widgets';\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { SharedComponentModule } from '../shared/components/shared.module';\n\nimport { ConfirmModalComponent } from './confirm-modal/confirm-modal.component';\nimport { AttendeeModalComponent } from './attendee-modal/attendee-modal.component';\nimport { CalendarModalComponent } from './calendar-modal/calendar-modal.component';\nimport { CateringDetailsOverlayComponent } from './catering-details-overlay/catering-details-overlay.component'\nimport { MeetingDetailsOverlayComponent } from './meeting-details-overlay/meeting-details-overlay.component';\nimport { RoomSelectModalComponent } from './room-select-modal/room-select-modal.component';\nimport { VisitorDetailsOverlayComponent } from './visitor-details-overlay/visitor-details-overlay.component';\nimport { UserDetailsOverlayComponent } from './user-details-overlay/user-details-overlay.component';\nimport { NewVisitorModalComponent } from './new-visitor-modal/new-visitor-modal.component';\nimport { AddVisitorModalComponent } from './add-visitor-modal/add-visitor-modal.component';\nimport { CATERING_ENTRY_COMPONENTS } from '../shell/catering/catering.module';\nimport { BOOKING_MODAL_COMPONENTS } from './booking-modal';\nimport { CateringModalComponent } from './catering-modal/catering-modal.component';\nimport { MeetingDetailsDisplayComponent } from './meeting-details-overlay/details-display/details-display.component';\nimport { PrivateDetailsModalComponent } from './private-details-modal/private-details-modal.component';\nimport { ConfirmDeleteModalComponent } from './confirm-delete/confirm-delete.component';\n\nconst COMPONENTS: any[] = [\n    ConfirmModalComponent,\n    AttendeeModalComponent,\n    CalendarModalComponent,\n    CateringDetailsOverlayComponent,\n    MeetingDetailsOverlayComponent,\n    RoomSelectModalComponent,\n    VisitorDetailsOverlayComponent,\n    UserDetailsOverlayComponent,\n    NewVisitorModalComponent,\n    AddVisitorModalComponent,\n    CateringModalComponent,\n    PrivateDetailsModalComponent,\n    ConfirmDeleteModalComponent,\n    ...CATERING_ENTRY_COMPONENTS,\n    ...BOOKING_MODAL_COMPONENTS\n];\n\n@NgModule({\n    declarations: [\n        ...COMPONENTS,\n        MeetingDetailsDisplayComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        WidgetsModule,\n        SharedComponentModule,\n        DynamicFormComponentModule,\n        RouterModule.forChild([])\n    ],\n    exports: [\n        ...COMPONENTS\n    ],\n    entryComponents: [\n        ...COMPONENTS\n    ]\n})\nexport class OverlayComponentModule { }\n","<header>\n    <div class=\"text\">Update Private Details</div>\n    <button mat-icon-button mat-dialog-close>\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <div class=\"body\" *ngIf=\"!loading; else load_state\">\n        <div class=\"field\">\n            <label>Setup:</label>\n            <div class=\"value\">\n                <dropdown klass=\"form\" [list]=\"durations\" [(model)]=\"setup_index\" placeholder=\"Select Setup\">\n                </dropdown>\n            </div>\n        </div>\n        <div class=\"field\">\n            <label>Breakdown:</label>\n            <div class=\"value\">\n                <dropdown klass=\"form\" [list]=\"durations\" [(model)]=\"breakdown_index\" placeholder=\"Select Breakdown\">\n                </dropdown>\n            </div>\n        </div>\n        <div class=\"field\">\n            <label>Notes:</label>\n            <div class=\"value\">\n                <textarea [(ngModel)]=\"notes\"></textarea>\n            </div>\n        </div>\n    </div>\n</mat-dialog-content>\n<mat-dialog-actions>\n    <footer>\n        <button mat-button (touchrelease)=\"save()\">Save</button>\n    </footer>\n</mat-dialog-actions>\n<ng-template #load_state>\n    <div class=\"body\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\"></spinner>\n            </div>\n            <div class=\"text\">Saving changes to private details...</div>\n        </div>\n    </div>\n</ng-template>\n","import { Component, OnInit, Inject, EventEmitter, Output } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { Utils } from '../../shared/utility.class';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { DialogEvent } from '../../shared/utilities/type.helpers';\nimport { IRoom } from '../../services/data/rooms.service';\nimport { IBooking, IBookingNote } from '../../services/data/bookings.service';\nimport { AppService } from '../../services/app.service';\n\nimport * as dayjs from 'dayjs';\n\nexport interface PrivateDetailsModalData {\n    space: IRoom;\n    booking: IBooking;\n}\n\n@Component({\n    selector: 'app-private-details-modal',\n    templateUrl: './private-details-modal.component.html',\n    styleUrls: ['./private-details-modal.component.scss']\n})\nexport class PrivateDetailsModalComponent extends BaseDirective implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n\n    /** Availble duration values for the setup and breakdown times */\n    public durations: string[] = Array(13).fill(0).map((_, idx) => Utils.humaniseDuration(idx * 5 || 0) || '0 minutes');\n\n    /** Index of the active setup duration */\n    public setup_index: number;\n    /** Index of the active breakdown duration */\n    public breakdown_index: number;\n    /** Private notes for the booking */\n    public notes: string;\n    /** Whether private details are being saved */\n    public loading: boolean;\n\n    /** Active booking */\n    public get booking(): IBooking {\n        return this._data.booking || {} as any;\n    }\n\n    /** Active space */\n    public get space(): IRoom {\n        return this._data.space || {} as any;\n    }\n\n    /** Setup value for the current booking */\n    public get setup(): number {\n        return this.booking.setup || 0;\n    }\n    /** Breakdown value for the current booking */\n    public get breakdown(): number {\n        return this.booking.breakdown || 0;\n    }\n\n    constructor(\n        @Inject(MAT_DIALOG_DATA) private _data: PrivateDetailsModalData,\n        private _service: AppService\n    ) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.setup_index = Math.round(this.setup / 5);\n        this.breakdown_index = Math.round(this.breakdown / 5);\n        const private_notes = this.booking.notes.filter(i => i.type === 'private' && i.space === this.space.id);\n        if (private_notes && private_notes.length > 0) {\n            this.notes = private_notes.sort((a, b) => b.date - a.date)[0].message;\n        }\n    }\n\n    /**\n     * Save changes to the private details\n     */\n    public save() {\n        this.loading = true;\n        // Do nothing if there are no changes\n        if (this.setup_index * 5 === this.setup && this.breakdown_index === this.breakdown && !this.notes) {\n            this._service.notifySuccess('Successfully updated private details');\n            this.event.emit({ reason: 'done' });\n            return;\n        }\n        const notes: IBookingNote[] = [...this.booking.notes, {\n            type: 'private',\n            date: dayjs().valueOf(),\n            author: this._service.Users.current().name,\n            space: this.booking.room.id,\n            message: this.notes\n        }];\n        this._service.Bookings.updateItem(this.booking.id, {\n            ...this.booking,\n            room: this.booking.room_list || [this.booking.room],\n            notes,\n            setup: this.setup_index * 5,\n            breakdown: this.breakdown_index * 5\n        }).then((booking) => {\n            this._service.set('CONCIERGE.latest_booking', booking);\n            this._service.notifySuccess('Successfully updated private details');\n            this.event.emit({ reason: 'done' });\n        }, (err) => {\n            this.loading = false;\n            this._service.notifyError(`Error updating private details: ${err}`);\n        });\n    }\n\n}\n\n\n","<header>\n    <div class=\"text\">Select space{{multiple ? '(s)' : '' }}</div>\n    <button mat-icon-button mat-dialog-close>\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <div class=\"body\" [class.multi]=\"multiple\">\n        <div class=\"main\">\n            <div class=\"list\">\n                <dropdown\n                    klass=\"form\"\n                    [list]=\"buildings\"\n                    [model]=\"index\"\n                    (modelChange)=\"zone = buildings[$event].id; updateList()\"\n                    placeholder=\"Select location\"\n                >\n                </dropdown>\n                <dropdown\n                    klass=\"form\"\n                    [list]=\"space_types\"\n                    [model]=\"type_index\"\n                    (modelChange)=\"type = space_types[$event].id; updateList()\"\n                    placeholder=\"Select location\"\n                >\n                </dropdown>\n                <ng-container *ngIf=\"available_spaces && !loading\">\n                    <div class=\"item\" *ngFor=\"let item of available_spaces\">\n                        <div class=\"details\">\n                            <div class=\"name\">{{item.name}}</div>\n                            <div class=\"level\">\n                                {{item.level?.building_id ? item.level?.building + ', ' : ''}}{{item.level?.name}}\n                            </div>\n                        </div>\n                        <div class=\"button\">\n                            <button mat-button (touchrelease)=\"select(item)\">Select</button>\n                        </div>\n                    </div>\n                </ng-container>\n                <ng-container *ngIf=\"!available_spaces || available_spaces.length <= 0 || loading\">\n                    <div class=\"no-item\">\n                        <div class=\"icon\">\n                            <spinner *ngIf=\"loading\" type=\"circle-ring\" color=\"rgba(0,0,0, .54)\"></spinner>\n                        </div>\n                        <div class=\"text\">\n                            {{loading ? 'Loading available spaces...' : 'No available spaces'}}\n                        </div>\n                    </div>\n                </ng-container>\n            </div>\n        </div>\n        <div class=\"sidebar\" *ngIf=\"multiple\" [class.show]=\"show\">\n            <div class=\"group\">\n                <div class=\"heading\">\n                    Selected space{{spaces && spaces.length === 1 ? '' : 's'}}({{spaces ? spaces.length || '0' : '0'}})\n                </div>\n                <div class=\"list\">\n                    <ng-container *ngIf=\"spaces\">\n                        <div class=\"item\" *ngFor=\"let item of spaces\">\n                            <div class=\"details\">\n                                <div class=\"name\">{{item.name}}</div>\n                                <div class=\"level\">\n                                    {{item.level && item.level?.bld_id ? item.level?.building + ', ' :\n                                    ''}}{{item.level?.name}}\n                                </div>\n                            </div>\n                            <button mat-icon-button (touchrelease)=\"remove(item)\">\n                                <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n                            </button>\n                        </div>\n                    </ng-container>\n                    <ng-container *ngIf=\"!spaces || spaces.length <= 0\">\n                        <div class=\"no-item\">\n                            <div class=\"text\">No spaces selected</div>\n                        </div>\n                    </ng-container>\n                </div>\n                <div class=\"button\">\n                    <button mat-button [disabled]=\"!spaces || spaces.length <= 0\" (touchrelease)=\"finished()\">\n                        Finish\n                    </button>\n                </div>\n            </div>\n            <div class=\"tag mobile-only\">\n                <div class=\"content\" (touchrelease)=\"show = !show\">\n                    <div class=\"text\">{{spaces ? spaces.length || '0' : '0'}}</div>\n                    <app-icon [icon]=\"{ class: 'material-icons', content: 'room'}\"></app-icon>\n                </div>\n            </div>\n        </div>\n    </div>\n</mat-dialog-content>\n","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component, OnInit, Inject, Output, EventEmitter } from '@angular/core';\n\nimport * as dayjs from 'dayjs';\nimport { Utils } from '../../shared/utility.class';\nimport { AppService } from '../../services/app.service';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { IRoom } from '../../services/data/rooms.service';\nimport { IBuilding } from '../../services/data/buildings.service';\nimport { Identity, DialogEvent, HashMap } from '../../shared/utilities/type.helpers';\n\nexport interface SpaceSelectModalData {\n    /** List of currently selected spaces */\n    spaces: IRoom[];\n    /** Date to check availability of spaces */\n    date: number;\n    /** Length of the available block */\n    duration: number;\n    /** ID of a booking to ignore when checking availability */\n    id: string;\n}\n\n@Component({\n    selector: 'room-select-modal',\n    templateUrl: './room-select-modal.template.html',\n    styleUrls: ['./room-select-modal.styles.scss'],\n})\nexport class RoomSelectModalComponent extends BaseDirective implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** List of selected spaces */\n    public spaces: IRoom[] = [];\n    /** ID of the currently selected zone to filter on */\n    public zone: string;\n    /** Index of the selected building within the building list */\n    public index: number;\n    /** List of available types of spaces */\n    public space_types: Identity[] = [];\n    /** Whether available space list is loading */\n    public loading: boolean;\n    /** Active space types selected */\n    public type: any;\n    /** Index of the selected type within the type list */\n    public type_index: number;\n    /** List of spaces available to booking to the selected time and duration */\n    public available_spaces: IRoom[] = [];\n    /** Whether to show the space list sidebar */\n    public show: boolean;\n\n    /** List of available buildings */\n    public get buildings(): IBuilding[] {\n        return this._service.Buildings.list();\n    }\n\n    /** Whether multiple spaces are allowed to be selected */\n    public get multiple(): boolean{\n        return this._service.Settings.get('app.booking.multi_space');\n    }\n\n    /** Mapping of space IDs to whether the space is active */\n    public get active_spaces(): HashMap<boolean> {\n        const spaces = {};\n        this.spaces.forEach(space => spaces[space.id] = true);\n        return spaces;\n    }\n\n    constructor(\n        private _service: AppService,\n        @Inject(MAT_DIALOG_DATA) private _data: SpaceSelectModalData\n    ) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        if (this._data.spaces) {\n            this.spaces = [ ...this._data.spaces ];\n        }\n        this.subscription('building', this._service.Buildings.listen(_ => {\n            this.initLists();\n        }));\n        this.initLists();\n        this.updateList();\n    }\n\n    public initLists() {\n        this.zone = this._service.Buildings.current().id;\n        this.index = this.buildings.findIndex(i => i.id === this.zone);\n\n        const room_types = this._service.Buildings.organisation().space_types;\n        this.space_types = Object.keys(room_types).map(i => ({ id: i, name: room_types[i] }));\n        this.space_types.unshift({ id: -1, name: 'All Room Types' });\n        this.type = null;\n        this.type_index = 0;\n    }\n\n    public updateList() {\n        const date = dayjs(this._data.date || undefined);\n        this.loading = true;\n        const zones = [this.zone || this._service.Buildings.current().id];\n        if (this.type) {\n            zones.push(this.type);\n        }\n        this._service.Rooms.available({\n            date: date.valueOf(),\n            duration: this._data.duration || 60,\n            zone_ids: zones.reduce((a, i) => a += a ? ',' + i : i, ''),\n            ignore: this._data.id\n        }).then((list) => {\n            this.available_spaces = list.filter(i => zones.reduce((a, v) => a && i.zones.indexOf(v) >= 0, true));\n            this.available_spaces.sort((a, b) => (a.level.name || '').localeCompare(b.level.name) || (a.name || '').localeCompare(b.name));\n            this.loading = false;\n        }, _ => this.loading = false);\n    }\n\n    public select(item) {\n        if (this.multiple) {\n            if (!this.spaces) { this.spaces = []; }\n            item.selected = true;\n            this.spaces.push(item);\n            this.spaces = Utils.unique(this.spaces, 'id');\n        } else {\n            this.spaces = [item];\n            this.event.emit({ reason: 'done' });\n        }\n    }\n\n    public remove(item) {\n        if (this.spaces) {\n            const index = this.spaces.findIndex(i => i.id === item.id);\n            if (index >= 0) {\n                this.spaces.splice(index, 1);\n            }\n        }\n    }\n\n    public finished() {\n        if (this.spaces && this.spaces.length > 0) {\n            this.event.emit({ reason: 'done' });\n        }\n    }\n}\n","<header>\n    <div class=\"text\">{{user ? (edit ? 'Edit' : 'View') : 'New'}} Contact</div>\n    <button mat-icon-button *ngIf=\"!processing || !loading\" mat-dialog-close>\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n    </button>\n</header>\n<form #user_details *ngIf=\"!loading\">\n    <mat-dialog-content>\n        <div class=\"body\">\n            <div class=\"details\" *ngIf=\"user\">\n                <div class=\"field\">\n                    <div class=\"label\">Name:</div>\n                    <div class=\"value\">{{user.name}}</div>\n                </div>\n                <div class=\"field\" *ngIf=\"user.organisation\">\n                    <div class=\"label\">Organisation:</div>\n                    <div class=\"value\">{{user.organisation?.name}}</div>\n                </div>\n                <div class=\"field\">\n                    <div class=\"label\">Email:</div>\n                    <div class=\"value\">{{user.email}}</div>\n                </div>\n                <div class=\"field\">\n                    <div class=\"label\">Mobile:</div>\n                    <div class=\"value\">{{user.phone || user.mobile}}</div>\n                </div>\n            </div>\n            <div class=\"form\" *ngIf=\"!user\">\n                <user-form [(form)]=\"form\" [search]=\"false\" [visitors]=\"!backend\" [edit]=\"edit\"></user-form>\n            </div>\n        </div>\n    </mat-dialog-content>\n    <mat-dialog-actions>\n        <div class=\"footer\">\n            <button mat-button class=\"inverse\" mat-dialog-close>Close</button>\n            <button mat-button *ngIf=\"user\">Edit</button>\n            <button\n                mat-button\n                *ngIf=\"!user && edit\"\n                [disabled]=\"!form || (!form.first_name && !form.last_name && !form.email && (!form.users || form.users.length <= 0))\"\n                (touchrelease)=\"update()\"\n            >\n                Save\n            </button>\n            <button\n                mat-button\n                *ngIf=\"!user && !edit\"\n                [disabled]=\"!form || (!form.first_name && !form.last_name && !form.email && (!form.users || form.users.length <= 0))\"\n                (touchrelease)=\"add()\"\n            >\n                Add\n            </button>\n        </div>\n    </mat-dialog-actions>\n</form>\n<ng-template #load_state>\n    <div class=\"body\">\n        <div class=\"no-item\" center *ngIf=\"loading\">\n            <div class=\"icon\">\n                <i class=\"material-icons\" *ngIf=\"!processing\">done</i>\n                <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .2)\" *ngIf=\"processing\"></spinner>\n            </div>\n            <div class=\"text\">\n                {{processing ? 'Processing request...' : (edit ? 'Updated user' : 'Successfully added user')}}\n            </div>\n        </div>\n    </div>\n</ng-template>\n","import { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\nimport { AppService } from '../../services/app.service';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { DialogEvent, HashMap } from '../../shared/utilities/type.helpers';\nimport { IUser } from '../../services/data/users.service';\n\nexport interface UserDetailsModalData {\n    user: IUser;\n}\n\n@Component({\n    selector: 'user-details-overlay',\n    templateUrl: './user-details-overlay.template.html',\n    styleUrls: ['./user-details-overlay.styles.scss']\n})\nexport class UserDetailsOverlayComponent extends BaseDirective {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Whether a request is in progress */\n    public loading: boolean;\n    /** Whether a request is being processed */\n    public processing: boolean;\n    /** Form data for user */\n    public form: HashMap = {};\n    /** Whether user details are being edited */\n    public edit: boolean;\n\n    public get user(): IUser {\n        return this._data.user;\n    }\n\n    constructor(\n        private _service: AppService,\n        private _dialog_ref: MatDialogRef<UserDetailsOverlayComponent>,\n        @Inject(MAT_DIALOG_DATA) private _data: UserDetailsModalData\n    ) {\n        super();\n    }\n\n    public add(finish: boolean = true) {\n        this.loading = true;\n        this.processing = true;\n        this.form.name = (this.form.first_name || '') + ' ' + (this.form.last_name || '');\n        this.processing = false;\n        this.event.emit({ reason: 'done' });\n        if (finish) {\n            this._dialog_ref.close();\n        } else {\n            setTimeout(() => {\n                this.form = {};\n                this.loading = false;\n            }, 3000);\n        }\n    }\n\n    public update() {\n        this.loading = true;\n        this.processing = true;\n        this.form.name = (this.form.first_name || '') + ' ' + (this.form.last_name || '');\n        this._service.Users.update(\n            this.user.id,\n            this.form.users ? this.form.users[0] || this.form : this.form\n        ).then(\n            () => {\n                this.processing = false;\n                this.event.emit({ reason: 'done' });\n                setTimeout(() => this._dialog_ref.close(), 3000);\n            },\n            () => (this.loading = false)\n        );\n    }\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">{{visitor ? (edit ? 'Edit' : 'View') : 'New'}} Visitor(s)</div>\n        <button mat-icon-button *ngIf=\"!processing || !loading\" mat-dialog-close>\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n        </button>\n    </div>\n    <div class=\"body\">\n        <visitor-form [visitor]=\"visitor\" (close)=\"close()\"></visitor-form>\n    </div>\n    <div class=\"no-item\" center *ngIf=\"loading\">\n        <div class=\"icon\">\n            <i class=\"material-icons\" *ngIf=\"!processing\">done</i>\n            <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .2)\" *ngIf=\"processing\"></spinner>\n        </div>\n        <div class=\"text\">\n            <ng-container *ngIf=\"processing\">Processing request...</ng-container>\n            <ng-container *ngIf=\"!processing && edit\">Updated meeting</ng-container>\n            <ng-container *ngIf=\"!processing && deleting\">\n                Successfully {{booking && booking.is_organiser ? 'declined' : 'deleted'}} meeting\n            </ng-container>\n            <ng-container *ngIf=\"!processing && !edit && !deleting\">Successfully created meeting</ng-container>\n        </div>\n    </div>\n</div>\n","\nimport { Component, Inject } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { IUser } from '../../services/data/users.service';\nimport { HashMap } from '../../shared/utilities/type.helpers';\nimport { IBooking } from '../../services/data/bookings.service';\n\nexport interface VisitorDetailsModalData {\n    visitor: IUser;\n    booking: IBooking;\n}\n\n@Component({\n    selector: 'visitor-details-overlay',\n    templateUrl: './visitor-details-overlay.template.html',\n    styleUrls: ['./visitor-details-overlay.styles.scss']\n})\nexport class VisitorDetailsOverlayComponent extends BaseDirective {\n\n    public form: HashMap = {};\n\n    public group: any;\n\n    public datetime: number;\n\n    public loading: boolean;\n    public processing: boolean;\n    public edit: boolean;\n    public deleting: boolean;\n\n    public get visitor(): any {\n        return this._data.visitor;\n    }\n\n    public get booking(): IBooking {\n        return this._data.booking;\n    }\n\n    constructor(\n        private _dialog_ref: MatDialogRef<VisitorDetailsOverlayComponent>,\n        @Inject(MAT_DIALOG_DATA) private _data: VisitorDetailsModalData\n    ) {\n        super();\n    }\n\n    public init() {\n        this.form = {};\n        this.group = 0;\n        if (this.visitor) {\n            this.datetime = this.visitor.date || this.visitor.time;\n        }\n    }\n\n    public close() {\n        this._dialog_ref.close();\n    }\n}\n","/**\n * @Author: Alex Sorafumo <alex.sorafumo>\n * @Date:   12/01/2017 2:25 PM\n * @Email:  alex@yuion.net\n * @Filename: app.service.ts\n * @Last modified by:   Alex Sorafumo\n * @Last modified time: 03/02/2017 10:25 AM\n */\n\nimport { Injectable } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\nimport { SwUpdate } from '@angular/service-worker';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { ComposerOptions } from '@acaprojects/ts-composer';\nimport { OverlayService } from '@acaprojects/ngx-widgets';\n\nimport { SettingsService } from './settings.service';\nimport { AnalyticsService } from './data/analytics.service';\nimport { Utils } from '../shared/utility.class';\n\nimport { UsersService } from './data/users.service';\nimport { BuildingsService } from './data/buildings.service';\nimport { CommentsService } from './data/comments.service';\nimport { RoomsService } from './data/rooms.service';\nimport { BookingsService } from './data/bookings.service';\nimport { VisitorsService } from './data/visitors.service';\nimport { HotkeyService } from './hotkey.service';\nimport { LocationService } from './data/location.service';\nimport { ContactsService } from './data/contacts.service';\nimport { CateringItemsService } from './data/catering/catering-items.service';\nimport { CateringMenuService } from './data/catering/catering-menu.service';\nimport { ReportsService } from './data/reports.service';\n\n// To be removed after back-end is updated\nimport { BookingsReportsService } from './data/bookingsreports.service';\n\nimport {\n    ConfirmModalComponent,\n    CONFIRM_METADATA,\n    ConfirmModalData\n} from '../overlays/confirm-modal/confirm-modal.component';\nimport { CateringCategoriesService } from './data/catering/catering-categories.service';\nimport { ComposerSettings, ApplicationIcon } from '../shared/utilities/settings.interface';\nimport { BaseClass } from '../shared/globals/base.class';\nimport { first } from 'rxjs/operators';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AppService extends BaseClass {\n    private api_base = 'api/staff';\n\n    private subjects: any = {};\n    private observers: any = {};\n\n    private prev_route: string[] = [];\n    private model: any = {};\n    private timers: any = {};\n\n    constructor(\n        private _title: Title,\n        private _cache: SwUpdate,\n        private _snackbar: MatSnackBar,\n        private _dialog: MatDialog,\n        private router: Router,\n        private analytics: AnalyticsService,\n        private settings: SettingsService,\n        private _composer: ComposerService,\n        private hotkeys: HotkeyService,\n        private buildings: BuildingsService,\n        private bookings: BookingsService,\n        private catering_items: CateringItemsService,\n        private catering_categories: CateringCategoriesService,\n        private catering_menu: CateringMenuService,\n        private comments: CommentsService,\n        private rooms: RoomsService,\n        private users: UsersService,\n        private location: LocationService,\n        private visitors: VisitorsService,\n        private contacts: ContactsService,\n        private reports: ReportsService,\n        private bookingsreports: BookingsReportsService,\n        private _overlays: OverlayService\n    ) {\n        super();\n        // Set parent service on child services\n        this.buildings.parent = this.bookings.parent = this.rooms.parent = this.comments.parent = this.users.parent = this.analytics.parent = this.catering_items.parent = this.visitors.parent = this.location.parent = this.contacts.parent = this.catering_menu.parent = this.catering_categories.parent = this.reports.parent = this.bookingsreports.parent = this;\n        this.setupCache();\n        this.init();\n    }\n\n    get endpoint() {\n        const host = this.Settings.get('composer.domain');\n        const protocol = this.Settings.get('composer.protocol');\n        const port = protocol === 'https:' ? '443' : '80';\n        const url = `${protocol || location.protocol}//${host || location.host}`;\n        const endpoint = `${url}`;\n        return endpoint;\n    }\n\n    get api_endpoint() {\n        return `${this.endpoint}/${this.api_base}`;\n    }\n\n    public init(tries: number = 0) {\n        if (!this.settings.setup) {\n            if (tries === 5) {\n                this.settings.init();\n            }\n            return setTimeout(() => this.init(), 500);\n        }\n        if (this.settings.get('debug')) {\n            (window as any).application = this;\n        }\n        this.model.title = this.settings.get('app.title') || 'Angular Application';\n        this.setupComposer();\n        this._composer.initialised.pipe(first(_ => _)).subscribe(_ => {\n            this.timeout('check_online', () => this.checkOnline(true));\n            this.analytics.init();\n            // Initialise data services\n            this.buildings.init();\n            this.bookings.init();\n            this.users.init();\n            this.rooms.init();\n            this.visitors.init();\n        });\n    }\n\n    private checkOnline(init_state: boolean) {\n        const check_state = state => () => {\n            if (state !== init_state) {\n                init_state = state;\n                this.notifyInfo(\n                    state\n                        ? 'Reconnected to server.'\n                        : 'Connection to server lost. Limited functionality will be be available until it reconnects.'\n                );\n            }\n        };\n        this._composer.auth.online_state.subscribe(_ => {\n            this.timeout('check_state', check_state(_), 1000);\n        });\n    }\n\n    public ready() {\n        const mock = this.settings.get('mock') ? (window as any).backend : null;\n        const app_ready = this.settings.setup && this.users.current() && this.buildings.current();\n        return app_ready && (!mock || mock.is_loaded);\n    }\n\n    /**\n     * Initialise the composer library comms\n     */\n    private setupComposer(): void {\n        this.log('SYSTEM', 'Setup up composer...');\n        // Get application settings\n        const settings: ComposerSettings = this.settings.get('composer') || {};\n        const protocol = settings.protocol || location.protocol;\n        const host = settings.domain || location.hostname;\n        const port = settings.port || location.port;\n        const url = settings.use_domain ? `${protocol}//${host}:${port}` : location.origin;\n        const route = settings.route || '';\n        const mock = this.settings.get('mock');\n        // Generate configuration object\n        const config: ComposerOptions = {\n            scope: 'public',\n            host: `${host}:${port}`,\n            auth_uri: `${url}/auth/oauth/authorize`,\n            token_uri: `${url}/auth/token`,\n            redirect_uri: `${location.origin}${route}/oauth-resp.html`,\n            handle_login: !settings.local_login,\n            mock\n        };\n        this._composer.setup(config);\n    }\n\n    /**\n     * Listen to changes of given property\n     * @param name Name of the property\n     * @param next Callback for changes to properties value\n     */\n    public listen(name: string, next: (data: any) => void) {\n        if (this.subjects[name]) {\n            return this.observers[name].subscribe(next);\n        } else {\n            // Create new variable to store property's value\n            this.subjects[name] = new BehaviorSubject<any>(this[name] instanceof Function ? null : this[name]);\n            this.observers[name] = this.subjects[name].asObservable();\n            // Create raw getter and setter for property\n            if (!(this[name] instanceof Function)) {\n                Object.defineProperty(this, name, {\n                    get: () => this.get(name),\n                    set: (v: any) => this.set(name, v)\n                });\n            }\n            return this.observers[name].subscribe(next);\n        }\n    }\n\n    /**\n     * Get the current value of the given property\n     * @param name Name of the property\n     */\n    public get(name: string) {\n        return this.subjects[name] ? this.subjects[name].getValue() : null;\n    }\n\n    /**\n     * Set the value of the given property\n     * @param name Name of the property\n     * @param value New value to assign to the property\n     */\n    public set(name: string, value: any) {\n        if (this.subjects[name]) {\n            this.subjects[name].next(value);\n        } else {\n            // Create new variable to store property's value\n            this.subjects[name] = new BehaviorSubject<any>(value);\n            this.observers[name] = this.subjects[name].asObservable();\n            // Create raw getter and setter for property\n            if (!(this[name] instanceof Function)) {\n                Object.defineProperty(this, name, {\n                    get: () => this.get(name),\n                    set: (v: any) => this.set(name, v)\n                });\n            }\n        }\n    }\n\n    get Analytics() {\n        return this.analytics;\n    }\n    get Settings() {\n        this.settings.get = (setting: string) =>\n            this.buildings.getSetting(setting) || this.settings.getSetting(setting);\n        return this.settings;\n    }\n    get Bindings() {\n        return this._composer.bindings;\n    }\n    get Hotkeys() {\n        return this.hotkeys;\n    }\n    // Getters for data/API services\n    get Buildings() {\n        return this.buildings;\n    }\n    get Bookings() {\n        return this.bookings;\n    }\n    get CateringItems() {\n        return this.catering_items;\n    }\n    get CateringCategories() {\n        return this.catering_categories;\n    }\n    get CateringMenu() {\n        return this.catering_menu;\n    }\n    get Rooms() {\n        return this.rooms;\n    }\n    get Users() {\n        return this.users;\n    }\n    get Visitors() {\n        return this.visitors;\n    }\n    get Location() {\n        return this.location;\n    }\n    get Contacts() {\n        return this.contacts;\n    }\n    get Reports() {\n        return this.reports;\n    }\n    get BookingsReports() {\n        return this.bookingsreports;\n    }\n\n    /**\n     * Set the page title\n     * @param str New value to set the page title\n     */\n    set title(str: string) {\n        if (!this.model.title) {\n            this.model.title = this.settings.get('app.title') || '';\n        }\n        const title = `${str ? str : ''}${this.model.title ? ' | ' + this.model.title : ''}`;\n        this._title.setTitle(title || this.settings.get('app.title'));\n    }\n\n    /**\n     * Get the current page title\n     */\n    get title() {\n        return this._title.getTitle();\n    }\n\n    public logout() {\n        this.users.logout();\n    }\n\n    /**\n     * Wrapper for Angular Router navigate method\n     * @param path Path to navigate\n     * @param query Query parameter to add to the route\n     */\n    public navigate(path: string | string[], query?: any) {\n        let path_list = [];\n        if (path instanceof Array) {\n            path_list = path_list.concat(path);\n        } else {\n            path_list.push(path);\n        }\n        this.prev_route.push(this.router.url);\n        // if (!this.systems.resources.authLoaded) {\n        this.router.navigate(path_list, { queryParams: query });\n        // } else {\n        // this.router.navigate([path]);\n        // }\n    }\n\n    /**\n     * Return to the previous page\n     */\n    public back() {\n        if (this.prev_route.length > 0) {\n            this.navigate(this.prev_route.pop());\n            this.prev_route.pop();\n        } else {\n            this.navigate('');\n        }\n    }\n\n    /**\n     * Log message to the console\n     * @param type Message prefix\n     * @param msg Message to emit\n     * @param args Arguments to attach to log\n     * @param stream Stream to output the message\n     */\n    public log(type: string, msg: string, args?: any, stream: string = 'debug') {\n        this.settings.log(type, msg, args, stream);\n    }\n\n    /**\n     * Open confirm modal\n     * @param options Options to pass to the modal\n     * @param next Callback for events on the modal\n     */\n    public confirm(options: ConfirmModalData, next?: (event: any) => void) {\n        const ref = this._dialog.open<ConfirmModalComponent, ConfirmModalData>(\n            ConfirmModalComponent,\n            {\n                ...CONFIRM_METADATA,\n                data: options\n            }\n        );\n        let done = false;\n        this.subscription(\n            'confirm',\n            ref.componentInstance.event.subscribe(event => {\n                if (event.reason === 'done') {\n                    next(event);\n                    done = true;\n                    ref.close();\n                }\n            })\n        );\n        ref.afterClosed().subscribe(() => {\n            if (!done) { next({}); }\n            this.unsub('confirm');\n        });\n        return ref;\n    }\n\n    /**\n     * Create notification popup\n     * @param type CSS Class to add to the notification\n     * @param message Message to display on the notificaiton\n     * @param action Display text for the callback action\n     * @param on_action Callback of action on the notification\n     * @param icon Icon to render to the left of the notification message\n     */\n    public notify(\n        type: string,\n        message: string,\n        action: string = 'OK',\n        on_action?: () => void,\n        icon: ApplicationIcon = {\n            type: 'icon',\n            class: 'material-icons',\n            content: 'info'\n        }\n    ): void {\n        const snackbar_ref = this._snackbar.open(message, action, {\n            panelClass: [type],\n            duration: 5000\n        });\n        this.subscription(\n            'snackbar_close',\n            snackbar_ref.afterDismissed().subscribe(() => {\n                this.unsub('snackbar_close');\n                this.unsub('notify');\n            })\n        );\n        if (action) {\n            on_action = on_action || (() => snackbar_ref.dismiss());\n            this.subscription(\n                'notify',\n                snackbar_ref.onAction().subscribe(() => on_action())\n            );\n        }\n    }\n\n    /**\n     * Create success notification popup\n     * @param msg Message to display on the notificaiton\n     * @param action Display text for the callback action\n     * @param on_action Callback of action on the notification\n     */\n    public notifySuccess(msg: string, action?: string, on_action?: () => void): void {\n        const icon: ApplicationIcon = {\n            type: 'icon',\n            class: 'material-icons',\n            content: 'done'\n        };\n        // console.debug('[CONCIERGE][USER]', msg);\n        this.notify('success', msg, action, on_action, icon);\n    }\n\n    /**\n     * Create error notification popup\n     * @param msg Message to display on the notificaiton\n     * @param action Display text for the callback action\n     * @param on_action Callback of action on the notification\n     */\n    public notifyError(msg: string, action?: string, on_action?: () => void): void {\n        const icon: ApplicationIcon = {\n            type: 'icon',\n            class: 'material-icons',\n            content: 'error'\n        };\n        console.error('[CONCIERGE][USER]', msg);\n        this.notify('error', msg, action, on_action, icon);\n    }\n\n    /**\n     * Create warning notification popup\n     * @param msg Message to display on the notificaiton\n     * @param action Display text for the callback action\n     * @param on_action Callback of action on the notification\n     */\n    public notifyWarn(msg: string, action?: string, on_action?: () => void): void {\n        const icon: ApplicationIcon = {\n            type: 'icon',\n            class: 'material-icons',\n            content: 'warning'\n        };\n        console.warn('[CONCIERGE][USER]', msg);\n        this.notify('warn', msg, action, on_action, icon);\n    }\n\n    /**\n     * Create info notification popup\n     * @param msg Message to display on the notificaiton\n     * @param action Display text for the callback action\n     * @param on_action Callback of action on the notification\n     */\n    public notifyInfo(msg: string, action?: string, on_action?: () => void): void {\n        console.info('[CONCIERGE][USER]', msg);\n        this.notify('info', msg, action, on_action);\n    }\n\n    get iOS() {\n        return Utils.isMobileSafari();\n    }\n    /**\n     * Setup handler for cache change events\n     */\n    private setupCache() {\n        if (this._cache.isEnabled) {\n            this.subscription(\n                'cache_update',\n                this._cache.available.subscribe(event => {\n                    const current = `current version is ${event.current.hash}`;\n                    const available = `available version is ${event.available.hash}`;\n                    this.log('CACHE', `Update available: ${current} ${available}`);\n                    this.activateUpdate();\n                })\n            );\n            this.subscription(\n                'cache_activated',\n                this._cache.activated.subscribe(() => {\n                    this.log('CACHE', `Updates activated. Reloading...`);\n                    location.reload(true);\n                })\n            );\n            setInterval(() => {\n                this.log('CACHE', `Checking for updates...`);\n                this._cache.checkForUpdate();\n            }, 5 * 60 * 1000);\n        }\n    }\n\n    /**\n     * Update the cache and reload the page\n     */\n    private activateUpdate() {\n        if (this._cache.isEnabled) {\n            this.log('CACHE', `Activating changes to the cache...`);\n            this._cache.activateUpdate().then(() => location.reload(true));\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AnalyticsService {\n    public model: { [name: string]: any } = {};\n    public parent = null;\n\n    private timers: { [name: string]: number } = {};\n\n    constructor(private router: Router) { }\n\n    public init() {\n        if (!this.parent || !this.parent.ready()) {\n            return setTimeout(() => this.init(), 500);\n        }\n\n        this.model.settings = this.parent.Settings.get('app.analytics') || {};\n        this.model.prefix = this.model.settings.prefix || 'Staff';\n        if (this.model.settings && this.model.settings.enabled) {\n            this.parent.Settings.log('Analytics', `Initialising...`);\n            // (window as any).ga('create', 'UA-119470294-1', 'auto');\n            (window as any).ga('create', this.model.settings.tracking_id, 'auto');\n            (window as any).ga('send', 'pageview');\n            this.updatePage();\n        }\n    }\n    /**\n     * Set User ID for the Google Analytics session\n     * @param id Identifier of the User\n     */\n    public setUser(id: string) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga) {\n            this.timeout(`user|${id}`, () => {\n                this.parent.Settings.log('Analytics', `Set user ID: ${id}`);\n                (window as any).ga('set', 'userId', id);\n                this.event('authentication', 'user-id available');\n            }, 100);\n        }\n    }\n\n    /**\n     * Post event to Google Analytics API\n     * @param category Event Category\n     * @param action Event Action\n     * @param label Event Label\n     * @param value Event Value\n     */\n    public event(category: string, action: string, label?: string, value?: string) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga) {\n            this.timeout(`event|${category}|${action}|${label}|${value}`, () => {\n                const l = label ? ', ' + label : '';\n                this.parent.Settings.log('Analytics', `Event: ${category}, ${action}${l}${value ? ', ' + value : ''}`);\n                (window as any).ga('send', 'event', `${this.model.prefix}_${category}`, action, label, value);\n            }, 100);\n        }\n    }\n\n    public screen(name: string, app_name?: string) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga && name) {\n            this.timeout(`event|${name}|${app_name || this.parent.Settings.appName}`, () => {\n                this.parent.Settings.log('Analytics', `Screen: ${name}${app_name ? ', ' + app_name : ''}`);\n                (window as any).ga('send', 'screenview', {\n                    appName: app_name || this.parent.Settings.appName,\n                    screenName: name\n                });\n            }, 100);\n        }\n    }\n\n    public page(route: string, origin: boolean = false) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga) {\n            this.model.page = route || '/';\n            this.timeout(`page|${route}`, () => {\n                this.parent.Settings.log('Analytics', `Page: ${route}`);\n                (window as any).ga('send', 'pageview', `${origin ? location.origin : ''}${route}`);\n            }, 100);\n        }\n    }\n\n    public timing(category: string, variable: string, value: string, label?: string) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga) {\n            this.timeout(`page|${category}|${variable}|${value}|${label}`, () => {\n                this.parent.Settings.log('Analytics', `Timing: ${category}, ${variable}, ${value}${label ? ', ' + label : ''}`);\n                (window as any).ga('send', 'timing', category, variable, value, label);\n            }, 100);\n        }\n    }\n\n    /**\n     * Creates a timeout for the given name and clears a old one if it exists\n     * @param name Name of timer\n     * @param fn Timer callback\n     * @param delay Timer delay\n     */\n    private timeout(name: string, fn: () => void, delay: number = 300) {\n        if (this.timers[name]) {\n            clearTimeout(this.timers[name]);\n            this.timers[name] = null;\n        }\n        this.timers[name] = <any>setTimeout(() => {\n            if (fn instanceof Function) { fn(); }\n            this.timers[name] = null;\n        }, delay);\n    }\n\n    /**\n     * Post page and screen for the current view of the application\n     * @param tries Retry count. DON'T USE\n     */\n    public updatePage(tries: number = 0) {\n        if (tries > 10) { return; }\n        if (!this.model.settings || !this.model.settings.enabled || !(window as any).ga) {\n            return setTimeout(() => this.updatePage(), 200 * ++tries);\n        }\n        this.timeout('update-page', () => {\n            const page = this.router.url.split('?')[0];\n            if (this.model.page !== page) {\n                const title = (this.parent.title || '').split(' | ')[0];\n                this.screen(title);\n                this.page(page);\n            }\n        }, 50);\n    }\n}\n","/*\n * @Author: Alex Sorafumo\n * @Date:\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time:\n */\n\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject, Subscription, Observable } from 'rxjs';\n\nimport { AppService } from '../app.service';\nimport { Utils } from '../../shared/utility.class';\n\nimport * as moment from 'moment';\nimport { ConfirmModalData } from '../../overlays/confirm-modal/confirm-modal.component';\nimport { ApplicationIcon, ApplicationElementIcon } from '../../shared/utilities/type.helpers';\n\nconst FORBIDDEN: string[] = ['model', 'observers', 'subjects'];\n\nexport interface IBaseObject {\n    id?: string;\n    name?: string;\n    email?: string;\n    [name: string]: any;\n}\n\nexport class BaseService<T> {\n    public parent: AppService = null;\n    protected model: { [name: string]: any } = {};\n    protected subjects: { [name: string]: BehaviorSubject<any> } = {};\n    protected observers: { [name: string]: Observable<any> } = {};\n    protected promises: { [name: string]: Promise<any> } = {};\n    protected failures: { [name: string]: number } = {};\n    protected subs: {\n        timers: { [name: string]: number };\n        intervals: { [name: string]: number };\n        obs: { [name: string]: Subscription | (() => void) };\n    } = {\n        timers: {}, // Store for timers\n        intervals: {}, // Store for intervals\n        obs: {} // Store for observables\n    };\n\n    /** Http Client with composer authentication */\n    protected get http() {\n        return this._composer.http;\n    }\n\n    constructor(protected _composer: ComposerService) {\n        this.set<{ [id: string]: T }>('map', {});\n        this.set<T[]>('list', []);\n    }\n\n    public init() {\n        if (\n            !this.parent ||\n            !this.parent.Settings.setup ||\n            (this.parent.Settings.get('mock') && !(window as any).backend.is_loaded)\n        ) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.load();\n    }\n\n    protected load() {}\n\n    /**\n     * Get API endpoint\n     */\n    get endpoint() {\n        return this.parent ? `${this.parent.api_endpoint}${this.model.route}` : `/control/api${this.model.route}`;\n    }\n\n    /**\n     * Get the stored list of items\n     */\n    public list(): T[] {\n        return this.get('list') || [];\n    }\n\n    /**\n     * Get filtered list\n     * @param filter Filter string\n     * @param fields Fields to filter on\n     * @param items List of items to filter on. Defaults to the value returned by the `list` method\n     */\n    public filter(filter: string, fields: string[] = ['id', 'name'], items: T[] = this.list()) {\n        return Utils.filter(filter, items, fields);\n    }\n\n    /**\n     * Empties the list of value stored from `query` requests\n     */\n    public clearList() {\n        this.set<T[]>('list', []);\n    }\n\n    /**\n     * Listen to changes of given property\n     * @param name Name of the property\n     * @param next Callback for changes to properties value\n     */\n    public listen<U>(name: string, next: (data: U) => void) {\n        if (this.subjects[name]) {\n            return this.observers[name].subscribe(next);\n        } else {\n            // Create new variable to store property's value\n            this.subjects[name] = new BehaviorSubject<U>(this[name] instanceof Function ? null : this[name]);\n            this.observers[name] = this.subjects[name].asObservable();\n            // Create raw getter and setter for property\n            if (!(this[name] instanceof Function)) {\n                Object.defineProperty(this, name, {\n                    get: (): U => this.get(name),\n                    set: (v: U) => this.set<U>(name, v)\n                });\n            }\n            return this.observers[name].subscribe(next);\n        }\n    }\n\n    /**\n     * Get the current value of the given property\n     * @param name Name of the property\n     */\n    public get(name: string) {\n        return this.subjects[name] ? this.subjects[name].getValue() : null;\n    }\n\n    /**\n     * Get item from list with the specific ID\n     * @param id ID to search for\n     */\n    public item(id: string): T {\n        if (!id || typeof id !== 'string') {\n            return null;\n        }\n        const list = this.get('list') || [];\n        for (const item of list) {\n            const email = item.email || '';\n            if (item.id === id || item.name === id || email.toLowerCase() === id.toLowerCase()) {\n                return item;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Get observable for property\n     * @param name Name of the property. Possible values bookings, new_booking, and update_booking\n     */\n    public observer(name: string) {\n        return this.subjects[name] ? this.observers[name] : null;\n    }\n\n    /**\n     * Get item listing\n     * @param fields Key, value pairs for query parameters\n     * Uses endpoint() method to generate the end point for each of the data services based on the route e.g. /staff/bookings for booking component\n     * Maintains https calls in the object promises{} with key as the a combination of endpoint and query parameters\n     */\n    public query(fields?: { [name: string]: any }): Promise<T[]> {\n        const query = Utils.generateQueryString(fields);\n        let update = true;\n        if (fields && !fields.update) {\n            for (const f in fields) {\n                if (fields.hasOwnProperty(f) && f !== 'offset' && f !== 'limit') {\n                    update = false;\n                    break;\n                }\n            }\n        }\n\n        const key = `query|${query}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise<T[]>((resolve, reject) => {\n                const url = `${this.endpoint}${query ? '?' + query : ''}`;\n                this.http.get(url).subscribe(\n                    (resp: any) => {\n                        const item_list = this.processList(resp.results ? resp.results || resp : resp);\n                        if (update) {\n                            this.updateList(item_list);\n                        }\n                        resolve(item_list);\n                        setTimeout(() => (this.promises[key] = null), 5 * 1000);\n                    },\n                    err => {\n                        this.promises[key] = null;\n                        reject(err);\n                    }\n                );\n            });\n        }\n        return this.promises[key];\n    }\n    /**\n     * Get item with the given ID\n     * @param id ID to get the data for\n     * @param fields Key, value pairs for query parameters\n     */\n    public show(id: string, fields?: { [name: string]: any }): Promise<T> {\n        if (!id) {\n            return new Promise<T>((rs, rj) => rj('ID is not set'));\n        }\n        const key = `show|${id}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise<T>((resolve, reject) => {\n                const control = fields && fields.control;\n                if (control) {\n                    delete fields.control;\n                }\n                const query = Utils.generateQueryString(fields) || (fields ? 'complete=true' : '');\n                const url = `${control ? '/control/api' + this.model.route : this.endpoint}/${id}${\n                    query ? '?' + query : ''\n                }`;\n                this.http.get(url).subscribe(\n                    (resp: any) => {\n                        const item = this.processItem(resp);\n                        resolve(item);\n                        this.updateHashMap([item]);\n                        if (fields && fields.update) {\n                            this.updateList([item]);\n                        }\n                        setTimeout(() => (this.promises[key] = null), 1 * 1000);\n                    },\n                    err => {\n                        if (!this.failures[id]) {\n                            this.failures[id] = 0;\n                        }\n                        this.failures[id]++;\n                        if (this.failures[id] > 2) {\n                            const new_item = { id, name: id.split('@')[0], email: id } as any;\n                            this.updateHashMap([new_item]);\n                            this.updateList([new_item]);\n                        }\n                        this.promises[key] = null;\n                        reject(err);\n                    }\n                );\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Add new item with the given parameters\n     * @param data\n     */\n    public add(data: { [name: string]: any }) {\n        const key = `add|${data.id ||\n            moment()\n                .seconds(0)\n                .unix()}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const formatted_data = this.format(data);\n                const url = `${this.endpoint}`;\n                this.http.post(url, formatted_data).subscribe(\n                    (resp: any) => {\n                        const item = this.processItem(resp);\n                        resolve(item);\n                        this.parent.Analytics.event(\n                            (this.model.name || '').toUpperCase(),\n                            `created_${this.model.name}`\n                        );\n                        this.updateList([item && (item as IBaseObject).id ? item : this.processItem(formatted_data)]);\n                        setTimeout(() => (this.promises[key] = null), 2 * 1000);\n                    },\n                    err => {\n                        this.parent.Analytics.event(\n                            (this.model.name || '').toUpperCase(),\n                            `create_${this.model.name}_fail`\n                        );\n                        this.promises[key] = null;\n                        reject(err);\n                    }\n                );\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Alias for add method\n     * @param data\n     */\n    public new(data: { [name: string]: any }) {\n        return this.add(data);\n    }\n\n    /**\n     * Update item with given ID\n     * @param id ID of the item\n     * @param data New values to replace on the old item\n     */\n    public update(id: string, data: { [name: string]: any }, link?: string) {\n        return new Promise((resolve, reject) => {\n            if (!id) {\n                return reject('Invalid ID given');\n            }\n            data.link = link;\n            let ref = { close: () => null };\n            ref = this.parent.confirm({\n                ...this.confirmSettings('update', data)\n            },\n                event => {\n                    console.log('Event:', event);\n                    if (event.reason === 'done') {\n                        this.updateItem(id, data).then(\n                            d => resolve(d),\n                            e => reject(e)\n                        );\n                    } else {\n                        reject('User cancelled');\n                    }\n                    ref.close();\n                }\n            );\n        });\n    }\n\n    /**\n     * Request to the server to update the given item\n     * @param id ID of the item to update\n     * @param data Data to replace on the server's copy\n     */\n    public updateItem(id: string, data: { [name: string]: any }): Promise<T> {\n        if (!id) {\n            return new Promise((rs, rj) => rj('Invalid ID given'));\n        }\n        const key = `update|${id ||\n            moment()\n                .seconds(0)\n                .unix()}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const formatted_data = this.format(data);\n                const url = `${this.endpoint}/${id}`;\n                this.http.put(url, formatted_data).subscribe(\n                    (resp: any) => {\n                        this.removeFromList([{ id }] as any[]);\n                        const item = this.processItem(resp);\n                        // Update item data\n                        this.updateList([item]);\n                        resolve(item);\n                        formatted_data.id = id;\n                        this.postUpdate(formatted_data, item);\n                        this.parent.Analytics.event(\n                            (this.model.name || '').toUpperCase(),\n                            `updated_${this.model.name}`\n                        );\n                        setTimeout(() => (this.promises[key] = null), 2 * 1000);\n                    },\n                    err => {\n                        this.promises[key] = null;\n                        this.parent.Analytics.event(\n                            (this.model.name || '').toUpperCase(),\n                            `update_${this.model.name}_fail`\n                        );\n                        reject(err);\n                    }\n                );\n            });\n        }\n        return this.promises[key];\n    }\n\n    protected postUpdate(data: any, item: T) {}\n\n    /**\n     * Execute task for the the given item\n     * @param id Item ID\n     * @param task Name of the task to execute\n     */\n    public task(id: string, task: string, fields?: { [name: string]: any }) {\n        const key = `task|${id}|${task}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}/${id}/${task}`;\n                const body: { [name: string]: any } = {\n                    id,\n                    _task: task\n                };\n                if (fields) {\n                    for (const k in fields) {\n                        if (fields.hasOwnProperty(k)) {\n                            body[k] = fields[k];\n                        }\n                    }\n                }\n                this.http.post(url, body).subscribe(\n                    (resp: any) => {\n                        resolve(resp || {});\n                        setTimeout(() => (this.promises[key] = null), 200);\n                    },\n                    err => {\n                        this.promises[key] = null;\n                        reject(err instanceof Array ? err[0] : err);\n                    }\n                );\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Remove item with the given ID\n     * @param id ID of the item\n     */\n    public remove(id: string, fields?: { [name: string]: any }) {\n        return new Promise((resolve, reject) => {\n            if (!id) {\n                return reject('Invalid ID given');\n            }\n            const item = this.item(id) || {};\n            this.parent.confirm(this.confirmSettings('delete', { ...item, link: fields ? fields.link : '' }), event => {\n                if (event.reason === 'done') {\n                    this.deleteItem(id, fields).then(\n                        d => resolve(d),\n                        e => reject(e)\n                    );\n                } else {\n                    reject('User cancelled');\n                }\n            });\n        });\n    }\n\n    /**\n     * Alias for the remove method\n     * @param id\n     */\n    public delete(id: string, fields?: { [name: string]: any }) {\n        return this.remove(id, fields);\n    }\n\n    /**\n     * Alias for the remove method when a meeting is declined by a non host\n     * @param id\n     */\n    public decline(id: string, fields?: any) {\n        return this.remove(id, fields);\n    }\n\n    /**\n     * Request to delete item on the server\n     * @param id ID of the item to delete\n     */\n    public deleteItem(id: string, fields?: { [name: string]: any }) {\n        const query = Utils.generateQueryString(fields);\n        const key = `delete|${id ||\n            moment()\n                .seconds(0)\n                .unix()}|${query}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}/${id}${query ? '?' + query : ''}`;\n                this.http.delete(url).subscribe(\n                    (resp: any) => {\n                        const list = [{ id }];\n                        this.removeFromList(list as any);\n                        resolve();\n                        this.parent.Analytics.event(\n                            (this.model.name || '').toUpperCase(),\n                            `removed_${this.model.name}`\n                        );\n                        setTimeout(() => (this.promises[key] = null), 2 * 1000);\n                    },\n                    err => {\n                        this.promises[key] = null;\n                        this.parent.Analytics.event(\n                            (this.model.name || '').toUpperCase(),\n                            `remove_${this.model.name}_fail`\n                        );\n                        reject(err);\n                    }\n                );\n            });\n        }\n        return this.promises[key];\n    }\n\n    /** Following operations are performed using updateList()\n     * a. Sorts items list in alphabetic order\n     * b. Adds new items and\n     * c. updates existing items in the item list store\n     * d. clears the list to empty if clear:boolean is set to true\n     *\n     * @param input_list List of new/updated items\n     * @param clear boolean to clear the list\n     */\n    protected updateList(input_list: T[], clear: boolean = false) {\n        // Get current list\n        const item_list = clear ? [] : this.list() || [];\n        // Add any new items to the list\n        for (const i of input_list || []) {\n            const input = i as IBaseObject;\n            let found = false;\n            for (const i2 of item_list) {\n                const item = i2 as IBaseObject;\n                if (item.id === input.id || (input.email && item.email === input.email)) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                item_list.push(input as any);\n            }\n        }\n        // Sort list\n        (item_list as IBaseObject[]).sort((a, b) => `${a.name || ''}`.localeCompare(b.name || ''));\n        // Store changes to the list\n        this.updateHashMap(item_list);\n        this.set('list', item_list);\n    }\n\n    /**\n     * Remove given items from the item list store\n     * @param list list of items to remove\n     */\n    protected removeFromList(list: T[]) {\n        const item_list = this.list() || [];\n        for (const item of list) {\n            for (const i of item_list) {\n                if ((i as IBaseObject).id === (item as IBaseObject).id) {\n                    item_list.splice(item_list.indexOf(i), 1);\n                    break;\n                }\n            }\n        }\n        this.set('list', item_list);\n    }\n\n    public clear(fields?: { [name: string]: any }) {\n        this.set<T[]>('list', []);\n        if ((this as any).timeline) {\n            this.set<{ [id: string]: T[] }>('timeline', {});\n        }\n    }\n\n    /**\n     * Update random access list of items\n     * @param list List of items. Each item requires an id parameter\n     */\n    protected updateHashMap(list: T[]) {\n        const map: { [id: string]: T } = {};\n        for (const item of list) {\n            map[(item as IBaseObject).id] = item;\n        }\n        this.set('map', map);\n    }\n\n    public fromMap(id: string): T {\n        const map: { [id: string]: T } = this.get('map');\n        return map[id] || null;\n    }\n\n    /**\n     * Process array of items from the server\n     * @param input_list Array of items\n     */\n    public processList(input_list: { [name: string]: any }[]) {\n        const output_list: T[] = [];\n        for (const key in input_list || []) {\n            if (input_list.hasOwnProperty(key) && input_list[key]) {\n                const out = this.processItem(input_list[key], key);\n                if (out) {\n                    output_list.push(out);\n                }\n            }\n        }\n        (output_list as IBaseObject).sort((a, b) => `${a.name || a.id || ''}`.localeCompare(b.name || b.id || ''));\n        return output_list;\n    }\n\n    /**\n     * Post processing for server data to be used locally\n     * @param data Data to format\n     */\n    protected processItem(raw_item: { [name: string]: any }, id?: string): T {\n        return <T>raw_item;\n    }\n\n    /**\n     * Pre-processing for local data to be sent to the server\n     * @param data Data to format\n     */\n    protected format(data: { [name: string]: any }) {\n        const formatted_data = data;\n        return formatted_data;\n    }\n\n    /**\n     * Set the value of the given property\n     * @param name Name of the property\n     * @param value New value to assign to the property\n     */\n    protected set<U>(name: string, value: U) {\n        if (this.subjects[name]) {\n            this.subjects[name].next(value);\n        } else {\n            // Create new variable to store property's value\n            this.subjects[name] = new BehaviorSubject<U>(value);\n            this.observers[name] = this.subjects[name].asObservable();\n            // Create raw getter and setter for property\n            if (!(this[name] instanceof Function)) {\n                Object.defineProperty(this, name, {\n                    get: (): U => this.get(name),\n                    set: (v: U) => this.set(name, v)\n                });\n            }\n        }\n    }\n\n    /**\n     * Generate settings for confirm modal\n     * @param key\n     * @param fields\n     */\n    protected confirmSettings(key: string, fields: { [name: string]: any } = {}): ConfirmModalData {\n        const settings = {\n            title: '',\n            content: '',\n            icon: { type: 'icon', class: 'material-icons', content: '' } as ApplicationElementIcon,\n            action: 'Ok',\n        };\n        const name = fields.name || fields.title || '';\n        switch (key) {\n            case 'delete':\n                settings.title = `Delete ${this.model.name}`;\n                settings.content = `Are you sure you wish to delete ${this.model.name} ${\n                    name ? '\\'' + name + '\\'' : ''\n                }?`;\n                settings.icon.content = 'delete';\n                break;\n            case 'decline':\n                settings.title = `Decline ${this.model.name}`;\n                settings.content = `Are you sure you wish to decline ${this.model.name} '${fields.name ||\n                    fields.title ||\n                    ''}'?`;\n                settings.icon.content = 'decline';\n                break;\n            case 'update':\n                settings.title = `Update ${this.model.name}`;\n                settings.content = `Update ${this.model.name} '${fields.name ? fields.name : ''}'?`;\n                settings.icon.content = 'cloud_upload';\n                break;\n            case 'add':\n                settings.title = `New ${this.model.name}`;\n                settings.content = `Create new ${this.model.name} '${fields.name ? fields.name : ''}'?`;\n                settings.icon.content = 'add';\n                break;\n        }\n        return settings;\n    }\n\n    /**\n     * Wrapper for setTimeout. Clears timer with same name\n     * @param name Name of the timer\n     * @param fn Callback function\n     * @param delay Timeout delay in milliseconds\n     */\n    public timeout(name: string, fn: () => void, delay: number = 300) {\n        this.clearTimer(name);\n        if (!(fn instanceof Function)) {\n            return;\n        }\n        this.subs.timers[name] = <any>setTimeout(() => fn(), delay);\n    }\n\n    /**\n     * Clears timer with the given name\n     * @param name Name of the timer\n     */\n    public clearTimer(name: string) {\n        if (this.subs.timers[name]) {\n            clearTimeout(this.subs.timers[name]);\n            this.subs.timers[name] = null;\n        }\n    }\n\n    /**\n     * Wrapper for setInterval. Clears interval with same name\n     * @param name Name of the interval\n     * @param fn Callback function\n     * @param delay Timeout delay in milliseconds\n     */\n    public interval(name: string, fn: () => void, delay: number = 300) {\n        this.clearInterval(name);\n        if (!(fn instanceof Function)) {\n            return;\n        }\n        this.subs.intervals[name] = <any>setInterval(() => fn(), delay);\n    }\n\n    /**\n     * Clears interval with the given name\n     * @param name Name of the interval\n     */\n    public clearInterval(name: string) {\n        if (this.subs.intervals[name]) {\n            clearInterval(this.subs.intervals[name]);\n            this.subs.intervals[name] = null;\n        }\n    }\n}\n","/*\n * @Author: Alex Sorafumo\n * @Date: 2017-06-05 12:39:28\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-06-19 13:56:07\n */\n\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\n\nimport { IRoom } from './rooms.service';\nimport { IUser } from './users.service';\nimport { BaseService } from './base.service';\nimport { Utils } from '../../shared/utility.class';\n\nimport * as moment from 'moment';\nimport * as dayjs from 'dayjs';\nimport { CateringOrder } from './catering/catering-order.class';\nimport { processEditList } from '../../shared/utilities/booking.utilities';\nimport { HashMap } from '@acaprojects/ngx-uploads/lib/types';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MeetingDetailsOverlayComponent } from '../../overlays/meeting-details-overlay/meeting-details-overlay.component';\nimport { BookingModalComponent } from '../../overlays/booking-modal';\nimport { ConfirmDeleteModalComponent } from '../../overlays/confirm-delete/confirm-delete.component';\n\nexport interface IBooking {\n    /** Instance identifier of the booking */\n    id: string;\n    /** Short non-special character ID for the booking instance */\n    local_id: string;\n    /** Unique shared calendar identifier of the booking */\n    icaluid?: string;\n    title: string;\n    date: number;\n    start_hours?: number;\n    duration: number;\n    description?: string;\n    organiser?: IUser;\n    is_organiser?: boolean;\n    attendees?: IUser[];\n    booked_by?: IUser;\n    state?: string;\n    type?: string;\n    room?: IRoom;\n    display?: { [name: string]: string };\n    catering?: CateringOrder[];\n    expired?: boolean;\n    visitors?: boolean;\n    food_ordered?: boolean;\n    cost_code?: string;\n    parking?: boolean;\n    locations?: any;\n    location_name?: string;\n    overlap_index?: number;\n    overlap_count?: number;\n    notify_users?: string[];\n    all_day?: boolean;\n    booking_type?: string;\n    check_ins?: any;\n    /** Setup time for the booking in minutes */\n    setup?: number;\n    /** Breakdown time for the booking in minutes */\n    breakdown?: number;\n    /** Status of the booking at the current time */\n    status?: 'upcoming' | 'in_progress' | 'expired';\n\n    needs_catering: boolean;\n\n    notes?: IBookingNote[];\n    equipment_notes?: { [space_id: string]: string };\n    catering_notes?: string;\n    equipment_code?: { [space_id: string]: string };\n    catering_code?: string;\n    room_list?: IRoom[];\n    space_notes?: { [space_id: string]: string };\n    expected_attendees?: { [space_id: string]: number };\n    edit_counts: HashMap<number>;\n}\n\nfunction processCateringData(catering: any, start: number, id: string) {\n    if (!catering) {\n        return [];\n    }\n    const catering_array = catering instanceof Array\n        ? catering\n        : Object.keys(catering).map((space_id) => ({ ...catering[space_id], location_id: space_id }));\n    return catering_array.map(order => new CateringOrder({\n        ...order,\n        booking_date: start,\n        booking_id: id\n    }));\n}\n\n\nexport interface IBookingNote {\n    /** Type of note */\n    type: 'equipment' | 'catering' | 'description' | 'private' | 'other';\n    /** Name of the note's author */\n    author: string;\n    /** Contents of the note */\n    message: string;\n    /** Time the note was added to the booking */\n    date: number;\n    /** Display value for the time */\n    time?: string;\n    /** ID of the space associated with the note */\n    space?: string;\n    /** ID of the catering order associated with the note */\n    order_id?: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class BookingsService extends BaseService<IBooking> {\n\n    constructor(protected _composer: ComposerService, private _dialog: MatDialog) {\n        super(_composer);\n        this.model.name = 'booking';\n        this.model.route = '/bookings';\n        this.set('timeline', {});\n        this.set('new_booking', { state: 'idle' });\n        this.set('update_booking', { state: 'idle' });\n    }\n    /**\n     * Initialise service\n     */\n    public init() {\n        if (!this.parent || !this.parent.Rooms.list(true) || this.parent.Rooms.list(true).length <= 0 || !this.parent.ready()) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.load();\n    }\n\n    protected load(tries: number = 0) {\n        // this.query({ complete: true });\n        // this.interval('load', () => this.query({ complete: true }), 30 * 1000);\n        if (this.parent.Settings.get('app.notifications.enabled')) {\n            this.getNotificationsBookings();\n            this.interval('load', () => this.getNotificationsBookings(), 30 * 1000);\n        }\n    }\n\n    /**\n     * Create confirm modal for booking the specified space with the given parameters\n     * @param item Booking form hash map\n     */\n    public book(item: { [name: string]: any }) {\n        return new Promise((resolve, reject) => {\n            if (this.get('new_booking').state !== 'idle') { return reject('Another booking is in progress'); }\n            const date = moment(item.date);\n            this.parent.confirm(this.confirmSettings('add', item), (event) => {\n                if (event.type === 'Accept') {\n                    this.subjects.new_booking.next({ state: 'processing' });\n                    this.add(item).then((d) => {\n                        this.set('new_booking', { state: 'success', value: d });\n                        resolve(d);\n                        if (localStorage) {\n                            const booking = localStorage.getItem('CONCIERGE.booking_form');\n                            localStorage.removeItem('CONCIERGE.booking_form');\n                            localStorage.setItem('CONCIERGE.last_booking', booking || JSON.stringify(item));\n                        }\n                        this.timeout(`${moment().unix()}`, () => this.set('new_booking', { state: 'idle' }));\n                    }, (e) => {\n                        this.set('new_booking', { state: 'error', value: e });\n                        this.timeout('new_error', () => this.set('new_booking', { state: 'idle' }));\n                        reject(e);\n                    });\n                } else {\n                    reject('Cancelled by user');\n                }\n                event.close();\n            });\n        });\n    }\n\n    /**\n     * Make local changes based on changes made to item\n     * @param data PUT data\n     * @param item New booking\n     */\n    protected postUpdate(data: any, item: IBooking) {\n        if (localStorage) {\n            const booking = localStorage.getItem('CONCIERGE.booking_form');\n            localStorage.removeItem('CONCIERGE.booking_form');\n            localStorage.setItem('CONCIERGE.last_booking', booking || JSON.stringify(item));\n        }\n        item.type = 'accepted';\n        const old_room: any = this.parent.Rooms.item(data.from_room || data.room_id) || {};\n        this.parent.Rooms.removeFromTimeline(old_room.id, data.id);\n        this.parent.Rooms.addToTimeline(item);\n        this.parent.Visitors.removeFromList([data]);\n        this.parent.Visitors.addFromBookings([item]);\n    }\n\n    public accept(id: string, fields?: { [name: string]: any }) {\n        return this.task(id, 'accept', fields);\n    }\n\n    public decline(id: string, fields?: { [name: string]: any }) {\n        return this.task(id, 'concierge_decline', fields);\n    }\n\n    /**\n     * Retrieve booking with the given ID\n     * @param id ID of booking\n     */\n    public getWithID(id: string) {\n        return this.item(id);\n    }\n\n    /**\n     * Check for conflicts between two lists of bookings\n     * @param list First list to check for conflicts\n     * @param comparison Second list to check for conflicts. Defaults to the users bookings\n     */\n    public checkConflicts(list: IBooking[], comparison?: IBooking[]) {\n        if (!comparison) {\n            comparison = this.get('timeline') || [];\n        }\n        let conflict_count = 0;\n        for (const bkn of list) {\n            const bkn_start = moment(bkn.date);\n            const bkn_end = moment(bkn_start).add(bkn.duration, 'm');\n            for (const cmp of comparison) {\n                const cmp_start = moment(cmp.date);\n                const cmp_end = moment(cmp_start).add(cmp.duration, 'm');\n                if (bkn_start.isBetween(cmp_start, cmp_end, 'm', '[)') || bkn_end.isBetween(cmp_start, cmp_end, 'm', '(]')) {\n                    conflict_count++;\n                    break;\n                }\n            }\n        }\n        return conflict_count;\n    }\n\n    /**\n     * Get the free times between a group of booking\n     * @param list List of bookings\n     */\n    public getFreeSlots(list: IBooking[]) {\n        list.sort((a, b) => a.date - b.date);\n        const block: { start: number, end: number }[] = [];\n        let bkn_start: moment.Moment = null;\n        let bkn_end: moment.Moment = null;\n        for (const bkn of list) {\n            bkn_start = moment(bkn.date).seconds(0).milliseconds(0);\n            if (!bkn_end) {\n                block.push({ start: moment(bkn_start).startOf('d').valueOf(), end: bkn_start.valueOf() });\n            } else if (bkn_end.isBefore(bkn_start, 'm')) {\n                block.push({ start: bkn_end.valueOf(), end: bkn_start.valueOf() });\n            }\n            bkn_end = moment(bkn_start).add(bkn.duration, 'm');\n        }\n        if (bkn_end) {\n            block.push({ start: bkn_end.valueOf(), end: bkn_end.endOf('d').valueOf() });\n        } else if (block.length <= 0) {\n            const today = moment();\n            block.push({ start: today.startOf('d').valueOf(), end: today.endOf('d').valueOf() });\n        }\n        return block;\n    }\n\n    public getNextFreeBlock(list: IBooking[], gap: number = 30, time: number = moment().valueOf()) {\n        const blocks = this.getFreeSlots(list);\n        const now = moment(time);\n        let block = null;\n        for (const blk of blocks) {\n            const start = blk.start < 0 ? moment().hours(0).minutes(0) : moment(blk.start);\n            const end = blk.end < 0 ? moment().hours(23).minutes(59) : moment(blk.end);\n            const dur = moment.duration(end.diff(start));\n            const length = Math.floor(dur.asMinutes());\n            if (!block && (now.isBetween(start, end, 'm', '[)') || now.isBefore(start, 'm')) && length >= gap) {\n                block = blk;\n                break;\n            }\n        }\n        return block;\n    }\n\n    /**\n     * Retrieve new bookings\n     * @param days Number of days from now\n     */\n    public getNewBookings(days: number) {\n        const past = moment().subtract(days, 'days');\n        return this.parent.Rooms.query({\n            created_from: past.unix(),\n            zone_ids: this.parent.Buildings.current().id\n        }).then((rooms: any) => {\n            return rooms.map(room => room.bookings).flat()\n                .sort((a, b) => moment(a.created_date).unix() - moment(b.created_date).unix());\n        });\n    }\n\n    /**\n     * Retrieve bookings that are coming\n     * @param days Number of days from now\n     */\n    public getComingBookings(days: number) {\n        const now = moment();\n        const future = moment().add(days, 'days');\n        return this.parent.Rooms.query({\n            available_from: now.unix(),\n            available_to: future.unix(),\n            zone_ids: this.parent.Buildings.current().id\n        }).then((rooms: any) => {\n            return rooms.map(room => room.bookings).flat()\n                .filter(booking => (booking.date > now.valueOf()) && (booking.date < future.valueOf()))\n                .sort((a, b) => a.date - b.date || a.duration - b.duration);\n        });\n    }\n\n    /**\n     * Retrieve bookings for notifications\n     * Bookings with parking, bookings with catering and bookings with catering not confirmed\n     */\n    public getNotificationsBookings() {\n        return Promise.all([this.getNewBookings(2), this.getComingBookings(2)]).then(([newBookings, comingBookings]) => {\n            const resp = {\n                parking: newBookings.filter(item => item.parking),\n                catering: newBookings.filter(item => item.catering),\n                not_confirmed: comingBookings.filter(item => item.catering && !item.food_ordered)\n            };\n            const count = resp.parking.length + resp.catering.length + resp.not_confirmed.length;\n            this.set('notifications', count);\n            this.set('notification_list', resp);\n            return resp;\n        });\n    }\n\n    public processItem(raw_item: { [name: string]: any }) {\n        const now = moment();\n        const user = this.parent.Users.current();\n        const start = moment(raw_item.start_epoch * 1000 || raw_item.start || raw_item.Start || raw_item.date);\n        const end = moment(raw_item.end_epoch * 1000 || raw_item.end || raw_item.End);\n        const has_end = raw_item.end_epoch * 1000 || raw_item.end || raw_item.End;\n        const duration = Math.abs(start.diff(end, 'm'));\n        const states = this.parent.get('BOOKING.states') || {};\n        if (raw_item.all_day) {\n            end.hours(23).minute(59);\n        }\n        const item: IBooking = {\n            id: raw_item.id,\n            local_id: `${Math.floor(Math.random() * 999_999_999)}`,\n            icaluid: raw_item.icaluid,\n            title: raw_item.title || raw_item.Subject || raw_item.subject,\n            date: start.valueOf(),\n            start_hours: start.hours() + start.minutes() / 60,\n            duration: has_end ? duration || raw_item.duration : raw_item.duration,\n            description: raw_item.description,\n            attendees: this.parent.Users.processList(raw_item.attendees || []),\n            type: raw_item.catering ? 'catering' : (raw_item.visitors ? 'external' : 'internal'),\n            is_organiser: false,\n            organiser: { name: raw_item.owner } as IUser,\n            room: { id: raw_item.room_id, name: raw_item.room_name } as IRoom,\n            visitors: raw_item.visitors,\n            parking: raw_item.parking,\n            state: states[raw_item.id] || raw_item.show_as || raw_item.state,\n            expired: now.isAfter(end),\n            food_ordered: raw_item.food_ordered,\n            notes: raw_item.notes || [],\n            locations: raw_item.locations,\n            notify_users: raw_item.notify_users,\n            all_day: !!raw_item.all_day || duration > 20 * 60,\n            location_name: raw_item.location_name,\n            check_ins: raw_item.check_ins,\n            booked_by: raw_item.booked_by,\n            booking_type: raw_item.booking_type,\n            needs_catering: raw_item.needs_catering,\n            setup: (raw_item.setup || 0) / 60,\n            breakdown: (raw_item.breakdown || 0) / 60,\n            equipment_notes: raw_item.equipment_notes || raw_item.equipment,\n            catering: processCateringData(raw_item.catering || [], start.valueOf(), raw_item.id),\n            catering_notes: raw_item.catering_notes,\n            equipment_code: raw_item.equipment_code,\n            space_notes: raw_item.space_notes || {},\n            catering_code: raw_item.catering_code || (raw_item.catering ? raw_item.catering.code : ''),\n            expected_attendees: raw_item.expected_attendees || {},\n            edit_counts: processEditList(raw_item.edits || {}),\n            display: {\n                date: start.format('DD MMM YYYY'),\n                time: `${start.format('h:mm A')} - ${end.format('h:mm A')}`,\n                start: start.format('h:mm A'),\n                start_date: start.format('DD MMM YYYY [at] h:mm A'),\n                end: has_end ? end.format('h:mm A') : moment(start).add(raw_item.duration, 'm').format('h:mm A'),\n                end_date: has_end ? end.format('DD MMM YYYY [at] h:mm A') : moment(start).add(raw_item.duration, 'm').format('DD MMM YYYY [at] h:mm A'),\n                duration: Utils.humaniseDuration(duration)\n            }\n        };\n        // Reset state after one request\n        states[raw_item.id] = '';\n        this.parent.set('BOOKING.states', states);\n        this.processRoom(item, raw_item);\n        if (item.expired) { item.type = 'expired'; }\n        // Setup organiser for booking\n        if (raw_item.organiser || raw_item.organizer) {\n            const email = typeof raw_item.organiser === 'string' ?\n                raw_item.organiser :\n                (typeof raw_item.organizer === 'string' ? raw_item.organizer : (raw_item.organiser || raw_item.organizer || {}).email);\n            // Get the organiser's details\n            item.organiser = this.parent.Users.item(email) || this.parent.Users.processItem(raw_item.organiser || raw_item.organizer);\n            // Check if organiser is the current user\n            item.is_organiser = item.organiser && user && (item.organiser.id === user.id || email === user.email);\n        }\n        // Get room associated with the booking\n        const id = raw_item.locations && raw_item.locations.length > 0 ? raw_item.locations[0].uniqueId : raw_item.room_id;\n        const rm = this.parent.Rooms.item(id);\n\n        Object.defineProperty(item, 'status', {\n            get: () => {\n                const date = dayjs(item.date);\n                const end = date.add(item.duration, 'm');\n                const now = dayjs();\n                return now.isBefore(date, 'm')\n                    ? 'upcoming'\n                    : now.isBefore(end, 'm')\n                        ? 'in_progress'\n                        : 'expired'\n            }\n        });\n        if (rm) {\n            item.display.room = rm.name || raw_item.room_name;\n            item.display.level = rm.level ? rm.level.name : '';\n        }\n        return item;\n    }\n\n    public processRoom(item: IBooking, raw_item: any) {\n        Object.defineProperty(item, 'room', {\n            get: () => {\n                let rm = null;\n                // Get room associated with the booking\n                const id = raw_item.room_id;\n                if (item.room_list && item.room_list.length > 0) {\n                    rm = item.room_list[0];\n                    item.display.room = item.room_list.reduce((a, b) => a += (a ? ', ' + b.name : b.name), '') || raw_item.location_name;\n                    item.display.level = rm.level ? rm.level.name : '';\n                    return rm;\n                }\n                if (raw_item.status) {\n                    raw_item.status = Object.keys(raw_item.status).reduce((a, v) => {\n                        a[v.toLowerCase()] = raw_item.status[v];\n                        return a;\n                    }, {});\n                }\n                if (id instanceof Array) {\n                    const rm_list: IRoom[] = [];\n                    for (const rm_id of id) {\n                        const room = this.parent.Rooms.item(rm_id) || { id: rm_id, name: rm_id, email: rm_id };\n                        if (room) { rm_list.push(room as any); }\n                    }\n                    item.room_list = rm_list;\n                    if (item.room_list.length > 0) {\n                        rm = item.room_list.length[0] || {};\n                        const same_level = item.room_list.filter(i => i.level && rm.level && i.level.id === rm.level.id).length >= item.room_list.length;\n                        item.display.level = same_level ? rm.level.name : 'Multiple levels';\n                        item.display.room = item.room_list.reduce((a, b) => a += (a ? ', ' + b.name : b.name), '') || raw_item.location_name;\n                    }\n                } else {\n                    rm = this.parent.Rooms.item(id);\n                    if (rm) {\n                        item.display.room = rm.name || raw_item.room_name || raw_item.location_name;\n                        item.display.level = rm.level ? rm.level.name : '';\n                        item.room_list = [rm];\n                    }\n                }\n                return rm;\n            },\n            set: (v) => {\n                if (v) { item.room_list = v instanceof Array ? v : [v]; }\n            }\n        });\n    }\n\n    protected format(item) {\n        const form = item || {};\n        if (!form.room) { form.room = {}; }\n        if (form.duration > 720 || form.all_day) {\n            form.date = dayjs(form.date).startOf('d').valueOf();\n        }\n        console.log('Form:', form);\n        const date = dayjs(form.date).startOf('m');\n        let room_id: string[] = [];\n        let auto_approve = [item.state !== 'tentative'];\n        let room = null;\n        if (form.room instanceof Array) {\n            room = form.room[0];\n            auto_approve = [];\n            room_id = form.room.map(rm => {\n                const state = (item.approval_status ? item.approval_status[rm.email] : null) || '';\n                auto_approve.push(rm.book_type !== 'Request' && state.indexOf('tentative') < 0);\n                return rm.email || rm.id;\n            });\n        } else if (form.room && (form.room.email || form.room.id)) {\n            room = form.room;\n            room_id.push(form.room.email || form.room.id);\n            const state = (item.approval_status ? item.approval_status[form.room.email] : null) || '';\n            auto_approve = [(form.room.book_type !== 'Request' && form.room.type !== 'Request') && state.indexOf('tentative') < 0];\n        }\n        const request: any = {\n            start: date.unix(),\n            old_start: Math.floor(form.old_date / 1000),\n            end: date.add(form.all_day ? 24 * 60 - 1 : form.duration, 'm').unix(),\n            old_end: form.old_end || dayjs(form.old_date || form.date).add(form.all_day ? 24 * 60 - 1 : form.duration, 'm').unix(),\n            room_id,\n            title: form.title,\n            description: form.description,\n            attendees: form.attendees,\n            other: form.other,\n            from_room: form.from_room || '',\n            loan_items: form.loan_items || '',\n            private: form.private || false,\n            parking: form.parking || false,\n            catering: (form.catering || []).filter(\n                order =>\n                    (form.room instanceof Array ? form.room : [form.room]).find(\n                        space => space.id === order.location_id\n                    )\n            ).map(order => new CateringOrder(order)),\n            expected_attendees: form.expected_attendees || {},\n            equipment_code: form.equipment_code,\n            booking_type: (form.booking_type ? (form.booking_type instanceof Object ? form.booking_type.id : form.booking_type): null) || 'internal',\n            notify_users: form.notify_users,\n            needs_catering: form.needs_catering,\n            auto_approve,\n            setup: (form.setup || 0) * 60,\n            breakdown: (form.breakdown || 0) * 60,\n            delegate: form.delegate || false,\n            location_name: form.location_name,\n            locations: form.locations,\n            notes: form.notes || [],\n            all_day: form.all_day ? date.format('YYYY-MM-DD') : false,\n            concierge: true\n        };\n        if (request.catering && !request.catering.items && item.catering_code) {\n            Object.keys(request.catering).forEach(k => {\n                if (request.catering[k]) {\n                    request.catering[k].code = item.catering_code[k] || item.catering_code.default || '';\n                }\n            });\n        }\n        const user = this.parent.Users.current();\n        const now = dayjs().startOf('s');\n        if (item.equipment) {\n            for (const rm_id in item.equipment) {\n                if (item.equipment[rm_id]) {\n                    request.notes.push({\n                        type: 'equipment',\n                        space: rm_id,\n                        message: item.equipment[rm_id],\n                        author: user.name,\n                        date: now.valueOf()\n                    });\n                }\n            }\n        }\n        if (item.catering_notes) {\n            for (const rm_id in item.catering_notes) {\n                if (item.catering_notes[rm_id]) {\n                    request.notes.push({\n                        type: 'catering',\n                        space: rm_id,\n                        message: item.catering_notes[rm_id],\n                        author: user.name,\n                        date: now.valueOf()\n                    });\n                }\n            }\n        }\n        request.notes.sort((a, b) => a.date - b.date);\n        if (request.catering && item.catering_code) {\n            for (const order of request.catering) {\n                order.charge_code = item.catering_code[order.location_id];\n            }\n        }\n        if (item.private_notes) {\n            request.notes.push({ type: 'private', message: item.private_notes, author: user.name, date: now.valueOf() })\n        }\n        if (item.icaluid) {\n            request.icaluid = item.icaluid;\n            request.auto_approve = item.state !== 'tentative';\n        }\n        if (item.organiser) { request.organiser = item.organiser; }\n        if (item.host) { request.organiser = item.host; }\n        request.attendees = Utils.unique([...request.attendees, request.organiser], 'email');\n        if (item.notify_user) { request.notify_users = [item.notify_user.email]; }\n        if (!item.id && item.host) {\n            request.host = item.host;\n            const exists = form.attendees.find(i => i.email.toLowerCase() === item.host.email.toLowerCase());\n            if (!request.notify_users) { request.notify_users = [item.host.email]; }\n            if (!exists) {\n                request.attendees.unshift(item.host);\n            }\n        }\n        if ((item.recurr && item.recurr.period)|| (item.recurrence && item.recurrence.period)) {\n            request.recurr = {\n                period: ['none', 'daily', 'weekly', 'biweekly', 'monthly'][item.recurr || item.recurrence.period],\n                end: Math.floor((item.recurr_end || item.recurrence.end) / 1000)\n            };\n        }\n        return request;\n    }\n\n    public clear(fields?: { from?: number, to?: number }) {\n        if (!fields || !fields.from) {\n            super.clear(fields);\n        } else {\n            const start = moment(fields.from).startOf('d');\n            const end = moment(fields.to || fields.from);\n            // Clear period in list\n            const list: IBooking[] = this.get('list') || [];\n            this.set<IBooking[]>('list', list.filter(i => !moment(i.date).isBetween(start, end)));\n            // Clear period in timeline\n            const timeline = this.get('timeline') || {};\n            for (; start.isBefore(end, 'm'); start.add(1, 'd')) {\n                const date = start.format('YYYY/MM/DD');\n                if (timeline[date]) { delete timeline[date]; }\n            }\n            this.set('timeline', timeline);\n        }\n    }\n\n    protected updateList(list: IBooking[]) {\n        super.updateList(list);\n        const timeline = this.get('timeline') || {};\n        // Add bookings to timeline\n        for (const item of list) {\n            const date = moment(item.date);\n            const day = timeline[date.format('YYYY/MM/DD')] || [];\n            for (const event of day) {\n                if ((item.id && event.id === item.id) || item.date === event.date) {\n                    day.splice(day.indexOf(event), 1);\n                    break;\n                }\n            }\n            day.push(item);\n            timeline[date.format('YYYY/MM/DD')] = day;\n        }\n        // Sort events in the timeline\n        for (const key in timeline) {\n            if (timeline.hasOwnProperty(key)) {\n                timeline[key].sort((a, b) => a.date - b.date);\n                this.processOverlaps(timeline[key]);\n            }\n        }\n        this.set('timeline', timeline);\n    }\n\n    public processOverlaps(list: IBooking[]) {\n        for (const bkn of list) {\n            const bkn_start = moment(bkn.date);\n            const bkn_end = moment(bkn_start).add(bkn.duration, 'm');\n            let count = 0;\n            let index = 0;\n            const collisions: IBooking[] = [];\n            for (const cmp of list) {\n                if (bkn.id !== cmp.id) {\n                    const cmp_start = moment(cmp.date);\n                    const cmp_end = moment(cmp_start).add(cmp.duration, 'm');\n                    if ((bkn_start.isBetween(cmp_start, cmp_end, 'm', '[)') ||\n                        bkn_end.isBetween(cmp_start, cmp_end, 'm', '(]')) && bkn.id !== cmp.id) {\n                        count++;\n                        collisions.push(bkn);\n                        if (list.indexOf(bkn) > list.indexOf(cmp)) {\n                            index++;\n                        }\n                    }\n                }\n            }\n            collisions.forEach(i => i.overlap_count = count > i.overlap_count ? count : i.overlap_count);\n            const indexes = collisions.reduce((a, v) => {\n                if (v.overlap_index || v.overlap_index === 0) { a.push(v.overlap_index); }\n                return a;\n            }, []);\n            if (indexes.length > 0) {\n                for (let n = 0; n < count; n++) {\n                    if (!indexes.find(i => i === n)) { index = n; }\n                }\n            }\n            bkn.overlap_count = count;\n            bkn.overlap_index = Math.max(0, index);\n        }\n    }\n\n    public removeFromList(list: IBooking[]) {\n        super.removeFromList(list);\n        // Also remove booking from timeline\n        const timeline = this.get('timeline') || {};\n        for (const item of list) {\n            const date = moment(item.date);\n            const day = timeline[date.format('YYYY/MM/DD')] || [];\n            for (const event of day) {\n                if (item.id && event.id === item.id) {\n                    day.splice(day.indexOf(event), 1);\n                    break;\n                }\n            }\n        }\n        // this.parent.Visitors.removeFromList(list);\n        this.set('timeline', timeline);\n    }\n\n    protected confirmSettings(key: string, fields: { [name: string]: any } = {}) {\n        const settings = super.confirmSettings(key, fields);\n        const date = moment(fields.date || '');\n        const user = this.parent.Users.current();\n        const rm = fields.room ? (fields.room instanceof Array ? fields.room[0] : fields.room) : null;\n        const room: any = rm ? this.parent.Rooms.item(rm.id) : { name: fields.room_name };\n        const bkn_type: string = rm && room ? rm.book_type || room.book_type : null;\n        const lvl = room ? room.level : null;\n        switch (key) {\n            case 'add':\n                settings.title = `${bkn_type || (!lvl ? 'Schedule' : 'Book')} ${lvl ? 'space' : 'meeting'}`;\n                if (lvl) {\n                    settings.content = `${bkn_type || 'Book'} space \"${room.name}\"<br>`;\n                } else {\n                    settings.content = 'Meeting ';\n                }\n                settings.content += `\n                    on the ${date.format('Do of MMMM, YYYY')} at ${date.format('h:mm A')}<br>\n                    for ${Utils.humaniseDuration(fields.duration)}\n                `;\n                break;\n            case 'delete':\n                if (fields.decline) {\n                    settings.title = `Decline meeting`;\n                    settings.content = `Are you sure you wish to decline attendance to meeting '${fields.name || fields.title || ''}'?`;\n                    (settings.icon as any).content = 'event_busy';\n                }\n                break;\n            case 'update':\n                settings.content = `Change booking ${room.name ? 'for \"' + room.name + '\"' : ''}<br>\n                                    to the ${date.format('Do of MMMM, YYYY')} at ${date.format('h:mm A')}<br>\n                                    for ${Utils.humaniseDuration(fields.duration)}`;\n                break;\n        }\n        return settings;\n    }\n}\n","// File to be deleted after backend is updated\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\nimport { BaseService } from './base.service';\n\nexport interface IReportData {\n    date?: string;\n    subject?: string;\n    host?: string;\n    booker?: any;\n    room?: string;\n    catering_code?: string;\n    menu_category?: string;\n    menu_items?: string;\n    quantities?: number;\n    item_price?: number;\n    room_email?: string;\n    symbol?: string;\n    start_date?: string;\n    end_date?: string;\n    attendees?: string[];\n    status?: string;\n    setup?: number;\n    breakdown?: number;\n    is_all_day?: string;\n    is_cancelled?: string;\n    recurrence?: string;\n    notes?: string[];\n    catering?: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class BookingsReportsService extends BaseService<any> {\n    constructor(protected _composer: ComposerService) {\n        super(_composer);\n        this.model.name = 'bookingsreports';\n        this.model.route = '/bookingsreports';\n        this.observers.list = this.subjects.list.asObservable();\n    }\n\n    // Convert data to local format\n    public processItem(item: any) {\n        const data: IReportData = {\n            date: (item.Date || '').replace(' ', 'T').replace(' ', ''),\n            subject: item.Subject || item.subject,\n            host: item.Host || item.organizer,\n            room: item.Room || item.location,\n            booker: item.Booker || item.booked_by,\n            catering_code: item.Code,\n            menu_category: item.Category,\n            menu_items: item['Item Name'],\n            quantities: item['Item Quantity'],\n            item_price: item['Item Price'],\n            room_email: item.room_email,\n            symbol: item.room_email ? this.symbolForRoom(item.room_email) : '',\n            start_date: item.start,\n            end_date: item.end,\n            attendees: item.attendees,\n            status: item.responseStatus,\n            setup: item.setup,\n            breakdown: item.breakdown,\n            is_all_day: item.isAllDay ? 'yes' : 'no',\n            is_cancelled: item.isCancelled ? 'yes' : 'no',\n            recurrence: item.recurrence,\n            notes: item.notes,\n            catering: item.catering\n        };\n        return data;\n    }\n\n    /**\n     * Get currency code for the given room\n     * @param email Email of the room\n     */\n    private symbolForRoom(email: string) {\n        const room = this.parent.Rooms.item(email.toLowerCase());\n        if (room) {\n            const level = room.level || ({} as any);\n            const building = this.parent.Buildings.get(level.bld_id);\n            if (building) {\n                return building.currency || 'USD';\n            }\n        }\n        return 'USD';\n    }\n}\n","/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-25 16:00:37\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-07-02 16:45:34\n*/\n\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nexport interface IBuilding {\n    id: string;\n    zone_id?: string;\n    name: string;\n    extras: IExtra[];\n    levels: ILevel[];\n    settings: any;\n    loan_items?: IExtra[];\n    orgs?: IOrganisation[];\n    roles?: any;\n    lockers?: any;\n    holding_bay?: string;\n    visitor_space?: string;\n    code?: string;\n    address?: string;\n    booking_rules?: any;\n    reception_email?: string;\n    coords?: {\n        longitude: number;\n        latitude: number;\n    };\n    required: {\n        expected_attendees?: boolean;\n        equipment_code?: boolean;\n    };\n    map: {\n        zones?: { id: string, name: string; }[];\n        searchables?: any;\n    };\n    terms?: {\n        title: string,\n        details: string\n    }[];\n    currency?: string;\n    /** Whether the building has some kind of catering service available */\n    has_catering?: boolean;\n}\n\nexport interface IExtra {\n    id: string;\n    name: string;\n}\n\nexport interface ILevel {\n    id: string;\n    bld_id: string;\n    name: string;\n    number: string | number;\n    book_type?: string;\n    map_url?: string;\n    map: {\n        features?: { id: string, name: string; }[];\n        poi?: { id: string, name: string; }[];\n    };\n    type?: string;\n    settings?: any;\n    defaults?: any;\n}\n\nexport interface IOrganisation {\n    id: string;\n    name: string;\n    settings: any;\n    blds?: IBuilding[];\n    orgs?: IOrganisation[];\n    space_types: { [id: string]: string };\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class BuildingsService {\n    public parent: any = null;\n    public default = '';\n    public data: any = {};\n\n    private model: any = {};\n    private active = '';\n    private org: IOrganisation;\n    private subjects: any = {};\n    private observers: any = {};\n\n    protected get http() {\n        return this._composer.http;\n    }\n\n    constructor(protected _composer: ComposerService) {\n        this.subjects.active = new BehaviorSubject<IBuilding>(null);\n        this.observers.active = this.subjects.active.asObservable();\n    }\n    /**\n     * Initialise service\n     */\n    public init() {\n        if (!this.parent || !this.parent.Settings.setup || (this.parent.Settings.get('mock') && !(window as any).backend.is_loaded)) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.default = this.parent.Settings.get('building.default');\n        this.model.has_orgs = this.parent.Settings.get('app.orgs');\n        if (localStorage) {\n            this.model.user_set_building = localStorage.getItem('CONCIERGE.building');\n        }\n        const sub = this.parent.Users.listen('state', (state) => {\n            if (state === 'available') {\n                this.load();\n                sub.unsubscribe();\n            }\n        });\n    }\n\n    /**\n     * Load API data\n     * @param tries Retry count. DON'T USE\n     */\n    public load(tries: number = 0) {\n        if (!this.parent) {\n            return setTimeout(() => this.load(), 500);\n        }\n        const url = `${this.parent.endpoint}/control/api/zones?tags=org&limit=1000`;\n        this.http.get(url).subscribe((response: any) => {\n            const o = response instanceof Array ? response : response.results;\n            if (o && o.length > 0) {\n                const org = o[0];\n                const settings = org.settings ? org.settings.discovery_info || {} : {};\n                this.org = {\n                    id: org.id,\n                    name: org.name,\n                    settings: settings.settings || {},\n                    blds: settings.buildings || [],\n                    orgs: settings.organisations || [],\n                    space_types: {}\n                };\n                if (!this.org.orgs || this.org.orgs.length <= 0 && this.model.has_orgs) {\n                    this.loadOrganisations();\n                }\n            }\n        }, (err) => {\n            this.parent.log('BLD(S)', 'Error loading org:', err, 'error');\n            setTimeout(() => this.load(tries), 500 * ++tries);\n        }, () => {\n            if (!this.org) {\n                setTimeout(() => this.load(tries), 500 * ++tries);\n            } else {\n                this.loadSpaceTypes();\n                this.loadBuildings();\n            }\n        });\n    }\n    /**\n     * Load Organisation Data\n     */\n    public loadOrganisations() {\n        if (!this.parent) {\n            return setTimeout(() => this.loadOrganisations(), 500);\n        }\n        const url = `${this.parent.api_endpoint}/organisations`;\n        this.http.get(url).subscribe((r: any) => {\n            if (this.org) {\n                this.org.orgs = r;\n            }\n        }, (e) => null, () => null);\n    }\n\n    private loadSpaceTypes() {\n        if (!this.parent) {\n            return setTimeout(() => this.loadSpaceTypes(), 500);\n        }\n        const url = '/control/api/zones?tags=room&limit=1000';\n        this.http.get(url).subscribe((resp: { total: number, results: any[] }) => {\n            const list = resp.results;\n            for (const type of list) {\n                this.org.space_types[type.id] = type.name;\n            }\n        });\n    }\n\n    public spaceType(id_list: string | string[]): string {\n        if (this.org) {\n            const list = id_list instanceof Array ? id_list : [id_list];\n            for (const id of list) {\n                if (this.org.space_types[id]) {\n                    return this.org.space_types[id];\n                }\n            }\n        }\n        return 'none';\n    }\n\n    /**\n     * Get a list of buildings\n     */\n    public list() {\n        const blds: IBuilding[] = [];\n        for (const b in this.data) {\n            if (this.data.hasOwnProperty(b) && this.data[b]) {\n                blds.push(this.data[b]);\n            }\n        }\n        return blds;\n    }\n\n    /**\n     * Gets the currently active building\n     */\n    public current(): IBuilding {\n        return this.subjects.active.getValue();\n    }\n\n    /**\n     * Observable for current building\n     */\n    public listen(next: (data: any) => void) {\n        return this.observers.active.subscribe(next);\n    }\n\n    /**\n     * Get observable for property\n     * @param name Name of the property. Possible values active\n     */\n    public observer(name: string = 'active') {\n        return this.subjects[name] ? this.observers[name] : null;\n    }\n\n    /**\n     * Get Buidling with the given ID\n     * @param id Building ID\n     */\n    public get(id: string) {\n        if (this.data[id]) {\n            return this.data[id];\n        }\n        return null;\n    }\n\n    /**\n     * Set the active building\n     * @param id ID of Building\n     * @param save Store active building\n     */\n    public set(id: string, save: boolean = true) {\n        if (this.data[id]) {\n            this.active = id;\n            this.subjects.active.next(this.data[id]);\n            if (localStorage && save) {\n                localStorage.setItem('CONCIERGE.building', id);\n            }\n        }\n    }\n\n    /**\n     * Gets the organisation\n     */\n    public organisation() {\n        return this.org;\n    }\n\n    /**\n     * Gets the levels of the current building or building with the given ID\n     * @param {string} id Building ID\n     */\n    public levels(id?: string) {\n        const bld = this.current();\n        if (bld) {\n            if (id) {\n                for (const lvl of bld.levels) {\n                    if (lvl.id === id) { return [lvl]; }\n                }\n            } else {\n                return bld.levels || [];\n            }\n        }\n        return [];\n    }\n    /**\n     * Get first level that matches the given ID/IDs\n     * @param id_list An ID or array of IDs\n     */\n    public getLevel(id_list: string | string[]) {\n        const list = id_list instanceof Array ? id_list : [id_list];\n        for (const id in this.data) {\n            if (this.data.hasOwnProperty(id) && this.data[id]) {\n                const bld = this.data[id];\n                for (const lvl of bld.levels) {\n                    if (list.indexOf(lvl.id) >= 0) {\n                        return lvl;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Get a list of extras that IDs match\n     * @param id String with the IDs\n     */\n    public getExtras(id: string) {\n        const bld = this.current();\n        const list: IExtra[] = [];\n        if (bld && id) {\n            for (const e of bld.extras) {\n                if (id.indexOf(e.id) >= 0) {\n                    list.push(e);\n                }\n            }\n        }\n        return list;\n    }\n\n    public getSetting(name: string) {\n        const bld = this.current();\n        let item = null;\n        if (bld) {\n            const settings = bld.settings;\n            const parts = name.split('.');\n            if (parts[0] === 'app' && parts.length > 1) { parts.splice(0, 1); }\n            if (parts.length <= 0) { return null; }\n            item = this.getItemFromKeys(parts, settings);\n        }\n        if (!item && this.organisation()) {\n            const settings = this.organisation().settings;\n            const parts = name.split('.');\n            if (parts[0] === 'app' && parts.length > 1) { parts.splice(0, 1); }\n            if (parts.length <= 0) { return null; }\n            item = this.getItemFromKeys(parts, settings);\n        }\n        return item;\n    }\n\n    /**\n     * Gets nested setting value\n     * @param keys List of keys to iterate down the object\n     * @param root Root element of the search\n     * @return Returns the value a the end of the iteration or null\n     */\n    private getItemFromKeys(keys: string[], root: any) {\n        if (keys.length <= 0) {\n            return root;\n        }\n        if (typeof root !== 'object') {\n            return null;\n        }\n        let item = root;\n        // Iterate through keys to traverse object tree\n        for (const k of keys) {\n            // Make sure key has a value\n            if (k !== '') {\n                if (item !== undefined && item !== null && item.hasOwnProperty(k)) {\n                    item = item[k];\n                } else {\n                    return null;\n                }\n            }\n        }\n        return item;\n    }\n\n    /**\n     * Load building data from the API\n     * @param tries Retry count. DON'T USE\n     */\n    private loadBuildings(tries: number = 0) {\n        const url = `${this.parent.endpoint}/control/api/zones?tags=building&limit=1000`;\n        this.http.get(url).subscribe((response: any) => {\n            const blds = response instanceof Array ? response : response.results;\n            for (const bld of blds) {\n                for (const b of this.org.blds) {\n                    if (bld.id === b.zone_id) {\n                        const info = bld.settings.discovery_info || {};\n                        this.data[bld.id] = {\n                            id: bld.id,\n                            name: bld.name,\n                            catering: info.catering,\n                            phone: info.phone,\n                            systems: {\n                                desks: info.desk_tracking,\n                                messaging: info.messaging\n                            },\n                            lockers: info.locker_structure,\n                            holding_bay: info.holding_bay,\n                            roles: info.roles || {},\n                            extras: this.processExtras(info.extras),\n                            levels: this.processLevels(info.levels, bld.id),\n                            loan_items: this.processExtras(info.loan_items),\n                            map: {\n                                zones: info.map_zones || [],\n                                searchables: info.neighbourhoods || {}\n                            },\n                            required: {\n                                expected_attendees: !!info.requires_expected_attendees,\n                                equipment_code: !!info.requires_equipment_code\n                            },\n                            code: info.code,\n                            address: info.address,\n                            terms: info.terms,\n                            settings: info.settings || {},\n                            orgs: info.organisations,\n                            booking_rules: info.booking_rules,\n                            visitor_space: info.visitor_space,\n                            reception_email: info.reception_email || bld.settings.reception_email,\n                            currency: info.currency,\n                        };\n                        Object.defineProperty(this.data[bld.id], 'orgs', {\n                            get: () => {\n                                const contact_orgs = this.parent.Contacts.get('orgs') || [];\n                                const orgs = info.organisations && info.organisations.length > 1 ? [ ...info.organisations ] : [];\n                                contact_orgs.forEach(i => !orgs.find(o => i === o.name) ? orgs.push({\n                                    id: i.split('').reduce((a = 0, c: string) => a += c.charCodeAt(0)),\n                                    name: i\n                                }) : '');\n                                orgs.sort((a, n) => a.name.localeCompare(n.name));\n                                return orgs;\n                            }\n                        });\n                        if (this.data[bld.id] && this.data[bld.id].roles) {\n                            for (const grp in this.data[bld.id].roles) {\n                                if (this.data[bld.id].roles.hasOwnProperty(grp)) {\n                                    const group = this.data[bld.id].roles[grp];\n                                    for (const user of group) {\n                                        user.type = 'role';\n                                    }\n                                }\n                            }\n                        }\n                            // Set coordinates\n                        if (info.latitude || info.longitude || info.lat || info.long) {\n                            this.data[bld.id].coords = {\n                                longitude: info.longitude || info.long || 0,\n                                latitude: info.latitude || info.lat || 0\n                            };\n                        }\n                    }\n                }\n            }\n        }, (err) => {\n            this.parent.log('BLD(S)', 'Error loading buildings:', err, 'error');\n            setTimeout(() => this.loadBuildings(tries), 500 * ++tries);\n        }, () => {\n            const keys = Object.keys(this.data);\n            if ((!this.default || this.default === '' || !this.data[this.default]) && keys.length > 0) {\n                this.default = keys[0];\n            }\n            if (keys.indexOf(this.model.user_set_building) < 0) {\n                this.model.user_set_building = null;\n                if (localStorage) {\n                    localStorage.removeItem('CONCIERGE.building');\n                }\n            }\n            this.set(this.model.user_set_building || this.default, false);\n            this.parent.log('BLD(S)', 'Loaded building data');\n            // Set the default building to the user's office location\n            const user = this.parent.Users.current();\n            if (user && user.office_code) {\n                const bld = Object.keys(this.data)\n                    .map(i => this.data[i])\n                    .find((i: IBuilding) => i.code === user.office_code);\n                if (bld) {\n                    this.parent.log('BLD][S', `Building set to \"${bld.name}\" based of office location`);\n                    this.set(bld.id, false);\n                }\n            }\n            setTimeout(() => this.loadLevels(), 300);\n        });\n    }\n\n    /**\n     * Load level data from the API\n     * @param tries Retry count. DON'T USE\n     */\n    private loadLevels(tries: number = 0) {\n        if (tries > 10) { return; }\n        const url = `${this.parent.endpoint}/control/api/zones?tags=level&limit=1000`;\n        let data = null;\n        this.http.get(url).subscribe(\n            (levels: any) => data = levels.results || levels,\n            (err) => {\n                this.parent.log('BLD(S)', 'Error loading levels:', err, 'error');\n                setTimeout(() => this.loadLevels(tries), 500 * ++tries);\n            },\n            () => {\n                this.parent.log('BLD(S)', 'Loaded level data');\n                for (const lvl of (data || [])) {\n                    const level = this.getLevel(lvl.id || lvl.level_id);\n                    if (level) {\n                        level.settings = lvl.settings || {};\n                        level.map.features = level.settings.map_features || [];\n                        level.map.poi = level.settings.map_poi || [];\n                    }\n                }\n            });\n    }\n\n    /**\n     * Covert building level data to local format\n     * @param list Array of Levels\n     * @param id ID of the associated building\n     */\n    private processLevels(list: any[], id: string = ''): ILevel[] {\n        const levels: ILevel[] = [];\n        if (list) {\n            for (const item of list) {\n                levels.push({\n                    id: item.level_id,\n                    bld_id: id,\n                    name: item.level_name,\n                    map_url: item.map_url,\n                    number: item.level_name.indexOf('Level') >= 0 ? item.level_name.replace('Level ', '') : item.level_name[0],\n                    type: item.floor_type || 'staff',\n                    book_type: item.book_type,\n                    map: {},\n                    defaults: item.defaults || {}\n                });\n            }\n        }\n        return levels;\n    }\n\n    /**\n     * Covert building extras data to local format\n     * @param list Array of Extras\n     */\n    private processExtras(list: any[]): IExtra[] {\n        const extras: IExtra[] = [];\n        if (list) {\n            for (const item of list) {\n                extras.push({\n                    id: item.extra_id,\n                    name: item.extra_name,\n                });\n            }\n        }\n        return extras;\n    }\n}\n","\nimport { Injectable } from '@angular/core';\nimport { ComposerService } from '@acaprojects/ngx-composer';\n\nimport { BaseService } from '../base.service';\nimport { CateringCategory } from './catering-category.class';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CateringCategoriesService extends BaseService<CateringCategory> {\n\n    constructor(protected _composer: ComposerService) {\n        super(_composer);\n        this.model.name = 'catering category/group';\n        this.model.route = '/catering/category';\n    }\n\n    public query(): never {\n        throw Error('No index endpoint for catering categories. Use catering menu service.');\n    }\n\n    public show(): never {\n        throw Error('No show endpoint for catering categories. Use catering menu service.');\n    }\n\n    public processItem(raw_item: any) {\n        return new CateringCategory(raw_item);\n    }\n\n    public format(item: CateringCategory) {\n        return item instanceof CateringCategory ? item.toJSON() : item;\n    }\n}\n","import { CateringItem } from \"./catering-item.class\";\nimport { HashMap } from \"../../../shared/utilities/type.helpers\";\n\nexport class CateringCategory extends CateringItem {\n    /** List of items associated with the category */\n    public readonly items: readonly CateringItem[];\n    /** Whether child items are part of a package */\n    public readonly package: boolean;\n    /** List of zone ids associated with the category */\n    public readonly zones: readonly string[];\n\n    public get can_order_anytime(): boolean {\n        return (\n            this.order_anytime ||\n            this.items.reduce(\n                (anytime, item) => anytime || item.can_order_anytime,\n                false\n            )\n        );\n    }\n\n    constructor(data: HashMap) {\n        super(data);\n        this.items = (data.items || []).map(item =>\n            item.items ? new CateringCategory(item) : new CateringItem(item)\n        );\n        this.package = data.package === 'true' || data.package === true;\n        this.zones = data.zones && data.zones.length ? [ ...data.zones ] : [];\n        (this as any).order_anytime = !!data.order_anytime && this.package;\n    }\n\n    /**\n     * Convert class object into plain object\n     */\n    public toJSON(this: CateringItem): HashMap {\n        const obj = super.toJSON();\n        obj.items = obj.items.map((item: CateringItem) => item.toJSON());\n        obj.order_anytime = !!obj.order_anytime && obj.package;\n        return obj;\n    }\n}\n","import { HashMap } from \"../../../shared/utilities/type.helpers\";\n\nexport interface CateringAvailability {\n    /** Month of the year that the item starts being available */\n    readonly from_month: number;\n    /** Month of the year that the item ends being available */\n    readonly to_month: number;\n}\n\nexport class CateringItem {\n    /** Unique ID of the catering item */\n    public readonly id: string;\n    /** Display name of the catering item */\n    public readonly name: string;\n    /** Description of the item */\n    public readonly description: string;\n    /** URL to the image associated with the item */\n    public readonly image_path: string;\n    /** Type of catering item */\n    public readonly catering_type: string;\n    /** Availability of the item */\n    public readonly available: CateringAvailability;\n    /** Time in hours that is needed to prepare the item beforehand */\n    public readonly prior_notice: number;\n    /** Cost of the item without decimals */\n    public readonly unit_price: number;\n    /** Cost of the item without decimals */\n    public readonly supplier_cost: number;\n    /** Minimum number this item allowed in an order */\n    public readonly minimum_quantity: number;\n    /** Maximum number this item allowed in an order */\n    public readonly maximum_quantity: number;\n    /** List of categories that the item is contained in */\n    public readonly parent_categories: readonly string[];\n    /** Allegen information associated with the item */\n    public readonly allergy: string;\n    /** Whether the supply of this item has run out */\n    public readonly out_of_stock: boolean;\n    /** Whether item can be ordered within the time limit set by the building */\n    public readonly order_anytime: boolean;\n    /** Number of child items that must be selected as part of the package */\n    public readonly must_select: number;\n    /** Number of this item in the assoicated order */\n    private _amount = 0;\n    /** Unique ID of the catering item */\n    private instance_id: string;\n\n\n    public get can_order_anytime(): boolean {\n        return this.order_anytime;\n    }\n\n    /** Number of this item in the assoicated order */\n    public get amount(): number {\n        return this._amount || 0;\n    }\n\n    /** Total cost of the amount of items set */\n    public get total(): number {\n        return (this._amount * this.unit_price) || 0;\n    }\n\n    constructor(data: HashMap) {\n        this.instance_id = `item-${Math.floor(Math.random() * 999_999_999)}`\n        this.id = data.id;\n        this.name = data.name;\n        this.available = {\n            from_month: (data.available ? data.available.from_month : data.available_from) || -1,\n            to_month: (data.available ? data.available.to_month : data.available_to) || -1,\n        };\n        this.description = data.description || '';\n        this.prior_notice = data.prior_notice || data.notice;\n        this.unit_price = data.unit_price || data.price;\n        this.supplier_cost = data.supplier_cost;\n        this.minimum_quantity = Math.max(0, data.minimum_quantity || 0);\n        this.maximum_quantity = Math.max(1, data.maximum_quantity || 999);\n        this.parent_categories = data.category_ids || data.parent_categories || data.categories;\n        this.order_anytime = !!data.order_anytime;\n        this.image_path = data.image_path || '';\n        this.catering_type = data.catering_type;\n        this.must_select = data.must_select;\n        this.out_of_stock = !!data.out_of_stock || data.hide;\n        this._amount = data._amount || data.amount || 0;\n        this.allergy = data.allergy;\n    }\n\n    public setAmount(amount: number = 0): void {\n        this._amount = Math.max(0, amount);\n    }\n\n    /**\n     * Increase amount of the item the order\n     * @param amount Amount to increase by\n     */\n    public addToOrder(amount: number = 1) {\n        amount = Math.max(1, amount);\n        this._amount += amount;\n        if (this._amount < 0) {\n            this._amount = 0;\n        } else if (this._amount < this.minimum_quantity) {\n            this._amount = this.minimum_quantity;\n        } else if (this._amount > this.maximum_quantity) {\n            this._amount = this.maximum_quantity;\n        }\n    }\n\n    /**\n     * Decrease amount of the item the order\n     * @param amount Amount to decrease by\n     */\n    public removeFromOrder(amount: number = 1) {\n        amount = Math.max(1, amount);\n        this._amount -= amount;\n        if (this._amount < 0) {\n            this._amount = 0;\n        } else if (this._amount < this.minimum_quantity) {\n            this._amount = 0;\n        }\n    }\n\n    /**\n     * Convert class object into plain object\n     */\n    public toJSON(this: CateringItem): HashMap {\n        const obj: any = { ...this };\n        // Remove local private members\n        delete obj._changes;\n        delete obj._server_names;\n        // Convert remaining members to be public\n        obj.price = obj.unit_price;\n        obj.hide = obj.out_of_stock;\n        obj.categories = obj.parent_categories;\n        const keys = Object.keys(obj);\n        for (const key of keys) {\n            if (key[0] === '_') {\n                const new_key = key.substr(1);\n                obj[new_key] = obj[key];\n                delete obj[key];\n            } else if (obj[key] === undefined) {\n                delete obj[key];\n            }\n        }\n        return obj;\n    }\n}\n","\nimport { Injectable } from '@angular/core';\nimport { ComposerService } from '@acaprojects/ngx-composer';\n\nimport { BaseService } from '../base.service';\nimport { CateringItem } from './catering-item.class';\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CateringItemsService extends BaseService<CateringItem> {\n\n    constructor(protected _composer: ComposerService) {\n        super(_composer);\n        this.model.name = 'catering item';\n        this.model.route = '/catering/item';\n    }\n\n    public query(): never {\n        throw Error('No index endpoint for catering items. Use menu service.');\n    }\n\n    public show(): never {\n        throw Error('No show endpoint for catering items. Use menu service.');\n    }\n\n    public processItem(raw_item: any) {\n        return new CateringItem(raw_item);\n    }\n\n    public format(item: CateringItem) {\n        return item instanceof CateringItem ? item.toJSON() : item;\n    }\n}","import { Injectable } from \"@angular/core\";\nimport { ComposerService } from \"@acaprojects/ngx-composer\";\n\nimport { CateringItem } from \"./catering-item.class\";\nimport { CateringCategory } from \"./catering-category.class\";\nimport { BaseService } from \"../base.service\";\nimport { HashMap } from \"../../../shared/utilities/type.helpers\";\n\n\n@Injectable({\n    providedIn: \"root\"\n})\nexport class CateringMenuService extends BaseService<CateringItem | CateringCategory> {\n    constructor(protected _composer: ComposerService) {\n        super(_composer);\n        this.model.name = \"catering-menu\";\n        this.model.route = \"/menu\";\n    }\n\n    /**\n     * Convert user data to local format\n     * @param user User data\n     */\n    protected processItem(item: HashMap) {\n        return item.items ? new CateringCategory(item) : new CateringItem(item);\n    }\n}\n","import { CateringItem } from './catering-item.class';\nimport { HashMap } from '../../../shared/utilities/type.helpers';\nimport { CateringCategory } from './catering-category.class';\n\nimport * as dayjs from 'dayjs';\nimport { IBooking } from '../bookings.service';\n\nexport type CateringOrderMutableProperties =\n    | 'items'\n    | 'location_id'\n    | 'location'\n    | 'delivery_time'\n    | 'charge_code'\n    | 'notes'\n    | 'status';\n\nexport type CateringOrderStatus = 'accepted' | 'preparing' | 'ready' | 'delivered' | 'cancelled';\n\nexport class CateringOrder {\n    /** Booking associated with the order */\n    public booking: IBooking;\n    /** Whether the order status change is loading */\n    public loading: boolean;\n    /** Unique ID for the catering order */\n    readonly id: string;\n    /** Unique ID for the catering order */\n    readonly booking_id: string;\n    /** Number of minutes after the start of the associated meeting to delivery the order */\n    readonly booking_date: number = dayjs()\n        .startOf('m')\n        .valueOf();\n    /** Number of minutes after the start of the associated meeting to delivery the order */\n    readonly delivery_time: number = 0;\n    /** ID of the location to deliver the items to */\n    readonly location_id: string = '';\n    /** Display text for the location to deliver the items to */\n    readonly location: string = '';\n    /** Status of the catering order */\n    readonly status: CateringOrderStatus;\n    /** Whether items in the order need to be prepared in the kitchen */\n    readonly kitchen: boolean;\n    /** Whether items in the order are in the pantry */\n    readonly pantry: boolean;\n    /** List of items */\n    readonly items: readonly (CateringItem | CateringCategory)[] = [];\n    /** Creation time of the order */\n    readonly created_at: number;\n    /** Charge code associated with the order */\n    readonly charge_code: string;\n    /** Notes associated with the order */\n    readonly notes: string;\n    /** Mapping of properties to their changes */\n    private _changes: HashMap = {};\n    /** Map of local property names to server ones */\n    protected _server_names: HashMap<string> = {};\n    /** Currency code for the location of the order */\n    public symbol = 'USD';\n    /** Whether the is an error with the order */\n    public error: boolean;\n\n    constructor(data: HashMap) {\n        this.id = data.id || `order-${Math.floor(Math.random() * 999_999_999)}`;\n        this.booking = data.booking;\n        this.delivery_time = data.delivery_time || 0;\n        this.booking_date = data.booking_date;\n        this.location_id = data.location_id || data.location;\n        this.location = data.location || '';\n        this.status = data.status || 'accepted';\n        this.charge_code = data.charge_code || data.code;\n        this.notes = data.notes;\n        this.kitchen = data.kitchen instanceof Array ? !!data.kitchen.length : data.kitchen;\n        this.pantry = data.pantry instanceof Array ? !!data.pantry.length : data.pantry;\n        this.items = (data.items || [])\n            .map(item => (item.items ? new CateringCategory(item) : new CateringItem(item)))\n            .filter(item => !!item.amount);\n    }\n\n    /** Mapping of properties to their changes */\n    public get changes(): HashMap<any> {\n        return { ...this._changes } || {};\n    }\n\n    /** Display string for the types of items in the order */\n    public get type(): string {\n        let type = '';\n        if (this.kitchen) type += 'Kitchen';\n        if (this.pantry) {\n            if (type) type += ' + ';\n            type += 'Pantry';\n        }\n        return type;\n    }\n\n    /** Total cost of the order */\n    public get total(): number {\n        return this.items.reduce((total, item) => total + (item.total || 0), 0);\n    }\n\n    /** Total number of items in the order */\n    public get item_count(): number {\n        return this.items.reduce((total, item) => total + (item.amount || 0), 0);\n    }\n\n    /** Display string for the delivery time of the order */\n    public get deliver_at_time(): string {\n        const date = this.booking ? this.booking.date : this.booking_date;\n        return dayjs(date)\n            .add(this.delivery_time, 'm')\n            .format('h:mm A');\n    }\n\n    /** Display string for the delivery date of the order */\n    public get deliver_on_date(): string {\n        const date = this.booking ? this.booking.date : this.booking_date;\n        return dayjs(date)\n            .add(this.delivery_time, 'm')\n            .format('DD MMM YYYY');\n    }\n\n    /** Whether there are any pending changes to be saved */\n    public get has_changes(): boolean {\n        return !!Object.keys(this._changes);\n    }\n\n    /**\n     * Store pending changes for the given property\n     * @param name Property to update value\n     * @param value New value to save for property\n     */\n    public storePendingChanges(name: CateringOrderMutableProperties, value: any): void {\n        this._changes[name] = value;\n    }\n\n    /** Clear any changes waiting to be saved */\n    public clearPendingChanges() {\n        delete this._changes;\n        this._changes = {};\n    }\n\n    /**\n     * Convert class object into plain object\n     */\n    public toJSON(this: CateringOrder, with_changes: boolean = true): HashMap {\n        const obj: any = { ...this };\n        // Remove local private members\n        delete obj._changes;\n        delete obj._server_names;\n        // Remove local public members\n        delete obj.booking;\n        delete obj.loading;\n\n        // Convert remaining members to be public\n        const keys = Object.keys(obj);\n        for (const key of keys) {\n            if (key[0] === '_') {\n                const new_key = this._server_names[key.substr(1)] || key.substr(1);\n                obj[new_key] = obj[key];\n                delete obj[key];\n            } else if (obj[key] === undefined) {\n                delete obj[key];\n            }\n        }\n        obj.items = obj.items.map((item: CateringItem) => item.toJSON());\n        return with_changes ? { ...obj, ...this._changes } : obj;\n    }\n}\n","import { FormGroup, FormControl, Validators } from \"@angular/forms\";\n\nimport { CateringOrder } from \"./catering-order.class\";\n\nimport * as dayjs from 'dayjs';\n\nexport function generateCateringOrderFormFields(order: CateringOrder): FormGroup {\n    const form = new FormGroup({\n        items: new FormControl(order.items && order.items.length ? [...order.items] : [], [Validators.required]),\n        delivery_time: new FormControl(order.delivery_time || dayjs().startOf('m').valueOf(), [Validators.required]),\n        location_id: new FormControl(order.location_id || '', [Validators.required]),\n        charge_code: new FormControl(order.charge_code || '', [Validators.required]),\n        notes: new FormControl(order.notes || ''),\n    });\n    for (const key in form.controls) {\n        form.controls[key].valueChanges.subscribe((value) => order.storePendingChanges(key as any, value));\n    }\n    return form;\n}\n","\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\nimport { IUser } from './users.service';\n\nexport interface IComment {\n    id: string;\n    channel_id: string;\n    user_id: string;    // ACA User ID\n    user: IUser;\n    master_id: string;  // ID of master object\n    reply_to_id: string;\n    replies: IComment[];\n    name: string;       // User Staff Code\n    description: string;\n    other: any;\n    likes: string[];\n    dislikes: string[];\n    created_at: number;\n    updated_at: number;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CommentsService {\n    public parent: any = null;\n\n    private model: any = {};\n    private timers: any = {};\n    private subjects: any = {};\n    private observers: any = {};\n\n    protected get http() {\n        return this._composer.http;\n    }\n\n    constructor(protected _composer: ComposerService) { }\n\n    public init() {\n        return;\n    }\n\n    /**\n     * Get a list of comments matching the given fields\n     * @param fields query fields for API\n     */\n    public list(fields: any = { offset: 0, limit: 500 }) {\n        return new Promise<IComment[]>((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment`;\n            let query = ``;\n            if (fields) {\n                for (const k in fields) {\n                    if (fields.hasOwnProperty(k)) {\n                        if (!query) { query += '&'; }\n                        query += `${k}=${fields[k]}`;\n                    }\n                }\n            }\n            const data: IComment[] = [];\n            this.http.get(`${url}${query ? '?'  + query : ''}`).subscribe((resp: any) => {\n                for (const item of resp.results) {\n                    data.push(this.processComment(item));\n                }\n                this.processReplies(data);\n            }, (err) => {\n                reject(err);\n            }, () => {\n                resolve(data);\n            });\n        });\n    }\n\n    /**\n     * Create new comment\n     * @param comment New comment\n     */\n    public new(comment: IComment) {\n        return new Promise((resolve, reject) => {\n            const cmt = JSON.parse(JSON.stringify(comment));\n            if (cmt.user) { delete cmt.user; }\n            if (cmt.other) {\n                const data = cmt.other;\n                data.comment = cmt.description;\n                cmt.description = JSON.stringify(data);\n                delete cmt.other;\n            }\n            const url = `${this.parent.api_endpoint}/comment`;\n            this.http.post(url, cmt).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Post update to comment\n     * @param id ID of comment\n     * @param comment Updated comment\n     */\n    public update(id: string, comment: IComment) {\n        return new Promise((resolve, reject) => {\n            const cmt = JSON.parse(JSON.stringify(comment));\n            if (cmt.user) { delete cmt.user; }\n            if (cmt.other) {\n                const data = cmt.other;\n                data.comment = cmt.description;\n                cmt.description = JSON.stringify(data);\n                delete cmt.other;\n            }\n            const url = `${this.parent.api_endpoint}/comment/${id}`;\n            this.http.put(url, cmt).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Delete comment with given ID\n     * @param id ID of comment\n     */\n    public delete(id: string) {\n        return new Promise((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment/${id}`;\n            this.http.delete(url).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Set like state to true for comment\n     * @param id ID of comment\n     * @param master_id ID of root comment\n     */\n    public like(id: string, master_id: string = '') {\n        return new Promise((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment/${id}/like`;\n            let query = `name=${this.parent.Users.current().staff_code}`;\n            if (master_id) {\n                query += `&master_id=${master_id}`;\n            }\n            this.http.post(`${url}${query ? '?'  + query : ''}`, {}).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Set like state to false for comment\n     * @param id ID of comment\n     * @param master_id ID of root comment\n     */\n    public dislike(id: string, master_id: string = '') {\n        return new Promise((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment/${id}/like`;\n            let query = `name=${this.parent.Users.current().staff_code}`;\n            if (master_id) {\n                query += `&master_id=${master_id}`;\n            }\n            this.http.post(`${url}${query ? '?'  + query : ''}`, {}).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Remove like/dislike state of comment\n     * @param id ID of comment\n     */\n    public remove_vote(id: string) {\n        return new Promise((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment/${id}/like`;\n            const query = `name=${this.parent.Users.current().staff_code}`;\n            this.http.post(`${url}${query ? '?'  + query : ''}`, {}).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Convert raw comment dat into local format\n     * @param cmt Raw comment data\n     * @return\n     */\n    private processComment(cmt: any): IComment {\n        const comment: IComment = {\n            id: cmt.id,\n            channel_id: cmt.channel_id,\n            user_id: cmt.user_id,\n            user: null,\n            master_id: cmt.master_id,\n            reply_to_id: cmt.in_reply_to_id,\n            replies: [],\n            name: cmt.name,\n            description: cmt.description,\n            likes: cmt.likes,\n            other: {},\n            dislikes: cmt.dislikes,\n            created_at: cmt.created_at,\n            updated_at: cmt.updated_at,\n        };\n        if (comment.description[0] === '{') {\n            comment.other = JSON.parse(comment.description);\n            if (comment.other) {\n                comment.description = comment.other.comment;\n            }\n        }\n        comment.user = this.parent.Users.get(cmt.name);\n        return comment;\n    }\n\n    /**\n     * Link associated comments together\n     * @param cmt_list Array of comments\n     */\n    private processReplies(cmt_list: IComment[]) {\n        for (const i of cmt_list) {\n            if (i.reply_to_id) {\n                const id = i.reply_to_id;\n                for (const cmt of cmt_list) {\n                    if (cmt.id === id) {\n                        cmt.replies.push(i);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { BaseService } from './base.service';\nimport { IUser } from './users.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ContactsService extends BaseService<IUser> {\n\n    constructor(protected _composer: ComposerService) {\n        super(_composer);\n        this.model.name = 'contact';\n        this.model.route = '/contacts';\n        this.subjects.list = new BehaviorSubject<IUser[]>([]);\n        this.observers.list = this.subjects.list.asObservable();\n        this.subjects.orgs = new BehaviorSubject<string[]>([]);\n        this.observers.orgs = this.subjects.list.asObservable();\n    }\n\n    public load() {\n        if (this.parent && this.parent.Settings.get('app.contacts.enabled')) {\n            this.query();\n            this.interval('load_list', () => this.query(), 5 * 60 * 1000);\n        }\n    }\n\n    /**\n     * Convert user data to local format\n     * @param user User data\n     */\n    protected processItem(item: { [name: string]: any }) {\n        item.type = 'external';\n        const user: IUser = (this.parent.Users as any).processItem(item);\n        if (user.organisation_name) {\n            const orgs = this.get('orgs');\n            if (!orgs.find(i => i === user.organisation_name)) {\n                orgs.push(user.organisation_name);\n                orgs.sort((a, b) => a.localeCompare(b));\n            }\n            this.set('orgs', orgs);\n        }\n        return user;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { BaseService } from './base.service';\nimport { IBuilding, ILevel } from './buildings.service';\n\nimport * as moment from 'moment';\n\nexport interface ILocation {\n    x?: number;\n    y?: number;\n    name?: string;\n    map_id?: string;\n    building: string;\n    level: string | ILevel;\n    fixed: boolean;\n    loc_id?: string;\n    display?: { [name: string]: string };\n    confidence?: number;\n    another_bld?: boolean;\n    at_desk?: boolean;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LocationService extends BaseService<ILocation> {\n\n    constructor(protected _composer: ComposerService) {\n        super(_composer);\n        this.model.name = 'location';\n        this.model.route = '/people';\n        this.subjects.list = new BehaviorSubject<ILocation[]>([]);\n        this.observers.list = this.subjects.list.asObservable();\n    }\n\n    public add() {\n        return new Promise((rs, rj) => {\n            rj('No add method for this service');\n            throw Error('No add method for this service');\n        });\n    }\n\n    public update() {\n        return new Promise((rs, rj) => {\n            rj('No update method for this service');\n            throw Error('No update method for this service');\n        });\n    }\n\n    public delete() {\n        return new Promise((rs, rj) => {\n            rj('No delete method for this service');\n            throw Error('No delete method for this service');\n        });\n    }\n\n    public processItem(raw_item: { [name: string]: any }, id?: string) {\n        if (raw_item instanceof Array) { raw_item = raw_item[0]; }\n        if (typeof raw_item === 'string') { raw_item = { name: raw_item }; }\n        const item: ILocation = {\n            name: raw_item.name,\n            level: raw_item.level,\n            building: raw_item.building,\n            display: {},\n            fixed: true,\n        };\n        const bld = this.parent.Buildings.get(item.building);\n        if (bld) {\n            item.display.building = bld.name;\n            item.another_bld = bld !== this.parent.Buildings.current();\n            for (const level of bld.levels) {\n                if (level.id === item.level) {\n                    item.display.level = level.name;\n                    break;\n                }\n            }\n        }\n        if (raw_item.x && raw_item.y) {\n            item.fixed = false;\n            item.x = (10000 / raw_item.x_max) * raw_item.x;\n            item.y = (10000 / raw_item.x_max) * raw_item.y;\n            item.confidence = Math.max(5, Math.min(15, raw_item.confidence));\n        } else {\n            item.map_id = `${raw_item.desk_id}`;\n            const is_room = raw_item.desk_id && raw_item.desk_id.indexOf('area-') >= 0;\n            item.display.name = `${raw_item.desk_id && !is_room ? 'Desk ' + raw_item.desk_id.split('-')[1] : 'In their office'}`;\n            item.map_id = raw_item.desk_id;\n            item.at_desk = raw_item.at_desk;\n        }\n        return item;\n    }\n}\n","import { ComposerService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\nimport { BaseService } from './base.service';\n\nexport interface IReportData {\n    date?: string;\n    subject?: string;\n    host?: string;\n    booker?: any;\n    room?: string;\n    catering_code?: string;\n    menu_category?: string;\n    menu_items?: string;\n    quantities?: number;\n    item_price?: number;\n    room_email?: string;\n    symbol?: string;\n    start_date?: string;\n    end_date?: string;\n    attendees?: string[];\n    status?: string;\n    setup?: number;\n    breakdown?: number;\n    is_all_day?: string;\n    is_cancelled?: string;\n    recurrence?: string;\n    notes?: string[];\n    catering?: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ReportsService extends BaseService<any> {\n    constructor(protected _composer: ComposerService) {\n        super(_composer);\n        this.model.name = 'report';\n        this.model.route = '/reports';\n        this.observers.list = this.subjects.list.asObservable();\n    }\n\n    // Convert data to local format\n    public processItem(item: any) {\n        const data: IReportData = {\n            date: (item['Date'] || '').replace(' ', 'T').replace(' ', ''),\n            subject: item['Subject'] || item.subject,\n            host: item['Host'] || item.organizer,\n            booker: item['Booker'] || item.booker,\n            room: item['Room'] || item.location,\n            catering_code: item['Code'],\n            menu_category: item['Category'],\n            menu_items: item['Item Name'],\n            quantities: item['Item Quantity'],\n            item_price: item['Item Price'],\n            room_email: item.room_email,\n            symbol: item.room_email ? this.symbolForRoom(item.room_email) : '',\n            start_date: item.start,\n            end_date: item.end,\n            attendees: item.attendees,\n            status: item.responseStatus,\n            setup: item.setup,\n            breakdown: item.breakdown,\n            is_all_day: item.isAllDay ? 'yes' : 'no',\n            is_cancelled: item.isCancelled ? 'yes' : 'no',\n            recurrence: item.recurrence,\n            notes: item.notes,\n            catering: item.catering\n        };\n        return data;\n    }\n\n    /**\n     * Get currency code for the given room\n     * @param email Email of the room\n     */\n    private symbolForRoom(email: string) {\n        const room = this.parent.Rooms.item(email.toLowerCase());\n        if (room) {\n            const level = room.level || ({} as any);\n            const building = this.parent.Buildings.get(level.bld_id);\n            if (building) {\n                return building.currency || 'USD';\n            }\n        }\n        return 'USD';\n    }\n}\n","\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\n\nimport * as moment from 'moment';\n\nimport { ILevel, IExtra } from './buildings.service';\nimport { IBooking } from './bookings.service';\nimport { BaseService } from './base.service';\nimport { Utils } from '../../shared/utility.class';\n\nexport interface IRoom {\n    id: string;\n    name: string;\n    long_name?: string;\n    email: string;\n    level: ILevel;\n    map_id: string;\n    type?: string;\n    available?: boolean;\n    bookable: boolean;\n    in_use: string | boolean;\n    raw_bookings: { [name: string]: any }[];\n    bookings: IBooking[];\n    searchable?: boolean;\n    today?: IBooking[];\n    zones?: string[];\n    timeline?: { [name: string]: IBooking[] };\n    rate?: number;\n    support_url?: string;\n    extras?: IExtra[];\n    capacity?: number;\n    controllable?: boolean;\n    linked_rooms?: string[];\n    book_type?: string;\n    current?: IBooking;\n    order?: number;\n    next?: IBooking;\n    setup?: number;\n    breakdown?: number;\n    nextFree?: (d: number) => number;\n}\n\nexport interface IRoomAvailabilityRequest {\n    date: number;\n    duration: number;\n    id?: string;\n    bookable?: boolean;\n    rooms?: string;\n    ignore?: string;\n    room_ids?: string;\n    zone_ids?: string;\n    clear?: boolean;\n    setup?: number;\n    breakdown?: number;\n    hide_bookings?: boolean;\n    ignore_rooms?: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RoomsService extends BaseService<IRoom> {\n\n    constructor(protected _composer: ComposerService) {\n        super(_composer);\n        this.model.name = 'space';\n        this.model.route = '/rooms';\n        this.set('timelines', {});\n        this.set('search', []);\n        this.set('results', []);\n        this.set('capacities', []);\n        // Initialise state\n        this.set('state', 'loading');\n    }\n\n    protected load() {\n        if (!this.parent.Buildings.current()) {\n            return this.timeout('load', () => this.load());\n        }\n        // let start = moment().startOf('d').valueOf();\n        this.query({}).then((rooms) => null, (e) => null);\n        // this.available({ date: start, duration: 2 * 24 * 60, clear: true  });\n        // let bld = this.parent.Buildings.current();\n        // if (bld && bld.visitor_space) { this.isAvailable(bld.visitor_space, start, 2 * 24 * 60).then(_ => null, _ => null); }\n        // this.interval('load', () => {\n        //     start = moment().startOf('d').valueOf();\n        //     bld = this.parent.Buildings.current();\n        //     if (bld && bld.visitor_space) { this.isAvailable(bld.visitor_space, start, 2 * 24 * 60).then(_ => null, _ => null); }\n        //     this.available({ date: start, duration: 2 * 24 * 60, clear: true });\n        // }, 60 * 1000);\n    }\n\n    /**\n     * Get list of rooms\n     * @param all All rooms for client\n     * @param zone_ids List of zones that the rooms must be in\n     */\n    public list(all: boolean = false, zone_ids?: string | string[]) {\n        const zones = zone_ids ? (zone_ids instanceof Array ? zone_ids || [] : [zone_ids]) : [];\n        const list = this.get('list') || [];\n        let rm_list = [];\n        if (all) {\n            rm_list = list;\n        } else {\n            const bld = this.parent && this.parent.Buildings.current() ? this.parent.Buildings.current() : null;\n            const bld_list = list.filter((i) => i.level && i.level.bld_id === bld.id);\n            rm_list = (bld ? bld_list : list);\n        }\n        return zones.length > 0 ? rm_list.filter((i) => {\n            let cnt = 0;\n            for (const id of zones) {\n                if (i.zones.indexOf(id) >= 0) { cnt++; }\n            }\n            return cnt >= zones.length;\n        }) : rm_list;\n    }\n\n    /**\n     * Get list of available rooms\n     * @param date Start time of availabilty block\n     * @param duration Length of availabiliy block. Defaults to 60\n     * @param id ID of room to check availability\n     * @param bookable Only check bookable rooms. Defaults to true\n     */\n    public available(options: IRoomAvailabilityRequest) {\n        if (!this.parent || !this.parent.Buildings.current()) {\n            return new Promise((rs, rj) =>\n                setTimeout(() => this.available(options).then((v) => rs(v), (e) => rj(e)), 500)\n            );\n        }\n        this.set('state', 'loading');\n        const id = options.id;\n        const start = moment(options.date);\n        const end = moment(start).add(options.duration, 'm');\n        const bld = this.parent.Buildings.current();\n        const key = `availiable|${start.unix()}|${options.duration}${id ? '|' + id : ''}|${bld.id}|${options.ignore}|${options.zone_ids}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const query: any = {\n                    bookable: true,\n                    available_from: start.unix(),\n                    available_to: end.unix(),\n                    zone_ids: options.zone_ids /* || bld.id */,\n                    room_ids: options.room_ids,\n                    hide_bookings: options.hide_bookings,\n                    ignore_rooms: options.ignore_rooms\n                };\n                if (options.ignore) { query.ignore = options.ignore; }\n                if (options.rooms) { query.room_ids = options.rooms; }\n                const response = (resp) => {\n                    let raw_list = resp;\n                    if (!(resp instanceof Array)) { raw_list = [resp]; }\n                    if (options.clear) { this.clearTimeline(start.valueOf(), end.valueOf()); }\n                    const list = raw_list instanceof Array ? raw_list.filter((rm: IRoom) => {\n                        if (rm.linked_rooms) {\n                            const unavailable = rm.linked_rooms.filter(rm_id => {\n                                const item = raw_list.find(i => i.id === rm_id);\n                                return !item || !item.available;\n                            });\n                            if (unavailable && unavailable.length > 0) { return false; }\n                        }\n                        return rm.available;\n                    }) : resp;\n                    raw_list.forEach(rm => this.updateTimeline(rm.id, rm.bookings));\n                    resolve(list);\n                    this.timeout(key, () => this.promises[key] = null, 1000);\n                    this.set('state', 'idle');\n                };\n                const error = (err) => {\n                    this.subjects.state.next('idle');\n                    this.promises[key] = null;\n                    reject(err);\n                };\n                if (id) {\n                    this.show(id, query).then(response, error);\n                } else {\n                    this.query(query).then(response, error);\n                }\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Check if room is available\n     * @param id ID of room\n     * @param date Start time of availabilty block\n     * @param duration Length of availabiliy block. Defaults to 60\n     */\n    public isAvailable(id: string, date: number, duration: number = 60, ignore?: string, setup?: number, breakdown?: number): Promise<void> {\n        const start = moment(date);\n        const key = `available|${id}|${start.unix()}|${duration}|${ignore}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                // Get availability of room\n                this.available({\n                    date, duration, id,\n                    bookable: false,\n                    ignore,\n                    setup,\n                    breakdown\n                }).then((result) => {\n                    const item = (result instanceof Array ? result[0] : result) || {};\n                    // Check availability status of room\n                    if (item.available && item.linked_rooms && item.linked_rooms.length > 0) {\n                        this.available({\n                            date, duration,\n                            bookable: false,\n                            rooms: item.linked_rooms.join(',')\n                        }).then((list) => {\n                            list.length === item.linked_rooms.length ? resolve() : reject('Linked rooms are not free');\n                        });\n                    } else {\n                        item.id === id && item.available ? resolve() : reject();\n                    }\n                    // Prevent new requests for 60 seconds\n                    setTimeout(() => this.promises[key] = null, 1 * 1000);\n                }, (err) => { this.promises[key] = null; reject(); });\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Update room parameters\n     * @param room Room data\n     */\n    public processRoom(room: IRoom) {\n        if (room) {\n            if (room.raw_bookings) {\n                room.bookings = this.processRoomBookings(room.raw_bookings.map(i => {\n                    const room_ids = [...i.room_id];\n                    room_ids.splice(room_ids.findIndex(j => j === room.email), 1);\n                    i.room_id = [room.email, ...room_ids];\n                    return i;\n                }))\n                room.bookings.forEach(i => i.room);\n                room.next = this.nextBooking(room.bookings);\n                room.current = this.currentBooking(room.bookings);\n                room.in_use = this.checkState(room.bookings);\n            }\n        }\n    }\n\n    protected processItem(raw_item) {\n        if (!raw_item.settings) { raw_item.settings = {}; }\n        const settings = raw_item.settings;\n        const lvl = this.parent.Buildings.getLevel(raw_item.zones) || {};\n        if (!lvl.settings) { lvl.settings = {}; }\n        const out: IRoom = {\n            id: raw_item.id,\n            name: settings.room_name || raw_item.name,\n            long_name: settings.long_name || raw_item.long_name || raw_item.name,\n            email: (raw_item.email || '').toLowerCase(),\n            level: lvl,\n            map_id: raw_item.settings ? raw_item.settings.map_id : raw_item.map_id,\n            available: raw_item.available || raw_item.settings.available,\n            bookable: raw_item.bookable,\n            raw_bookings: raw_item.settings.bookings || raw_item.bookings,\n            order: raw_item.settings.room_order || raw_item.room_order || 999,\n            bookings: [],\n            extras: this.parent.Buildings.getExtras(raw_item.settings.extra_features || raw_item.extra_features),\n            support_url: settings.support_url || raw_item.support_url,\n            capacity: raw_item.capacity,\n            zones: raw_item.zones,\n            book_type: settings.book_type || lvl.book_type || lvl.settings.book_type || '',\n            controllable: settings.controllable,\n            rate: settings.cost_hour || raw_item.cost_hour,\n            linked_rooms: raw_item.linked_rooms || raw_item.settings.linked_rooms,\n            in_use: false,\n            next: null,\n            type: this.parent.Buildings.spaceType(raw_item.zones),\n            setup: (raw_item.settings.setup || 0) / 60,\n            breakdown: (raw_item.settings.breakdown || 0) / 60,\n        };\n        if (out.controllable !== false) { out.controllable = lvl.settings.controllable; }\n        if (settings.bookable_by_request !== false && (settings.bookable_by_request || (lvl.settings.bookable_by_request))) {\n            out.book_type = 'Request';\n        }\n        if (raw_item.capacity) {\n            const cap_list = this.get('capacities') || [];\n            let found = false;\n            for (const item of cap_list) {\n                if (item.value === raw_item.capacity) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                cap_list.push({\n                    id: raw_item.capacity,\n                    value: raw_item.capacity,\n                    name: `Min. ${raw_item.capacity} ${raw_item.capacity === 1 ? 'Person' : 'People'}`\n                });\n                cap_list.sort((a, b) => a.value - b.value);\n                this.set('capacities', cap_list);\n            }\n        }\n        // Add getter for timelines\n        Object.defineProperty(out, 'timeline', {\n            get: () => {\n                const timeline = this.get('timelines') || {};\n                return timeline[out.id] || {};\n            }\n        });\n        if (!out.level.id) {\n            // Add getter for level\n            Object.defineProperty(out, 'level', {\n                get: () => {\n                    const level = this.parent.Buildings.getLevel(raw_item.zones) || { settings: {} };\n                    if (!level.settings) { level.settings = {}; }\n                    if (settings.bookable_by_request !== false && (settings.bookable_by_request || (level.settings.bookable_by_request))) {\n                        out.book_type = 'Request';\n                    }\n                    return level;\n                }\n            });\n        }\n        Object.defineProperty(out, 'today', {\n            get: () => {\n                const timelines = this.get('timelines') || {};\n                const timeline = timelines[out.id] || {};\n                const now = moment();\n                return timeline[now.format('DD MMM YYYY')] || [];\n            }\n        });\n        out.nextFree = (d) => this.nextFreeTimeForRoom(out, d);\n        this.processRoom(out);\n        return out;\n    }\n\n    /**\n     * Convert booking data into local format\n     * @param bookings Array of room bookings\n     */\n    private processRoomBookings(bookings: any[]): IBooking[] {\n        if (!bookings) { return []; }\n        return this.parent.Bookings.processList(bookings) || [];\n    }\n\n    /**\n     * Get the next upcoming booking\n     * @param bookings Array of bookings\n     */\n    public nextBooking(bookings: any[]) {\n        if (!bookings || bookings.length <= 0) {\n            return null;\n        }\n        const now = moment();\n        let booking: any = null;\n        let booking_start: any = null;\n        for (const event of bookings) {\n            const start = moment(event.date);\n            if (now.isSame(start, 'd') && start.isAfter(now) && (!booking_start || booking_start.isAfter(start))) {\n                booking = event;\n                booking_start = start;\n            }\n        }\n        return booking;\n    }\n\n    /**\n     * Get booking in progress\n     * @param bookings Array of bookings\n     */\n    public currentBooking(bookings: any[]) {\n        if (!bookings || bookings.length <= 0) {\n            return null;\n        }\n        const now = moment();\n        for (const event of bookings) {\n            const start = moment(event.date);\n            const end = moment(start).add(event.duration, 'm');\n            if (now.isBetween(start, end, 'm', '[)')) {\n                return event;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Get end time of the current booking\n     * @param bookings Array of bookings\n     */\n    public checkState(bookings: any[]) {\n        if (!bookings || bookings.length <= 0) {\n            return false;\n        }\n        const now = moment();\n        let time = moment();\n        for (const event of bookings) {\n            const start = moment(event.date);\n            const end = moment(start).add(event.duration, 'm');\n            if (start.isSameOrBefore(time, 'm') && end.isAfter(time, 'm')) {\n                time = end;\n            }\n        }\n        return !time.isSame(now, 'm') ? time.format('h:mm A') : false;\n    }\n\n    /**\n     * Get bookings on the given date\n     * @param bookings Array of bookings\n     * @param date Date to check\n     */\n    public bookingsForDate(bookings: any[], date: any = moment()) {\n        const list: any[] = [];\n        for (const event of bookings) {\n            const start = moment(event.date);\n            if (start.isSame(date, 'd')) {\n                list.push(event);\n            }\n        }\n        return list;\n    }\n\n    /**\n     * Update booking with the given date\n     * @param booking Updated booking data\n     */\n    public replaceBooking(booking: IBooking) {\n        const timeline = this.get('timelines') || {};\n        if (booking.room && booking.room.id) {\n            if (timeline[booking.room.id] && Object.keys(timeline[booking.room.id]).length > 0) {\n                let found = false;\n                for (const date in timeline[booking.room.id]) {\n                    if (timeline[booking.room.id].hasOwnProperty(date)) {\n                        const list = timeline[booking.room.id][date];\n                        for (const bkn of list) {\n                            if (bkn.id === booking.id) {\n                                found = true;\n                                list[list.indexOf(bkn)] = this.parent.Bookings.processItem(booking);\n                                break;\n                            }\n                        }\n                        list.sort((a, b) => a.date - b.date);\n                        if (found) { break; }\n                    }\n                }\n                if (!found) {\n                    const bkn = this.parent.Bookings.processItem(booking);\n                    const date = moment(bkn.date).format('DD MMM YYYY');\n                    if (!timeline[booking.room.id][date]) { timeline[booking.room.id][date] = []; }\n                    timeline[booking.room.id][date].push(bkn);\n                }\n            } else if (timeline[booking.room.id]) {\n                this.updateTimeline(booking.room.id, [this.parent.Bookings.processItem(booking)]);\n            }\n        }\n    }\n\n    public clear() {\n        this.clearTimeline();\n    }\n\n    /**\n     * Remove booking from room's timeline\n     * @param room_id Room ID\n     * @param bkn_id Booking ID\n     * @param date Booking date\n     */\n    public removeFromTimeline(room_id: string, bkn_id: string, date: string = moment().format('DD MMM YYYY')) {\n        const timeline = this.get('timelines') || {};\n        if (timeline[room_id] && timeline[room_id][date]) {\n            for (const bkn of timeline[room_id][date]) {\n                if (bkn.id === bkn_id) {\n                    timeline[room_id][date].splice(timeline[room_id][date].indexOf(bkn), 1);\n                    break;\n                }\n            }\n        }\n        this.subjects.timelines.next(timeline);\n    }\n\n    public addToTimeline(booking: IBooking) {\n        if (!booking) { return; }\n        this.timeout('add_timeline', () => {\n            if (!booking.room) { return; }\n            const timeline = this.get('timelines') || {};\n            const id = booking.room.id;\n            if (!timeline[id]) { timeline[id] = {}; }\n            const date = moment(booking.date).format('DD MMM YYYY');\n            if (!timeline[id][date]) { timeline[id][date] = []; }\n            timeline[id][date].push(booking);\n            timeline[id][date] = Utils.unique(timeline[id][date], 'id');\n            this.subjects.timelines.next(timeline);\n        });\n    }\n\n    public nextFreeTimeForRoom(room: IRoom, duration: number = 30) {\n        const now = moment();\n        const bookings = room.timeline[now.format('DD MMM YYYY')] || [];\n        const free_blocks = this.parent.Bookings.getFreeSlots(bookings);\n        for (const block of free_blocks) {\n            const start = moment(block.start > 0 ? block.start : '');\n            const end = moment(block.end > 0 ? block.end : '');\n            const time = start.isSameOrBefore(now, 'm') ? now : start;\n            const d = Math.round(moment.duration(end.diff(time)).asMinutes());\n            if (d >= duration) { return time.valueOf(); }\n        }\n        return now.valueOf();\n    }\n\n    /**\n     * Create a list of bookings for each day\n     * @param bookings Array of bookings\n     */\n    public updateTimeline(id: string, bookings: IBooking[], clear: boolean = false) {\n        const timeline = this.get('timelines') || {};\n        if (!timeline[id] || clear) { timeline[id] = {}; }\n        const now = moment();\n        // Add bookings to the timeline\n        for (const bkn of bookings) {\n            const day = moment(bkn.date);\n            const end = moment(day).add(bkn.duration, 'm');\n            const date_list = [day.format('DD MMM YYYY')];\n            if (!day.isSame(end, 'd')) {\n                for (let i = 60; i < bkn.duration; i += 24 * 60) {\n                    day.add(1, 'd');\n                    date_list.push(day.format('DD MMM YYYY'));\n                }\n            }\n            for (const date of date_list) {\n                if (!timeline[id][date]) { timeline[id][date] = []; }\n                // Remove matches\n                for (const event of timeline[id][date]) {\n                    if (event.id === bkn.id) {\n                        timeline[id][date].splice(timeline[id][date].indexOf(event), 1);\n                        break;\n                    }\n                }\n                if ((bkn.title || '').indexOf('Cancelled:') !== 0) {\n                    timeline[id][date].push(bkn);\n                }\n            }\n        }\n        // Sort timeline\n        for (const i in timeline[id]) {\n            if (timeline[id][i]) {\n                timeline[id][i].sort((a, b) => a.date - b.date);\n                this.parent.Bookings.processOverlaps(timeline[id][i]);\n            }\n        }\n        this.subjects.timelines.next(timeline);\n    }\n\n    public clearTimeline(start_date?: number, end_date?: number, list?: string[]) {\n        if (!start_date && !end_date) {\n            this.set('timelines', {});\n        } else {\n            const start = moment(start_date).startOf('d');\n            const end = moment(end_date).endOf('d');\n            const timelines = this.get('timelines') || {};\n            for (; start.isSameOrBefore(end, 'd'); start.add(1, 'd')) {\n                for (const rm in timelines) {\n                    if (timelines.hasOwnProperty(rm) && timelines[rm] && (!list || list.indexOf(rm) >= 0)) {\n                        const tl = timelines[rm][start.format('DD MMM YYYY')];\n                        if (tl) {\n                            delete timelines[rm][start.format('DD MMM YYYY')];\n                        }\n                    }\n                }\n            }\n            this.set('timelines', timelines);\n        }\n    }\n\n    public timelineForDay(id: string, date: number = moment().valueOf()) {\n        const day = moment(date);\n        const timelines = this.get('timelines') || {};\n        const room_timeline = timelines[id] || {};\n        const date_timeline = room_timeline[day.format('DD MMM YYYY')] || [];\n        return date_timeline;\n    }\n\n    public timeline(id: string) {\n        const timelines = this.get('timelines') || {};\n        const room_timeline = timelines[id] || {};\n        return room_timeline;\n    }\n\n    public getRoom(id: string): IRoom {\n        return this.item(id);\n    }\n}\n","import { ComposerService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { MatDialog } from '@angular/material/dialog';\nimport { BehaviorSubject } from 'rxjs';\nimport { Md5 } from 'ts-md5/dist/md5';\n\nimport { Utils } from '../../shared/utility.class';\nimport { BaseService } from './base.service';\nimport { ILocation } from './location.service';\nimport { IVisitorGroup } from './visitors.service';\n\nimport * as moment from 'moment';\n\nexport interface IUser {\n    id: string;\n    name: string;\n    first_name?: string;\n    last_name?: string;\n    email: string;\n    win_id?: string;\n    type?: 'partner' | 'internal' | 'external';\n    role?: string;\n    state?: string;\n    location?: ILocation;\n    image: string;\n    phone?: string;\n    lockers?: { id: string, expiry: number }[];\n    external?: boolean;\n    optional?: boolean;\n    staff_code?: string;\n    office_code?: string;\n    organisation_id?: string;\n    organisation_name?: string;\n    organisation?: { id: string, name: string } | string;\n    b_unit?: string;\n    walk_in?: boolean;\n    purpose?: string;\n    timezone?: string;\n    response?: string;\n    group?: IVisitorGroup;\n    groups?: any\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class UsersService extends BaseService<IUser> {\n\n    constructor(protected _composer: ComposerService, private http_unauth: HttpClient, private _dialog: MatDialog) {\n        super(_composer);\n        this.model.name = 'user';\n        this.model.route = '/users';\n        this.model.add_show = true;\n        this.subjects.list = new BehaviorSubject<IUser[]>([]);\n        this.observers.list = this.subjects.list.asObservable();\n        this.set('user', null);\n        this.set('state', 'loading');\n    }\n\n    protected load(tries: number = 0) {\n        if (tries > 3) { return this.set('state', 'invalid'); }\n        this.set('state', 'loading');\n        this.show('current').then((user) => {\n            if (user) {\n                this.set<IUser>('user', user);\n                this.set('state', 'available');\n                // Locate the active user\n                if (this.parent.Settings.get('app.user.current_location')) {\n                    this.location(user.id, user.email).then(() => null, () => null);\n                    this.interval('active-location', () => {\n                        this.location(user.id, user.email).then(() => null, () => null);\n                    }, 30 * 1000);\n                }\n            } else {\n                this.timeout('load', () => this.load(tries), 300 * ++tries);\n            }\n        }, () => this.timeout('load', () => this.load(tries), 300 * ++tries));\n    }\n\n    /**\n     * Get current user\n     */\n    public current() {\n        return this.get('user');\n    }\n\n    /**\n     * Sets the access token and expiry for the user\n     * @param token OAuth bearer token\n     * @param expiry Expiry epoch timestamp in ms\n     */\n    public setToken(token: string, expiry?: number) {\n        if (!expiry) { expiry = moment().add(7, 'd').valueOf(); }\n        const path = `${location.origin}${this.parent.Settings.get('composer.route') || ''}/oauth-resp.html`;\n        const client_id = Md5.hashStr(path);\n        if (sessionStorage) {\n            sessionStorage.setItem(`${client_id}_access_token`, token);\n            sessionStorage.setItem(`${client_id}_expires_at`, `${expiry}`);\n        }\n        if (localStorage) {\n            localStorage.setItem(`${client_id}_access_token`, token);\n            localStorage.setItem(`${client_id}_expires_at`, `${expiry}`);\n            location.reload();\n        }\n        return path;\n    }\n\n    public getFilteredUsers(filter: string, items: IUser[] = this.list(), fields: string[] = ['name', 'email']) {\n        return this.filter(filter, fields, items);\n    }\n\n    /**\n     * Login with given credentials\n     * @param fields Key value pairs of post parameters\n     */\n    public login(fields: { [name: string]: any } = {}) {\n        this.subjects.state.next('loading');\n        const query = Utils.generateQueryString(fields);\n        let headers = new HttpHeaders();\n        headers = headers.append('Content-Type', 'application/x-www-form-urlencoded');\n        this.http_unauth.post('/auth/jwt/callback', query, { headers }).subscribe((res: any) => {\n            if (res.status >= 200 && res.status < 400) {\n                if (sessionStorage) {\n                    const clientId = Md5.hashStr(`${location.origin}/oauth-resp.html`);\n                    sessionStorage.setItem(`${clientId}_login`, 'true');\n                }\n                this._composer.auth.authorise();\n            } else {\n                this.subjects.state.next('invalid');\n            }\n            return;\n        }, (err) => {\n            if (err.status >= 400) {\n                this.subjects.state.next('error');\n            } else {\n                if (sessionStorage) {\n                    const clientId = Md5.hashStr(`${location.origin}/oauth-resp.html`);\n                    sessionStorage.setItem(`${clientId}_login`, 'true');\n                }\n                this._composer.auth.authorise();\n            }\n        }, () => this.load());\n    }\n\n    /**\n     * Logout of user and redirect to logout URL\n     */\n    public logout() {\n        this._composer.auth.logout();\n    }\n\n    public show(id: string, fields?: { [name: string]: any }): Promise<IUser> {\n        return new Promise((rs, rj) => {\n            super.show(id, fields).then((v) => {\n                rs(v);\n            }, (err) => {\n                if (id && id.indexOf('@') >= 0) {\n                    const parts = id.split('@');\n                    const user = this.processItem({ name: parts[0], email: id });\n                    this.updateList([user]);\n                }\n                rj(err);\n            });\n        });\n    }\n\n    /**\n     * Add new user\n     * @param user User data\n     */\n    public add(user: { [name: string]: any }) {\n        return new Promise<any>((resolve, reject) => {\n            const data: { [name: string]: any } = {\n                first_name: user.first_name,\n                last_name: user.last_name,\n                phone: user.phone,\n                email: user.email,\n                organisation: user.organisation,\n                organisation_id: null,\n            };\n            if (user.organisation_id) {\n                data.organisation_id = user.organisation_id;\n            }\n            const url = `${this.endpoint}`;\n            this.http.post(url, data).subscribe(() => null, (err) => {\n                reject(err);\n                this.parent.Analytics.event('Users', 'add_user_fail');\n            }, () => {\n                resolve();\n                this.parent.Analytics.event('Users', 'added_user');\n            });\n        });\n    }\n\n    /**\n     * Get location data for user\n     * @param id ID of user to find\n     * @param email Email of user to find\n     */\n    public location(id: string, email: string = id) {\n        const key = `location|${id}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                if (!this.parent || !this.parent.ready()) {\n                    return setTimeout(() => {\n                        this.promises[key] = null;\n                        this.location(id, email).then((d) => resolve(d), (e) => reject(e));\n                    }, 300);\n                }\n                if (!this.parent.Settings.get('app.users.locate') || !this.parent.Location) {\n                    this.parent.log('USER(S)', 'Locate user is disabled', null, 'warn');\n                    return reject('Locate user is disabled');\n                }\n                this.parent.Location.show(id, { desk: email }).then((loc) => {\n                    if (!loc) {\n                        this.updateUserLocation(id, {});\n                        reject('User not found');\n                        this.promises[key] = null;\n                        this.parent.Analytics.event('Users', 'locate_user_failed');\n                    } else {\n                        const u = this.item(id);\n                        if (u) { u.location = loc; }\n                        this.parent.Analytics.event('Users', 'locate_user_success');\n                        resolve(loc);\n                        this.timeout(`clear-loc-${key}`, () => this.promises[key] = null, 1000);\n                    }\n                }, (e) => {\n                    reject(e);\n                    this.promises[key] = null;\n                    this.parent.Analytics.event('Users', 'locate_user_failed');\n                });\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Store new location data for user\n     * @param id ID of user\n     * @param data New location data\n     */\n    public updateUserLocation(id, data) {\n        const list = this.list() || [];\n        for (const user of list) {\n            if (user.id === id) {\n                user.location = data;\n            }\n        }\n    }\n\n    public availability(email: string, start?: number, end?: number) {\n        const name = `availability|${email}|${start || 'now'}|${end || 'soon'}`;\n        if (!this.promises[name]) {\n            this.promises[name] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}/${email}`;\n                this.parent.Bookings.query({ start, end, email }).then((list) => {\n                    resolve(!list || list.length <= 0);\n                    this.promises[name] = null;\n                }, (err) => {\n                    reject(err);\n                    this.promises[name] = null;\n                });\n            });\n        }\n        return this.promises[name];\n    }\n\n    /**\n     * Convert user data to local format\n     * @param user User data\n     */\n    public processItem(user: { [name: string]: any }) {\n        if (!user) { return null; }\n        const u_org = user.organisation;\n        const org = {\n            id: typeof u_org !== 'string' && u_org ? u_org.id : user.organisation_id,\n            name: typeof u_org !== 'string' && u_org ? u_org.name : user.organisation_name || user.organisation,\n        };\n        const member: IUser = {\n            id: user.id || user.email,\n            win_id: user.email,\n            name: user.name || `${user.first_name} ${user.last_name}`,\n            first_name: user.first_name,\n            last_name: user.last_name,\n            type: user.visitor ? 'external' : user.type || 'internal',\n            image: null,\n            email: (user.email || '').toLowerCase(),\n            phone: user.phone || user.mobile,\n            b_unit: user.department,\n            lockers: user.lockers,\n            organisation_id: org.id,\n            external: user.type === 'external' || user.visitor,\n            location: user.location ? this.parent.Location.processItem(user.location) : null,\n            organisation_name: org.name,\n            staff_code: user.staff_code,\n            state: user.state,\n            walk_in: user.walk_in,\n            response: user.response,\n            office_code: user.officeLocation\n        };\n        if (member.id) {\n            member.image = user.image || `${this.parent.endpoint}/assets/users/${member.id}.png`;\n        }\n        return member;\n    }\n\n}\n","\nimport { Injectable } from '@angular/core';\nimport { ComposerService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { IUser } from './users.service';\nimport { BaseService } from './base.service';\nimport { IRoom } from './rooms.service';\nimport { NewVisitorModalComponent } from '../../overlays/new-visitor-modal/new-visitor-modal.component';\n\nimport * as moment from 'moment';\nimport { IBooking } from './bookings.service';\nimport { MatDialog } from '@angular/material/dialog';\n\nexport interface IVisitorGroup {\n    id: string;\n    icaluid?: string;\n    name: string;\n    room_id: string;\n    group: boolean;\n    visitors: IUser[];\n    date: number;\n    duration: number;\n    host?: IUser;\n    room?: IRoom;\n    initials?: string;\n    arrival?: string;\n    display?: { [name: string]: string };\n    state?: string;\n    title?: string;\n    notify_users?: string[];\n    booking?: IBooking;\n    catering?: boolean;\n    phone?: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class VisitorsService extends BaseService<IVisitorGroup> {\n\n    constructor(protected _composer: ComposerService, private _dialog: MatDialog) {\n        super(_composer);\n        this.model.name = 'visitor';\n        this.model.route = '/visitors';\n        this.subjects.list = new BehaviorSubject<IVisitorGroup[]>([]);\n        this.observers.list = this.subjects.list.asObservable();\n        this.set('timeline', {});\n    }\n\n    public load() {}\n\n    public addFromBookings(bookings: IBooking[]) {\n        const list = bookings.filter(i => i.visitors);\n        const visitor_groups = list.map(booking => {\n            if (booking.visitors && booking.attendees && booking.state !== 'cancelled') {\n                const visitor_list: any[] = booking.attendees.filter(i => i.external)\n                    .map(i => {\n                        return { ...i, state: booking.check_ins && booking.check_ins[i.email] ? 'accepted' : 'pending' };\n                    });\n\n                const group = {\n                    id: booking.id,\n                    visitors: visitor_list,\n                    date: booking.date,\n                    duration: booking.duration,\n                    group_name: booking.title,\n                    user_id: booking.organiser ? booking.organiser.id || '' : '',\n                    user_email: booking.organiser ? booking.organiser.email || booking.organiser : '',\n                    phone: booking.organiser ? booking.organiser.phone || '' : '',\n                    room_id: booking.room ? booking.room.id : '',\n                    room_email: booking.room ? booking.room.email : '',\n                    icaluid: booking.icaluid,\n                    title: booking.title,\n                    notify_users: booking.notify_users,\n                    booking: {...booking}\n                };\n                return group;\n            }\n        });\n        const processed = this.processList(visitor_groups.filter(i => i));\n        this.updateList(processed);\n        return processed;\n    }\n\n    public add(data: { [name: string]: any }) {\n        const bld = this.parent.Buildings.current() || null;\n        const booking = {\n            attendees: [this.parent.Users.current(), ...(data.visitors || [])],\n            date: data.date,\n            title: data.name,\n            duration: data.duration || 60,\n            host: data.host,\n            walk_in: data.walk_in,\n            room: this.parent.Rooms.item(bld.visitor_space),\n            level_id: data.level_id || (data.level ? data.level.id : null)\n        };\n        if (booking.level_id) {\n            delete booking.room;\n        }\n        return this.parent.Bookings.add(booking);\n    }\n\n    public updateItem(id: string, data: { [name: string]: any }): Promise<any> {\n        const booking = {\n            id,\n            attendees: [this.parent.Users.current(), ...(data.visitors || [])],\n            date: data.date,\n            duration: 60,\n            room: { id: this.parent.Buildings.current().visitor_space || '' }\n        };\n        return this.parent.Bookings.updateItem(id, booking);\n    }\n\n    protected format(data: { [name: string]: any }) {\n        for (const v of (data.visitors || [])) {\n            if (v.organisation && typeof v.organisation !== 'string') {\n                v.organisation_id = (v.organisation as any).id || v.organisation_id;\n                v.organisation_name = (v.organisation as any).name || v.organisation_name;\n            } else if (v.organisation) {\n                v.organisation_name = (v.organisation as string) || v.organisation_name;\n            }\n        }\n        const now = moment();\n        const id = `${now.unix().toString()}_${Math.floor(Math.random() * 89999 + 10000).toString()}`;\n        const formatted_data: any = {\n            id,\n            group: data.visitors.length > 1,\n            visitors: data.visitors,\n            group_name: data.visitors.length === 1 ? data.visitors[0].name : data.name,\n            date: Math.floor(data.date / 1000)\n        };\n        if (data.room_id) { formatted_data.room_id = data.room_id; }\n        return formatted_data;\n    }\n\n    /**\n     * Checkin a visitor group or individual\n     * @param id Visitor Group ID\n     * @param fields Body of the request\n     */\n    public checkin(id: string, fields?: { [name: string]: any }) {\n        return this.task(id, 'checkin', fields);\n    }\n\n    /**\n     * Get the status of a visitor group or individual\n     * @param group Visitor group to check\n     * @param user_id ID of the individual to check\n     */\n    public status(group: IVisitorGroup, user_id?: string) {\n        const key = `checkin|${group.id}|${user_id}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                let url = `${this.endpoint}/${group.id}`;\n                if (user_id) { url += `?q=${user_id}`; }\n                let value = null;\n                this.http.get(url).subscribe((d) => value = d, (e) => {\n                    reject(e);\n                    this.promises[key] = null;\n                }, () => {\n                    resolve(value);\n                    this.promises[key] = null;\n                });\n            });\n        }\n        return this.promises[key];\n    }\n\n    public clearList() {\n        super.clearList();\n        this.set('timeline', {});\n    }\n\n    public updateList(list: IVisitorGroup[], clear: boolean = false) {\n        super.updateList(list, clear);\n        const timeline = this.get('timeline') || {};\n        // Add bookings to timeline\n        for (const item of list) {\n            const date = moment(item.date);\n            const day = timeline[date.format('YYYY/MM/DD')] || [];\n            const found = day.findIndex(i => item.id === i.id);\n            if (found >= 0) {\n                day.splice(found, 1);\n            }\n            day.push(item);\n            timeline[date.format('YYYY/MM/DD')] = day;\n        }\n        // Sort events in the timeline\n        for (const key in timeline) {\n            if (timeline.hasOwnProperty(key)) {\n                timeline[key].sort((a, b) => a.date - b.date);\n            }\n        }\n        this.set('timeline', timeline);\n        this.set('last_update', moment().valueOf());\n    }\n\n    public removeFromList(list: any[]) {\n        super.removeFromList(list);\n        const timeline = this.get('timeline') || {};\n        for (const item of list) {\n            const date = moment(item.date).format('YYYY/MM/DD');\n            const day = timeline[date];\n            if (day) {\n                const found = day.findIndex(i => item.id === i.id);\n                if (found >= 0) {\n                    day.splice(found, 1);\n                }\n            }\n        }\n        this.set('timeline', timeline);\n    }\n\n    /**\n     * Convert visitor data to local format\n     * @param item Visitor data\n     */\n    public processItem(item: { [name: string]: any }) {\n        const group = item.visitors && item.visitors.length > 1;\n        const date = moment(item.date || item.arrival_epoch * 1000);\n        const visitor: IVisitorGroup = {\n            id: item.id,\n            group,\n            room_id: item.room_id,\n            name: 'VISITOR',\n            initials: 'VISITOR',\n            date: item.date || item.arrival_epoch * 1000,\n            duration: item.duration || 60,\n            arrival: date.format('h:mm A'),\n            title: item.title,\n            state: group ? '' : item.visitors[0].state,\n            notify_users: item.notify_users,\n            booking: item.booking,\n            visitors: item.visitors,\n            phone: item.phone,\n            display: {\n                arrival: date.format('h:mm A'),\n                date: date.format('ddd, MMM D'),\n            }\n        };\n        if (item.icaluid) { visitor.icaluid = item.icaluid; }\n        Object.defineProperty(visitor, 'host', {\n            get: () => this.parent.Users.item(item.host_id || item.email || item.user_email || item.user_id)\n        });\n        let host = null;\n        if (item.host_id || item.host_email || item.user_id || item.user_email) {\n            host = this.parent.Users.item(item.host_id || item.email || item.user_email || item.user_id);\n            if (!host) {\n                this.parent.Users.show(item.host_id || item.email || item.user_email || item.user_id, { update: true })\n                    .then(_ => null, _ => null);\n            }\n        }\n        Object.defineProperty(visitor, 'name', {\n            get: () => {\n                const list = visitor.visitors;\n                const name = (list && list.length > 0 ? list[0].name : 'VISITOR');\n                return group ? item.group_name || name : name;\n            },\n            set: _ => null\n        });\n\n        Object.defineProperty(visitor, 'room', {\n            get: () => {\n                const room = item.room_id ? this.parent.Rooms.item(item.room_id) : { name: item.room_name } as IRoom;\n                visitor.display.room = room ? room.name : '';\n                visitor.display.level = room && room.level ? room.level.name : '';\n                return room;\n            },\n            set: _ => null\n        });\n\n        Object.defineProperty(visitor, 'initials', {\n            get: () => {\n                const list = visitor.visitors;\n                const name = (list && list.length === 1 ? visitor.name : `${list.length} ${list.length === 1 ? 'person' : 'people'}`);\n                let i = name;\n                if (list.length === 1) {\n                    const parts = name.split(' ');\n                    i = '';\n                    parts.forEach((itm: string) => i += (i.length > 0 ? ' ' : '') + (itm[0] || ''));\n                }\n                return i;\n            },\n            set: _ => null\n        });\n        return visitor;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class HotkeyService {\n    private listeners: any = {};\n    private observers: any = {};\n    private timers: any = {};\n    private key_queue: string[] = [];\n    private ignore_combinations: string[] = ['control', 'shift', 'alt', 'meta', 'os'];\n\n    constructor() {\n        this.listeners.keydown = new Subject();\n        this.observers.keydown = this.listeners.keydown.asObservable();\n        window.addEventListener('keydown', (event) => {\n            if (event.key && this.key_queue.indexOf(event.key.toLowerCase()) < 0) {\n                this.key_queue.push(event.key.toLowerCase());\n                this.listeners.keydown.next(event);\n                this.clearQueue();\n            }\n        });\n        this.listeners.keyup = new Subject();\n        this.observers.keyup = this.listeners.keyup.asObservable();\n        window.addEventListener('keyup', (event) => {\n            if (event.key && this.key_queue.indexOf(event.key.toLowerCase()) >= 0) {\n                this.postCombination();\n                this.key_queue.splice(this.key_queue.indexOf(event.key.toLowerCase()), 1);\n            }\n            this.listeners.keyup.next(event);\n        });\n    }\n\n    public listen(combination: string[] | string, next: () => void) {\n        let combo = combination instanceof Array ? combination.join('+').toLowerCase() : (combination || '').toLowerCase();\n        combo = combo.replace(/ /g, 'space');\n        if (combo && !this.listeners[combo]) {\n            this.listeners[combo] = new Subject();\n            this.observers[combo] = this.listeners[combo].asObservable();\n        }\n        return combo && this.observers[combo] ? this.observers[combo].subscribe(next) : null;\n    }\n\n    private postCombination() {\n        if (this.key_queue.length <= 1 && document.activeElement && document.activeElement.tagName !== 'BODY') { return; }\n        let combo = this.key_queue.join('+');\n        combo = combo.replace(/ /g, 'space');\n        if (this.listeners[combo] && this.ignore_combinations.indexOf(combo) < 0) {\n            this.listeners[combo].next({});\n        }\n    }\n\n    private clearQueue() {\n        if (this.timers.clear) {\n            clearTimeout(this.timers.clear);\n        }\n        this.timers.clear = setTimeout(() => {\n            this.key_queue = [];\n            this.timers.clear = false;\n        }, 1000);\n    }\n}\n","/**\n * @Author: Alex Sorafumo <Yuion>\n * @Date:   09/12/2016 3:33 PM\n * @Email:  alex@yuion.net\n * @Filename: settings.service.ts\n * @Last modified by:   Alex Sorafumo\n * @Last modified time: 03/02/2017 9:52 AM\n */\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ActivatedRoute } from '@angular/router';\nimport { version, build, core_version } from '../shared/globals/application';\n\nimport { BehaviorSubject } from 'rxjs';\n\nimport * as dayjs from 'dayjs';\n\nconst APP_NAME = 'ACA_APP';\nconst RESERVED_KEYS = ['route', 'query', 'store'];\nconst OBSERVABLES: any[] = [\n    { name: 'loading', default: false },\n    { name: 'loading_text', default: 'Loading' },\n];\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SettingsService {\n    public parent: any = null;\n    public setup = false;\n    private store: Storage = localStorage;\n    private model: any = {\n        loading: {\n            prefix: 'Loading',\n            text: ['', '.', '..', '...'],\n            state: 0,\n        },\n        app: { name: '' },\n        subjects: {},\n        observers: {},\n        settings: {},\n    };\n    private timers: any = {};\n    private promises: any = {};\n\n    constructor(private http: HttpClient, private route: ActivatedRoute) {\n        this.model.app.name = APP_NAME;\n        for (const n of OBSERVABLES) {\n            this.model.subjects[n.name] = new BehaviorSubject(n.default);\n            this.model.observers[n.name] = this.model.subjects[n.name].asObservable();\n        }\n        this.loadStore();\n        this.init();\n    }\n\n    public init() {\n        // Load settings file\n        this.log('SYSTEM', 'Initialising Settings');\n        this.loadSettings().then((s: any) => {\n            const win = window as any;\n            if (s.app && s.app.code) {\n                this.model.app.name = s.app.code;\n            }\n            if (s.debug) {\n                win.debug = true;\n                if (!win.debug_module) {\n                    win.debug_module = [];\n                }\n                if (s.debug_module) {\n                    win.debug_module = (win.debug_module || []).concat(s.debug_module);\n                }\n                if (win.debug_module.indexOf(this.model.app.name) < 0) {\n                    win.debug_module.push(this.model.app.name);\n                }\n            }\n            this.printVersion();\n            this.setup = true;\n        }, (err: any) => setTimeout(() => this.init(), 500));\n    }\n\n    /**\n     * Prints message to the console\n     * @param  {string} type [description]\n     * @param  {string} msg    Message to print to the console\n     * @param  {string} stream IO Stream to print message to.\n     */\n    public log(type: string, msg: string, args?: any, stream: string = 'debug', force: boolean = false) {\n        const win = window as any;\n        if (win.debug || force) {\n            const colors: string[] = ['color: #E91E63', 'color: #3F51B5', 'color: rgba(#000, 0.87'];\n            if (args) {\n                console[stream](`%c[${this.model.app.name}]%c[${type}] %c${msg}`, ...colors, args);\n            } else {\n                console[stream](`%c[${this.model.app.name}]%c[${type}] %c${msg}`, ...colors);\n            }\n        }\n    }\n\n    /**\n     * Loads settings from a given JSON file\n     * @param file Name of a JSON file to load settings from\n     * @return Returns a promise which returns the settings loaded from the given file\n     */\n    public loadSettings(file: string = 'assets/settings.json') {\n        if (!this.promises[`setting(${file})`]) {\n            this.promises[`setting(${file})`] = new Promise((resolve, reject) => {\n                this.http.get(file)\n                    .subscribe(\n                        (data) => {\n                            for (const i in data) {\n                                if (data[i]) {\n                                    this.model.settings[i] = data[i];\n                                }\n                            }\n                            const win = window as any;\n                            if (win.debug && win.debug_module.indexOf(this.model.app.name) >= 0) {\n                                this.log('Settings', `Loaded settings for application`);\n                            }\n                        }, (err) => {\n                            reject(err);\n                            this.promises[`setting(${file})`] = null;\n                        }, () => {\n                            resolve(this.model.settings);\n                            this.promises[`setting(${file})`] = null;\n                        }\n                    );\n            });\n        }\n        return this.promises[`setting(${file})`];\n    }\n\n    /**\n     * Saves the given value in local storage and add it to the settings.\n     * @param  {string} key   Reference to store the item as\n     * @param  {string} value Value to store in the give key\n     * @return none\n     */\n    public save(key: string, value: string) {\n        if (this.store && RESERVED_KEYS.indexOf(key) < 0) {\n            this.store.setItem(`APP.${key}`, value);\n            this.model.settings[key] = value;\n            if (!this.model.settings.store) {\n                this.model.settings.store = {};\n            }\n            this.model.settings.store[key] = value;\n        }\n    }\n\n    /**\n     * Gets the setting value for the give key\n     * @param key Name of the setting to get\n     * @return Returns the value stored in the settings or null\n     */\n    public get(key: string) {\n        return this.getSetting(key);\n    }\n\n    public getSetting(key: string) {\n        const keys = key.split('.');\n        if (keys.length === 1) {\n            return this.model.settings[key];\n        } else {\n            const use_keys = keys.splice(1, keys.length - 1);\n            let item = this.getItemFromKeys(use_keys, this.model.settings[keys[0]]);\n                // Check that item exists under the reserved keys\n            if (item === undefined || item === null) {\n                for (const r of RESERVED_KEYS) {\n                    if (this.model.settings.hasOwnProperty(r) && this.model.settings[r] !== undefined && this.model.settings[r] !== null) {\n                        item = this.getItemFromKeys(use_keys, this.model.settings[r]);\n                        if (item === undefined && item === null) {\n                            break;\n                        }\n                    }\n                }\n            }\n            return item;\n        }\n    }\n\n    /**\n     * Gets nested setting value\n     * @param keys List of keys to iterate down the object\n     * @param root Root element of the search\n     * @return Returns the value a the end of the iteration or null\n     */\n    public getItemFromKeys(keys: string[], root: any) {\n        if (keys.length <= 0) {\n            return root;\n        }\n        if (typeof root !== 'object') {\n            return null;\n        }\n        let item = root;\n        // Iterate through keys to traverse object tree\n        for (const k of keys) {\n            // Make sure key has a value\n            if (k !== '') {\n                if (item !== undefined && item !== null && item.hasOwnProperty(k)) {\n                    item = item[k];\n                } else {\n                    return null;\n                }\n            }\n        }\n        return item;\n    }\n\n    /**\n     * Wrapper function for get()\n     * @param key Name of the setting to get\n     * @return Returns the value stored in the settings or null\n     */\n    public setting(key: string) {\n        return this.get(key);\n    }\n\n    public setProperty(name: string, value: any) {\n        if (this.model.subjects[name]) {\n            this.model.subjects[name].next(value);\n        }\n    }\n\n    public getProperty(name: string) {\n        if (this.model.subjects[name]) {\n            return this.model.subjects[name].getValue();\n        }\n        return null;\n    }\n\n    public listen(name: string, next: (value: any) => void) {\n        if (this.model.observers[name]) {\n            return this.model.observers[name].subscribe(next);\n        }\n        return null;\n    }\n    /**\n     * Sets the loading state of the application\n     * @param state Loading state of the application\n     * @return none\n     */\n    public loading(state: boolean) {\n        this.setProperty('loading', state);\n    }\n    /**\n     * Returns an object to observe the loading state of the application\n     * @return Observer which updates on the changes to the application's loading state\n     */\n    public loadingState(next: (value: any) => void) {\n        return this.listen('loading', next);\n    }\n\n    public loadingText(next: (value: any) => void) {\n        if (this.timers.loading) {\n            clearInterval(this.timers.loading);\n            this.model.loading.state = 0;\n            const state = `${this.model.loading.prefix}${this.model.loading.text[this.model.loading.state]}`;\n            this.setProperty('loading_text', state);\n        }\n        this.timers.loading = setInterval(() => {\n            const state = `${this.model.loading.prefix}${this.model.loading.text[this.model.loading.state]}`;\n            this.setProperty('loading_text', state);\n        }, 1 * 60 * 1000);\n        return this.listen('loading_text', next);\n    }\n\n    private printVersion() {\n        const now = dayjs();\n        const built = now.isSame(build, 'd') ? `Today at ${build.format('h:mm A')}` : build.format('D MMM YYYY, h:mm A');\n        this.log('CORE', `${core_version}`, null, 'debug', true);\n        this.log('APP', `${version} | Built: ${built}`, null, 'debug', true);\n    }\n\n    /**\n     * Loads all the keys from local storage into the settings.\n     * @return none\n     */\n    private loadStore() {\n        // Load local store settings\n        if (this.store) {\n            for (let i = 0; i < this.store.length; i++) {\n                let key = this.store.key(i);\n                const item = this.store.getItem(key);\n                if (item !== undefined && item !== null && item !== '') {\n                    if (key.indexOf(`CONCIERGE.`) === 0) {\n                        key = key.replace(`CONCIERGE.`, '');\n                    }\n                    if (!this.model.settings.store) {\n                        this.model.settings.store = {};\n                    }\n                    this.model.settings.store[key] = item;\n                }\n            }\n        }\n    }\n}\n","<div [class]=\"'avatar' + (klass ? ' ' + klass : '')\" [title]=\"user?.name\">\n    <div class=\"initials\" *ngIf=\"user\">{{model.initials}}</div>\n    <!-- <div class=\"icon\" *ngIf=\"user.type\">\n        <div center [class]=\"'user-type ' + user?.type\"></div>\n    </div> -->\n    <!-- <div class=\"image\" *ngIf=\"user && user.id && user.image\" [style.background-image]=\"'url(' + user.image + ')'\"></div> -->\n</div>","\nimport { Component, Input, OnChanges } from '@angular/core';\n\n@Component({\n    selector: 'avatar',\n    templateUrl: './avatar.template.html',\n    styleUrls: ['./avatar.styles.scss'],\n})\nexport class AvatarComponent implements OnChanges {\n    @Input() public user: any;\n    /** CSS class to append to the avatar */\n    @Input() public klass: string;\n\n    public model: any = {};\n\n    constructor() {\n        this.model.colour_list = [\n            '#F44336',\n            '#E91E63',\n            '#9C27B0',\n            '#673AB7',\n            '#3F51B5',\n            '#2196F3',\n            '#03A9F4',\n            '#00BCD4',\n            '#009688',\n            '#4CAF50',\n            '#8BC34A',\n            '#CDDC39',\n            '#FDD835',\n            '#FFC107',\n            '#FF9800',\n            '#FF5722',\n            '#795548',\n            '#9E9E9E',\n            '#607D8B'\n        ];\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.user) {\n            const parts = this.user.name.split(' ');\n            let initials = '';\n            for (const p of parts) {\n                // if (initials) { initials += ' '; }\n                initials += p[0];\n            }\n            this.model.initials = initials;\n            let char_value = 0;\n            for (let i = 0; i < this.model.initials.length; i++) {\n                char_value += this.model.initials.charCodeAt(i);\n            }\n            this.model.colour = this.model.colour_list[char_value % this.model.colour_list.length];\n        }\n    }\n}\n","<div class=\"catering-category-list\">\n    <div\n        class=\"card\"\n        *ngFor=\"let item of types\"\n        [attr.cant-order]=\"exclude && !item.can_order_anytime\"\n        (touchrelease)=\"selectItem(item)\"\n        [style.background-image]=\"(item.image_path ? 'url(' + item.image_path + ')' : '') | safestyle\"\n    >\n        <div class=\"overlay\"></div>\n        <div class=\"text\">{{ item.name }}</div>\n    </div>\n</div>\n","\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { IRoom } from '../../../../services/data/rooms.service';\nimport { CateringCategory } from '../../../../services/data/catering/catering-category.class';\nimport { AppService } from '../../../../services/app.service';\n\n@Component({\n    selector: 'catering-edit-category-list',\n    templateUrl: './category-list.component.html',\n    styleUrls: ['./category-list.component.scss']\n})\nexport class CateringEditCategoryListComponent extends BaseDirective {\n    /** Space selected to add catering to */\n    @Input() public space: IRoom;\n    /** List of available catering item categories */\n    @Input() public types: CateringCategory[];\n    /** Whether booking is within the catering exclusion period */\n    @Input() public exclude: boolean;\n    /** Emitter for the selected category */\n    @Output() public selected = new EventEmitter<CateringCategory>();\n\n    public packages: CateringCategory;\n\n    public ngOnInit(): void {\n    }\n\n    public selectItem(item: CateringCategory) {\n        this.selected.emit(item);\n    }\n}\n","<div class=\"details\">\n    <div class=\"title\">Order Details</div>\n    <div class=\"count\">{{ count || '0' }} item{{ count === 1 ? '' : 's' }} selected</div>\n</div>\n<div class=\"contents\" [class.show]=\"show\">\n    <div class=\"rooms\" [attr.space-id]=\"order.location_id\">\n        <div\n            class=\"item\"\n            *ngFor=\"let item of items?.value || []\"\n            [attr.cant-order]=\"exclude && exclude[order.location_id] && !item.can_order_anytime\"\n        >\n            <div class=\"item-details\">\n                <div class=\"name\">{{ item.name }}</div>\n                <div class=\"cost\">\n                    {{ (item.amount * item.unit_price) / 100 | currency: symbol }}\n                </div>\n            </div>\n            <div\n                class=\"amount\"\n                title=\"Ctrl + Click to add/remove 10\nShift + Click to add/remove 100\"\n            >\n                <button mat-icon-button [disabled]=\"!item.amount || item.amount < 1\" (touchrelease)=\"change(item, -step)\">\n                    <app-icon [icon]=\"{ class: 'material-icons', content: 'remove'}\"></app-icon>\n                </button>\n                <div class=\"value\">{{ item.amount }}</div>\n                <button mat-icon-button [disabled]=\"item.amount >= (item.maximum || 100)\" (touchrelease)=\"change(item, step)\">\n                    <app-icon [icon]=\"{ class: 'material-icons', content: 'add'}\"></app-icon>\n                </button>\n            </div>\n        </div>\n        <div class=\"total\">\n            <span>Total:</span>\n            {{ total / 100 || 0 | currency: symbol }}\n        </div>\n    </div>\n</div>\n<!-- <div class=\"total\"><span>Order Total:</span> {{ total / 100 | currency }}</div> -->\n<div class=\"info\" *ngIf=\"show\">\n    *Orders are subject to a <span>48 hour limit</span> for cancellation ahead of a meeting\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { AppService } from '../../../../services/app.service';\nimport { IBookingFlowEvent } from '../../../../overlays/booking-modal';\nimport { IRoom } from '../../../../services/data/rooms.service';\nimport { CateringOrder } from '../../../../services/data/catering/catering-order.class';\nimport { CateringItem } from '../../../../services/data/catering/catering-item.class';\nimport { CateringCategory } from '../../../../services/data/catering/catering-category.class';\n\n@Component({\n    selector: 'catering-edit-order',\n    templateUrl: './catering-order.component.html',\n    styleUrls: ['./catering-order.component.scss']\n})\nexport class CateringEditOrderComponent extends BaseDirective {\n    /** List of rooms selected for the booking */\n    @Input() spaces: IRoom[];\n    /** Form field for storing catering data for the booking */\n    @Input() order: CateringOrder;\n    /** Form field for storing catering data for the booking */\n    @Input() items: FormControl;\n    /** Show contents of the order */\n    @Input() public show: boolean;\n    /** Step value for adding catering items */\n    @Input() public step: number = 1;\n    /** Whether booking is within the catering exclusion period */\n    @Input() public exclude: { [space_id: string]: boolean };\n    /** Emitter for form events */\n    @Output() public event = new EventEmitter<IBookingFlowEvent>();\n\n    constructor(private _service: AppService) {\n        super();\n    }\n\n    /** Whether catering order is valid */\n    public get valid(): boolean {\n        if (!this.items) return true;\n        const list = this.items.value || [];\n        return list.reduce(\n            (v, i) => v && (i instanceof CateringCategory ? i.items : []).reduce((v, j) => v && this.isValid(j), true),\n            true\n        );\n    }\n\n    /**\n     * Whether the given catering item/package is valid\n     * @param item\n     */\n    private isValid(item) {\n        if (!this.items) return true;\n        if (item.must_select && item.amount) {\n            return item.must_select <= item.items.reduce((v, i) => v + (i.selected ? 1 : 0), 0);\n        } else if (item.items) {\n            return item.items.reduce((v, i) => v && this.isValid(i), true);\n        }\n        return true;\n    }\n\n    /** Number of total items in all room orders */\n    public get count(): number {\n        if (!this.items) return 0;\n        const list = this.items.value || [];\n        return list.reduce((total, item) => total + item.amount, 0);\n    }\n\n    /** Total cost for all room orders */\n    public get total() {\n        if (!this.items) return 0;\n        const list = this.items.value || [];\n        return list.reduce((total, item) => total + item.total, 0);\n    }\n\n    public get symbol(): string {\n        if (!this.order) return 'USD';\n        const space = this._service.Rooms.list(true).find(room => room.id === this.order.location_id);\n        const building = this._service.Buildings.get(space.level.bld_id) || ({} as any);\n        return building.currency || 'USD';\n    }\n\n    public change(item: CateringItem, amount: number) {\n        if (amount < 0) {\n            item.removeFromOrder(amount);\n        } else {\n            item.addToOrder(amount);\n        }\n        this.items.setValue(this.items.value);\n    }\n}\n","<div\n    class=\"catering\"\n    (window:keydown.control)=\"enableModifer('control')\"\n    (window:keyup.control)=\"disableModifer('control')\"\n    (window:keydown.shift)=\"enableModifer('shift')\"\n    (window:keyup.shift)=\"disableModifer('shift')\"\n    *ngIf=\"order_form\"\n>\n    <div class=\"header\">\n        <div class=\"search\" *ngIf=\"has_search\">\n            <input [(ngModel)]=\"search_str\" (ngModelChange)=\"search()\" placeholder=\"Type to search\" />\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'search' }\"></app-icon>\n            <button mat-icon-button *ngIf=\"search_str\" (touchrelease)=\"search_str = ''\">\n                <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n            </button>\n        </div>\n        <div class=\"room-list\" *ngIf=\"spaces && spaces.length > 0\">\n            <div class=\"group\" *ngIf=\"has_search\">\n                Deliver to:&nbsp;\n                <div class=\"set-space\">\n                    <dropdown\n                        klass=\"form\"\n                        [list]=\"spaces\"\n                        [model]=\"space_index\"\n                        (modelChange)=\"setSpace(spaces[$event])\"\n                    ></dropdown>\n                </div>\n            </div>\n            <div class=\"group\">\n                At:&nbsp;\n                <div class=\"set-delivery-time\">\n                    <dropdown\n                        klass=\"form\"\n                        [list]=\"delivery_times\"\n                        [model]=\"time_index\"\n                        (modelChange)=\"order_form?.controls.delivery_time.setValue(delivery_times[$event].id)\"\n                    ></dropdown>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"body\" *ngIf=\"catering_allowed; else no_catering_allowed\">\n        <ng-container *ngIf=\"active_space && !loading[active_space.id]; else loader\">\n            <catering-edit-category-list\n                *ngIf=\"!category\"\n                [types]=\"menu_map[active_space.id]\"\n                [exclude]=\"within_exclusion_period\"\n                (selected)=\"category = $event\"\n            ></catering-edit-category-list>\n            <catering-edit-item-list\n                *ngIf=\"category\"\n                [step]=\"step\"\n                [space]=\"active_space\"\n                [category]=\"category\"\n                [items]=\"order_form?.controls.items\"\n                [exclude]=\"within_exclusion_period\"\n                (event)=\"category = null\"\n            ></catering-edit-item-list>\n            <div\n                class=\"no-catering\"\n                *ngIf=\"active_space && (!menu_map[active_space.id] || menu_map[active_space.id].length <= 0)\"\n            >\n                <div class=\"icon\">\n                    <img\n                        [alt]=\"is_catered ? 'Concierge Catering' : 'No Catering Available'\"\n                        [src]=\"is_catered ? 'assets/img/concierge.svg' : 'assets/img/no-catering.svg'\"\n                    />\n                </div>\n                <p>\n                    <ng-container *ngIf=\"is_catered; else no_catering\">\n                        Concierge will be in touch for\n                        {{ active_building.name }} catered rooms\n                    </ng-container>\n                    <ng-template #no_catering>\n                        Catering is <span>not available</span> in Converge for {{ active_building.name }} spaces. Please\n                        contact the local office for more information.\n                    </ng-template>\n                </p>\n                <div class=\"toggle\" *ngIf=\"is_catered\">\n                    <a-checkbox\n                        [(ngModel)]=\"has_catering\"\n                        [label]=\"'Add catering to ' + (active_space.number || active_space.name) + '?'\"\n                    ></a-checkbox>\n                </div>\n            </div>\n        </ng-container>\n        <ng-template #loader>\n            <div class=\"no-item\">\n                <div class=\"icon\">\n                    <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .35)\"></spinner>\n                </div>\n                <div class=\"text\">Loading menu data...</div>\n            </div>\n        </ng-template>\n    </div>\n    <div class=\"footer\">\n        <div class=\"order-list\" [class.show]=\"show_order\">\n            <div class=\"bar\" (touchrelease)=\"show_order = !show_order\"></div>\n            <catering-edit-order\n                [spaces]=\"spaces\"\n                [step]=\"step\"\n                [order]=\"order\"\n                [items]=\"order_form.controls.items\"\n                [show]=\"show_order\"\n                [exclude]=\"exclusion_map\"\n                (event)=\"event.emit($event)\"\n            ></catering-edit-order>\n            <button mat-button (touchrelease)=\"event.emit({ type: 'next' })\" [disabled]=\"!valid\">Save order</button>\n        </div>\n    </div>\n</div>\n<ng-template #no_catering_allowed>\n    <div class=\"body\">\n        <div class=\"no-catering margin\">\n            <div class=\"icon\">\n                <img alt=\"No Catering Available\" src=\"assets/img/no-catering.svg\" />\n            </div>\n            <p>\n                Catering is <span>not available</span> for this booking.<br />\n                Catering must be ordered at least\n                {{ active_building.catering_restricted_from || '0' }} hours in advance for meetings at\n                {{ active_building.name }}.\n            </p>\n        </div>\n    </div>\n</ng-template>\n","import { Component, Input, EventEmitter, Output, OnChanges, SimpleChanges } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\nimport { IRoom } from '../../../services/data/rooms.service';\nimport { BaseDirective } from '../../globals/base.directive';\nimport { AppService } from '../../../services/app.service';\nimport { IBuilding } from '../../../services/data/buildings.service';\nimport { IBookingFlowEvent } from '../../../overlays/booking-modal';\nimport { Identity } from '../../utilities/type.helpers';\nimport { CateringCategory } from '../../../services/data/catering/catering-category.class';\nimport { generateCateringOrderFormFields } from '../../../services/data/catering/catering.utilities';\nimport { CateringOrder } from '../../../services/data/catering/catering-order.class';\n\nimport * as dayjs from 'dayjs';\n\n@Component({\n    selector: 'catering-edit',\n    templateUrl: './catering.component.html',\n    styleUrls: ['./catering.component.scss']\n})\nexport class CateringEditComponent extends BaseDirective implements OnChanges {\n    /** Booking ID */\n    @Input() id: string;\n    /** Whether catering is part of the booking flow */\n    @Input() flow: boolean = true;\n    /** Whether search should be enabled for items */\n    @Input('search') has_search: boolean = true;\n    /** List of rooms selected for the booking */\n    @Input() spaces: IRoom[];\n    /** Start time of the current booking */\n    @Input() date: number;\n    /** Length of the current booking in minutes */\n    @Input() duration: number;\n    /** Form field for storing catering data for the booking */\n    @Input() order: CateringOrder;\n    /** Start time of the current booking */\n    @Input() all_day = false;\n    /** Emitter for form events */\n    @Output() public event = new EventEmitter<IBookingFlowEvent>();\n\n    /** Mapping of rooms to loading states */\n    public loading: { [id: string]: boolean } = {};\n    /** Mapping of room ids to available menu categories */\n    public menu_map: { [room_id: string]: CateringCategory[] } = {};\n    /** Selected menu category */\n    public category: CateringCategory;\n    /** Value to filter menu items on */\n    public search_str: string;\n    /** Active room to add catering items to */\n    public active_space: IRoom;\n\n    public show_order: boolean;\n    /** State of modifier keys */\n    public key_states: { shift: boolean; control: boolean } = { shift: false, control: false };\n    /** Step value for adding catering items */\n    public step: number = 1;\n    /** Form fields for the order */\n    public order_form: FormGroup;\n    /** List of available booking times */\n    public delivery_times: Identity[];\n\n    /** Whether catering order is valid */\n    public get valid(): boolean {\n        if (!this.order_form || !this.order_form.controls.items) return true;\n        const list = this.order_form.controls.items.value || [];\n        return list.reduce(\n            (valid, item) => valid && this.isValid(item),\n            true\n        );\n    }\n\n    /**\n     * Whether the given catering item/package is valid\n     * @param item\n     */\n    private isValid(item: CateringCategory) {\n        if (!item.items) {\n            return true;\n        }\n        if (item.must_select && item.amount) {\n            const selected = item.items.reduce((v, i) => v + (i.amount ? 1 : 0), 0);\n            return item.must_select <= selected;\n        }\n        return true;\n    }\n\n    public get space_index(): number {\n        return Math.max(\n            0,\n            (this.spaces || []).findIndex(space => space.id === this.order_form.controls.location_id.value)\n        );\n    }\n\n    public get time_index(): number {\n        return Math.max(\n            0,\n            (this.delivery_times || []).findIndex(block => block.id === this.order_form.controls.delivery_time.value)\n        );\n    }\n\n    constructor(private _service: AppService) {\n        super();\n    }\n\n    public get active_building(): IBuilding {\n        if (this.active_space && this.active_space.level) {\n            const building = this._service.Buildings.get(this.active_space.level.bld_id);\n            return building || ({} as any);\n        }\n        return {} as any;\n    }\n\n    /** Whether catering can be provided if no menu is available */\n    public get is_catered() {\n        return !!this.active_building.has_catering;\n    }\n\n    /** Whether catering is allowed for the current time */\n    public get catering_allowed(): boolean {\n        if (\n            (this.menu_map[this.active_space.id] || []).find(category => category.can_order_anytime) &&\n            this.delivery_times[0].id >= 0\n        ) {\n            return true;\n        }\n        return !this.within_exclusion_period;\n    }\n\n    /** Whether booking time is within the building's exlusion period for catering  */\n    public get within_exclusion_period(): boolean {\n        return false;\n    }\n\n    public isExcluded(restriction_time: number): boolean {\n        const now = dayjs().startOf('m');\n        const start = dayjs(this.date)\n            .startOf('m')\n            .second(1);\n        let end = start.subtract(restriction_time || -900, 'h');\n        if (end.format('ddd') === 'Sun' || end.format('ddd') === 'Sat') {\n            end = end.subtract(2, 'd');\n        }\n        return now.isAfter(end, 's');\n    }\n\n    public get exclusion_map(): { [key: string]: boolean } {\n        const exclusions: { [key: string]: boolean } = {};\n        const building_list = this._service.Buildings.list();\n        for (const space of this.spaces) {\n            const bld = building_list.find(bld => bld.id === space.level.bld_id);\n            if (bld) {\n                exclusions[space.id] = this.isExcluded(-999);\n            }\n        }\n        return exclusions;\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.spaces && this.spaces) {\n            if (!this.active_space || this.spaces.findIndex(i => i.id === this.active_space.id) < 0) {\n                this.active_space = this.spaces[0];\n            }\n            this.loadMenu();\n        }\n        if (changes.date || changes.duration) {\n            this.delivery_times = this.generateAvailableTimes();\n        }\n        if (changes.order && this.order) {\n            this.order_form = generateCateringOrderFormFields(this.order);\n        }\n    }\n\n    /**\n     * Load menu categories for the selected rooms\n     */\n    public loadMenu() {\n        if (this.spaces && this.spaces instanceof Array) {\n            this.spaces.forEach(i => {\n                this.loading[i.id] = true;\n                this.menu_map[i.id] = null;\n                this._service.CateringMenu.query({ room_id: i.id }).then(\n                    list => {\n                        this.loading[i.id] = false;\n                        this.menu_map[i.id] = (list || []) as CateringCategory[];\n                    },\n                    () => {\n                        this.loading[i.id] = false;\n                        this.menu_map[i.id] = [];\n                    }\n                );\n            });\n        }\n    }\n\n    /**\n     * Update the active space\n     * @param space New active space\n     */\n    public setSpace(space: IRoom) {\n        this.category = null;\n        this.order_form.controls.location_id.setValue(space.id);\n        this.order.storePendingChanges('location', space.name);\n        this.timeout('set_space', () => (this.active_space = space), 100);\n    }\n\n    /**\n     * Filter category items\n     */\n    public search() {\n        if (this.active_space && this.search_str) {\n            const search = this.search_str.toLowerCase();\n            const categories = this.menu_map[this.active_space.id];\n            const list = {\n                id: 'search',\n                name: 'Search results',\n                src: '',\n                package: false,\n                zones: [],\n                items: categories.reduce((v, i) => {\n                    v = v.concat(\n                        i.items.filter((j: any) => {\n                            if (j.items) {\n                                return (\n                                    j.name.toLowerCase().indexOf(search) >= 0 ||\n                                    j.items.findIndex(k => k.name.toLowerCase().indexOf(search) >= 0) >= 0\n                                );\n                            }\n                            return j.name.toLowerCase().indexOf(search) >= 0;\n                        })\n                    );\n                    return v;\n                }, [])\n            };\n            this.category = new CateringCategory(list);\n        } else {\n            this.category = null;\n        }\n    }\n\n    /** Enable a step modifier key */\n    public enableModifer(mod: 'shift' | 'control') {\n        this.key_states[mod] = true;\n        this.updateStep();\n    }\n\n    /** Disable a step modifier key */\n    public disableModifer(mod: 'shift' | 'control') {\n        this.key_states[mod] = false;\n        this.updateStep();\n    }\n\n    /** Update the increment and decrement step value */\n    public updateStep() {\n        this.step = this.key_states.shift ? 100 : this.key_states.control ? 10 : 1;\n    }\n\n    /** Generate list of available delivery times */\n    public generateAvailableTimes(): Identity[] {\n        const time_list: Identity[] = [];\n        if (this.date) {\n            let start = dayjs(this.date).startOf('m');\n            const old_start = start;\n            let end = start.add(this.all_day ? 24 * 60 : this.duration, 'm');\n            if (start.isBefore(start.hour(7).minute(0), 'm') || this.all_day) {\n                start = start.hour(7).minute(0);\n                const now = dayjs().startOf('m');\n                if (start.isBefore(now, 'm')) {\n                    start = now.minute(Math.ceil(now.minute() / 5) * 5);\n                }\n            }\n            start = start.minute(Math.ceil(start.minute() / 5) * 5);\n            if (end.isAfter(start.hour(20).minute(0), 'm') || this.all_day) {\n                end = start.hour(20).minute(0);\n            }\n            let duration = Math.abs(old_start.diff(start, 'm'));\n            while (start.isBefore(end, 'm')) {\n                time_list.push({ id: duration, name: start.format('h:mm A') });\n                start = start.add(5, 'm');\n                duration += 5;\n            }\n            if (time_list.length <= 0) {\n                time_list.push({ id: -(90 * 24 * 60), name: 'Outside of hours' });\n            }\n        }\n        return time_list;\n    }\n}\n","<div class=\"catering-item-list\">\n    <div class=\"category-header\">\n        <div class=\"heading\">{{ category.name }}</div>\n        <div class=\"back\" (touchrelease)=\"event.emit()\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">keyboard_arrow_left</i>\n            </div>\n            <div class=\"text\">Categories</div>\n        </div>\n    </div>\n    <ng-container *ngIf=\"category && category.items && category.items.length > 0; else empty\">\n        <div class=\"item\" *ngFor=\"let item of category.items\">\n            <catering-item [exclude]=\"exclude\" [step]=\"step\" [space]=\"space\" [items]=\"items\" [parent]=\"category\" [item]=\"item\"></catering-item>\n        </div>\n    </ng-container>\n    <ng-template #empty>\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">close</i>\n            </div>\n            <div class=\"text\">No matching items</div>\n        </div>\n    </ng-template>\n</div>","\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { IRoom } from '../../../../services/data/rooms.service';\nimport { CateringCategory } from '../../../../services/data/catering/catering-category.class';\n\n@Component({\n    selector: 'catering-edit-item-list',\n    templateUrl: './item-list.component.html',\n    styleUrls: ['./item-list.component.scss']\n})\nexport class CateringEditItemListComponent extends BaseDirective {\n    /** Space selected to add catering to */\n    @Input() public space: IRoom;\n    /** Selected category of items to display */\n    @Input() public category: CateringCategory;\n    /** Whether booking is within the catering exclusion period */\n    @Input() public exclude: boolean;\n    /** Field for storing ordered catering items */\n    @Input() public items: FormControl;\n    /** Step value for adding catering items */\n    @Input() public step: number = 1;\n    /** Event emitter for item listings */\n    @Output() public event = new EventEmitter();\n}\n\n","<div\n    class=\"catering-list-item\"\n    [attr.item-id]=\"item?.id\"\n    [class.simple]=\"simple\"\n    [attr.cant-order]=\"exclude && !item.can_order_anytime\"\n    (touchrelease)=\"parent.must_select && !item.package ? toggle() : ''\"\n>\n    <div class=\"details\">\n        <div\n            class=\"image\"\n            [style.background-image]=\"(item.image_path ? 'url(' + item.image_path + ')' : '') | safestyle\"\n        >\n        </div>\n        <div class=\"info\" (touchrelease)=\"show_list = !show_list\">\n            <div class=\"name\">{{ item.name }}</div>\n            <div class=\"count\" *ngIf=\"!item.package\">\n                {{ (item.unit_price / 100 || 0) | currency: symbol }}\n                {{\n                    (item.unit_price ? '| ' : '') + item.description ||\n                        (item.items ? 'Selection of ' + item.items.length + ' items' : '') ||\n                        'No description'\n                }}\n            </div>\n            <div class=\"count\" *ngIf=\"item.package\">\n                {{ (item.unit_price / 100 || 0) | currency: symbol }}\n                {{ item.description ? (item.unit_price ? '| ' : '') + item.description : '' }}\n                {{ item.minimum_quantity ? ' | Minimum of ' + item.minimum_quantity : '' }}\n                {{ item.must_select ? ' | Select ' + item.must_select + ' from the below options' : '' }}\n            </div>\n        </div>\n        <div\n            class=\"amount\"\n            *ngIf=\"!parent.package && !parent.must_select && item.unit_price; else radio_option\"\n            title=\"Ctrl + Click to add/remove 10\nShift + Click to add/remove 100\"\n        >\n            <button mat-icon-button [disabled]=\"!item.amount || item.amount <= 0\" (touchrelease)=\"remove(item)\">\n                <app-icon [icon]=\"{ class: 'material-icons', content: 'remove' }\"></app-icon>\n            </button>\n            <div class=\"value\">{{ item.amount || '0' }}</div>\n            <button mat-icon-button [disabled]=\"item.amount >= (item.maximum_quantity || 100)\" (touchrelease)=\"add(item)\">\n                <app-icon [icon]=\"{ class: 'material-icons', content: 'add' }\"></app-icon>\n            </button>\n        </div>\n        <ng-template #radio_option>\n            <div class=\"amount\" *ngIf=\"!item.package && parent.amount\" (touchrelease)=\"updateSelection(item)\">\n                <radio-btn *ngIf=\"parent.must_select === 1\" [model]=\"!!item.amount\"></radio-btn>\n                <mat-checkbox *ngIf=\"parent.must_select > 1\" [checked]=\"!!item.amount\"></mat-checkbox>\n            </div>\n        </ng-template>\n    </div>\n    <div class=\"sub-items\" *ngIf=\"item && item.items\" [@show]=\"show_list ? 'show' : 'hide'\">\n        <div class=\"item\" *ngFor=\"let itm of item.items\" [class.selection]=\"itm.items && itm.items.length > 0\">\n            <catering-item\n                [simple]=\"true\"\n                [space]=\"space\"\n                [items]=\"items\"\n                [parent]=\"item\"\n                [item]=\"itm\"\n                (amountChange)=\"handleSelect(itm)\"\n            ></catering-item>\n            <div class=\"bar\"></div>\n        </div>\n    </div>\n</div>\n","\nimport { trigger, state, style, animate, transition } from '@angular/animations';\nimport { Component, Input, SimpleChanges, Output, EventEmitter } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\nimport { BaseDirective } from '../../../../globals/base.directive';\nimport { IRoom } from '../../../../../services/data/rooms.service';\nimport { CateringCategory } from '../../../../../services/data/catering/catering-category.class';\nimport { CateringItem } from '../../../../../services/data/catering/catering-item.class';\nimport { AppService } from '../../../../../services/app.service';\n\n\n@Component({\n    selector: 'catering-item',\n    templateUrl: './list-item.component.html',\n    styleUrls: ['./list-item.component.scss'],\n    animations: [\n        trigger('show', [\n            state('show', style({ opacity: 1, height: '*' })),\n            state('hide', style({ opacity: 0, height: 0 })),\n            transition('show <=> hide', animate('200ms')),\n        ])\n    ]\n})\nexport class CateringEditListItemComponent extends BaseDirective {\n    /** Simple display of details */\n    @Input() simple: boolean;\n    /** Space selected to add catering to */\n    @Input() public space: IRoom;\n    /** Catering parent group or category */\n    @Input() public parent: CateringCategory;\n    /** Catering item or item group */\n    @Input() public item: CateringCategory;\n    /** Whether booking is within the catering exclusion period */\n    @Input() public exclude: boolean;\n    /** Field for storing ordered catering items */\n    @Input() public items: FormControl;\n    /** Whether the item can be selected */\n    @Input() public disabled: number;\n    /** Step value for adding catering items */\n    @Input() public step: number = 1;\n    /** Emitter for changes to the selected amount of the item */\n    @Output() public amountChange = new EventEmitter<number>();\n\n    /** Whether to show list of sub items */\n    public show_list: boolean;\n\n    constructor(private _service: AppService) {\n        super();\n    }\n\n    /** Currency code for the active space */\n    public get symbol(): string {\n        const level = this.space.level || {} as any;\n        const building = this._service.Buildings.get(level.bld_id) || {}  as any;\n        return building.currency || 'USD';\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.items && this.items) {\n            this.subscription('control', this.items.valueChanges.subscribe(() => this.updateAmounts()));\n        }\n        if (changes.space && this.space) {\n            this.updateAmounts()\n        }\n    }\n\n    /**\n     * Add the given item from the catering order\n     * @param item Item to add\n     */\n    public add(new_item: CateringItem | CateringCategory) {\n        if (this.items) {\n            const items: CateringItem[] = this.items.value || [];\n            if (!items.find(item => item.id === new_item.id)) {\n                items.push(new_item instanceof CateringCategory ? new CateringCategory(new_item) : new CateringItem(new_item));\n            }\n            const item = items.find(item => item.id === new_item.id);\n            item.addToOrder();\n            this.items.setValue(items);\n            this.amountChange.emit(item.amount);\n        }\n    }\n\n    /**\n     * Remove the given item from the catering order\n     * @param item Item to remove\n     */\n    public remove(existing_item: CateringItem | CateringCategory) {\n        if (this.items && this.space) {\n            const items: CateringItem[] = this.items.value || [];\n            const item = items.find(an_item => an_item.id === existing_item.id);\n            if (item) {\n                item.removeFromOrder();\n                if (item.amount === 0) {\n                    items.splice(items.indexOf(item), 1);\n                    this.items.setValue(items);\n                }\n                this.updateAmounts();\n                this.amountChange.emit(item.amount);\n            }\n        }\n    }\n\n    /**\n     * Toggle the activation state of the item\n     */\n    public toggle() {\n        if (this.item.amount === 0) {\n            this.add(this.item);\n        } else {\n            this.remove(this.item);\n        }\n    }\n\n    public handleSelect(item: CateringItem | CateringCategory) {\n        if (this.item instanceof CateringCategory) {\n            if (this.item.must_select === 1) {\n                for (const i of this.item.items) {\n                    if (i.amount === 0) {\n                        i.addToOrder();\n                    }\n                }\n            } else if (this.item.must_select > 1 && item.amount > 0) {\n                const active = this.item.items.reduce((v, i) => v + (i.amount > 0 ? 1 : 0), 0);\n                if (active > this.item.must_select) {\n                    let diff = active - this.item.must_select;\n                    for (const i of this.item.items) {\n                        if (diff > 0 && i.amount > 0 && !(item.id === i.id || item.name === i.name)) {\n                            i.setAmount(0);\n                            diff--;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    public updateSelection(toggled_item: CateringItem) {\n        const items: CateringItem[] = this.items.value || [];\n        const parent = items.find(an_item => this.parent.id === an_item.id) as CateringCategory;\n        const item = parent.items.find(an_item => an_item.id === toggled_item.id);\n        if (item) {\n            item.setAmount(toggled_item.amount > 0 ? 0 : 1);\n            this.item.setAmount(toggled_item.amount > 0 ? 0 : 1);\n        }\n        const selected = parent.items.reduce((count, an_item) => count + (an_item.amount ? 1 : 0), 0);\n        if (selected > parent.must_select) {\n            const removed_item = parent.items.find(an_item => an_item.id !== toggled_item.id);\n            removed_item.setAmount(0);\n            this.items.setValue(this.items.value);\n        }\n    }\n\n    public updateAmounts() {\n        if (!this.items) { return; }\n        if (!this.parent.must_select) {\n            const items: CateringItem[] = this.items.value || [];\n            const item = items.find(an_item => this.item.id === an_item.id);\n            if (item && item.amount !== this.item.amount) {\n                this.item.setAmount(item.amount);\n            } else if (!item) {\n                this.item.setAmount(0);\n            }\n        } else {\n            const items: CateringItem[] = this.items.value || [];\n            const parent = items.find(an_item => this.parent.id === an_item.id) as CateringCategory;\n            const item = parent.items.find(an_item => an_item.id === this.item.id);\n            if (item) {\n                this.item.setAmount(item.amount);\n            }\n        }\n    }\n}\n","<div class=\"delivery-time\">{{ time }}</div>\n<div class=\"location\">{{ location }}</div>\n<div class=\"count\">\n    {{ count || \"0\" }} Item{{ count === 1 ? \"\" : \"s\" }}\n</div>\n<div class=\"cost\">\n    {{ total / 100 | currency:symbol }}\n</div>\n<div class=\"actions\" *ngIf=\"!expired\">\n    <button mat-icon-button *ngIf=\"!order.error\" (touchrelease)=\"edit.emit()\">\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'edit' }\"></app-icon>\n    </button>\n    <button mat-icon-button (touchrelease)=\"delete.emit()\">\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'delete' }\"></app-icon>\n    </button>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\nimport { CateringOrder } from '../../../../../services/data/catering/catering-order.class';\nimport { AppService } from '../../../../../services/app.service';\nimport { CateringItem } from '../../../../../services/data/catering/catering-item.class';\n\nimport * as dayjs from 'dayjs';\n\n@Component({\n    selector: 'catering-order-list-item',\n    templateUrl: './item.component.html',\n    styleUrls: ['./item.component.scss']\n})\nexport class CateringOrderListItemComponent implements OnInit {\n    /** Catering order to display */\n    @Input() public order: CateringOrder;\n    /** Emitter for edit events */\n    @Output() public edit = new EventEmitter<void>();\n    /** Emitter for delete events */\n    @Output() public delete = new EventEmitter<void>();\n\n    public get expired(): boolean {\n        if (!this.order) return false;\n        const time =\n            (this.order.changes ? this.order.changes.delivery_time : null) ||\n            this.order.delivery_time;\n        return dayjs().isAfter(dayjs(this.order.booking_date).add(time, 'm'), 's');\n    }\n\n    constructor(private _service: AppService) { }\n\n    /** Display string for the delivery location of the order */\n    public get location(): string {\n        if (!this.order) return 'No Location';\n        if (this.order.changes && this.order.changes.location_id) {\n            const space = (this._service.Rooms.list(true) || []).find(room => room.id = this.order.changes.location_id) || {};\n            return space.name;\n        }\n        return this.order.location;\n    }\n\n    /** Display string for the set delivery time */\n    public get time(): string {\n        if (!this.order) return 'No Delivery Time';\n        const duration =\n            (this.order.changes ? this.order.changes.delivery_time : null) ||\n            this.order.delivery_time;\n        return dayjs(this.order.booking_date).add(duration, 'm').format('h:mm A');\n    }\n\n    /** Number of items in the order */\n    public get count(): number {\n        if (!this.order) return 0;\n        const items: CateringItem[] =\n            (this.order.changes ? this.order.changes.items : null) || this.order.items;\n        return (items || []).reduce((total, item) => total + item.amount, 0);\n    }\n\n    /** Total cost of the items in the order */\n    public get total(): number {\n        if (!this.order) return 0;\n        const items: CateringItem[] =\n            (this.order.changes ? this.order.changes.items : null) || this.order.items;\n        return (items || []).reduce((total, item) => total + item.total, 0);\n    }\n\n    /** Current symbol for the order */\n    public get symbol(): string {\n        if (!this.order) return 'USD';\n        const space = this._service.Rooms.list(true).find(room => room.id === this.order.location_id);\n        if (!space) return 'USD';\n        const building = this._service.Buildings.get(space.level.bld_id) || {} as any;\n        return building.currency || 'USD';\n    }\n\n    public ngOnInit(): void {}\n}\n","<div class=\"catering order-list\">\n    <div class=\"content\">\n        <div class=\"header\">\n            <h3>Catering Orders</h3>\n        </div>\n        <div class=\"body\" *ngIf=\"order_list && order_list.length; else empty_state\">\n            <div class=\"list\">\n                <div class=\"order\" *ngFor=\"let order of order_list\" [class.error]=\"order.error\">\n                    <catering-order-list-item [order]=\"order\" (edit)=\"editOrder(order)\" (delete)=\"deleteOrder(order)\"></catering-order-list-item>\n                    <div class=\"error-message\">\n                        The space associated with this booking has been removed.\n                        Unless the space is re-added this order will be removed.\n                    </div>\n                </div>\n                <button mat-button (touchrelease)=\"addOrder()\">\n                    <div class=\"contents\">\n                        <app-icon [icon]=\"{class: 'material-icons', content: 'add'}\"></app-icon>\n                        <div class=\"text\">New order</div>\n                    </div>\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n<ng-template #empty_state>\n    <div class=\"body\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">close</i>\n            </div>\n            <div class=\"text\">No catering orders</div>\n        </div>\n        <button mat-button (touchrelease)=\"addOrder()\">\n            <div class=\"contents\">\n                <app-icon [icon]=\"{class: 'material-icons', content: 'add'}\"></app-icon>\n                <div class=\"text\">New order</div>\n            </div>\n        </button>\n    </div>\n</ng-template>\n","import { Component, Input, Output, EventEmitter, OnChanges, SimpleChanges } from \"@angular/core\";\nimport { ADynamicFormField } from \"@acaprojects/ngx-dynamic-forms\";\nimport { Router } from \"@angular/router\";\n\nimport { BaseDirective } from \"../../../globals/base.directive\";\nimport { IRoom } from \"../../../../services/data/rooms.service\";\nimport { CateringOrder } from \"../../../../services/data/catering/catering-order.class\";\n\n@Component({\n    selector: \"catering-order-list\",\n    templateUrl: \"./order-list.component.html\",\n    styleUrls: [\"./order-list.component.scss\"]\n})\nexport class CateringOrderListComponent extends BaseDirective implements OnChanges {\n    /** Form field for storing catering data for the booking */\n    @Input() public catering: ADynamicFormField;\n    /** List of rooms selected for the booking */\n    @Input() public spaces: IRoom[];\n    /** Start time of the current booking */\n    @Input() public date: number;\n    /** Emitter for changes to the active catering order */\n    @Output(\"order\") public active_order = new EventEmitter();\n    /** Emitter for user events on component */\n    @Output() public event = new EventEmitter();\n\n    constructor(private _router: Router) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.date && this.catering) {\n            this.catering.control.setValue(\n                this.order_list.map(\n                    order => new CateringOrder({ ...order, booking_date: this.date })\n                )\n            );\n            this.order_list.forEach(\n                order => (order.error = !this.spaces.find(space => space.id === order.location_id))\n            );\n        }\n        if (changes.spaces) {\n            this.order_list.forEach(\n                order => (order.error = !this.spaces.find(space => space.id === order.location_id))\n            );\n        }\n    }\n\n    /** List of orders in the current booking */\n    public get order_list(): CateringOrder[] {\n        return this.catering && (this.catering.control.value instanceof Array)\n            ? this.catering.control.value\n            : [];\n    }\n\n    /**\n     * Create new order and start editing it\n     */\n    public addOrder(): void {\n        const order = new CateringOrder({\n            id: `order-${Math.floor(Math.random() * 999_999_999)}`,\n            location_id: this.spaces[0].id,\n            location: this.spaces[0].name,\n            booking_date: this.date,\n            delivery_time: 0\n        });\n        this.active_order.emit(order);\n    }\n\n    /**\n     * Start editing the given order\n     * @param order\n     */\n    public editOrder(order: CateringOrder): void {\n        const the_order = this.order_list.find(o => o.id === order.id);\n        this.active_order.emit(the_order);\n    }\n\n    /**\n     * Remove the given order from the catering order list\n     * @param order\n     */\n    public deleteOrder(order: CateringOrder): void {\n        const order_list = this.order_list;\n        const the_order = order_list.find(o => o.id === order.id);\n        order_list.splice(order_list.indexOf(the_order), 1);\n        this.catering.control.setValue(order_list || []);\n    }\n\n}\n","<ng-container *ngIf=\"group\">\n    <div class=\"cost-field\" [formGroup]=\"group\">\n        <div class=\"row\">\n            <div class=\"label\">Rate:</div>\n            <div class=\"value\">{{rate / 100 | currency}}</div>\n            <div class=\"info\">per hour</div>\n        </div>\n        <div class=\"row\">\n            <div class=\"label\">GST:</div>\n            <div class=\"value\">{{gst / 100 | currency}}</div>\n            <div class=\"info\"></div>\n        </div>\n        <div class=\"row\">\n            <div class=\"label\">Total:</div>\n            <div class=\"value\">{{total / 100 | currency}}</div>\n            <div class=\"info\">inc. GST</div>\n        </div>\n    </div>\n</ng-container>\n","\nimport { trigger, state, style, animate, transition } from '@angular/animations';\nimport { Component, OnDestroy } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { IRoom } from '../../../../services/data/rooms.service';\n\n@Component({\n    selector: 'custom-cost-field',\n    templateUrl: './cost-field.component.html',\n    styleUrls: ['./cost-field.component.scss'],\n    animations: [\n        trigger('show', [\n            state('show', style({ opacity: 1, height: '*' })),\n            state('hide', style({ opacity: 0, height: 0 })),\n            transition('show <=> hide', animate('300ms ease-in')),\n        ])\n    ]\n})\nexport class CustomCostFieldComponent extends BaseDirective implements OnDestroy {\n\n    public rate = 0;\n    public gst = 0;\n    public total = 0;\n    public duration = 60;\n    public show: boolean;\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    public ngOnInit(): void {\n        if (this.group) {\n            // Check for changes to selected rooms\n            if (this.group.controls.room && this.group.controls.room.value) {\n                const control = this.group.controls.room;\n                if (control) {\n                    this.subscription('rooms', control.valueChanges.subscribe((room: IRoom | IRoom[]) => {\n                        if (room instanceof Array && room.length > 0) {\n                            this.rate = room[0].rate || 0;\n                        } else if (room) {\n                            this.rate = (room as IRoom).rate || 0;\n                        }\n                        this.updateDisplay();\n                    }));\n                }\n            }\n            // Check for changes to the selected duration\n            if (this.group.controls.duration && this.group.controls.duration.value) {\n                const control = this.group.controls.duration;\n                if (control) {\n                    this.subscription('reference', control.valueChanges.subscribe((value) => {\n                        this.duration = value || 60;\n                        this.updateDisplay()\n                    }));\n                }\n            }\n            this.subscription('control', this.field.control.valueChanges.subscribe(() => this.updateDisplay()));\n            this.updateDisplay();\n        }\n    }\n\n    public updateDisplay() {\n        this.total = this.rate * (this.duration / 60);\n        this.gst = this.total / 11;\n    }\n\n    public setValue(value: number) {\n        (this.field.control as any).setValue(value);\n    }\n}\n\nCUSTOM_FIELD_REGISTER.cost = CustomCostFieldComponent;\n","<ng-container *ngIf=\"group\">\n    <div class=\"date-field\" [class.error]=\"field?.control?.errors\" (touchrelease)=\"show_tooltip = !show_tooltip\">\n        <div class=\"text\">{{ display || 'No date' }}</div>\n        <div class=\"icon\">\n            <i class=\"material-icons\">{{ show_tooltip ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</i>\n        </div>\n        <div class=\"hook\" tooltip [(show)]=\"show_tooltip\" [template]=\"calendar\" [triangle]=\"false\" position=\"bottom\" offset=\"start\"></div>\n    </div>\n    <ng-template #calendar>\n        <div>\n            <a-date-picker\n                [ngModel]=\"field.control.value\"\n                [options]=\"{ from: today }\"\n                (ngModelChange)=\"setValue($event); show_tooltip = false\"\n                [id]=\"field.key\"\n            ></a-date-picker>\n        </div>\n    </ng-template>\n</ng-container>\n","\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\n\nimport * as dayjs from 'dayjs';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\n\n@Component({\n    selector: 'custom-date-field',\n    templateUrl: './date-field.component.html',\n    styleUrls: ['./date-field.component.scss']\n})\nexport class CustomDateFieldComponent extends BaseDirective implements OnInit, OnDestroy {\n    /** Display value of the currently selected date */\n    public display: string;\n    /** Whether to show date picker tooltip */\n    public show_tooltip: boolean;\n    /** Timestamp of the current time in ms from UTC epoch */\n    public today: number;\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    public ngOnInit(): void {\n        this.today = dayjs().valueOf();\n        this.subscription('control', this._field.control.valueChanges.subscribe(() => this.updateDisplay()));\n        this.updateDisplay();\n    }\n\n    public updateDisplay() {\n        this.display = dayjs(this._field.getValue() || null).format('ddd DD MMM YYYY');\n    }\n\n    public setValue(value: number) {\n        const old_value = this._field.control.value;\n        const old_date = dayjs(old_value);\n        const date = dayjs(value).hour(old_date.hour()).minute(old_date.minute());\n        (this._field.control as any).setValue(date.valueOf());\n        this.show_tooltip = false;\n    }\n}\n\nCUSTOM_FIELD_REGISTER.date = CustomDateFieldComponent;\n","<ng-container *ngIf=\"group\">\n    <div class=\"dropdown-field\">\n        <dropdown\n            klass=\"form\"\n            [list]=\"options\"\n            [(ngModel)]=\"index\"\n            (ngModelChange)=\"setValue($event)\"\n            [id]=\"field.key\"\n            [placeholder]=\"field.label\"\n        ></dropdown>\n    </div>\n</ng-container>\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\n\nexport interface IDropdownItem {\n    [key: string]: any,\n    id: string,\n    name: string\n}\n\n@Component({\n    selector: 'custom-dropdown-field',\n    templateUrl: './dropdown-field.component.html',\n    styleUrls: ['./dropdown-field.component.scss']\n})\nexport class CustomDropdownFieldComponent extends BaseDirective implements OnInit {\n    /** Index of the active item */\n    public index: number;\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    public ngOnInit(): void {\n        this.subscription('control', this.field.control.valueChanges.subscribe(() => this.update()));\n        this.timeout('init', () => this.update());\n    }\n\n    /** List of available options on the dropdown */\n    public get options(): IDropdownItem[] {\n        return (this.field.metadata ? this.field.metadata.options : null) || [];\n    }\n\n    /**\n     * Set the field value to the item at the given index\n     * @param index Index of the newly selected item\n     */\n    public setValue(index: number) {\n        const item = this.options[index];\n        if (item) {\n            this.field.setValue(item);\n        }\n    }\n\n    /**\n     * Update the selected index based on the current field value\n     */\n    private update(): void {\n        const value = this.field.control.value;\n        if (value) {\n            this.index = this.options.findIndex(i => i === value || i.id === value.id);\n        }\n    }\n}\n\nCUSTOM_FIELD_REGISTER.dropdown = CustomDropdownFieldComponent;\nCUSTOM_FIELD_REGISTER.booking_type = CustomDropdownFieldComponent;\n// CUSTOM_FIELD_REGISTER.host = CustomDropdownFieldComponent;\n// CUSTOM_FIELD_REGISTER.host_index = CustomDropdownFieldComponent;\n","<ng-container *ngIf=\"group\">\n    <dropdown\n        klass=\"form\"\n        [disabled]=\"all_day\"\n        [list]=\"blocks\"\n        [(model)]=\"index\"\n        (modelChange)=\"setValue(blocks[$event].id)\"\n        [id]=\"field.key\"\n        [placeholder]=\"field.label\"\n    ></dropdown>\n    <div class=\"all-day\" *ngIf=\"all_day !== null\">\n        <checkbox [(ngModel)]=\"all_day\" label=\"All Day Booking\"></checkbox>\n    </div>\n</ng-container>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { startWith } from 'rxjs/operators';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { AppService } from '../../../../services/app.service';\nimport { Utils } from '../../../utility.class';\nimport { IRoom } from '../../../../services/data/rooms.service';\nimport { rulesForSpace } from '../../../utilities/booking.utilities';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'custom-duration-field',\n    templateUrl: './duration-field.component.html',\n    styleUrls: ['./duration-field.component.scss']\n})\nexport class CustomDurationFieldComponent extends BaseDirective implements OnInit, OnDestroy {\n    /** Max length of a booking for the selected space */\n    public max_length: number;\n    /**  */\n    public list_height: number;\n    /** Allowed time blocks that can be selected by the user */\n    public blocks: { id: number, name: string }[];\n    /** Index of the active item */\n    public index: number;\n    /** Whether to show */\n    public show: boolean;\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup, private service: AppService) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    /** Whether booking should be all day */\n    public get all_day(): boolean {\n        const control = this.group.controls.all_day;\n        if (control) {\n            return !!control.value;\n        }\n        return null;\n    }\n\n    public set all_day(state: boolean) {\n        const control = this.group.controls.all_day;\n        if (control) {\n            control.setValue(state);\n        }\n    }\n\n    public ngOnInit(): void {\n        if (this.group) {\n            if (this.group.controls.room){\n                this.subscription(\n                    'room',\n                    this.group.controls.room.valueChanges.pipe(startWith(this.group.controls.room.value))\n                    .subscribe((v) => {\n                        this.handleBookingRules(v)\n                }));\n            }\n            if (this.group.controls.date) {\n                this.subscription('date', this.group.controls.date.valueChanges.subscribe(() => {\n                    if (this.group.controls.room) {\n                        this.handleBookingRules(this.group.controls.room.value);\n                    }\n                    this.updateDisplay();\n                }));\n            }\n        }\n        this.subscription('changes', this.field.control.valueChanges.subscribe(() => this.updateDisplay()));\n        this.updateDisplay();\n    }\n\n    public updateDisplay() {\n        this.timeout('update', () => {\n            const value = this.group.controls.date ? this.group.controls.date.value || '' : '';\n            const date = (value ? moment(value) : moment());\n            const times = this.generateBlocks(date.valueOf(), !!value);\n            this.list_height = Math.min(times.values.length, 8);\n            this.blocks = times.values;\n            this.index = times.index;\n        });\n    }\n\n    public generateBlocks(datestamp: number, ref: boolean = false) {\n        const duration = {\n            values: [],\n            index: 0\n        };\n        const date = moment(datestamp);\n        const max_duration = this.max_length || Math.min(720, (this.field.metadata ? this.field.metadata.max_duration || 720 : 720));\n        const end = moment(datestamp).add(Math.max(30, max_duration) + 15, 'm');\n        date.add(10, 'm');\n        let dur = 10;\n        this.addDuration(duration, dur, ref ? date.format('h:mm A') : '');\n        dur += 5;\n        date.add(5, 'm');\n        for (; date.isBefore(end, 'm'); date.add(15, 'm')) {\n            this.addDuration(duration, dur, ref ? date.format('h:mm A') : '');\n            dur += 15;\n        }\n        // Add week duration option\n        if (max_duration > 450) {\n            const date = moment(datestamp).startOf('d').add(4, 'd');\n            if ((this.field.control.value || 30) === 1 * 5 * 24 * 60) {\n                duration.index = duration.values.length;\n            }\n            duration.values.push({ id: 1 * 5 * 24 * 60, name: `1 Week(${date.format('DD MMM')})` })\n        }\n        return duration;\n    }\n\n    /**\n     * Add duration option for the given length\n     * @param duration Mapping of durations\n     * @param dur Duration length\n     * @param time\n     */\n    private addDuration(duration: { values: any[], index: number }, dur: number, time?: string) {\n        let value = (s?) => Utils.humaniseDuration(dur, s);\n        if ((this.field.control.value || 30) === dur) {\n            duration.index = duration.values.length;\n        }\n        duration.values.push({\n            id: dur,\n            name: time ? `${time} (${value(true)})` : value()\n        });\n    }\n\n    /** Get the index of the given value i */\n    public getIndex(value: number, values: { id: number, name: string }[], name?: string) {\n        const index = values.findIndex(a => a.id === value);\n        return index < 0 ? 0 : index;\n    }\n\n    public setValue(value: number) {\n        this.field.setValue(value);\n        this.show = false;\n        this.index = this.getIndex(value, this.blocks);\n    }\n\n    /**\n     * Update limitations on duration based off set spaces\n     * @param spaces Room or list of rooms\n     */\n    private handleBookingRules(spaces: IRoom | IRoom[]) {\n        if (spaces) {\n            const host = (this.group.controls.host ? this.group.controls.host.value : null) || this.service.Users.current();\n            const date = (this.group.controls.date ? this.group.controls.date.value : undefined);\n            if (spaces instanceof Array) {\n                for (const space of spaces) {\n                    const rule_list = this.service.Buildings.get(space.level.bld_id).booking_rules;\n                    const rules = rulesForSpace({\n                        user: host,\n                        space,\n                        time: date.valueOf(),\n                        duration: 5,\n                        rules: rule_list\n                    });\n                    this.max_length = Math.min(this.max_length || 999999, rules.max_length || 999999);\n                }\n            } else {\n                const rule_list = this.service.Buildings.get(spaces.level.bld_id).booking_rules;\n                const rules = rulesForSpace({\n                    user: host,\n                    space: spaces,\n                    time: date.valueOf(),\n                    duration: 5,\n                    rules: rule_list\n                });\n                this.max_length = rules.max_length || 999999;\n            }\n            if (this.max_length === 999999) {\n                this.max_length = 0;\n            }\n            this.updateDisplay();\n        }\n    }\n}\n\nCUSTOM_FIELD_REGISTER.duration = CustomDurationFieldComponent;\n","<ng-container *ngIf=\"field\">\n    <div>\n        <editor [ngModel]=\"value\" (ngModelChange)=\"field.setValue($event)\" toolbar=\"\" [init]=\"{ plugins: 'link' }\"></editor>\n    </div>\n</ng-container>\n","import { Component, OnDestroy } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\n\ndeclare global {\n    interface Window {\n        tinymce: any;\n    }\n}\n\n@Component({\n    selector: 'custom-editor-field',\n    templateUrl: './editor-field.component.html',\n    styleUrls: ['./editor-field.component.scss']\n})\nexport class CustomEditorFieldComponent extends BaseDirective implements OnDestroy {\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    /** Current value of the form field */\n    public get value(): string {\n        return this.field.control.value;\n}\n}\n\nCUSTOM_FIELD_REGISTER.description = CustomEditorFieldComponent;\nCUSTOM_FIELD_REGISTER.notes = CustomEditorFieldComponent;\nCUSTOM_FIELD_REGISTER.private_notes = CustomEditorFieldComponent;\n","<ng-container *ngIf=\"group\">\n    <div class=\"guest-settings-field\" [formGroup]=\"group\">\n        <div class=\"field\">\n            <div class=\"input\" (touchrelease)=\"setGuestSettings()\">\n                {{ field.control.value && field.control.value.name ? 'Greeted by ' + field.control.value.name : 'Service Type' }}\n            </div>\n        </div>\n    </div>\n</ng-container>\n","\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { AppService } from '../../../../services/app.service';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\n\n@Component({\n    selector: 'custom-guest-settings-field',\n    templateUrl: './guest-settings-field.component.html',\n    styleUrls: ['./guest-settings-field.component.scss'],\n})\nexport class CustomGuestSettingsFieldComponent extends BaseDirective implements OnInit, OnDestroy {\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup, private service: AppService) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    public ngOnInit(): void {\n        if (this.group) {\n            if (this.group.controls.attendees) {\n                this.subscription('attendees', this.group.controls.attendees.valueChanges.subscribe(() => this.updateDisplay()));\n            }\n        }\n        let last_value = null;\n        this.subscription('control', this.field.control.valueChanges.subscribe((value) => {\n            if (value !== last_value) {\n                last_value = value;\n                this.updateDisplay();\n            }\n        }));\n        if (this.field.control.value) {\n            const notify_users = this.field.control.value;\n            const email = notify_users ? notify_users[0] : null;\n            if (email) {\n                this.service.Users.query({ q: email }).then(res => {\n                    const user = res && res.length > 0 ? res[0] : null;\n                    this.setValue({ ...user, email });\n                })\n            }\n        }\n        this.updateDisplay();\n    }\n\n    public updateDisplay() {\n        if (this.group.controls.attendees && this.group.controls.attendees.value) {\n            this.field.setDisabled(!(this.group.controls.attendees.value || []).find(i => i.external));\n        } else {\n            this.field.setDisabled(true);\n        }\n    }\n\n    public setGuestSettings() {\n        const host = this.group.value.host;\n        const user = this.field.control.value;\n        if (host) {\n            // TODO\n        }\n    }\n\n    private getHostOptions() {\n        const user = this.service.Users.current();\n        const list = [user];\n        if (user.delegates) {\n            for (const email of user.delegates) {\n                const delegate = this.service.Users.item(email);\n                if (delegate) {\n                    list.push(delegate);\n                }\n            }\n        }\n        return list;\n    }\n\n    public setValue(value: any) {\n        (this.field.control as any).setValue(value);\n    }\n}\n\nCUSTOM_FIELD_REGISTER.notify_user = CustomGuestSettingsFieldComponent;\n","\nimport { CustomDateFieldComponent } from './date-field/date-field.component';\nimport { CustomTimeFieldComponent } from './time-field/time-field.component';\nimport { CustomDurationFieldComponent } from './duration-field/duration-field.component';\nimport { CustomUserListFieldComponent } from './user-list-field/user-list-field.component';\nimport { CustomWeekFieldComponent } from './week-field/week-field.component';\nimport { CustomPreferenceFieldComponent } from './preference-field/preference-field.component';\nimport { CustomCostFieldComponent } from './cost-field/cost-field.component';\nimport { CustomRecurrenceFieldComponent } from './recurrence-field/recurrence-field.component';\nimport { CustomUserSearchFieldComponent } from './user-search-field/user-search-field.component';\nimport { CustomEditorFieldComponent } from './editor-field/editor-field.component';\nimport { CustomGuestSettingsFieldComponent } from './guest-settings-field/guest-settings-field.component';\nimport { CustomDropdownFieldComponent } from './dropdown-field/dropdown-field.component';\n\nexport const CUSTOM_FORM_FIELDS: any[] = [\n    CustomDateFieldComponent,\n    CustomTimeFieldComponent,\n    CustomDurationFieldComponent,\n    CustomUserListFieldComponent,\n    CustomWeekFieldComponent,\n    CustomPreferenceFieldComponent,\n    CustomCostFieldComponent,\n    CustomRecurrenceFieldComponent,\n    CustomUserSearchFieldComponent,\n    CustomEditorFieldComponent,\n    CustomGuestSettingsFieldComponent,\n    CustomDropdownFieldComponent\n];\n","<ng-container *ngIf=\"group\">\n    <div class=\"preferences-field\" [formGroup]=\"group\">\n        <div class=\"header\" [class.active]=\"show\">\n            <div class=\"bar\"></div>\n            <div class=\"title\" (touchrelease)=\"show = !show\">\n                    <div class=\"text\">{{ field.label }}</div>\n                    <div class=\"icon\"><i class=\"material-icons\">{{ show ? 'keyboard_arrow_down' : 'keyboard_arrow_up'}}</i></div>\n            </div>\n            <div class=\"bar\"></div>\n        </div>\n        <div class=\"body\" [@show]=\"show ? 'show' : 'hide'\">\n            <ng-container *ngFor=\"let item of (extras || [])\">\n                <checkbox [(model)]=\"item.active\" [label]=\"item.name\"></checkbox>\n            </ng-container>\n            <ng-container *ngIf=\"!extras || extras.length <= 0\">\n                <div class=\"no-items\">\n                    <div class=\"text\">No {{field.label}}</div>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</ng-container>\n","\nimport { trigger, state, style, animate, transition } from '@angular/animations';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup, AbstractControl } from '@angular/forms';\nimport { DynamicField, ICustomField } from '@acaprojects/ngx-widgets';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { AppService } from '../../../../services/app.service';\nimport { IExtra } from '../../../../services/data/buildings.service';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\n\n@Component({\n    selector: 'custom-preference-field',\n    templateUrl: './preference-field.component.html',\n    styleUrls: ['./preference-field.component.scss'],\n    animations: [\n        trigger('show', [\n            state('show', style({ opacity: 1, height: '*' })),\n            state('hide', style({ opacity: 0, height: 0 })),\n            transition('show <=> hide', animate('300ms ease-in')),\n        ])\n    ]\n})\nexport class CustomPreferenceFieldComponent extends BaseDirective implements OnInit, OnDestroy {\n\n    /** List of available extras for the selected building */\n    public extras: IExtra[] = [];\n    /** Whether to show the list of preferences */\n    public show: boolean;\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup, private service: AppService) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    public ngOnInit(): void {\n        this.subscription('control', this.field.control.valueChanges.subscribe(() => this.updateDisplay()));\n        this.subscription('building', this.service.Buildings.listen((bld) => {\n            if (bld && bld.extras) {\n                const extras = [ ...bld.loan_items ];\n                const old_extras = this.field.control.value || [];\n                for (const extra of old_extras) {\n                    const item = extras.find(i => i.id === extra.id);\n                    if (item) { item.active = !!extra.active; }\n                }\n                this.setValue(extras);\n            }\n        }));\n        this.setValue([]);\n        this.updateDisplay();\n    }\n\n    public updateDisplay() {\n        this.extras = this.field.control.value || [];\n    }\n\n    public setValue(value: IExtra[]) {\n        (this.field.control as any).setValue(value);\n    }\n}\n\nCUSTOM_FIELD_REGISTER.extras = CustomPreferenceFieldComponent;\nCUSTOM_FIELD_REGISTER.preferences = CustomPreferenceFieldComponent;\n","<ng-container *ngIf=\"group\">\n    <div class=\"recurrence-field\" [formGroup]=\"group\">\n        <div class=\"header\" [class.active]=\"show\">\n            <div class=\"bar\"></div>\n            <div class=\"title\" (touchrelease)=\"show = !show\">\n                    <div class=\"text\">{{ field.label }}</div>\n                    <div class=\"icon\"><i class=\"material-icons\">{{ show ? 'keyboard_arrow_down' : 'keyboard_arrow_up'}}</i></div>\n            </div>\n            <div class=\"bar\"></div>\n        </div>\n        <div class=\"body\" [@show]=\"show ? 'show' : 'hide'\">\n            <div class=\"group\">\n                <label [for]=\"field.key + '-period'\">Period</label>\n                <div class=\"value\">\n                    <dropdown [id]=\"field.key + '-period'\" klass=\"form\" [list]=\"period_options\" [(model)]=\"details.period\" (modelChange)=\"setValue(details)\"></dropdown>\n                </div>\n            </div>\n            <div class=\"group\" *ngIf=\"details.period > 0\">\n                <label [for]=\"field.key + '-end'\">End Date</label>\n                <div class=\"value\">\n                    <div class=\"date-field\" (touchrelease)=\"show_tooltip = !show_tooltip\" tooltip [(show)]=\"show_tooltip\" [template]=\"calendar\" [triangle]=\"false\" position=\"top\" offset=\"middle\">\n                        <div class=\"text\">{{date || 'Never'}}</div>\n                        <div class=\"icon\">\n                            <i class=\"material-icons\">{{ show_tooltip ? 'keyboard_arrow_up' : 'keyboard_arrow_down' }}</i>\n                        </div>\n                    </div>\n                    <ng-template #calendar>\n                        <div [formGroup]=\"form\">\n                            <a-date-picker [(ngModel)]=\"details.end\" [options]=\"{ from: before }\" (ngModelChange)=\"setValue(details)\" [id]=\"field.key + '-end'\"></a-date-picker>\n                        </div>\n                    </ng-template>\n                </div>\n            </div>\n        </div>\n    </div>\n</ng-container>\n","\nimport { trigger, state, style, animate, transition } from '@angular/animations';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\n\nimport * as dayjs from 'dayjs';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\n\nexport interface IRecurrence {\n    period: number;\n    end?: number;\n}\n\ntype FieldType = IRecurrence;\n\n@Component({\n    selector: 'custom-recurrence-field',\n    templateUrl: './recurrence-field.component.html',\n    styleUrls: ['./recurrence-field.component.scss'],\n    animations: [\n        trigger('show', [\n            state('show', style({ opacity: 1, height: '*' })),\n            state('hide', style({ opacity: 0, height: 0 })),\n            transition('show <=> hide', animate('300ms ease-in')),\n        ])\n    ]\n})\nexport class CustomRecurrenceFieldComponent extends BaseDirective implements OnInit, OnDestroy {\n    /** Recurrence period options */\n    public period_options = [\n        { id: 'none', name: 'None' },\n        { id: 'daily', name: 'Daily' },\n        { id: 'weekly', name: 'Weekly' },\n        { id: 'monthly', name: 'Monthly' },\n        { id: 'yearly', name: 'Yearly' }\n    ];\n    /** Current value of the recurrence field */\n    public details: FieldType;\n    /** Current selected recurrence end date */\n    public date: string;\n    /** Recurrence start booking date */\n    public before: number = dayjs().valueOf();\n    /** Whether to show recurrence information */\n    public show: boolean;\n    /** Whether to show the date picker for recurrence end */\n    public show_tooltip: boolean;\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    public ngOnInit(): void {\n        if (this.group) {\n            if (this.group.controls.date) {\n                this.subscription('date', this.group.controls.date.valueChanges.subscribe((value) => {\n                    this.before = value;\n                    this.updateDisplay();\n                }))\n            }\n        }\n        this.subscription('control', this.field.control.valueChanges.subscribe(() => this.updateDisplay()));\n        if (!this.field.control.value) {\n            this.setValue({ period: 0 });\n        }\n    }\n\n    public updateDisplay() {\n        this.details = this.field.control.value || { period: 0 };\n        this.date = dayjs(this.details.end).format('DD MMM YYYY');\n    }\n\n    public setValue(value: FieldType) {\n        (this.field.control as any).setValue(value);\n    }\n}\n\nCUSTOM_FIELD_REGISTER.recurrence = CustomRecurrenceFieldComponent;\nCUSTOM_FIELD_REGISTER.recurr = CustomRecurrenceFieldComponent;\n","<ng-container *ngIf=\"group\">\n    <div #ref class=\"reference\"></div>\n    <div [formGroup]=\"group\" [class.disabled]=\"field.disabled\">\n        <custom-dropdown klass=\"form\" [(show)]=\"show_list\" [content]=\"content\" [template]=\"list\">\n            <ng-template #content>\n                <div class=\"header\">\n                    <div class=\"input\">\n                        <input [formControlName]=\"field.key\" [id]=\"field.key\" [placeholder]=\"field.label\" type=\"time\" (blur)=\"post()\">\n                    </div>\n                    <div class=\"icon\" (touchrelease)=\"show()\">\n                        <i class=\"material-icons\">{{show_list ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</i>\n                    </div>\n                </div>\n            </ng-template>\n            <ng-template #list>\n                <div class=\"item-list\" [style.height]=\"(list_height * 2 * font_size) + 'px'\">\n                    <ng-container *ngIf=\"blocks\">\n                        <cdk-virtual-scroll-viewport [itemSize]=\"2 * font_size\">\n                            <ng-container *cdkVirtualFor=\"let item of blocks; let i = index\">\n                                <div class=\"item\" (touchrelease)=\"setValue(item.id)\">\n                                    <div class=\"text\">{{ item.name || item }}</div>\n                                    <div class=\"icon\">\n                                        <div class=\"done\" *ngIf=\"index === (item.i || i)\"></div>\n                                    </div>\n                                </div>\n                            </ng-container>\n                        </cdk-virtual-scroll-viewport>\n                    </ng-container>\n                </div>\n            </ng-template>\n        </custom-dropdown>\n    </div>\n</ng-container>\n","import { Component, OnDestroy, ViewChild, ElementRef, OnInit } from '@angular/core';\nimport { FormGroup, Validators } from '@angular/forms';\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\nimport { Utils } from '../../../utility.class';\n\nimport * as dayjs from 'dayjs';\n\n@Component({\n    selector: 'custom-time-field',\n    templateUrl: './time-field.component.html',\n    styleUrls: ['./time-field.component.scss']\n})\nexport class CustomTimeFieldComponent extends BaseDirective implements OnInit, OnDestroy {\n    /** Current font size of the field */\n    public font_size = 16;\n    /** Height of individual item elements in the dom */\n    public list_height: number;\n    /** Index of the active item */\n    public index: number;\n    /** List of available time blocks for the user to select */\n    public blocks: { id: string, name: string }[] = [];\n    /** Whether to show the option list */\n    public show_list: boolean;\n    /** Previous value of the field */\n    public old_value: string;\n\n    /** Virtual scroll viewport in the  */\n    @ViewChild(CdkVirtualScrollViewport, { static: true }) private viewport: CdkVirtualScrollViewport;\n    @ViewChild('ref', { static: true }) private ref: ElementRef;\n    @ViewChild('list', { static: true }) private list: ElementRef;\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    public ngOnInit(): void {\n        if (this.group) {\n            if (this.group.controls.date) {\n                this.subscription('date', this.group.controls.date.valueChanges.subscribe((date) => {\n                    const validators: any[] = [];\n                    if (this.field.required) {\n                        validators.push(Validators.required);\n                    }\n                    const value = this.group.controls.date ? this.group.controls.date.value || '' : '';\n                    this.generateTimes(value);\n                    this.field.control.setValidators(validators);\n                    this.updateDisplay();\n                    this.field.control.updateValueAndValidity();\n                }));\n            }\n        }\n        this.old_value = this.field.control.value;\n        this.subscription('control', this.field.control.valueChanges.subscribe((value) => {\n            if (this.old_value !== value) {\n                this.old_value = value;\n                this.updateDisplay();\n            }\n        }));\n\n        const parts = (this.field.control.value || '00:00').split(':');\n        const value = this.group.controls.date ? this.group.controls.date.value || '' : '';\n        let date = (value ? dayjs(value) : dayjs());\n        date = date.minute(Math.ceil(date.minute() / 5) * 5);\n        if (this.field.control.value) {\n            date = date.hour(+parts[0]).minute(+parts[1]).startOf('m');\n        }\n        this.setValue(date.format('HH:mm'));\n        this.updateDisplay();\n        this.checkFontSize();\n    }\n\n    public updateDisplay() {\n        this.timeout('update', () => {\n            const parts = (this.field.control.value || '00:00').split(':');\n            const value = this.group.controls.date ? this.group.controls.date.value || '' : '';\n            const date = (value ? dayjs(value) : dayjs().add(1, 'd')).hour(+parts[0]).minute(+parts[1]);\n            const times = this.generateTimes(date.valueOf());\n            this.list_height = Math.min(times.values.length, 8);\n            this.blocks = times.values;\n            this.index = times.index;\n            this.updateScroll();\n        }, 50);\n    }\n\n    public generateTimes(datestamp: number) {\n        // Clean up time\n        const time = {\n            values: [],\n            index: 0\n        };\n        const date = dayjs(datestamp);\n        let now = dayjs();\n        if (!date.isSame(now, 'd')) {\n            now = date.startOf('d');\n        }\n        now = now.minute(Math.ceil(now.minute() / 5) * 5);\n        if (now.minute() % 15 !== 0) {\n            time.values.push({ id: now.format('HH:mm'), name: now.format('h:mm A') });\n            now = now.minute(Math.ceil(now.minute() / 15) * 15);\n        }\n        if (date.isAfter(now, 'd')) { now.startOf('d'); }\n        const end = dayjs(now).endOf('d');\n        for (; now.isBefore(end, 'm'); now = now.add(15, 'm')) {\n            time.values.push({ id: now.format('HH:mm'), name: now.format('h:mm A') });\n        }\n        const ts = date.format('HH:mm');\n        time.index = this.getIndex(ts, time.values, date.format('h:mm A'));\n        time.values = Utils.unique(time.values, 'id');\n        return time;\n    }\n\n    public getIndex(timestamp: string, values: { id: string, name: string }[], name?: string) {\n        values.sort((a, b) => a.id.localeCompare(b.id));\n        const exists = values.find(a => a.id === timestamp);\n        if (!exists) {\n            values.unshift({ id: timestamp, name: name || timestamp });\n            values.sort((a, b) => a.id.localeCompare(b.id));\n        }\n        return values.indexOf(values.find(a => a.id === timestamp));\n    }\n\n    public updateScroll() {\n        if (!this.viewport) {\n            return this.timeout('scroll', () => this.updateScroll(), 100);\n        }\n        this.viewport.scrollToIndex(this.index);\n    }\n\n    public setValue(value: string) {\n        (this.field.control as any).setValue(value);\n        this.show_list = false;\n        if (this.group.controls.date) {\n            const parts = (this.field.control.value || '00:00').split(':');\n            const v = this.group.controls.date ? this.group.controls.date.value || '' : '';\n            const date = (v ? dayjs(v) : dayjs()).hour(+parts[0]).minute(+parts[1]).startOf('m');\n            // date.minutes(Math.round(date.minutes() / 5) * 5);\n            this.group.controls.date.setValue(date.valueOf());\n        }\n    }\n\n    public show() {\n        this.show_list = !this.show_list;\n        if (this.show_list) {\n            this.updateScroll();\n        }\n    }\n\n    public cleanTime() {\n        const parts = (this.field.control.value || '00:00').split(':');\n        const value = this.group.controls.date ? this.group.controls.date.value || '' : '';\n        let date = (value ? dayjs(value) : dayjs()).hour(+parts[0]).minute(+parts[1]);\n        date = date.minute(Math.round(date.minute() / 5) * 5);\n        this.setValue(date.format('HH:mm'));\n        this.index = this.getIndex(date.format('HH:mm'), this.blocks, date.format('h:mm A'));\n    }\n\n    public checkFontSize(tries: number = 0) {\n        if (tries > 5) { return; }\n        if (this.ref && this.ref.nativeElement) {\n            this.font_size = this.ref.nativeElement.offsetHeight;\n        } else {\n            this.timeout('up_size', () => this.checkFontSize(tries), 200 * ++tries);\n        }\n    }\n\n    public post() {\n        if (this.group.controls.date) {\n            const parts = (this.field.control.value || '00:00').split(':');\n            const v = this.group.controls.date ? this.group.controls.date.value || '' : '';\n            const date = (v ? dayjs(v) : dayjs()).hour(+parts[0]).minute(+parts[1]);\n            // date.minutes(Math.round(date.minutes() / 5) * 5);\n            this.group.controls.date.setValue(date.valueOf());\n        }\n    }\n}\n\nCUSTOM_FIELD_REGISTER.time = CustomTimeFieldComponent;\nCUSTOM_FIELD_REGISTER.start = CustomTimeFieldComponent;\n","<div class=\"user-list\" widget>\n    <div\n        class=\"search\"\n        tooltip\n        [triangle]=\"false\"\n        [show]=\"show && search_str && search_str.length >= 3\"\n        (showChange)=\"show = $event\"\n        [template]=\"list\"\n    >\n        <searchbar\n            klass=\"form user-list\"\n            [(filter)]=\"search_str\"\n            (filterChange)=\"search($event)\"\n            (focus)=\"show = true\"\n            (blur)=\"hideTooltip()\"\n        ></searchbar>\n        <ng-template #list>\n            <div class=\"loading-wrapper\" *ngIf=\"loading\">\n                <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .2)\" *ngIf=\"loading\"></spinner>\n            </div>\n            <div class=\"user-list\" *ngIf=\"!loading\">\n                <div class=\"item\" *ngFor=\"let item of filtered\" (touchrelease)=\"add(item)\">\n                    <user-tag [model]=\"item\" [email]=\"true\"></user-tag>\n                </div>\n                <div *ngIf=\"filtered && filtered.length == 0\">\n                    <span class=\"no-matches\">No matches found.</span>\n                </div>\n            </div>\n        </ng-template>\n    </div>\n    <div class=\"list\" [class.error]=\"field.control?.errors\">\n        <div\n            class=\"item\"\n            *ngFor=\"let item of users; let i = index\"\n            [style.background-color]=\"item.external === true ? colours[1] : colours[0]\"\n            [title]=\"item.name\"\n        >\n            <div class=\"text\">{{ item.name }}</div>\n            <div class=\"icon\" (touchrelease)=\"remove(item)\">\n                <i class=\"material-icons\">close</i>\n            </div>\n        </div>\n        <div class=\"no-item\" *ngIf=\"!users || users.length <= 0\">\n            <div class=\"text\">No attendees</div>\n        </div>\n    </div>\n    <div class=\"options\">\n        <div class=\"item\" (touchrelease)=\"addExternal()\" click-responder>\n            <div class=\"icon\">\n                <i class=\"material-icons\">add</i>\n            </div>\n            <div class=\"text\">Add External</div>\n        </div>\n        <div class=\"item\" (touchrelease)=\"downloadTemplate()\" click-responder>\n            <div class=\"icon\">\n                <i class=\"material-icons\">arrow_downward</i>\n            </div>\n            <div class=\"text\">CSV</div>\n        </div>\n        <div class=\"item\" touchrelease click-responder>\n            <div class=\"icon\">\n                <i class=\"material-icons\">insert_drive_file</i>\n            </div>\n            <div class=\"text\">Bulk (CSV)</div>\n            <input type=\"file\" #file_input (change)=\"upload($event)\" />\n        </div>\n    </div>\n    <div class=\"info\">\n        <!-- <div class=\"block\" [class.disabled]=\"!notify\">\n            <div class=\"text\" (touchrelease)=\"selectGuestNotifyees()\">Guest Notifyees</div>\n        </div>\n        <div class=\"spacer\"></div> -->\n        <!-- <div class=\"block\">\n            <div class=\"icon\" (touchrelease)=\"selectAvailability()\">\n                <i class=\"material-icons\">search</i>\n            </div>\n            <div class=\"text\" (touchrelease)=\"selectAvailability()\">Find availability</div>\n        </div> -->\n    </div>\n</div>\n","import { Component, OnDestroy, ElementRef, ViewChild, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { AppService } from '../../../../services/app.service';\nimport { IUser } from '../../../../services/data/users.service';\nimport { Utils } from '../../../utility.class';\n\nimport * as dayjs from 'dayjs';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\nimport { MatDialog } from '@angular/material/dialog';\nimport { UserDetailsOverlayComponent } from '../../../../overlays/user-details-overlay/user-details-overlay.component';\n\ntype FieldType = IUser;\n\n\nconst VALID_DOMAINS = ['@mckinsey.com', '@external.mckinsey.com', '@quantumblack.com'];\n\n@Component({\n    selector: 'custom-user-list-field',\n    templateUrl: './user-list-field.component.html',\n    styleUrls: ['./user-list-field.component.scss']\n})\nexport class CustomUserListFieldComponent extends BaseDirective implements OnInit, OnDestroy, OnInit {\n    /** List of colours to use for added users */\n    public colours: string[] = [];\n    /** Subject for changes to the search string */\n    private filter$ = new Subject<string>();\n    /** List of results from the last search */\n    public results: IUser[] = [];\n    /** Whether the search results are being loaded */\n    public loading: boolean;\n    /** Whether to show the results list */\n    public show: boolean;\n    /** Search string used for filtering results of user searches */\n    public search_str: string;\n    /** List of filtered users */\n    public filtered: IUser[] = [];\n    /** Whether there is an external user that needs to be greeted */\n    public notify: boolean;\n    /** List of selected users */\n    public users: IUser[] = [];\n\n    @ViewChild('file_input', { static: true }) private file_input: ElementRef;\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup, private service: AppService, private _dialog: MatDialog) {\n        super();\n        this.colours = ['#00ADEF', 'rgb(216, 27, 96)'];\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    public ngOnInit() {\n        this.subscription('filter', this.filter$.pipe(\n            debounceTime(300),\n            distinctUntilChanged(),\n            switchMap(filter => {\n                if (filter && filter.length >= 3) {\n                    this.show = true;\n                    this.loading = true;\n                    return this.service.Users.query({ q: filter })\n                }\n            })\n        ).subscribe(results => {\n            this.loading = false;\n            this.results = results;\n            this.filterResult(this.search_str);\n            this.show = true;\n        }));\n        this.subscription('control', this.field.control.valueChanges.subscribe(() => this.updateDisplay()));\n        this.updateDisplay();\n    }\n\n    public search(filter: string) {\n        this.filter$.next(filter);\n    }\n\n    public filterResult(filter) {\n        const group = [...this.results, this.service.Contacts.list()];\n        this.filtered = Utils.filter(filter, group, ['name', 'email']);\n        this.filtered.forEach((i: any) => {\n            if (i.match_name) {\n                i.match_name = i.match_name.replace(/\\`[a-zA-Z0-9\\@\\.\\_]*\\`/g, '<span class=\"highlight\">$&</span>');\n                i.match_name = i.match_name.replace(/\\`/g, '');\n            }\n            if (i.match_email) {\n                i.match_email = i.match_email.replace(/\\`[a-zA-Z0-9\\@\\.\\_]*\\`/g, '<span class=\"highlight\">$&</span>');\n                i.match_email = i.match_email.replace(/\\`/g, '');\n            }\n        });\n    }\n\n    public updateDisplay() {\n        this.users = this.field.control.value || [];\n        this.notify = !!this.group.controls.notify_users && !!this.users.find(i => i.external);\n    }\n\n    public get host(): IUser {\n        return this.group.controls.host ? this.group.controls.host.value : this.service.Users.current()\n    }\n\n    public add(user: FieldType | FieldType[]) {\n        if (!user || (user instanceof Array && user.length <= 0)) { return; }\n        let users = this.field.control.value || [];\n        user instanceof Array ? (users = users.length > 0 ? [...users, ...user] : [...user]) : users.push(user);\n        const new_list = Utils.unique(users, 'email');\n        (this.field.control as any).setValue(new_list.length <= 0 ? [] : [...new_list]);\n        this.search_str = '';\n        this.show = false;\n    }\n\n    public remove(user: FieldType) {\n        const users = this.field.control.value || [];\n        const exists = users.find(u => u.email === user.email);\n        if (exists) {\n            users.splice(users.indexOf(exists), 1);\n            (this.field.control as any).setValue(users.length < 1 ? [] : [...users]);\n        }\n    }\n\n    public upload(e) {\n        if (this.file_input) {\n            const file = this.file_input.nativeElement.files[0];\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n\n                reader.onload = (evt) => {\n                    this.loadFromCSV((evt.srcElement as any).result);\n                    this.file_input.nativeElement.value = '';\n                };\n                reader.onerror = (evt) => this.service.notifyError('Error reading file.');\n            }\n        }\n    }\n\n    private loadFromCSV(data) {\n        const list = Utils.loadCSV(data) || [];\n        list.forEach(el => {\n            el.name = el.name || `${el.first_name} ${el.last_name}`;\n            const display = (el.name || `${Math.floor(Math.random() * 9999_9999)}`)\n                .split(' ').join('_').toLowerCase();\n            if (!el.email) { el.email = `${display}+${Math.floor(Math.random() * 9999_9999)}@guest.mckinsey.com` }\n            el.external = VALID_DOMAINS.findIndex(i => el.email.indexOf(i) >= 0) < 0;\n        });\n        this.add(list);\n    }\n\n    public hideTooltip() {\n        this.timeout('hide_tooltip', () => this.show = false);\n    }\n\n    public selectAvailability() {\n        let now = dayjs();\n        now = now.minute(Math.ceil(now.minute() / 5) * 5).startOf('m');\n        const date = this.group.controls.date ? dayjs(this.group.controls.date.value) : dayjs();\n        // TODO\n    }\n\n    public selectGuestNotifyees() {\n        if (!this.group.controls.notify_users) { return; }\n        const notifyees = this.group.controls.notify_users.value || [];\n        const host = this.group.controls.host.value || this.service.Users.current();\n        if (host && notifyees && notifyees.find(i => host.email === i)) { host.notify = true; }\n        const attendees = this.field.control.value;\n        attendees.forEach(u => u.notify = (u && !!notifyees.find(i => u.email === i)));\n        // TODO\n    }\n\n    public downloadTemplate() {\n        const template = `Organisation Name,First Name,Last Name,Email,Phone\\nFake Org,John,Smith,john.smith@example.com,01234567898`;\n        Utils.download('template.csv', template);\n    }\n\n    public addExternal() {\n        const ref = this._dialog.open(UserDetailsOverlayComponent, { data: {} });\n        ref.componentInstance.event.subscribe((event) => {\n            if (event.reason === 'done') {\n                const form = ref.componentInstance.form;\n                const user = form.users ? form.users[0] || form : form;\n                if (!user.email) {\n                    const display = (user.name || `${user.first_name} ${user.last_name}` || `${Math.floor(Math.random() * 9999_9999)}`)\n                        .split(' ').join('_').toLowerCase();\n                    user.email = `${display}+${Math.floor(Math.random() * 9999_9999)}@guest.mckinsey.com`;\n                }\n                if (!user.first_name && !user.last_name) {\n                    user.name = user.email;\n                }\n                user.external = VALID_DOMAINS.findIndex(i => user.email.indexOf(i) >= 0) < 0;\n                this.add(user);\n            } else {\n                ref.close();\n            }\n        });\n    }\n}\n\nCUSTOM_FIELD_REGISTER.users = CustomUserListFieldComponent;\nCUSTOM_FIELD_REGISTER.attendees = CustomUserListFieldComponent;\n","<div class=\"user-search\" widget>\n    <div\n        class=\"search\"\n        tooltip\n        [triangle]=\"false\"\n        [show]=\"show && search_str && filtered && filtered.length > 0\"\n        (showChange)=\"show = $event\"\n        [template]=\"list\"\n        *ngIf=\"!field.settings?.readonly; else readonly_state\"\n    >\n        <div class=\"searchbar\">\n            <input\n                [(ngModel)]=\"search_str\"\n                (ngModelChange)=\"search(search_str)\"\n                (blur)=\"reset()\"\n                placeholder=\"Search for host...\"\n            />\n        </div>\n        <ng-template #list>\n            <div class=\"user-list\">\n                <div class=\"item\" *ngFor=\"let item of filtered | slice:0:30\" (touchrelease)=\"select(item)\">\n                    <user-tag [model]=\"item\" [email]=\"true\"></user-tag>\n                </div>\n            </div>\n        </ng-template>\n    </div>\n</div>\n<ng-template #readonly_state>\n    {{ search_str }}\n</ng-template>","import { Component, OnDestroy, OnInit, Inject, forwardRef } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\nimport { Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap } from 'rxjs/operators';\n\nimport { BaseDirective } from '../../../globals/base.directive';\nimport { AppService } from '../../../../services/app.service';\n\nimport { Utils } from '../../../utility.class';\nimport { IUser } from '../../../../services/data/users.service';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\n\n@Component({\n    selector: 'custom-user-search-field',\n    templateUrl: './user-search-field.component.html',\n    styleUrls: ['./user-search-field.component.scss']\n})\nexport class CustomUserSearchFieldComponent extends BaseDirective implements OnInit, OnDestroy {\n    /** Currently logged in user */\n    public current: IUser;\n    /** List of delegate emails for the current user */\n    public delegates: string[] = [];\n    /** List of user details for delegates */\n    public results: IUser[] = [];\n    /** Whether to show search results */\n    public show: boolean;\n    /** List of filtered users */\n    public filtered: IUser[] = [];\n    /** Subject for changes to the search string */\n    private filter$ = new Subject<string>();\n    /** Currently selected user */\n    public user: IUser;\n    /** Search string for filtering available users */\n    public search_str: string;\n    /** Whether users are being searched */\n    public loading: boolean;\n\n    constructor(\n        protected _field: ADynamicFormField,\n        protected group: FormGroup,\n        @Inject(forwardRef(() => AppService)) private service: AppService\n    ) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n\n    public ngOnInit(): void {\n        this.subscription('control', this._field.control.valueChanges.subscribe(() => this.updateDisplay()));\n        this.updateDisplay();\n        this.current = this.service.Users.current();\n        this.subscription(\n            'filter',\n            this.filter$\n                .pipe(\n                    debounceTime(300),\n                    distinctUntilChanged(),\n                    switchMap(filter => {\n                        if (filter && filter.length >= 3) {\n                            this.show = true;\n                            this.loading = true;\n                            return this.service.Users.query({ q: filter });\n                        }\n                    })\n                )\n                .subscribe(results => {\n                    this.loading = false;\n                    this.results = results;\n                    this.filterResult(this.search_str);\n                    this.show = true;\n                })\n        );\n        this.subscription('control', this._field.control.valueChanges.subscribe(() => this.updateDisplay()));\n        this.updateDisplay();\n    }\n\n    public search(filter: string) {\n        this.filter$.next(filter);\n    }\n\n    public filterResult(filter) {\n        const group = [...this.results, this.service.Contacts.list()];\n        this.filtered = Utils.filter(filter, group, ['name', 'email']);\n        this.filtered.forEach((i: any) => {\n            if (i.match_name) {\n                i.match_name = i.match_name.replace(/\\`[a-zA-Z0-9\\@\\.\\_]*\\`/g, '<span class=\"highlight\">$&</span>');\n                i.match_name = i.match_name.replace(/\\`/g, '');\n            }\n            if (i.match_email) {\n                i.match_email = i.match_email.replace(/\\`[a-zA-Z0-9\\@\\.\\_]*\\`/g, '<span class=\"highlight\">$&</span>');\n                i.match_email = i.match_email.replace(/\\`/g, '');\n            }\n        });\n    }\n\n    public updateDisplay() {\n        this.user = this._field.control.value || null;\n        if (this.user) {\n            this.search_str = this.user.name;\n        }\n    }\n\n    public reset() {\n        this.timeout('reset', () => {\n            this.search_str = (this.user || this.service.Users.current()).name;\n            this.show = false;\n        });\n    }\n\n    public select(user: IUser) {\n        if (user) {\n            (this._field.control as any).setValue(user);\n        }\n        this.show = false;\n    }\n}\n\nCUSTOM_FIELD_REGISTER.host = CustomUserSearchFieldComponent;\n// CUSTOM_FIELD_REGISTER.host_index = CustomUserSearchFieldComponent;\nCUSTOM_FIELD_REGISTER.user = CustomUserSearchFieldComponent;\n","<ng-container *ngIf=\"group\">\n    <div class=\"week-field\" [formGroup]=\"group\">\n        <div class=\"change previous\" [class.disabled]=\"past\">\n            <i class=\"material-icons\" (touchrelease)=\"changeWeek(-1)\">keyboard_arrow_left</i>\n        </div>\n        <div class=\"week not-mobile\">\n            <div class=\"day\" *ngFor=\"let item of week; let i = index\"\n                [class.disabled]=\"item.past\"\n                [class.active]=\"active === i\" [class.weekend]=\"i === 0 || i === 6\"\n                (touchrelease)=\"!item.past ? setValue(item.id) : ''\">\n\n                <div class=\"weekday\">{{item.day}}</div>\n                <div class=\"date\">{{item.value}}</div>\n                <div class=\"month\">{{item.month}}</div>\n            </div>\n        </div>\n        <div class=\"week mobile-only\">\n            <div class=\"day\" *ngFor=\"let item of week | slice:1:6; let i = index\"\n                [class.disabled]=\"item.past\"\n                [class.active]=\"active === i + 1\" [class.weekend]=\"i === 0 || i === 6\"\n                (touchrelease)=\"!item.past ? setValue(item.id) : ''\">\n\n                <div class=\"weekday\">{{item.day}}</div>\n                <div class=\"date\">{{item.value}}</div>\n                <div class=\"month\">{{item.month}}</div>\n            </div>\n        </div>\n        <div class=\"change next\">\n            <i class=\"material-icons\"(touchrelease)=\"changeWeek(1)\">keyboard_arrow_right</i>\n        </div>\n    </div>\n</ng-container>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\n\nimport { BaseDirective } from '../../../globals/base.directive';\n\nimport * as dayjs from 'dayjs';\nimport { CUSTOM_FIELD_REGISTER } from '../../../globals/custom-field-register';\n\ninterface IWeekday {\n    id: number;\n    value: number;\n    month: string;\n    day: string;\n    past: boolean;\n}\n\n@Component({\n    selector: 'custom-week-field',\n    templateUrl: './week-field.component.html',\n    styleUrls: ['./week-field.component.scss']\n})\nexport class CustomWeekFieldComponent extends BaseDirective implements OnInit, OnDestroy {\n\n    /** Days to select for the current week */\n    public week: IWeekday[] = [];\n    /** Week offset from the current week */\n    public offset = 0;\n    /** Allow selecting weeks in the past */\n    public past = true;\n    /** Index of the currently active day of the week */\n    public active = -1;\n\n    constructor(protected _field: ADynamicFormField, protected _group: FormGroup) {\n        super();\n    }\n\n    public get field(): ADynamicFormField {\n        return this._field;\n    }\n    public get group(): FormGroup {\n        return this._group\n    }\n\n    public ngOnInit(): void {\n        if (this.group) {\n            if (this.group.controls.date) {\n                this.subscription('date', this.group.controls.date.valueChanges.subscribe(() => {\n                    this.updateDisplay();\n                }))\n            }\n        }\n        this.subscription('control', this.field.control.valueChanges.subscribe(() => this.updateDisplay()));\n        const value = this.group.controls.date ? this.group.controls.date.value || '' : '';\n        const date = (value ? dayjs(value) : dayjs());\n        this.setValue(date.valueOf());\n        this.updateDisplay();\n    }\n\n    public updateDisplay() {\n        this.week = this.generateWeek(this.field.control.value, this.offset);\n        this.active = -1;\n        const active_day = dayjs(this.field.control.value);\n        for (const day of this.week) {\n            if (active_day.isSame(dayjs(day.id), 'd')) {\n                this.active = this.week.indexOf(day);\n                break;\n            }\n        }\n    }\n\n    public changeWeek(value: number = 1) {\n        this.offset += value;\n        this.updateDisplay();\n    }\n\n    public generateWeek(datestamp: number, offset: number = 0): IWeekday[] {\n        // Clean up time\n        const week = [];\n        const now = dayjs().startOf('d');\n        const date = dayjs(datestamp).startOf('w').add(offset, 'w');\n        for (let i = 0; i < 7; i++) {\n            week.push({\n                id: date.valueOf(),\n                value: date.date(),\n                month: date.format('MMM'),\n                day: date.isSame(now, 'd') ? 'Today' : date.format('ddd'),\n                past: date.isBefore(now, 'd')\n            });\n            date.add(1, 'd');\n        }\n        const previous_week = date.startOf('w').add(-8, 'd');\n        this.past = previous_week.isBefore(now, 'd');\n        return week;\n    }\n\n    public setValue(value: number) {\n        (this.field.control as any).setValue(value);\n        if (this.group.controls.date) {\n            const v = this.group.controls.date ? this.group.controls.date.value || '' : '';\n            const ref_date = (v ? dayjs(v) : dayjs());\n            const date = dayjs(value).startOf('d').hour(ref_date.hour()).minute(ref_date.minute());\n            this.group.controls.date.setValue(date.valueOf());\n            this.offset = 0;\n        }\n    }\n}\n\nCUSTOM_FIELD_REGISTER.week = CustomWeekFieldComponent;\n","<a\n    href=\"mailto:converge_feedback@mckinsey.com?subject=Feedback for concierge page: {{model.current_page}}\"\n    >\n\n    <div class=\"feedback-button\">\n        <span class=\"text\">Feedback</span>\n        <span class=\"icon\">\n            <i class=\"material-icons\">\n            feedback\n            </i>\n        </span>\n    </div>\n\n</a>\n","\nimport { Component } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\n\nimport { BaseDirective } from '../../globals/base.directive';\nimport { AppService } from '../../../services/app.service';\n\n\n@Component({\n    selector: 'feedback',\n    templateUrl: './feedback.template.html',\n    styleUrls: ['./feedback.styles.scss']\n})\nexport class FeedbackComponent extends BaseDirective {\n\n    public model: any = {};\n\n    constructor(private service: AppService, private router: Router) {\n        super();\n        this.timeout('Getting Title', () => this.updateRoute(document.title), 1000);\n        router.events\n            .subscribe((event:NavigationEnd) => {\n                this.timeout('Getting Title', () => this.updateRoute(document.title));\n            });\n    }\n\n    public updateRoute(location) {\n        location = location.substr(0, location.indexOf(\" |\"));\n        this.model.current_page = location || 'Day View';\n    }\n}\n","<div class=\"app-icon\" *ngIf=\"icon\">\n    <i *ngIf=\"icon.type !== 'img'\" [class]=\"icon.class\">{{ icon.content }}</i>\n    <img *ngIf=\"icon.type === 'img'\" [src]=\"icon.src\" />\n</div>\n","import { Component, Input } from '@angular/core';\nimport { BaseDirective } from '../../globals/base.directive';\nimport { ApplicationIcon } from '../../utilities/settings.interface';\n\n@Component({\n    selector: 'app-icon',\n    templateUrl: './icon.component.html',\n    styleUrls: ['./icon.component.scss']\n})\nexport class IconComponent extends BaseDirective {\n    /** Icon to display in the template */\n    @Input() public icon: ApplicationIcon;\n}\n","\nimport { Component } from '@angular/core';\n\n@Component({\n    selector: 'forgot-pass-form',\n    templateUrl: './forgot-pass-form.template.html',\n    styleUrls: ['./forgot-pass-form.styles.scss']\n})\nexport class ForgotPassFormComponent {\n\n}\n\n","\nimport { LoginComponent } from './login.component';\nimport { ForgotPassFormComponent } from './forgot-pass-form/forgot-pass-form.component';\nimport { RegisterFormComponent } from './register-form/register-form.component';\nimport { LoginFormComponent } from './login-form/login-form.component';\n\nexport const LOGIN_COMPONENTS: any[] = [\n    LoginComponent,\n    LoginFormComponent,\n    RegisterFormComponent,\n    ForgotPassFormComponent\n];\n","<div class=\"container\">\n    <form name=\"login\">\n        <div class=\"field\">\n            <input-field [(model)]=\"form.user\" [placeholder]=\"model.user_field || 'Email'\"></input-field>\n        </div>\n        <div class=\"field\">\n            <input-field [type]=\"model.show_pass ? 'text' : 'password'\" [(model)]=\"form.pass\" [placeholder]=\"model.user_field || 'Password'\"></input-field>\n        </div>\n        <div class=\"forgot\" *ngIf=\"!model.settings || model.settings.forgot !== false\" (touchrelease)=\"forgot()\">Forgot?</div>\n        <div class=\"options\">\n            <button mat-button type=\"submit\" (touchrelease)=\"login()\">Login</button>\n        </div>\n    </form>\n</div>\n","\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { AppService } from '../../../../services/app.service';\n\n@Component({\n    selector: 'login-form',\n    templateUrl: './login-form.template.html',\n    styleUrls: ['./login-form.styles.scss']\n})\nexport class LoginFormComponent {\n    @Input() public form: any = {};\n    @Output() public event = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) { }\n\n    public ngOnInit() {\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.settings = this.service.Settings.get('app.login') || {};\n    }\n\n    public login() {\n        this.event.emit({ type: 'login', form: this.form });\n    }\n\n    public forgot() {\n        this.event.emit({ type: 'forgot' });\n    }\n}\n\n","<div class=\"container\">\n    <div class=\"login-container\">\n        <div class=\"logo\" [style.background]=\"(model.logo ? model.logo.background : '') | safestyle\">\n            <img *ngIf=\"model.logo && (model.logo.type==='image' || model.logo.type==='img')\" [src]=\"model.logo.src\">\n            <i *ngIf=\"model.logo && (model.logo.type!=='image' && model.logo.type!=='img')\" [class]=\"model.logo.src\"></i>\n        </div>\n        <div class=\"form\" *ngIf=\"!model.loading\">\n            <login-form *ngIf=\"model.show === 'login'\" (event)=\"processLogin($event)\"></login-form>\n            <register-form *ngIf=\"model.show === 'register'\"></register-form>\n            <forgot-pass-form *ngIf=\"model.show === 'forgot'\"></forgot-pass-form>\n        </div>\n        <div class=\"loader\" *ngIf=\"model.loading\">\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .54)\"></spinner>\n            </div>\n            <div class=\"text\">\n                Loading user data...\n            </div>\n        </div>\n    </div>\n</div>","\nimport { Component, OnInit } from '@angular/core';\nimport { AppService } from '../../../services/app.service';\n\n@Component({\n    selector: 'login-display',\n    templateUrl: './login.template.html',\n    styleUrls: ['./login.styles.scss']\n})\nexport class LoginComponent implements OnInit {\n    public model: any = {};\n\n    constructor(private service: AppService) {}\n\n    public ngOnInit() {\n        this.model.show = 'login';\n        this.model.loading = true;\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 200);\n        }\n        this.model.logo = this.service.Settings.get('app.logo');\n        this.service.Users.listen('state', (state) => {\n            this.model.loading = false;\n            if (state === 'invalid') {\n                this.model.show = 'login';\n            } else if (state === 'loading') {\n                this.model.loading = true;\n            }\n        });\n    }\n\n    public processLogin(e: any) {\n        if (e.type === 'login') {\n            this.service.Users.login({\n                username: e.form.user,\n                password: e.form.pass\n            });\n        } else if (e.type === 'forgot') {\n            this.model.show = 'forgot';\n        } else {\n            this.model.show = 'login';\n        }\n    }\n}\n\n","\nimport { Component } from '@angular/core';\n\n@Component({\n    selector: 'register-form',\n    templateUrl: './register-form.template.html',\n    styleUrls: ['./register-form.styles.scss']\n})\nexport class RegisterFormComponent {\n\n}\n\n","<div [class]=\"'searchbar' + (klass ? ' ' + klass : '')\" widget>\n    <div class=\"field\">\n        <div class=\"icon\">\n            <i class=\"material-icons\">search</i>\n        </div>\n        <div class=\"input\">\n            <input #input [(ngModel)]=\"filter\" (ngModelChange)=\"post()\"\n                (focus)=\"model.focus = true; focus.emit($event)\"\n                (blur)=\"model.focus = false; blur.emit($event)\"\n                [placeholder]=\"placeholder\">\n        </div>\n        <div class=\"icon\" *ngIf=\"model.speech && dictation\" [class.active]=\"model.dictate\" (touchrelease)=\"startDictation()\">\n            <i class=\"custom-Microphone\"  *ngIf=\"model.dictate==false || !model.dictate\"></i>\n            <i class=\"material-icons\" style=\"color:red\" *ngIf=\"model.dictate==true\">mic</i>\n        </div>\n        <div class=\"icon close\" *ngIf=\"filter && clearable\" (touchrelease)=\"clear()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n        <ng-content></ng-content>\n    </div>\n</div>\n","\nimport { Component, Input, Output, EventEmitter, OnInit, ViewChild, ElementRef } from '@angular/core';\n\nimport { BaseDirective } from '../../globals/base.directive';\n\n@Component({\n    selector: 'searchbar',\n    templateUrl: './searchbar.template.html',\n    styleUrls: ['./searchbar.styles.scss']\n})\nexport class SearchbarComponent extends BaseDirective {\n    @Input() public filter: string;\n    @Input() public limit: string;\n    @Input() public dictation = true;\n    @Input() public clearable = true;\n    @Input() public placeholder = 'Search...';\n    @Input() public klass: string;\n    @Output() public filterChange = new EventEmitter();\n    @Output() public focus = new EventEmitter();\n    @Output() public blur = new EventEmitter();\n\n    public model: any = {};\n\n    @ViewChild('input', { static: true }) private input: ElementRef;\n\n    constructor() {\n        super();\n        const win = window as any;\n        this.model.speech = !!(win.SpeechRecognition || win.webkitSpeechRecognition);\n    }\n\n    /**\n     * Activate dictation search\n     */\n    public startDictation() {\n        if (!this.input) { return; }\n        if (this.model.recognition) {\n            this.model.recognition.stop();\n            this.model.dictate = false;\n            this.model.recognition = null;\n            return;\n        }\n        const win = self as any;\n        const Speech: any = win.SpeechRecognition || win.webkitSpeechRecognition;\n        if (Speech) {\n            this.model.recognition = new Speech();\n\n            this.model.recognition.continuous = false;\n            this.model.recognition.interimResults = false;\n\n            this.model.recognition.lang = 'en-US';\n            this.model.recognition.start();\n            this.model.dictate = true;\n\n            this.model.recognition.onresult = (e: any) => {\n                    // Update search field with dictation result\n                this.input.nativeElement.value = e.results[0][0].transcript;\n                this.model.search = e.results[0][0].transcript;\n                this.model.recognition.stop();\n                this.post();\n                this.model.dictate = false;\n            };\n\n            this.model.recognition.onerror = (e: any) => {\n                this.model.recognition.stop();\n                this.model.dictate = false;\n            };\n        }\n    }\n\n    public clear() {\n        this.filter = '';\n        this.post();\n    }\n\n    public post() {\n        this.checkLimitations();\n        this.timeout('post', () => {\n            this.filterChange.emit(this.filter);\n        });\n    }\n\n    public checkLimitations() {\n        if (!this.limit) { return; }\n        for (let i = 0; i < (this.filter || '').length; i++) {\n            if (this.limit.indexOf(this.filter[i]) >= 0) {\n                this.filter = this.filter.substr(0, i) + this.filter.substr(i + 1);\n                i--;\n            }\n        }\n    }\n}\n","\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { WidgetsModule, DynamicFormComponentModule } from '@acaprojects/ngx-widgets';\nimport { NgModule } from '@angular/core';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\nimport { ADatePickerModule } from '@acaprojects/ngx-date-picker';\nimport { EditorModule } from '@tinymce/tinymce-angular';\nimport { ACheckboxModule } from '@acaprojects/ngx-checkbox';\nimport { CdkTableModule } from '@angular/cdk/table';\nimport { ADynamicFormsModule } from '@acaprojects/ngx-dynamic-forms';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatMenuModule } from '@angular/material/menu';\n\nimport { LOGIN_COMPONENTS } from './login';\nimport { SearchbarComponent } from './searchbar/searchbar.component';\nimport { BaseDirective } from '../globals/base.directive';\nimport { USER_SEARCH_COMPONENTS } from './user-search';\nimport { AvatarComponent } from './avatar/avatar.component';\nimport { UserTagComponent } from './user-tag/user-tag.component';\nimport { VisitorFormComponent } from './visitor-form/visitor-form.component';\nimport { UserFormComponent } from './user-form/user-form.component';\nimport { CUSTOM_FORM_FIELDS } from './custom-fields';\n\nimport { TIME_PIPES } from '../pipes/time.pipe';\nimport { IconComponent } from './icon/icon.component';\nimport { CateringEditComponent } from './catering/catering.component';\nimport { CateringEditCategoryListComponent } from './catering/category-list/category-list.component';\nimport { CateringEditItemListComponent } from './catering/item-list/item-list.component';\nimport { CateringEditListItemComponent } from './catering/item-list/list-item/list-item.component';\nimport { CateringEditOrderComponent } from './catering/catering-order/catering-order.component';\nimport { CdkDropListScrollContainer } from '../directives/cdk-drop-list-scroll-container.directive';\nimport { FeedbackComponent } from './feedback/feedback.component';\nimport { CateringOrderListComponent } from './catering/order-list/order-list.component';\nimport { CateringOrderListItemComponent } from './catering/order-list/item/item.component';\n\nconst MATERIAL_MODULES: any[] = [\n    MatButtonModule,\n    MatSnackBarModule,\n    MatTooltipModule,\n    MatCheckboxModule,\n    MatProgressBarModule,\n    MatProgressSpinnerModule,\n    MatDialogModule,\n    MatMenuModule\n];\n\nconst COMPONENTS: any[] = [\n    BaseDirective,\n    AvatarComponent,\n    SearchbarComponent,\n    ...LOGIN_COMPONENTS,\n    ...USER_SEARCH_COMPONENTS,\n    UserTagComponent,\n    VisitorFormComponent,\n    UserFormComponent,\n    IconComponent,\n\n    CateringEditComponent,\n    CateringEditCategoryListComponent,\n    CateringEditItemListComponent,\n    CateringEditListItemComponent,\n    CateringEditOrderComponent,\n    CateringOrderListComponent,\n    CateringOrderListItemComponent,\n    CdkDropListScrollContainer,\n\n    FeedbackComponent\n];\n\nconst ENTRY_COMPONENTS: any[] = [\n    ...CUSTOM_FORM_FIELDS\n];\n\nconst PIPES: any[] = [\n    ...TIME_PIPES\n];\n\n@NgModule({\n    declarations: [\n        ...COMPONENTS,\n        ...ENTRY_COMPONENTS,\n        ...PIPES\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        EditorModule,\n        WidgetsModule,\n        ScrollingModule,\n        ADatePickerModule,\n        DynamicFormComponentModule,\n        ACheckboxModule,\n        ADynamicFormsModule,\n        CdkTableModule,\n        ...MATERIAL_MODULES\n    ],\n    exports: [\n        ...COMPONENTS,\n        ...ENTRY_COMPONENTS,\n        ...PIPES,\n        ADatePickerModule,\n        ACheckboxModule,\n        ADynamicFormsModule,\n        ScrollingModule,\n        CdkTableModule,\n        ...MATERIAL_MODULES\n    ],\n    entryComponents: [\n        ...ENTRY_COMPONENTS\n    ]\n})\nexport class SharedComponentModule {}\n","<div class=\"container\">\n    <div class=\"search\" *ngIf=\"!model.edit && search\">\n        <div class=\"input\">\n            <div class=\"icon\"><i class=\"material-icons\">search</i></div>\n            <input [(ngModel)]=\"model.search\" (ngModelChange)=\"find()\" [placeholder]=\"!model.form.host ? 'Host needs to be selected for contact search' : 'Search for an existing contact by name or email...'\" (focus)=\"model.focus = true\" (blur)=\"model.focus = false\">\n        </div>\n        <div class=\"list\" [class.show]=\"model.search || model.focus\">\n            <ng-container *ngIf=\"model.results && !model.searching\">\n                <div class=\"item\" *ngFor=\"let item of model.results\" [class.fade]=\"model.selected_user && !item.selected\" (touchrelease)=\"selectUser(item)\">\n                    <div class=\"details\">\n                        <div class=\"grp\">\n                            <div class=\"name\">{{item.name}}</div>\n                            <div class=\"minor\">{{item.org}}</div>\n                        </div>\n                        <div class=\"minor\" *ngIf=\"item.phone\">{{item.phone}}</div>\n                        <div class=\"minor\" *ngIf=\"item.email\">{{item.email}}</div>\n                    </div>\n                    <div class=\"options\">\n                        <i class=\"material-icons\" *ngIf=\"item.selected\">done</i>\n                    </div>\n                </div>\n            </ng-container>\n            <div class=\"no-item\" center *ngIf=\"!model.results || model.results.length <= 0 || model.searching\">\n                <div class=\"icon\">\n                    <i class=\"material-icons\" *ngIf=\"!model.searching\">people</i>\n                    <spinner type=\"circle-ring\" *ngIf=\"model.searching\" color=\"rgba(0,0,0, .2)\"></spinner>\n                </div>\n                <div class=\"text\">{{ model.searching ? 'Searching for user...' : 'No users matching query'}}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"form\"  [class.hide]=\"model.search || model.focus\">\n        <div class=\"field\" *ngIf=\"model.org && model.org.list && (model.org.list.length > 0 || model.can_add_org)\">\n            <div class=\"label\">Organisation<span>*</span></div>\n            <div class=\"value no-border\">\n                <button mat-button format=\"mini-action\" *ngIf=\"model.can_add_org\" (touchrelease)=\"model.org.active = model.org.list.length; updateOrg()\">\n                    <i class=\"material-icons\">add</i>\n                </button>\n                <div class=\"input\">\n                    <dropdown [list]=\"model.org.name\" [(model)]=\"model.org.active\" [filter]=\"true\" (modelChange)=\"updateOrg()\" [placeholder]=\"model.org.active === model.org.list.length ? 'New Organisation' : 'Select Organisation'\"></dropdown>\n                </div>\n            </div>\n        </div>\n        <div class=\"error\" *ngIf=\"model.error && model.error.org\">{{model.error.org.msg}}</div>\n        <div class=\"field\" *ngIf=\"model.org && model.org.list && model.org.active === model.org.list.length\">\n            <div class=\"label\">Org. Name<span>*</span></div>\n            <div class=\"value\">\n                <input name=\"organisation\" type=\"text\" [(ngModel)]=\"model.form.organisation_name\" (ngModelChange)=\"post()\" placeholder=\"Organistation name\">\n            </div>\n        </div>\n        <div class=\"error\" *ngIf=\"model.error && model.error.org_name\">{{model.error.org_name.msg}}</div>\n        <div class=\"field\">\n            <div class=\"label\">First name</div>\n            <div class=\"value\">\n                <input name=\"given_name\" type=\"text\" [(ngModel)]=\"model.form.first_name\" (ngModelChange)=\"post()\" placeholder=\"First name\" autocomplete='given-name'>\n            </div>\n        </div>\n        <div class=\"field\">\n            <div class=\"label\">Last name</div>\n            <div class=\"value\">\n                <input name=\"family_name\" type=\"text\" [(ngModel)]=\"model.form.last_name\" (ngModelChange)=\"post()\" placeholder=\"Last name\" autocomplete='family-name'>\n            </div>\n        </div>\n        <div class=\"field\">\n            <div class=\"label\">Email</div>\n            <div class=\"value\">\n                <input name=\"email\" type=\"email\" [(ngModel)]=\"model.form.email\" (ngModelChange)=\"checkEmail(); post()\" placeholder=\"Email\" autocomplete='email'>\n                <spinner *ngIf=\"model.checking_email\" type=\"circle-ring\"></spinner>\n            </div>\n        </div>\n        <div class=\"error\" *ngIf=\"model.error && model.error.email\">{{model.error.email.msg}}</div>\n        <div class=\"field\">\n            <div class=\"label\">Mobile</div>\n            <div class=\"value\">\n                <input name=\"mobile\" type=\"tel\" [(ngModel)]=\"model.form.phone\" (ngModelChange)=\"post()\" placeholder=\"Mobile number\" autocomplete='tel'>\n            </div>\n        </div>\n    </div>\n</div>\n","\nimport { Component, Input, Output, EventEmitter, OnInit, OnChanges } from '@angular/core';\n\nimport { AppService } from '../../../services/app.service';\nimport { BaseDirective } from '../../globals/base.directive';\nimport { IUser } from '../../../services/data/users.service';\n\n@Component({\n    selector: 'user-form',\n    templateUrl: './user-form.template.html',\n    styleUrls: ['./user-form.styles.scss']\n})\nexport class UserFormComponent extends BaseDirective implements OnInit, OnChanges {\n    @Input() public form: any = {};\n    @Input() public select = false;\n    @Input() public clear = false;\n    @Input() public search = true;\n    @Input() public visitors = false;\n    @Input() public edit = false;\n    @Output() public formChange = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        if (!this.model.form) { this.model.form = {}; }\n        this.subscription('bld', this.service.Buildings.listen((bld) => {\n            if (bld) { this.processOrganisations(); }\n        }));\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.external = this.service.Settings.get('app.users.external');\n        this.model.can_add_org = this.service.Settings.get('app.users.custom_orgs');\n        this.model.min_char = Math.max(this.service.Settings.get('app.users.people_min_char') || 0, 3);\n        this.model.selected_user = false;\n        this.processOrganisations();\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.form && this.form) {\n            this.timeout('form-change', () => {\n                if (!this.model.form) { this.model.form = {}; }\n                for (const k in this.form) {\n                    if (this.form.hasOwnProperty(k)) {\n                        this.model.form[k] = this.form[k];\n                    }\n                }\n                if ((this.model.form.organisation || this.model.form.organisation_id) && this.model.org && this.model.org.list) {\n                    for (const org of this.model.org.list) {\n                        if ((this.model.form.organisation && org.name === this.model.form.organisation.name) ||\n                            (this.model.form.organisation_id && org.id === this.model.form.organisation_id)) {\n                            this.model.org.active = this.model.org.list.indexOf(org);\n                            break;\n                        }\n                    }\n                }\n            }, 50);\n        }\n        if (changes.clear) {\n            this.model.search = '';\n            this.model.form = {};\n            if (this.model.org) {\n                this.model.org.active = -1;\n            }\n            this.find(false);\n        }\n    }\n\n    public find(post: boolean = true) {\n        if (this.model.searching) {\n            return this.timeout('finding', () => this.find(post));\n        }\n        this.timeout('find', () => {\n            this.model.results = [];\n            this.model.form.users = [];\n            this.model.selected_user = null;\n            if (post) { this.post(); }\n            if (this.model.search && this.model.search.length >= this.model.min_char) {\n                this.model.searching = true;\n                if (!this.visitors) {\n                    this.service.Users.query({ q: this.model.search }).then((list) => {\n                        this.model.results = list;\n                        this.model.searching = false;\n                    }, (e) => this.model.searching = false);\n                } else {\n                    const host = this.model.form.host ? this.model.form.host.email : undefined;\n                    this.service.Contacts.query({ q: this.model.search, host, limit: 50 }).then((list) => {\n                        this.model.results = list;\n                        this.model.searching = false;\n                    }, (e) => this.model.searching = false);\n                }\n            }\n        }, 500);\n    }\n\n    public post() {\n        this.validate();\n        if (this.model.valid) {\n            const form = JSON.parse(JSON.stringify(this.model.form || {}));\n            this.formChange.emit(form);\n        } else {\n            this.formChange.emit({});\n        }\n    }\n\n    public selectUser(item: any) {\n        const user_list = this.model.results;\n        this.model.form.users = [];\n        for (const i of user_list) {\n            if (i === item) {\n                i.selected = !i.selected;\n            } else if (!this.select) {\n                i.selected = false;\n            }\n            if (i.selected) { this.model.form.users.push(i); }\n        }\n        if (item) {\n            this.model.selected_user = true;\n        }\n        this.post();\n    }\n\n    public validate() {\n        this.model.error = {};\n        this.model.valid = true;\n        if (!this.model.form.users || this.model.form.users.length <= 0 || !this.model.search) {\n            const regex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n            if (this.model.form.email && !regex.test(this.model.form.email)) {\n                this.model.error.email = { msg: 'A valid email is required' };\n                this.model.valid = false;\n            }\n            if (this.model.org && this.model.org.list) {\n                if (this.model.org.active < 0) {\n                    this.model.error.org = { msg: 'Organisation is required' };\n                    this.model.valid = false;\n                } else if (this.model.org.active === this.model.org.list.length && !this.model.form.organisation_name) {\n                    this.model.error.org_name = { msg: 'A valid organisation name is required' };\n                    this.model.valid = false;\n                }\n            }\n        }\n    }\n\n    public checkEmail() {\n        const regex = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n        if (this.model.form && this.model.form.email && regex.test(this.model.form.email) && !this.model.checking_email) {\n            this.timeout('check-email', () => {\n                this.model.checking_email = true;\n                if (!this.visitors) {\n                    this.service.Users.query({ q: this.model.form.email }).then((list) => {\n                        const user = list ? list[0] || null : null;\n                        if (user && user.email === this.model.form.email) { this.setUser(user); }\n                        this.model.checking_email = false;\n                    }, (e) => this.model.checking_email = false);\n                } else {\n                    this.service.Contacts.query({ q: this.model.form.email, limit: 50 }).then((list) => {\n                        const user = list ? list[0] || null : null;\n                        if (user && user.email === this.model.form.email) { this.setUser(user); }\n                        this.model.checking_email = false;\n                    }, (e) => this.model.checking_email = false);\n                }\n            }, 500);\n        }\n    }\n\n    private setUser(user: IUser) {\n        if (user) {\n            this.service.notifyInfo(`Found user with matching email address`);\n            for (const k in user) {\n                if (user.hasOwnProperty(k) && user[k]) {\n                    this.model.form[k] = user[k];\n                }\n            }\n            if (this.model.organisation_name || this.model.form.organisation_id) {\n                for (const org of this.model.org.list) {\n                    if (org.name === this.model.form.organisation_name || org.id === this.model.form.organisation_id) {\n                        this.model.org.active = this.model.org.list.indexOf(org);\n                        break;\n                    }\n                }\n            }\n            this.post();\n        }\n    }\n\n    public updateOrg() {\n        this.validate();\n        if (this.model.org && this.model.org.list) {\n            const org = this.model.org.list[this.model.org.active];\n            if (org) {\n                this.model.form.organisation_id = org.id;\n                this.model.form.organisation_name = org.name;\n            } else {\n                this.model.form.organisation_id = null;\n                this.model.form.organisation_name = '';\n            }\n            this.post();\n        }\n    }\n\n    private processOrganisations(tries: number = 0) {\n        if (tries > 5) { return; }\n        const bld = this.service.Buildings.current();\n        const org = this.service.Buildings.organisation();\n        if (!bld || !org || !org.orgs) {\n            return setTimeout(() => this.processOrganisations(tries), 300 * ++tries);\n        }\n        this.model.org = {\n            list: JSON.parse(JSON.stringify(bld.orgs || org.orgs || [])),\n            name: []\n        };\n        if (this.model.org.list.length <= 0) {\n            return setTimeout(() => this.processOrganisations(tries), 300 * ++tries);\n        }\n        this.model.org.name = [];\n        for (const o of this.model.org.list) {\n            this.model.org.name.push(o.name || o);\n        }\n        if ((!this.model.org.active && this.model.org.active !== 0) || this.model.org.active >= this.model.org.list.length) {\n            this.model.org.active = -1;\n        }\n    }\n}\n","\n\n/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-17 12:46:47\n* @Last Modified by:   Alex Sorafumo\n* @Last Modified time: 2017-05-17 12:54:11\n*/\n\nimport { UserSearchComponent } from './user-search.component';\nimport { UserSearchListComponent } from './user-list/user-list.component';\nimport { UserSearchDisplayComponent } from './user-display/user-display.component';\n\nexport * from './user-search.component';\n\nexport const USER_SEARCH_COMPONENTS: any[] = [\n    UserSearchComponent,\n    UserSearchDisplayComponent,\n    UserSearchListComponent\n];\n","\n<div class=\"container\">\n    <div class=\"list\" *ngIf=\"users && users.length > 0\">\n        <ng-container *ngFor=\"let item of users\">\n        <div class=\"item\" *ngIf=\"item\">\n            <div class=\"status\" [style.opacity]=\"item.free === undefined ? 0 : 1\" [class.free]=\"item.free\"></div>\n            <div class=\"details\">\n                <div class=\"name\">{{item.name}}</div>\n                <div class=\"role\">{{item.email}}</div>\n                <div class=\"role\" *ngIf=\"item.select\"><checkbox [(model)]=\"item.optional\" label=\"Optional\"></checkbox></div>\n            </div>\n            <div class=\"add\" *ngIf=\"!active_user || item.email !== active_user.email\">\n                <button mat-button *ngIf=\"item.select\" name=\"error\" format=\"mini-action\" (touchrelease)=\"setState(item, false)\">\n                    <i class=\"material-icons\">close</i>\n                </button>\n                <div class=\"added\" *ngIf=\"!item.select\">\n                    Removed<br><span class=\"undo\" (touchrelease)=\"setState(item, true)\">UNDO</span>\n                </div>\n            </div>\n        </div>\n        </ng-container>\n    </div>\n    <div class=\"list mid\" *ngIf=\"!users || users.length <= 0\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">close</i>\n            </div>\n            <div class=\"text\">No participants</div>\n        </div>\n    </div>\n</div>\n","/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-17 12:49:52\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-03-21 14:20:46\n*/\n\nimport { Component, ElementRef, EventEmitter, Input, Output, Renderer2, ViewChild } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\n\nimport * as faker from 'faker';\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'user-search-display',\n    templateUrl: './user-display.template.html',\n    styleUrls: ['./user-display.styles.scss'],\n})\nexport class UserSearchDisplayComponent {\n    @Input() public users: any[] = [];\n    @Output() public usersChange = new EventEmitter();\n\n    public setState(user: any, state: boolean) {\n        user.select = state;\n        this.usersChange.emit(this.users);\n    }\n}\n","\n<div class=\"container\" [class.route]=\"!modal && model.route\">\n    <div class=\"list\" #list (scroll)=\"updateScroll()\" *ngIf=\"model.user_list && model.user_list.length > 0\">\n        <div class=\"group\" *ngFor=\"let group of model.user_groups\">\n            <div class=\"start\" [id]=\"'user-letter-start-' + group.letter\"></div>\n            <div class=\"header\" *ngIf=\"group.users.length\">{{group.letter}}</div>\n            <ng-container *ngFor=\"let item of group.users\">\n                <div class=\"item\" *ngIf=\"!model.user || item.id !== model.user.id\">\n                    <div class=\"status\" [style.opacity]=\"item.free === undefined ? 0 : 1\" [class.free]=\"item.free\"></div>\n                    <div class=\"details\">\n                        <div class=\"name\">{{item.name}} <span class=\"org\">{{item.organisation_name}}</span></div>\n                        <div class=\"role\">{{item.role || item.email}}</div>\n                        <div class=\"role\" *ngIf=\"item.select\"><checkbox [(model)]=\"item.optional\" label=\"Optional\"></checkbox></div>\n                    </div>\n                    <div class=\"add\">\n                        <div class=\"added-circle\" *ngIf=\"item.select\">\n                            <i center class=\"material-icons\">done</i>\n                        </div>\n                        <a [href]=\"'tel:' + item.clean_phone\">\n                            <button mat-button name=\"black inverse\" format=\"mini-action\" *ngIf=\"item.phone\">\n                                <i class=\"material-icons\">phone</i>\n                            </button>\n                        </a>\n                        <button mat-button [name]=\"item.select ? 'error' : 'success'\" format=\"mini-action\" [class.error]=\"item.select\"\n                            (touchrelease)=\"item.select ? remove(item, true) : add(item)\">\n                            <i class=\"material-icons\">{{item.select ? 'close' : 'add'}}</i>\n                        </button>\n                    </div>\n                </div>\n            </ng-container>\n            <div class=\"end\" [id]=\"'user-letter-end-' + group.letter\"></div>\n        </div>\n    </div>\n    <div class=\"list mid\" *ngIf=\"model.loading || (!model.user_list || model.user_list.length <= 0)\">\n        <div class=\"external\" *ngIf=\"model.is_email\">\n            <button mat-button (touchrelease)=\"add({ id: search, name: model.name, email: search }, false, true)\">Add external user</button>\n        </div>\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <spinner *ngIf=\"model.loading\" type=\"circle-ring\" color=\"#999\"></spinner>\n                <i *ngIf=\"!model.loading\" class=\"material-icons\">{{search && search.length >= (model.min_search || 0) ? 'close' : 'keyboard'}}</i>\n            </div>\n            <div class=\"text\">\n                {{model.loading ? 'Searching...' : (search && search.length >= (model.min_search || 0) ? 'No matches found' : 'Type above to search for users')}}\n            </div>\n        </div>\n    </div>\n    <div class=\"letter-list\">\n        <div class=\"letter\" *ngFor=\"let group of model.user_groups\"\n            [class.disabled]=\"group.users.length <= 0\" [class.active]=\"group.letter === model.location\"\n            (touchrelease)=\"scrollTo(group.letter)\">\n            {{group.letter}}\n        </div>\n    </div>\n</div>\n","/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-17 12:49:52\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-03-21 14:20:46\n*/\n\nimport { Component, ElementRef, EventEmitter, Input, Output, ViewChild, OnChanges, OnInit } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { IUser } from '../../../../services/data/users.service';\nimport { Utils } from '../../../utility.class';\nimport { BaseDirective } from '../../../globals/base.directive';\n\n@Component({\n    selector: 'user-search-list',\n    templateUrl: './user-list.template.html',\n    styleUrls: ['./user-list.styles.scss'],\n})\nexport class UserSearchListComponent extends BaseDirective implements OnChanges, OnInit {\n    @Input() public users: any[] = [];\n    @Input() public search: string;\n    @Input() public host: IUser;\n    @Input() public modal: boolean;\n    @Output() public usersChange = new EventEmitter();\n    @Output() public searchChange = new EventEmitter();\n\n    public model: any = {};\n\n    private timers: any = {};\n    @ViewChild('list', { static: true }) private list: ElementRef;\n\n    constructor(private service: AppService) {\n        super();\n        this.model.groups = '#ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\n    }\n\n    public ngOnInit() {\n        this.subscription('users', this.service.Users.listen('list', (list) => {\n            this.model.users = this.service.Users.list();\n            this.model.users.sort((a, b) => a.name.localeCompare(b.name));\n            this.filter();\n            this.model.loading = false;\n        }));\n        this.subscription('contacts', this.service.Contacts.listen('list', (list) => {\n            this.model.contacts = this.service.Contacts.list();\n            this.model.users = this.service.Users.list();\n            this.model.users.sort((a, b) => a.name.localeCompare(b.name));\n            this.filter();\n            this.model.loading = false;\n        }));\n        this.processUsers([]);\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.route = this.service.Settings.get('app.style.popout');\n        this.model.min_search = this.service.Settings.get('app.people_min_char') || 0;\n        this.model.can_add = this.service.Settings.get('app.users.can_add');\n        this.model.external = this.service.Settings.get('app.users.external');\n        this.model.loading = false;\n        this.model.user = this.service.Users.current();\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.search) {\n            this.model.is_email = Utils.validateEmail(this.search);\n            if (this.model.is_email) {\n                this.model.email = this.search.split('@')[0] + '@...';\n                this.model.name = this.search.split('@')[0].toUpperCase();\n            }\n            this.filter();\n        }\n        if (changes.users) {\n            for (const u of this.users) {\n                let found = false;\n                if (!this.model.users) { this.model.users = []; }\n                for (const usr of this.model.users) {\n                    if (usr.email === u.email) {\n                        usr.optional = u.optional;\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) { this.model.users.push(u); }\n\n            }\n            this.filter();\n        }\n        if (changes.host && this.host) {\n            this.service.Contacts.query({ host: this.host.email }).then((l) => {\n                this.model.contacts = l;\n                this.filter();\n                this.model.loading = false;\n            }, () => null);\n        }\n    }\n\n    public add(user: any, check: boolean = true, new_user: boolean = false) {\n        for (const i of this.users) {\n            if (i.id === user.id) { return; }\n        }\n        if (!this.users) { this.users = []; }\n        if (check) {\n            this.service.Users.availability(user.email).then((free) => {\n                user.free = free;\n            }, (err) => console.error(err));\n        } else {\n            user.free = true;\n        }\n        user.select = true;\n        this.users.push(user);\n        this.users.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n        this.usersChange.emit(this.users);\n        if (new_user) {\n            for (const u of this.users) {\n                let found = false;\n                for (const usr of this.model.users) {\n                    if (usr.email === u.email) {\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) { this.model.users.push(u); }\n\n            }\n            this.service.notifySuccess(`Added user '${this.search}'`);\n            this.search = '';\n            this.searchChange.emit(this.search);\n            this.filter();\n        }\n    }\n\n    public remove(user: any) {\n        if (this.users) {\n            for (const i of this.users) {\n                if (i.id === user.id || i.email === user.email) {\n                    this.users.splice(this.users.indexOf(user), 1);\n                    user.select = false;\n                    this.usersChange.emit(this.users);\n                    break;\n                }\n            }\n        }\n    }\n\n    public processUsers(list: any[]) {\n        this.model.loading = true;\n        if (!list || list.length <= 0) {\n            this.model.user_groups = [];\n            for (const letter of this.model.groups) {\n                this.model.user_groups.push({ letter, users: [] });\n            }\n            return [];\n        }\n        if (!this.users) { this.users = []; }\n        const users: IUser[] = [];\n        for (const item of list) {\n            if (this.model.me && item.id === this.model.me.id) {\n                continue;\n            }\n            const usr = JSON.parse(JSON.stringify(item));\n            usr.select = !!this.users.find((itm) => (itm.id === item.id || itm.email === item.email) && itm.select);\n            users.push(usr);\n        }\n        users.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n        this.model.user_groups = [];\n        for (const letter of this.model.groups) {\n            const u_list = [];\n            for (const user of users) {\n                const n = (user.name || '').toUpperCase();\n                if ((letter === '#' && (!n || this.model.groups.indexOf(n[0]) < 0)) || n[0].toLowerCase() === letter.toLowerCase() ) {\n                    u_list.push(user);\n                }\n            }\n            this.model.user_groups.push({\n                letter,\n                users: u_list\n            });\n        }\n        return users;\n    }\n\n    public filter() {\n        if (this.timers.search) {\n            clearTimeout(this.timers.search);\n            this.timers.search = null;\n        }\n        this.timers.search = setTimeout(() => {\n            const search = (this.search || '').toLowerCase();\n            if ((search && search.length >= this.model.min_search) || !this.model.min_search) {\n                    this.model.loading = true;\n                    this.model.user_list = [];\n                    if (!this.model.min_search && this.model.users && this.model.users.length > (this.users.length || 0)) {\n                        const user_list = this.model.users.concat(this.model.contacts);\n                        this.model.user_list = this.processUsers(\n                            user_list.filter((item) =>\n                                (item.name || '').toLowerCase().indexOf(search) >= 0 ||\n                                (item.email || '').toLowerCase().indexOf(search) >= 0\n                            )\n                        );\n                        this.updateScroll();\n                        this.model.loading = false;\n                    } else {\n                        const request_id = Math.floor(Math.random() * 899999 + 100000);\n                        this.model.request_id = request_id;\n                        this.service.Users.query({ q: search, limit: 50 })\n                            .then((list) => {\n                                if (request_id === this.model.request_id) {\n                                    if (this.host) {\n                                        this.service.Contacts.query({ host: this.host.email }).then((l) => {\n                                            this.model.contacts = l;\n                                            const user_list = list.concat(this.model.contacts);\n                                            user_list.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n                                            this.model.user_list = this.processUsers(Utils.filter(search, user_list, ['name', 'email']));\n                                            this.updateScroll();\n                                            this.model.loading = false;\n                                        });\n                                    } else {\n                                        this.model.contacts = this.service.Contacts.list();\n                                        const user_list = list.concat(this.model.contacts);\n                                        user_list.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n                                        this.model.user_list = this.processUsers(Utils.filter(search, user_list, ['name', 'email']));\n                                        this.updateScroll();\n                                        this.model.loading = false;\n                                    }\n                                }\n                            }, () => this.model.loading = false);\n                    }\n            } else {\n                this.model.user_list = null;\n                this.model.loading = false;\n            }\n        }, 300);\n    }\n\n    public scrollTo(key: string) {\n        if (this.list) {\n            const el = this.list.nativeElement.querySelector(`#user-letter-start-${key}`);\n            if (el) {\n                el.scrollIntoView();\n                this.model.location = key;\n                setTimeout(() => this.list.nativeElement.scrollTop += 5, 10);\n            }\n        }\n    }\n\n    private updateScroll() {\n        if (this.list && this.list.nativeElement) {\n            const groups_start = this.list.nativeElement.querySelectorAll('.start');\n            const groups_end = this.list.nativeElement.querySelectorAll('.end');\n            const pbb = this.list.nativeElement.getBoundingClientRect();\n            for (let i = 0; i < groups_start.length; i++) {\n                const start_el = groups_start[i];\n                const end_el = groups_end[i];\n                const sbb = start_el.getBoundingClientRect();\n                const ebb = end_el.getBoundingClientRect();\n                if (pbb.top >= sbb.top && pbb.top < ebb.top + ebb.height) {\n                    this.model.location = start_el.id.replace('user-letter-start-', '');\n                    break;\n                }\n            }\n        } else {\n            setTimeout(() => this.updateScroll(), 300);\n        }\n    }\n}\n","\n<div class=\"container\" [class.modal]=\"modal\" [class.route]=\"!modal && model.route\">\n    <div class=\"header\" *ngIf=\"model.state !== 'select'\">\n        <div class=\"text\">Participants</div>\n    </div>\n    <searchbar [(filter)]=\"model.search\" *ngIf=\"model.state === 'select'\" [clearable]=\"false\">\n        <div class=\"close\" *ngIf=\"model.can_add\">\n            <button mat-button format=\"mini-action\" (touchrelease)=\"newUser()\">\n                <i class=\"material-icons\">add</i>\n            </button>\n        </div>\n        <div class=\"close\">\n            <button mat-button name=\"black\" format=\"mini-action\" (touchrelease)=\"closeSearch()\">\n                <i class=\"material-icons\">close</i>\n            </button>\n        </div>\n    </searchbar>\n    <div class=\"body\">\n        <div class=\"page\" *ngIf=\"model.state !== 'select'\">\n            <user-search-display [(users)]=\"model.users\"></user-search-display>\n        </div>\n        <div class=\"page\" *ngIf=\"model.state === 'select'\">\n            <user-search-list [modal]=\"modal\" [host]=\"host\" [(users)]=\"model.users\" [(search)]=\"model.search\"></user-search-list>\n        </div>\n    </div>\n    <div class=\"external\" *ngIf=\"modal\" (touchrelease)=\"newUser()\">\n        <div class=\"icon\"><i class=\"material-icons\">add</i></div>\n        <div class=\"text\">Add contact</div>\n    </div>\n    <div class=\"footer\">\n        <div class=\"buttons\" *ngIf=\"model.state !== 'select'\">\n            <button mat-button [name]=\"modal ? 'full-width' : ''\" (touchrelease)=\"setState('select')\">Add People</button>\n            <button mat-button [name]=\"modal ? 'full-width normal' : ''\" (touchrelease)=\"confirm()\">Finish</button>\n        </div>\n        <div class=\"buttons\" *ngIf=\"model.state === 'select'\">\n            <button mat-button [name]=\"modal ? 'full-width' : ''\" (touchrelease)=\"closeSearch()\">Cancel</button>\n            <button mat-button [name]=\"modal ? 'full-width normal' : ''\" (touchrelease)=\"confirm()\">Confirm</button>\n        </div>\n    </div>\n</div>\n","/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-17 12:49:52\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-03-21 14:20:46\n*/\n\nimport { Component, EventEmitter, Input, Output, OnInit, OnChanges } from '@angular/core';\n\nimport { AppService } from '../../../services/app.service';\n\nimport * as moment from 'moment';\nimport { IUser } from '../../../services/data/users.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { UserDetailsOverlayComponent } from '../../../overlays/user-details-overlay/user-details-overlay.component';\n\n@Component({\n    selector: 'user-search',\n    templateUrl: './user-search.template.html',\n    styleUrls: ['./user-search.styles.scss'],\n})\nexport class UserSearchComponent implements OnInit, OnChanges {\n    @Input() public users: any[] = [];\n    @Input() public modal = false;\n    @Input() public host: IUser;\n    @Output() public usersChange: any = new EventEmitter();\n    @Output() public close: any = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService, private _dialog: MatDialog) { }\n\n    public ngOnInit() {\n        this.model.users = this.users || [];\n        this.model.state = !this.users || this.users.length <= 0 ? 'select' : 'display';\n        setTimeout(() => this.init(), 100);\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.users) {\n            setTimeout(() => {\n                this.model.users = JSON.parse(JSON.stringify(this.users)) || [];\n                for (let i = 0; i < this.model.users.length; i++) {\n                    if (!this.model.users[i]) { this.model.users.splice(i--, 1); }\n                }\n                this.model.state = !this.users || this.users.length <= 0 ? 'select' : 'display';\n            }, 100);\n        }\n    }\n\n    public init() {\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.route = this.service.Settings.get('app.style.popout');\n        this.model.can_add = this.service.Settings.get('app.users.can_add');\n    }\n\n    public setState(state: string) {\n        setTimeout(() => this.model.state = 'select', 300);\n    }\n\n    public closeSearch() {\n        setTimeout(() => this.close.emit(), 300);\n    }\n\n    public newUser() {\n        const external = this.service.Settings.get('app.booking.external_visitors');\n        const search = this.service.Settings.get('app.booking.external_search');\n        const ref = this._dialog.open(UserDetailsOverlayComponent, { data: { backend: !external, search } })\n        ref.componentInstance.event.subscribe((event) => {\n                if (event.reason === 'done') {\n                    const form = event.data.form;\n                    const user = form.users ? form.users[0] || form : form;\n                    user.external = external;\n                    user.select = true;\n                    if (!this.model.users) {\n                        this.model.users = [];\n                    } else {\n                        for (const u of this.model.users) {\n                            if (u.email === user.email) {\n                                return;\n                            }\n                        }\n                    }\n                    this.model.users.push(user);\n                } else {\n                    ref.close();\n                }\n            });\n    }\n\n    public confirm() {\n        const list: any[] = [];\n        if (this.model.users) {\n            for (const item of this.model.users) {\n                if (item.select) { list.push(item); }\n            }\n        }\n        this.users = list;\n        this.usersChange.emit(list);\n        this.closeSearch();\n    }\n\n}\n","<div override [class]=\"'user-tag ' + name\" (touchstart)=\"tap()\" (mousedown)=\"tap()\">\n    <div class=\"avatar\">\n        <avatar [user]=\"model\"></avatar>\n    </div>\n    <div class=\"details\" *ngIf=\"details\">\n        <ng-container *ngIf=\"model && (model.match_index === undefined || model.match_index < 0)\">\n            <div class=\"name\">{{model.name || model.email || 'null'}}</div>\n        </ng-container>\n        <ng-container *ngIf=\"model && model.match_index >= 0\">\n            <div class=\"name\"\n            [innerHTML]=\"(model.match_name || model.name || model.match_email || model.email || 'null') | safe\"></div>\n        </ng-container>\n        <div class=\"role\" *ngIf=\"model && !email && model.type !== 'external'\">\n            {{model?.b_unit }}\n            <span *ngIf=\"model.job && job\">| {{model.job}}</span>\n        </div>\n        <div class=\"role\" *ngIf=\"model && email && model\">\n            <ng-container *ngIf=\"(model.match_index === undefined || model.match_index < 0)\">{{model.email}}</ng-container>\n            <ng-container *ngIf=\"model.match_index >= 0\">\n                <div [innerHTML]=\"(model.match_email || model.email) | safe\"></div>\n            </ng-container>\n        </div>\n        <div *ngIf=\"model && model.state\" [class]=\"'state ' + (model.state | lowercase)\">\n            {{ model.state }}\n        </div>\n    </div>\n    <div class=\"action\" *ngIf=\"model && model.action\" (touchstart)=\"actionEvent()\" (mousedown)=\"actionEvent()\">\n        <div center class=\"host\" *ngIf=\"model.action === 'host'\">Host</div>\n        <i center class=\"pwc-close\" *ngIf=\"model.action !== 'host'\"></i>\n    </div>\n</div>","import { Component, EventEmitter, Input, Output } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'user-tag',\n    templateUrl: './user-tag.template.html',\n    styleUrls: ['./user-tag.styles.scss'],\n})\nexport class UserTagComponent {\n    @Input() public name: string = '';\n    @Input() public job: boolean = false;\n    @Input() public email: boolean = false;\n    @Input() public details: boolean = true;\n    @Input() public model: any = { action: false };\n    @Output() public tapped: any = new EventEmitter();\n    @Output() public action: any = new EventEmitter();\n\n    public state: any = {};\n    public display: any = {};\n\n    public ngOnChanges(changes) {\n    }\n\n    public tap() {\n        setTimeout(() => {\n            if (this.state.action) { return; }\n            this.tapped.emit();\n        }, 10);\n    }\n\n    public actionEvent() {\n        this.state.action = true;\n        this.action.emit();\n        setTimeout(() => {\n            this.state.action = false;\n        }, 30);\n    }\n}\n","<div class=\"container\">\n    <form #visitor_details *ngIf=\"!model.loading\">\n        <div class=\"body\">\n            <div class=\"details\" *ngIf=\"model.visitor && !model.edit\">\n                <div class=\"field\">\n                    <div class=\"label\">Host:</div>\n                    <div class=\"value\">{{model.visitor.host.name || model.visitor.host}}</div>\n                </div>\n                <div class=\"field\">\n                    <div class=\"label\">Name:</div>\n                    <div class=\"value\">{{model.visitor.name || model.visitor.visitors[0]?.name}}</div>\n                </div>\n                <div class=\"field top\" *ngIf=\"model.visitor.group\">\n                    <div class=\"label\">Visitors:</div>\n                    <div class=\"value\">\n                        <div class=\"list variable\">\n                            <ng-container *ngIf=\"model.visitor.visitors\">\n                                <div class=\"item\" *ngFor=\"let item of model.visitor.visitors\">\n                                    <div class=\"details\">\n                                        <div class=\"grp\">\n                                            <div class=\"name\">{{item.name}}</div>\n                                            <div class=\"minor\">{{item.organisation?.name || item.organisation}}</div>\n                                        </div>\n                                        <div class=\"minor\" *ngIf=\"item.email\">{{item.email}}</div>\n                                    </div>\n                                </div>\n                            </ng-container>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"fields\" *ngIf=\"!model.visitor.group && model.visitor.visitors\">\n                    <div class=\"field\" *ngIf=\"model.visitor.visitors[0].organisation\">\n                        <div class=\"label\">Organisation:</div>\n                        <div class=\"value\">{{model.visitor.visitors[0].organisation?.name || model.visitor.visitors[0].organisation}}</div>\n                    </div>\n                    <div class=\"field\">\n                        <div class=\"label\">Email:</div>\n                        <div class=\"value\">{{model.visitor.visitors[0].email}}</div>\n                    </div>\n                    <div class=\"field\" *ngIf=\"model.visitor.visitors[0].phone || model.visitor.visitors[0].mobile\">\n                        <div class=\"label\">Mobile:</div>\n                        <div class=\"value\">{{model.visitor.visitors[0].phone || model.visitor.visitors[0].mobile}}</div>\n                    </div>\n                </div>\n                <div class=\"field\">\n                    <div class=\"label\">Arrival:</div>\n                    <div class=\"value\">{{model.visitor.arrival}}</div>\n                </div>\n            </div>\n            <div class=\"form\" *ngIf=\"!model.visitor || model.edit\">\n                <div class=\"group\" *ngIf=\"!model.edit\">\n                    <radioset [list]=\"['Individual', 'Group']\" [(model)]=\"model.group\" [inline]=\"true\"></radioset>\n                </div>\n                <user-form [(form)]=\"model.form\" (formChange)=\"model.form.host = model.host\" [visitors]=\"true\" [search]=\"true\" [clear]=\"model.clear\" [edit]=\"model.edit && (!model.visitor || !model.visitor.group)\" [select]=\"!!model.group\"></user-form>\n                <ng-container *ngIf=\"!!model.group\">\n                    <div class=\"options\">\n                        <button mat-button name=\"inverse\" [disabled]=\"(!model.form.users || model.form.users.length <= 0) && !model.form.email\" (touchrelease)=\"addToGroup()\">\n                            Add selected user{{model.form.users && model.form.users.length > 1 ? 's' : ''}}\n                        </button>\n                    </div>\n                    <div class=\"heading\">\n                        Visitor Group ({{model.visitor_list && model.visitor_list.length > 0 ? model.visitor_list.length : '0'}})\n                    </div>\n                    <div class=\"list\">\n                        <ng-container *ngIf=\"model.visitor_list\">\n                            <div class=\"item\" *ngFor=\"let item of model.visitor_list\">\n                                <div class=\"details\">\n                                    <div class=\"grp\">\n                                        <div class=\"name\">{{item.name}}</div>\n                                        <div class=\"minor\">{{item.org}}</div>\n                                    </div>\n                                    <div class=\"minor\" *ngIf=\"item.phone\">{{item.phone}}</div>\n                                    <div class=\"minor\" *ngIf=\"item.email\">{{item.email}}</div>\n                                </div>\n                                <div class=\"btn\" (touchrelease)=\"removeFromGroup(item)\">\n                                    <i class=\"material-icons\">close</i>\n                                </div>\n                            </div>\n                        </ng-container>\n                        <div class=\"no-item\" center *ngIf=\"!model.visitor_list || model.visitor_list.length <= 0\">\n                            <div class=\"text\">No visitors in group</div>\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"fieldset\">\n                    <div class=\"field\">\n                        <div class=\"label\">Host:</div>\n                        <div class=\"value ul\" (touchrelease)=\"setHost()\">{{model.form.host?.name || model.form.host || 'No host selected'}}</div>\n                    </div>\n                    <div class=\"field\">\n                        <div class=\"label\">Arrival Date:</div>\n                        <div class=\"value ul\" (touchrelease)=\"selectDate()\">{{model.display?.date}}</div>\n                    </div>\n                    <div class=\"field\">\n                        <div class=\"label\">Arrival Time:</div>\n                        <div class=\"value ul\" (touchrelease)=\"selectTime()\">{{model.display?.time}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"footer\">\n            <button mat-button name=\"black inverse\" *ngIf=\"model.visitor && !model.edit && model.editable\" (touchrelease)=\"edit()\">Edit</button>\n            <button mat-button name=\"red inverse\" *ngIf=\"model.visitor && !model.edit && model.editable\" (touchrelease)=\"delete()\">Delete</button>\n            <button mat-button name=\"inverse\" *ngIf=\"model.visitor && model.edit\" [disabled]=\"!model.form || (!model.form.email && (!model.visitor_list || model.visitor_list.length <= 0)) || !model.form.host\"\n                (touchrelease)=\"update()\">\n                Save\n            </button>\n            <button mat-button name=\"inverse\" *ngIf=\"!model.visitor && !model.edit && model.csv\">\n                Upload CSV <input type=\"file\" #file_input (change)=\"upload($event)\">\n            </button>\n            <button mat-button name=\"inverse\" *ngIf=\"!model.visitor && !model.edit\" [disabled]=\"(!model.form || (!model.form.email && (!model.form.users || model.form.users.length <= 0))) && (!model.visitor_list || model.visitor_list.length <= 0)|| !model.form.host\"\n                (touchrelease)=\"add(false)\">\n                Add\n            </button>\n            <button mat-button name=\"inverse\" *ngIf=\"!model.visitor && !model.edit\" [disabled]=\"(!model.form || (!model.form.email && (!model.form.users || model.form.users.length <= 0))) && (!model.visitor_list || model.visitor_list.length <= 0) || !model.form.host\"\n                (touchrelease)=\"add()\">\n                Add &amp; Finish\n            </button>\n        </div>\n    </form>\n    <div class=\"no-item\" center style=\"height: 16em;\" *ngIf=\"model.loading\">\n        <div class=\"icon\">\n            <i class=\"material-icons success\" *ngIf=\"!model.processing\">done</i>\n            <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .87)\" *ngIf=\"model.processing\"></spinner>\n        </div>\n        <div class=\"text\">\n            {{model.processing ? 'Processing request...' : (model.deleting ? 'Successfully deleted visitor' : (model.edit ? 'Updated visitor' : 'Successfully added visitor'))}}\n        </div>\n    </div>\n</div>\n","\nimport { Component, Input, Output, EventEmitter, OnInit, OnChanges, ViewChild, ElementRef } from '@angular/core';\n\nimport { BaseDirective } from '../../globals/base.directive';\nimport { AppService } from '../../../services/app.service';\nimport { IVisitorGroup } from '../../../services/data/visitors.service';\n\nimport * as moment from 'moment';\nimport { Utils } from '../../utility.class';\n\n@Component({\n    selector: 'visitor-form',\n    templateUrl: './visitor-form.template.html',\n    styleUrls: ['./visitor-form.styles.scss']\n})\nexport class VisitorFormComponent extends BaseDirective implements OnInit, OnChanges {\n    @Input() visitor: IVisitorGroup;\n    @Output() group = new EventEmitter();\n    @Output() close = new EventEmitter();\n\n    public model: { visitor?: IVisitorGroup, [name: string]: any } = {};\n\n    @ViewChild('file_input', { static: true }) private file_input: ElementRef;\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init());\n        }\n        this.model.form = {};\n        if (!this.model.form.date) {\n            const date = moment().seconds(0).milliseconds(0);\n            date.minutes(Math.ceil(date.minutes() / 5) * 5);\n            this.model.form.date = date.valueOf();\n        }\n        this.model.group = 0;\n        if (this.model.visitor) {\n            this.model.form.date = this.model.visitor.date;\n        }\n        this.model.editable = this.service.Settings.get('app.schedule.edit_visitors') !== false;\n        this.model.settings = this.service.Settings.get('app.booking') || {};\n        this.model.contacts = this.service.Settings.get('app.schedule.edit_visitors');\n        this.model.csv = this.service.Settings.get('app.users.from_csv');\n        this.updateDisplay();\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.visitor) {\n            this.model.visitor = this.visitor;\n        }\n    }\n\n    public addToGroup() {\n        if (!this.model.visitor_list) { this.model.visitor_list = []; }\n        if (this.model.form.users && this.model.form.users.length > 0) {\n            this.model.visitor_list = this.model.visitor_list.concat(this.model.form.users);\n            this.model.form = { date: this.model.form.date };\n        } else {\n            const user = {\n                name: (this.model.form.first_name || '') + ' ' + (this.model.form.last_name || ''),\n                first_name: this.model.form.first_name,\n                last_name: this.model.form.last_name,\n                organisation_id: this.model.form.organisation_id,\n                organisation_name: this.model.form.organisation_name,\n                organisation: this.model.form.organisation_name,\n                email: this.model.form.email,\n                phone: this.model.form.mobile\n            };\n            this.model.visitor_list.push(user);\n            this.model.form = { date: this.model.form.date };\n        }\n        this.model.clear = !this.model.clear;\n    }\n\n    public removeFromGroup(item: any) {\n        if (this.model.visitor_list) {\n            for (const i of this.model.visitor_list) {\n                if (item === i || item.email === i.email) {\n                    this.model.visitor_list.splice(this.model.visitor_list.indexOf(i), 1);\n                    break;\n                }\n            }\n        }\n    }\n\n    public add(finish: boolean = true) {\n        if (this.service) {\n            this.model.loading = true;\n            this.model.processing = true;\n            if (!this.model.group) {\n                this.addToGroup();\n            }\n            this.service.Visitors.add({\n                visitors: this.model.visitor_list,\n                date: this.model.form.date,\n                name: this.model.group_name,\n                host: this.model.host\n            }).then(() => {\n                this.model.processing = false;\n                this.model.visitor_list = [];\n                this.model.finish = finish;\n                if (finish) {\n                    this.close.emit();\n                } else {\n                    setTimeout(() => {\n                        this.model.form = {};\n                        this.model.loading = false;\n                    }, 3000);\n                }\n            }, () => this.model.loading = false);\n        }\n    }\n\n    public update() {\n        if (this.service) {\n            this.model.loading = true;\n            this.model.processing = true;\n            if (!this.model.group) {\n                this.addToGroup();\n            }\n            const vs = this.model.visitor;\n            this.service.Visitors.update(vs.id, {\n                visitors: this.model.visitor_list,\n                date: this.model.form.date,\n                name: this.model.group_name\n            }).then(() => {\n                this.model.processing = false;\n                this.model.visitor_list = [];\n                setTimeout(() => this.home(), 3000);\n            }, () => this.model.loading = false);\n        }\n    }\n\n    public edit() {\n        this.model.edit = true;\n        this.model.group = this.model.visitor.group ? 1 : 0;\n        if (this.model.group) {\n            this.model.visitor_list = this.model.visitor.visitors;\n        } else {\n            this.model.form = {\n                first_name: this.model.visitor.visitors[0].name.split(' ')[0],\n                last_name: this.model.visitor.visitors[0].name.split(' ')[1],\n                organisation: this.model.visitor.visitors[0].organisation,\n                email: this.model.visitor.visitors[0].email,\n                phone: this.model.visitor.visitors[0].phone,\n                host: this.model.visitor.host\n            };\n        }\n    }\n\n    public delete() {\n        if (this.service) {\n            this.model.loading = true;\n            this.model.processing = true;\n            this.model.deleting = true;\n            this.service.Visitors.delete(this.model.visitor.id).then(() => {\n                this.model.processing = false;\n                this.model.visitor_list = [];\n                setTimeout(() => this.home(), 3000);\n            }, () => {\n                this.model.loading = false;\n                this.model.deleting = false;\n            });\n        }\n    }\n\n    public upload(e) {\n        if (this.file_input) {\n            const file = this.file_input.nativeElement.files[0];\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n                reader.onload = (evt) => this.loadVisitorsFromCSV((evt.srcElement as any).result);\n                reader.onerror = (evt) => this.service.notifyError('Error reading file.');\n            }\n        }\n    }\n\n    private loadVisitorsFromCSV(data) {\n        const list = Utils.loadCSV(data) || [];\n        this.model.form.users = list;\n        for (const u of list) {\n            u.name = u.name || `${u.first_name} ${u.last_name}`;\n        }\n        if (!this.model.group) { this.model.group = true; }\n        this.addToGroup();\n    }\n\n    public updateDisplay() {\n        if (!this.model.form) { this.model.form = {}; }\n        if (!this.model.form.date) { this.model.form.date = moment().seconds(0).milliseconds(0).valueOf(); }\n        this.model.display = {};\n        const date = moment(this.model.form.date);\n        this.model.display.date = date.format('dddd, Do MMMM YYYY');\n        this.model.display.time = date.format('h:mm A');\n    }\n\n    public home() {\n        this.service.navigate('');\n        this.close.emit();\n    }\n\n    public selectDate(field: string = 'date') {\n        const now = moment();\n        now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n        if (!this.model.form[field]) {\n            this.model.form[field] = now.valueOf();\n        }\n        const date = moment(this.model.form[field]);\n        // this.service.Overlay.openModal('calendar', { data: { date: this.model.form[field] } })\n        //     .then((inst: any) => inst.subscribe((event) => {\n        //         if (event.type === 'Accept') {\n        //             if (event.data.form && event.data.form[field]) {\n        //                 const new_date = moment(event.data.form[field]).hours(date.hours()).minutes(date.minutes())\n        //                     .seconds(0).milliseconds(0);\n        //                 this.model.form[field] = new_date.valueOf();\n        //             }\n        //             this.updateDisplay();\n        //         }\n        //         event.close();\n        //     }));\n    }\n\n    public selectTime() {\n        if (!this.model.form.date) {\n            const now = moment();\n            now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n            this.model.form.date = now.valueOf();\n        }\n        if (!this.model.form.duration) {\n            this.model.form.duration = 60;\n        }\n        const bkn_date = moment(this.model.form.date);\n        const start_time = bkn_date.format('HH:mm');\n        // this.service.Overlay.openModal('time-period', { data: { start: start_time} })\n        //     .then((inst: any) => inst.subscribe((event) => {\n        //         if (event.type === 'Accept') {\n        //             const form = event.data.form;\n        //             const new_start = form.start.split(':');\n        //             const start = moment(bkn_date);\n        //             start.hours(new_start[0]).minutes(new_start[1]);\n        //             this.model.form.date = start.valueOf();\n        //             this.updateDisplay();\n        //         }\n        //         event.close();\n        //     }));\n    }\n\n    public setHost() {\n        // if (this.model.settings.search_host) {\n        //     this.service.Overlay.openModal('user-search', { data: { host: this.model.form.host } }, (event) => {\n        //         if (event.type === 'Accept') {\n        //             this.model.form.host = event.data.selected;\n        //             this.model.host = this.model.form.host;\n        //             this.model.form = { ...this.model.form };\n        //             this.updateDisplay();\n        //         }\n        //         event.close();\n        //     });\n        // } else {\n        //     this.service.Overlay.openModal('set-host', { data: { host: this.model.form.host } }, (event) => {\n        //         if (event.type === 'Accept') {\n        //             this.model.form.host = event.data.form;\n        //             this.model.host = this.model.form.host;\n        //             this.model.form = { ...this.model.form };\n        //             this.updateDisplay();\n        //         }\n        //         event.close();\n        //     });\n        // }\n    }\n\n}\n","import { Directive, Input, Renderer2, SimpleChanges, OnChanges, ContentChildren, QueryList, AfterContentInit } from '@angular/core';\nimport { CdkDropList, CdkDrag } from '@angular/cdk/drag-drop';\nimport { BaseDirective } from '../globals/base.directive';\n\nexport enum ScrollDirection {\n    NONE,\n    X,\n    Y,\n    BOTH\n}\n\n@Directive({\n    selector: '[cdkDropList][scrollContainer]'\n})\nexport class CdkDropListScrollContainer extends BaseDirective implements OnChanges, AfterContentInit {\n    /** Direction of scroll to determine updating the position of the drop list */\n    @Input() direction: ScrollDirection = ScrollDirection.X;\n    /** Name of the scroll container for the list */\n    @Input() scrollContainer: string;\n    /** Scroll container element */\n    public element: HTMLElement;\n    /** Last scroll position */\n    public last_scroll: { x: number; y: number } = { x: 0, y: 0 };\n\n    /** Draggable children elements */\n    @ContentChildren(CdkDrag) private items: QueryList<CdkDrag>;\n\n    constructor(private _cdkDropList: CdkDropList, private _renderer: Renderer2) {\n        super();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.scrollContainer && this.scrollContainer) {\n            this.element = this._cdkDropList.element.nativeElement.closest(this.scrollContainer) as HTMLElement;\n        }\n    }\n\n    public ngAfterContentInit(): void {\n        this.subscription('drag_items', this.items.changes.subscribe((items: QueryList<CdkDrag>) => {\n            const list = items.toArray();\n            list.forEach((i, index) => {\n                this.subscription(`list-item-${index}`, this._renderer.listen(i.element.nativeElement, 'mousedown', () => {\n                    this.subscription('item-dragged', this._renderer.listen('window', 'mouseup', () => this.onDrop()));\n                    this.onDrag()\n                }));\n                this.subscription(`list-item-touch-${index}`, this._renderer.listen(i.element.nativeElement, 'touchstart', () => {\n                    this.subscription('item-dragged', this._renderer.listen('window', 'touchend', () => this.onDrop()));\n                    this.onDrag()\n                }));\n            });\n        }));\n    }\n\n    /** Start listing for scroll events on the container */\n    public onDrag() {\n        if (this.element) {\n            this.subscription('scroll', this._renderer.listen(this.element, 'scroll', () => this.updateListPosition()));\n        }\n    }\n\n    /** Stop listening for scroll events on the container */\n    public onDrop() {\n        this.unsub('scroll');\n    }\n\n    /**\n     * Forcefully update the position data of the drop list\n     */\n    private updateListPosition() {\n        this.timeout('update_positions', () => {\n            const scroll = { x: this.element.scrollLeft, y: this.element.scrollTop };\n            if (\n                ((this.direction === ScrollDirection.BOTH || this.direction === ScrollDirection.Y) && scroll.y !== this.last_scroll.y) ||\n                ((this.direction === ScrollDirection.BOTH || this.direction === ScrollDirection.X) && scroll.x !== this.last_scroll.x)\n            ) {\n                (this._cdkDropList._dropListRef as any)._cacheOwnPosition();\n                (this._cdkDropList._dropListRef as any)._siblings.forEach(i => (i.isReceiving() ? i._cacheOwnPosition() : null));\n            }\n            this.last_scroll = scroll;\n        }, 50);\n    }\n}\n","\nimport * as dayjs from 'dayjs';\n\n/** Version number of the application */\nexport const version = '0.4.0';\n/** Version number of the base application */\nexport const core_version = '0.4.0';\n/** Build time of the application */\nexport const build = dayjs(1583474128000);\n","import { Subscription } from \"rxjs\";\nimport { HashMap } from \"../utilities/type.helpers\";\n\nexport class BaseClass {\n    /** Store for named timers */\n    protected _timers: HashMap<number> = {};\n    /** Store for named intervals */\n    protected _intervals: HashMap<number> = {};\n    /** Store for named subscription unsub callbacks */\n    protected _subscriptions: HashMap<(Subscription | (() => void))> = {};\n\n    /**\n     * Clear all timers and subscriptions\n     */\n    public destroy() {\n        // Clear local timers\n        for (const key in this._timers) {\n            if (this._timers.hasOwnProperty(key)) {\n                this.clearTimeout(key);\n            }\n        }\n        // Clear local intervals\n        for (const key in this._intervals) {\n            if (this._intervals.hasOwnProperty(key)) {\n                this.clearInterval(key);\n            }\n        }\n        // Clear local subscriptions\n        for (const key in this._subscriptions) {\n            if (this._subscriptions.hasOwnProperty(key)) {\n                this.unsub(key);\n            }\n        }\n    }\n\n    /**\n     * Creates a named timer\n     * @param name Name of the timer\n     * @param fn Callback function for the timer\n     * @param delay Callback delay\n     */\n    protected timeout(name: string, fn: () => void, delay: number = 300) {\n        if (name && fn && fn instanceof Function) {\n            this.clearTimeout(name);\n            this._timers[name] = <any>setTimeout(() => {\n                fn();\n                this._timers[name] = null;\n            }, delay);\n        } else {\n            throw new Error(\n                name ? 'Cannot create named timeout without a name' : 'Cannot create a timeout without a callback'\n            );\n        }\n    }\n\n    /**\n     * Clears the named timer\n     * @param name Timer name\n     */\n    protected clearTimeout(name: string) {\n        if (this._timers[name]) {\n            clearTimeout(this._timers[name]);\n            this._timers[name] = null;\n        }\n    }\n\n    /**\n     * Creates a named interval\n     * @param name Name of the interval\n     * @param fn Callback function for the interval\n     * @param delay Callback delay\n     */\n    protected interval(name: string, fn: () => void, delay: number = 300) {\n        if (name && fn && fn instanceof Function) {\n            this.clearInterval(name);\n            this._intervals[name] = <any>setInterval(() => fn(), delay);\n        } else {\n            throw new Error(\n                name ? 'Cannot create named interval without a name' : 'Cannot create a interval without a callback'\n            );\n        }\n    }\n\n    /**\n     * Clears the named interval\n     * @param name Timer name\n     */\n    protected clearInterval(name: string) {\n        if (this._intervals[name]) {\n            clearInterval(this._intervals[name]);\n            this._intervals[name] = null;\n        }\n    }\n\n    /**\n     * Store named subscription\n     * @param name Name of the subscription\n     * @param unsub Unsubscribe callback or Subscription object\n     */\n    protected subscription(name: string, unsub: Subscription | (() => void)) {\n        this.unsub(name);\n        this._subscriptions[name] = unsub\n    }\n\n    /**\n     * Call unsubscribe callback with the given name\n     * @param name\n     */\n    protected unsub(name: string) {\n        if (this._subscriptions && this._subscriptions[name]) {\n            this._subscriptions[name] instanceof Subscription\n                ? (this._subscriptions[name] as Subscription).unsubscribe()\n                : (this._subscriptions[name] as any)();\n            this._subscriptions[name] = null;\n        }\n    }\n}\n","\nimport { Directive, OnDestroy } from '@angular/core';\nimport { BaseClass } from './base.class';\n\n@Directive({\n    selector: 'a-very-basic-directive-base-that-should-not-be-used'\n})\nexport class BaseDirective extends BaseClass implements OnDestroy {\n    public ngOnDestroy(): void {\n        this.destroy();\n    }\n}\n\n","\nimport { Type } from \"@angular/core\";\n\nexport const CUSTOM_FIELD_REGISTER: { [name: string]: Type<any> } = {\n\n};\n","/*\n* @Author: alex.sorafumo\n* @Date:   2017-04-03 15:50:46\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-03-21 13:14:23\n*/\n\nimport * as faker from 'faker';\n\nimport { MockBuildingsBackend } from './backend/buildings.mock';\nimport { MockUsersBackend } from './backend/users.mock';\nimport { MockRoomsBackend } from './backend/rooms.mock';\nimport { MockBookingsBackend } from './backend/bookings.mock';\nimport { MockCateringBackend } from './backend/catering.mock';\n\nexport class MockBackend {\n    public model: any = {\n        api_route: 'api/staff',\n        domain: 'acaprojects.com',\n        DESK_OFFSET: 0,\n        city: 'Sydney',\n        predefined_users: [\n            'Alex Sorafumo', 'Ben Hoad', 'Jonathan McFarlane',\n            'Candy Russo', 'Cameron Reeves', 'Kim Burgess',\n            'William Le', 'Steph Georgiadis', 'Shane Boseley',\n            'Matt Mathers'\n        ],\n        backend: {},\n    };\n\n    private desk_id_pool: any[] = [];\n\n    constructor() {\n        if (!window.control) {\n            window.control = {};\n        }\n        if (!window.control.handlers && !(window.control.handlers instanceof Array)) {\n            window.control.handlers = [];\n        }\n        this.log('MOCK', 'Initialising Requests');\n        this.model.log = (type: string, msg: string, args?: any, out: string = 'debug', color?: string) => {\n            this.log(type, msg, args, out, color);\n        };\n        faker.seed(999);\n            // Load Buildings\n        this.model.backend.buildings = new MockBuildingsBackend(this.model);\n        this.model.backend.buildings.listen((state) => {\n            if (!state) { return; }\n            this.update(this.model.backend.buildings.data);\n                // Load Desks\n            // this.model.backend.desks = new MockDesksBackend(this.model);\n            // this.model.backend.desks.listen((dstate) => {\n            //     this.update(this.model.backend.desks.data);\n            //     if (!dstate) { return; }\n                    // Load Users\n                this.model.backend.users = new MockUsersBackend(this.model);\n                this.model.backend.users.listen((ustate) => {\n                    if (!ustate) { return; }\n                    this.update(this.model.backend.users.data);\n                        // Load rooms\n                    this.model.backend.rooms = new MockRoomsBackend(this.model);\n                    this.model.backend.rooms.listen((rstate) => {\n                        if (!rstate) { return; }\n                        this.update(this.model.backend.rooms.data);\n                        this.model.backend.bookings = new MockBookingsBackend(this.model);\n                        this.model.backend.catering = new MockCateringBackend(this.model);\n                        this.model.loaded = true;\n                    });\n                });\n            // });\n        });\n    }\n\n    public get is_loaded() {\n        return this.model.loaded;\n    }\n\n    public log(type: string, msg: string, args?: any, out: string = 'debug', color?: string) {\n        const clr = color ? color : '#009688';\n        const COLOURS = ['color: #6A1B9A', `color:${clr}`, 'color:rgba(#000, 0.87)'];\n        if (args) {\n            if (this.hasColours()) {\n                console[out](`%c[BACKEND]%c[${type}] %c${msg}`, ...COLOURS, args);\n            } else {\n                console[out](`[BACKEND][${type}] ${msg}`, args);\n            }\n        } else {\n            if (this.hasColours()) {\n                console[out](`%c[BACKEND]%c[${type}] %c${msg}`, ...COLOURS);\n            } else {\n                console[out](`[BACKEND][${type}] ${msg}`);\n            }\n        }\n    }\n\n    private hasColours() {\n        const doc = document as any;\n        return !(doc.documentMode || /Edge/.test(navigator.userAgent));\n    }\n\n    private update(model: any) {\n        for (const k in model) {\n            if (model.hasOwnProperty(k)) {\n                this.model[k] = model[k];\n            }\n        }\n    }\n}\n\nconst win = window as any;\nwin.backend = new MockBackend();\n","\nimport { BehaviorSubject } from 'rxjs';\n\nimport { Utils } from '../../utility.class';\n\nexport class BaseMockBackend {\n    protected state: BehaviorSubject<boolean>;\n    protected state_obs: any;\n    protected utility: any = Utils;\n\n    constructor(protected model) {\n        if (!window.control) {\n            window.control = {};\n        }\n        if (!window.control.handlers || !(window.control.handlers instanceof Array)) {\n            window.control.handlers = [];\n        }\n        this.state = new BehaviorSubject(false);\n        this.state_obs = this.state.asObservable();\n        setTimeout(() => this.init(), 100);\n    }\n\n    protected listen(next: (state?: boolean) => void) {\n        return this.state.subscribe(next);\n    }\n\n    protected init() {\n        this.load();\n    }\n\n    protected load() { }\n\n    get data() {\n        return this.model;\n    }\n\n    protected request(method, url) {\n        return new Promise((resolve, reject) => {\n            const xhr = new XMLHttpRequest();\n            xhr.open(method, url);\n            xhr.onload = function() {\n                if ((this as any).status >= 200 && (this as any).status < 300) {\n                    resolve(xhr.response);\n                } else {\n                    reject({\n                        status: (this as any).status,\n                        statusText: xhr.statusText,\n                    });\n                }\n            };\n            xhr.onerror = function() {\n                reject({\n                    status: (this as any).status,\n                    statusText: xhr.statusText,\n                });\n            };\n            xhr.send();\n        });\n    }\n}\n","\nimport { MockHttpRequestHandler } from '@acaprojects/ts-composer';\n\nimport { BaseMockBackend } from './base.mock';\nimport { Utils } from '../../utility.class';\n\nimport * as faker from 'faker';\nimport * as moment from 'moment';\n\nexport class MockBookingsBackend extends BaseMockBackend {\n    private static count = 0;\n\n    protected load() {\n        this.loadUserBookings();\n        this.loadRoomBookings();\n    }\n\n    private loadUserBookings() {\n        if (this.model.log) { this.model.log('MOCK', 'Loading users bookings and setting up request'); }\n        const date = moment().seconds(0).milliseconds(0);\n        const bookings: any = {};\n        const days = 30;\n        for (let i = 0; i < days; i++) {\n            date.hours(6).minutes(30);\n            const events = Math.floor(Math.random() * 8);\n            bookings[date.format('DD/MM/YYYY')] = [];\n            for (let k = 0; k < events; k++) {\n                date.add(Math.floor(Math.random() * 4 + 1) * 15, 'm');\n                if (date.hours() < 6 || date.hours() > 22) {\n                    date.hours(date.hours() - 6);\n                    break;\n                }\n                    // Get start and end times for booking\n                const start = date.valueOf();\n                date.add(Math.floor(Math.random() * 4 + 2) * 15, 'm');\n                const end = date.valueOf();\n                    // Get attendee list for users\n                const attendees = [];\n                if (this.model.users && this.model.users.length > 0) {\n                    const count = Math.floor(Math.random() * 5);\n                    for (let j = 0; j < count; j++) {\n                        attendees.push(this.model.users[Math.floor(Math.random() * this.model.users.length)]);\n                    }\n                }\n                let room = null;\n                if (this.model.rooms) {\n                    room = this.model.rooms[Math.floor(Math.random() * this.model.rooms.length)];\n                }\n                const organizer = Math.floor(Math.random() * 23456783) % 3 === 0 ? this.model.user || {} : { name: 'Bob Jane', email: 'bob.jane@bobjanetmart.com.au' };\n                attendees.push(organizer);\n                bookings[date.format('DD/MM/YYYY')].push({\n                    id: Utils.padZero(MockBookingsBackend.count++, 4),\n                    title: `${faker.commerce.productName()} Meeting`,\n                    start, end, attendees,\n                    organizer,\n                    room_id: room ? room.email : null\n                });\n            }\n            date.add(1, 'd');\n        }\n        window.control.handlers.push({\n            path: `/${this.model.api_route}/bookings`,\n            metadata: bookings,\n            method: 'GET',\n            callback: (e) => {\n                let list = [];\n                for (const n in e.metadata) {\n                    if (e.metadata.hasOwnProperty(n)) {\n                        list = list.concat(e.metadata[n]);\n                    }\n                }\n                return list || [];\n            }\n        } as MockHttpRequestHandler);\n    }\n\n    private loadRoomBookings() {\n        if (this.model.log) { this.model.log('MOCK', 'Loading bookings for rooms'); }\n        if (this.model.rooms) {\n            for (const room of this.model.rooms) {\n                let bookings = [];\n                // Create bookings for room\n                const date = moment();\n                const today = this.createBookings(date.valueOf());\n                bookings = bookings.concat(today);\n                for (let i = 0; i < 14; i++) {\n                    date.add(1, 'd');\n                    const more_bookings = this.createBookings(date.valueOf());\n                    bookings = bookings.concat(more_bookings);\n                }\n                bookings.forEach((b) => b.room_id = room.email);\n                room.settings.bookings = bookings;\n                    // Add bookings to system\n                if (!(window as any).control) { (window as any).control = {}; }\n                const control = (window as any).control;\n                if (!control.systems) { control.systems = {}; }\n                if (!control.systems[room.id]) { control.systems[room.id] = {}; }\n                const system = control.systems[room.id];\n                if (!system.Bookings) { system.Bookings = [{}]; }\n                system.Bookings[0].today = today;\n            }\n        }\n    }\n\n    private createBookings(date: number) {\n        const bookings = [];\n        const start = moment(date).hours(7).minutes(30).seconds(0).milliseconds(0);\n        const bkn_cnt = Math.floor(Math.random() * 6 + 1);\n        const types = ['meeting', 'event', 'lounge'];\n        for (let i = 0; i < bkn_cnt; i++) {\n            // Set booking start time\n            start.add(Math.floor(Math.random() * 6 + 2) * 15, 'm');\n            const b1s = start.toISOString();\n            // Set booking end time\n            start.add(Math.floor(Math.random() * 6 + 4) * 15, 'm');\n            const b1e = start.toISOString();\n            bookings.push({\n                id: Utils.padZero(MockBookingsBackend.count++, 4),\n                ConferenceRoomAlias: 'cfsydinx',\n                Start: b1s,\n                End: b1e,\n                Subject: `${faker.commerce.productName()} Testing`,\n                Location: this.model.city,\n                BookingUserAlias: null,\n                StartTimeZoneName: null,\n                EndTimeZoneName: null,\n                start_date: b1s,\n                end_date: b1e,\n                type: types[Math.floor(Math.random() * types.length)],\n                show_as: Math.floor(Math.random() * 99999) % 3 === 0 ? 'tentative' : null,\n                owner: `${faker.name.findName()}`,\n            });\n        }\n        return bookings;\n    }\n}\n","/*\n * @Author: alex.sorafumo\n * @Date:   2017-04-03 15:50:46\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-06-19 13:27:00\n */\n\nimport { MockHttpRequestHandler, MockHttpRequest } from '@acaprojects/ts-composer';\n\nimport { BaseMockBackend } from './base.mock';\nimport { Utils } from '../../utility.class';\n\nexport class MockBuildingsBackend extends BaseMockBackend {\n\n    constructor(protected model) {\n        super(model);\n    }\n\n    protected load() {\n        this.loadBuildings();\n    }\n\n    private loadBuildings() {\n        if (this.model.log) { this.model.log('MOCK', 'Loading request for building list'); }\n        // Add response for building zones\n        this.model.bld_data = {\n            'zone_bld-01': {\n                id: 'zone_bld-01',\n                name: 'Sydney',\n                settings: {\n                    discovery_info: {\n                        timezone: 'Australia/Sydney',\n                        phone: {\n                            emergency: '0412345678',\n                            av_help: '0412345678',\n                            concierge: '0412345678'\n                        },\n                        locations: { },\n                        desk_tracking: 'sys-B0',\n                        messaging: 'sys-B0',\n                        features: [],\n                        catering: {},\n                        holding_bay: 'sys_rm-holding',\n                        levels: [\n                            {\n                                level_id: 'zone_lvl-01',\n                                level_name: 'Level 1',\n                                number: 1,\n                                map_url: 'assets/maps/level_01.svg',\n                                floor_type: 'staff',\n                                desks: 6,\n                            },\n                            {\n                                level_id: 'zone_lvl-02',\n                                level_name: 'Level 2',\n                                number: 2,\n                                map_url: 'assets/maps/level_02.svg',\n                                floor_type: 'client',\n                                desks: 6,\n                            },\n                            {\n                                level_id: 'zone_lvl-03',\n                                level_name: 'Level 3',\n                                number: 3,\n                                map_url: 'assets/maps/level_03.svg',\n                                floor_type: 'staff',\n                                desks: 6,\n                            },\n                            {\n                                level_id: 'zone_lvl-10',\n                                level_name: 'Level 10',\n                                number: 10,\n                                map_url: 'assets/maps/level_10.svg',\n                                floor_type: 'staff',\n                                desks: 186,\n                            }\n                        ],\n                        roles: {\n                            'fire-warden': [\n                                { name: 'Alex Sorafumo', email: `alex.sorafumo@${this.model.domain}`, phone: '0412345678' },\n                                { name: 'Bob Jane', email: `bob.jane@${this.model.domain}`, phone: '0423456789' },\n                                { name: 'Rupert', email: `rupert@${this.model.domain}`, phone: '0434567890' }\n                            ],\n                            'first-aider': [\n                                { name: 'Ben Hoad', email: `ben.hoad@${this.model.domain}`, phone: '0412345678' },\n                                { name: 'Kim Burgess', email: `kim.burgess@${this.model.domain}`, phone: '0423456789' },\n                                { name: 'Mr Pop', email: `mr.pop@${this.model.domain}`, phone: '0434567890' }\n                            ]\n                        },\n                        extras: [\n                            { extra_id: 'VidConf', extra_name: 'Video Conference' },\n                            { extra_id: 'AV', extra_name: 'AV' },\n                            { extra_id: 'presentation', extra_name: 'Wireless Presentation' },\n                            { extra_id: 'phone', extra_name: 'Conference Phone' },\n                        ],\n                        loan_items: [\n                            { extra_id: 'ConfKit', extra_name: 'Conference Kit' },\n                            { extra_id: 'Chairs', extra_name: 'Chairs' },\n                        ],\n                        terms: [\n                            {\n                                title: 'Room bookings',\n                                details: 'Please release booked meeting rooms or spaces when you don\\'t need them anymore, so everyone else knows they\\'re free.'\n                            },\n                            {\n                                title: 'Noise levels',\n                                details: 'Please be considerate of others and keep the volume down when having conversations or conference calls.'\n                            },\n                            {\n                                title: 'Be considerate',\n                                details: 'When you\\'ve finished using a space, please ensure it is left clean and tidy for the next person.'\n                            },\n                            {\n                                title: 'Centralised waste management',\n                                details: 'We\\'re part of one of the most sustainable commercial precincts in the world. Please make an effort to place the right waste into the right bins, located in the Pantries.'\n                            },\n                            {\n                                title: 'Lost and found',\n                                details: 'Any personal or team items left behind in activity rooms or communal spaces will be taken to \\'Lost and found\\' at the concierge points.'\n                            },\n                            {\n                                title: 'Invoice Statement',\n                                details: 'For every confirmed booking, you will receive invoice statement via email for your record.'\n                            },\n                            {\n                                title: 'Billing',\n                                details: 'Monthly invoice will be issued by 20th of every month for previous month. Invoice is due by end of the month it is issued.'\n                            }\n                        ],\n                        layouts: { },\n                    },\n                },\n                levels: [],\n            },\n            'zone_bld-02': {\n                id: 'zone_bld-02',\n                name: 'Melbourne',\n                settings: {\n                    discovery_info: {\n                        levels: [\n                            {\n                                level_id: 'zone_lvl-04',\n                                level_name: 'Level 13',\n                                number: 1,\n                                map_url: 'assets/maps/level_01.svg',\n                                floor_type: 'staff',\n                                desks: 6,\n                            },\n                            {\n                                level_id: 'zone_lvl-05',\n                                level_name: 'Level 14',\n                                number: 2,\n                                map_url: 'assets/maps/level_02.svg',\n                                floor_type: 'visitor',\n                                desks: 6,\n                            },\n                            {\n                                level_id: 'zone_lvl-06',\n                                level_name: 'Level 15',\n                                number: 3,\n                                map_url: 'assets/maps/level_03.svg',\n                                floor_type: 'staff',\n                                desks: 6,\n                            }\n                        ],\n                    }\n                },\n                levels: [],\n            }\n        };\n        for (const bld in this.model.bld_data) {\n            if (this.model.bld_data.hasOwnProperty(bld)) {\n                this.model.bld_data[bld].levels = this.model.bld_data[bld].settings.discovery_info.levels;\n                this.generateDesksForBuilding(this.model.bld_data[bld]);\n            }\n        }\n        // Add response for Global zone\n        window.control.handlers.push({\n            path: `/${this.model.api_route}/zones`,\n            metadata: this.model.bld_data,\n            method: 'GET',\n            callback: (e) => this.handleZone(e)\n        } as MockHttpRequestHandler);\n        window.control.handlers.push({\n            path: `/control/api/zones`,\n            metadata: this.model.bld_data,\n            method: 'GET',\n            callback: (e) => this.handleZone(e)\n        } as MockHttpRequestHandler);\n        this.state.next(true);\n    }\n\n    private handleZone(event: MockHttpRequest) {\n        if (event.query_params.type === 'org' || event.query_params.tags === 'org') {\n            return [{\n                settings: {\n                    discovery_info: {\n                        buildings: [{\n                            name: this.model.city,\n                            findme_id: this.model.city,\n                            zone_id: 'zone_bld-01',\n                            office_id: this.model.city,\n                            location_code: 'bne',\n                            orientations: { landscape: 0 },\n                        }],\n                        organisations: [\n                            { name: 'ACA', id: '12' }\n                        ],\n                        attribute_orders: ['Sit-to-Stand Desk', 'Seated Desk', 'Dual Monitor', 'Single Monitor', 'No Monitor'],\n                        layouts: {},\n                    },\n                },\n            }];\n        } else if (event.query_params.type === 'building' || event.query_params.tags === 'building') {\n            const blds: any[] = [];\n            for (const k in this.model.bld_data) {\n                if (event.metadata.hasOwnProperty(k)) {\n                    blds.push(this.model.bld_data[k]);\n                }\n            }\n            return blds;\n        } else if (event.query_params.type === 'level' || event.query_params.tags === 'level') {\n            return {};\n        }\n        return null;\n    }\n\n    private generateDesksForBuilding(bld: any) {\n        const system = (window as any).control.systems['sys-B0'];\n        const dm = system.DeskManagement[0];\n        for (const lvl of bld.levels) {\n            if (lvl.level_id) {\n                if (dm && !dm[`${lvl.level_id}`]) {\n                    dm[`${lvl.level_id}`] = [];\n                    dm[`${lvl.level_id}:desk_ids`] = [];\n                    dm[`${lvl.level_id}:occupied_count`] = 0;\n                    dm[`${lvl.level_id}:desk_count`] = lvl.desks;\n                    dm[`${lvl.level_id}:free_count`] = lvl.desks;\n                    dm[`${lvl.level_id}:manual_checkin`] = [];\n                }\n                for (let i = 1; i <= lvl.desks; i++) {\n                    dm[`${lvl.level_id}:desk_ids`]\n                        .push(`table-${Utils.padZero(lvl.number, 1)}.${Utils.padZero(i, 3)}`);\n                }\n                setInterval(() => {\n                        // Update desk state every 10 seconds\n                    const use = Math.floor(Math.random() * lvl.desks);\n                    const desk_list: string[] = [];\n                    dm[`${lvl.level_id}:occupied_count`] = use;\n                    dm[`${lvl.level_id}:free_count`] = lvl.desks - use;\n                    for (let d = 0; d < use; d++) {\n                        const index = Math.floor(Math.random() * lvl.desks);\n                        const id = dm[`${lvl.level_id}:desk_ids`][index];\n                        desk_list.indexOf(id) < 0 ? desk_list.push(id) : d--;\n                    }\n                    desk_list.sort();\n                    dm[`${lvl.level_id}`] = desk_list;\n                }, 30 * 1000);\n            }\n        }\n    }\n}\n","/*\n * @Author: alex.sorafumo\n * @Date:   2017-04-03 15:50:46\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-01-24 09:02:01\n */\n\nimport { BehaviorSubject } from 'rxjs';\n\nimport * as faker from 'faker';\nimport * as moment from 'moment';\nimport { MockHttpRequestHandler } from '@acaprojects/ts-composer';\n\nexport class MockCateringBackend {\n    private state: BehaviorSubject<boolean>;\n    private state_obs: any;\n\n    constructor(private model) {\n        this.state = new BehaviorSubject(false);\n        this.state_obs = this.state.asObservable();\n        this.init();\n    }\n\n    private listen(next: (state?: boolean) => void) {\n        return this.state.subscribe(next);\n    }\n    private init() {\n        this.generateCaterers();\n        this.generateLocations();\n    }\n\n    get data() {\n        return this.model;\n    }\n\n    private generateCaterers() {\n        const caterers = [\n            {\n                'id': 'caterer-QjV4akz1jJ',\n                'title': 'Cafe',\n                'description': 'Masterfully-crafted brews and blends, sweets, sandwiches, cakes and soups.',\n                'minimum_cost': 1400,\n                'img_url': 'assets/img/caterer-01.jpg',\n                'phone': '0292790950',\n                'opening_hours': ['Mon: 09:00 - 17:30', 'Tue: 09:00 - 17:30', 'Wed: 09:00 - 17:30', 'Thu: 09:00 - 21:30', 'Fri: 09:00 - 17:30', 'Sat: 10:00 - 15:00', 'Sun: 11:00 - 15:00'],\n                'default_cutoff_fixed_seconds': null,\n                'default_cutoff_relative_seconds': 3600,\n                'hour_open': 9,\n                'minute_open': 0,\n                'hour_close': 18,\n                'minute_close': 0,\n                'options': [\n                    {\n                        'id': 0,\n                        'name': 'Platters',\n                        'minimum_order': null,\n                        'extra_information': '*gluten free options available!',\n                        'items': [\n                            { 'id': 0, 'name': 'Sandwich Platter', 'price': 3600, 'img_url': null, 'cutoff_relative_seconds': null, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': 'Vegetarian and gluten free options available. Serves 4.', 'properties': [] },\n                            { 'id': 1, 'name': 'Breakfast Platter', 'price': 3200, 'img_url': null, 'cutoff_relative_seconds': null, 'cutoff_fixed_seconds': 36000, 'minimum_order': null, 'description': 'Includes bacon \\u0026 egg sliders, halloumi \\u0026 egg sliders and bacon \\u0026 egg wraps. Serves 4.', 'properties': [] },\n                            { 'id': 2, 'name': 'Pastry Platter', 'price': 2400, 'img_url': null, 'cutoff_relative_seconds': null, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': 'Includes house made chocolate brownies, citrus slices and house baked muffins. Serves 4.', 'properties': [] },\n                            { 'id': 3, 'name': 'Fruit Platter', 'price': 2400, 'img_url': null, 'cutoff_relative_seconds': null, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': 'A variety of season fresh fruits. Serves 4.', 'properties': [] }\n                        ]\n                    },\n                    {\n                        'id': 1,\n                        'name': 'Coffee / Hot Drinks',\n                        'minimum_order': 4,\n                        'extra_information': null,\n                        'items': [\n                            { 'id': 4, 'name': 'Cappuccino', 'price': 350, 'img_url': null, 'cutoff_relative_seconds': 900, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': '', 'properties': [{ 'id': 'coffee_size', 'name': 'Size', 'type': 1, 'values': [{ 'name': 'Regular', 'selected': true, 'id': 0 }, { 'name': 'Large', 'extra_price': 50, 'id': 1 }] }, { 'id': 'coffee_sugar', 'name': 'Sugar', 'type': 2, 'values': [{ 'name': 'White', 'min': 0, 'max': 10, 'step': 0.5, 'id': 0 }, { 'name': 'Brown', 'min': 0, 'max': 10, 'step': 0.5, 'id': 1 }, { 'name': 'Equal', 'min': 0, 'max': 10, 'step': 0.5, 'id': 2 }] }, { 'id': 'coffee_milk', 'name': 'Milk', 'type': 1, 'values': [{ 'name': 'Full Cream', 'selected': true, 'id': 0 }, { 'name': 'Soy', 'extra_price': 50, 'id': 1 }, { 'name': 'Almond', 'extra_price': 50, 'id': 2 }] }, { 'id': 'coffee_strength', 'name': 'Strength', 'type': 1, 'values': [{ 'name': 'Normal', 'selected': true, 'id': 0 }, { 'name': 'Extra Shot', 'extra_price': 50, 'id': 1 }, { 'name': 'Decaf', 'extra_price': 50, 'id': 2 }] }] },\n                            { 'id': 5, 'name': 'Flat White', 'price': 350, 'img_url': null, 'cutoff_relative_seconds': 900, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': '', 'properties': [{ 'id': 'coffee_size', 'name': 'Size', 'type': 1, 'values': [{ 'name': 'Regular', 'selected': true, 'id': 0 }, { 'name': 'Large', 'extra_price': 50, 'id': 1 }] }, { 'id': 'coffee_sugar', 'name': 'Sugar', 'type': 2, 'values': [{ 'name': 'White', 'min': 0, 'max': 10, 'step': 0.5, 'id': 0 }, { 'name': 'Brown', 'min': 0, 'max': 10, 'step': 0.5, 'id': 1 }, { 'name': 'Equal', 'min': 0, 'max': 10, 'step': 0.5, 'id': 2 }] }, { 'id': 'coffee_milk', 'name': 'Milk', 'type': 1, 'values': [{ 'name': 'Full Cream', 'selected': true, 'id': 0 }, { 'name': 'Soy', 'extra_price': 50, 'id': 1 }, { 'name': 'Almond', 'extra_price': 50, 'id': 2 }] }, { 'id': 'coffee_strength', 'name': 'Strength', 'type': 1, 'values': [{ 'name': 'Normal', 'selected': true, 'id': 0 }, { 'name': 'Extra Shot', 'extra_price': 50, 'id': 1 }, { 'name': 'Decaf', 'extra_price': 50, 'id': 2 }] }] },\n                            { 'id': 6, 'name': 'Latte', 'price': 350, 'img_url': null, 'cutoff_relative_seconds': 900, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': '', 'properties': [{ 'id': 'coffee_size', 'name': 'Size', 'type': 1, 'values': [{ 'name': 'Regular', 'selected': true, 'id': 0 }, { 'name': 'Large', 'extra_price': 50, 'id': 1 }] }, { 'id': 'coffee_sugar', 'name': 'Sugar', 'type': 2, 'values': [{ 'name': 'White', 'min': 0, 'max': 10, 'step': 0.5, 'id': 0 }, { 'name': 'Brown', 'min': 0, 'max': 10, 'step': 0.5, 'id': 1 }, { 'name': 'Equal', 'min': 0, 'max': 10, 'step': 0.5, 'id': 2 }] }, { 'id': 'coffee_milk', 'name': 'Milk', 'type': 1, 'values': [{ 'name': 'Full Cream', 'selected': true, 'id': 0 }, { 'name': 'Soy', 'extra_price': 50, 'id': 1 }, { 'name': 'Almond', 'extra_price': 50, 'id': 2 }] }, { 'id': 'coffee_strength', 'name': 'Strength', 'type': 1, 'values': [{ 'name': 'Normal', 'selected': true, 'id': 0 }, { 'name': 'Extra Shot', 'extra_price': 50, 'id': 1 }, { 'name': 'Decaf', 'extra_price': 50, 'id': 2 }] }] },\n                            { 'id': 7, 'name': 'Long Black', 'price': 350, 'img_url': null, 'cutoff_relative_seconds': 900, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': '', 'properties': [{ 'id': 'coffee_size', 'name': 'Size', 'type': 1, 'values': [{ 'name': 'Regular', 'selected': true, 'id': 0 }, { 'name': 'Large', 'extra_price': 50, 'id': 1 }] }, { 'id': 'coffee_sugar', 'name': 'Sugar', 'type': 2, 'values': [{ 'name': 'White', 'min': 0, 'max': 10, 'step': 0.5, 'id': 0 }, { 'name': 'Brown', 'min': 0, 'max': 10, 'step': 0.5, 'id': 1 }, { 'name': 'Equal', 'min': 0, 'max': 10, 'step': 0.5, 'id': 2 }] }, { 'id': 'coffee_strength', 'name': 'Strength', 'type': 1, 'values': [{ 'name': 'Normal', 'selected': true, 'id': 0 }, { 'name': 'Extra Shot', 'extra_price': 50, 'id': 1 }, { 'name': 'Decaf', 'extra_price': 50, 'id': 2 }] }] },\n                            { 'id': 8, 'name': 'Piccolo', 'price': 350, 'img_url': null, 'cutoff_relative_seconds': 900, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': '', 'properties': [{ 'id': 'coffee_size', 'name': 'Size', 'type': 1, 'values': [{ 'name': 'Regular', 'selected': true, 'id': 0 }, { 'name': 'Large', 'extra_price': 50, 'id': 1 }] }, { 'id': 'coffee_sugar', 'name': 'Sugar', 'type': 2, 'values': [{ 'name': 'White', 'min': 0, 'max': 10, 'step': 0.5, 'id': 0 }, { 'name': 'Brown', 'min': 0, 'max': 10, 'step': 0.5, 'id': 1 }, { 'name': 'Equal', 'min': 0, 'max': 10, 'step': 0.5, 'id': 2 }] }, { 'id': 'coffee_milk', 'name': 'Milk', 'type': 1, 'values': [{ 'name': 'Full Cream', 'selected': true, 'id': 0 }, { 'name': 'Soy', 'extra_price': 50, 'id': 1 }, { 'name': 'Almond', 'extra_price': 50, 'id': 2 }] }, { 'id': 'coffee_strength', 'name': 'Strength', 'type': 1, 'values': [{ 'name': 'Normal', 'selected': true, 'id': 0 }, { 'name': 'Extra Shot', 'extra_price': 50, 'id': 1 }, { 'name': 'Decaf', 'extra_price': 50, 'id': 2 }] }] },\n                            { 'id': 9, 'name': 'Macchiato', 'price': 350, 'img_url': null, 'cutoff_relative_seconds': 900, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': '', 'properties': [{ 'id': 'coffee_size', 'name': 'Size', 'type': 1, 'values': [{ 'name': 'Regular', 'selected': true, 'id': 0 }, { 'name': 'Large', 'extra_price': 50, 'id': 1 }] }, { 'id': 'coffee_sugar', 'name': 'Sugar', 'type': 2, 'values': [{ 'name': 'White', 'min': 0, 'max': 10, 'step': 0.5, 'id': 0 }, { 'name': 'Brown', 'min': 0, 'max': 10, 'step': 0.5, 'id': 1 }, { 'name': 'Equal', 'min': 0, 'max': 10, 'step': 0.5, 'id': 2 }] }, { 'id': 'coffee_milk', 'name': 'Milk', 'type': 1, 'values': [{ 'name': 'Full Cream', 'selected': true, 'id': 0 }, { 'name': 'Soy', 'extra_price': 50, 'id': 1 }, { 'name': 'Almond', 'extra_price': 50, 'id': 2 }] }, { 'id': 'coffee_strength', 'name': 'Strength', 'type': 1, 'values': [{ 'name': 'Normal', 'selected': true, 'id': 0 }, { 'name': 'Extra Shot', 'extra_price': 50, 'id': 1 }, { 'name': 'Decaf', 'extra_price': 50, 'id': 2 }] }] },\n                            { 'id': 10, 'name': 'Espresso', 'price': 350, 'img_url': null, 'cutoff_relative_seconds': 900, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': '', 'properties': [{ 'id': 'coffee_size', 'name': 'Size', 'type': 1, 'values': [{ 'name': 'Regular', 'selected': true, 'id': 0 }, { 'name': 'Large', 'extra_price': 50, 'id': 1 }] }, { 'id': 'coffee_sugar', 'name': 'Sugar', 'type': 2, 'values': [{ 'name': 'White', 'min': 0, 'max': 10, 'step': 0.5, 'id': 0 }, { 'name': 'Brown', 'min': 0, 'max': 10, 'step': 0.5, 'id': 1 }, { 'name': 'Equal', 'min': 0, 'max': 10, 'step': 0.5, 'id': 2 }] }, { 'id': 'coffee_strength', 'name': 'Strength', 'type': 1, 'values': [{ 'name': 'Normal', 'selected': true, 'id': 0 }, { 'name': 'Extra Shot', 'extra_price': 50, 'id': 1 }, { 'name': 'Decaf', 'extra_price': 50, 'id': 2 }] }] },\n                            { 'id': 11, 'name': 'Chai Latte', 'price': 350, 'img_url': null, 'cutoff_relative_seconds': 900, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': '', 'properties': [{ 'id': 'coffee_size', 'name': 'Size', 'type': 1, 'values': [{ 'name': 'Regular', 'selected': true, 'id': 0 }, { 'name': 'Large', 'extra_price': 50, 'id': 1 }] }, { 'id': 'coffee_sugar', 'name': 'Sugar', 'type': 2, 'values': [{ 'name': 'White', 'min': 0, 'max': 10, 'step': 0.5, 'id': 0 }, { 'name': 'Brown', 'min': 0, 'max': 10, 'step': 0.5, 'id': 1 }, { 'name': 'Equal', 'min': 0, 'max': 10, 'step': 0.5, 'id': 2 }] }] },\n                            {\n                                'id': 12, 'name': 'Tea', 'price': 350, 'img_url': null, 'cutoff_relative_seconds': 900, 'cutoff_fixed_seconds': null, 'minimum_order': null, 'description': '', 'properties': [{ 'id': 'coffee_size', 'name': 'Size', 'type': 1, 'values': [{ 'name': 'Regular', 'selected': true, 'id': 0 }, { 'name': 'Large', 'extra_price': 50, 'id': 1 }] }, { 'id': 'coffee_sugar', 'name': 'Sugar', 'type': 2, 'values': [{ 'name': 'White', 'min': 0, 'max': 10, 'step': 0.5, 'id': 0 }, { 'name': 'Brown', 'min': 0, 'max': 10, 'step': 0.5, 'id': 1 }, { 'name': 'Equal', 'min': 0, 'max': 10, 'step': 0.5, 'id': 2 }] }, { 'id': 'tea_types', 'name': 'Type', 'type': 1, 'values': [{ 'name': 'English Breakfast', 'selected': true, 'id': 0 }, { 'name': 'Earl Grey', 'id': 1 }, { 'name': 'Peppermint', 'id': 2 }, { 'name': 'Green Tea', 'id': 3 }] }\n                                ]\n                            }\n                        ]\n                    }\n                ]\n            }\n        ];\n        caterers.push(JSON.parse(JSON.stringify(caterers[0])));\n        caterers[1].title = 'Baked Fresh Yano';\n        caterers[1].img_url = 'assets/img/caterer-02.jpg';\n        caterers[1].description = 'Fresh panini baked daily with your choice of filling & sides.';\n        caterers.push(JSON.parse(JSON.stringify(caterers[0])));\n        caterers[2].title = 'Health Foodz';\n        caterers[2].img_url = 'assets/img/caterer-03.jpg';\n        caterers[2].description = 'The health shop everything from cold pressed juices to crunchy fresh salads';\n        caterers.push(JSON.parse(JSON.stringify(caterers[0])));\n        caterers[2].id = 'general';\n        caterers[2].title = 'Internal Catering';\n        caterers[2].img_url = 'assets/img/caterer-03.jpg';\n        caterers[2].description = 'The health shop everything from cold pressed juices to crunchy fresh salads';\n        window.control.handlers.push({\n            path: `/${this.model.api_route}/caterers`,\n            metadata: caterers,\n            method: 'GET'\n        } as MockHttpRequestHandler);\n    }\n\n    private generateLocations() {\n        const locations = [\n            'ACA Tenancy Location',\n            'Studio', '2.31.02',\n            'VC Meeting Room',\n            'West Lounge Meeting Table'\n        ];\n        window.control.handlers.push({\n            path: `/${this.model.api_route}/caterers/locations`,\n            metadata: locations,\n            method: 'GET'\n        } as MockHttpRequestHandler);\n    }\n}\n","/*\n * @Author: alex.sorafumo\n * @Date:   2017-04-03 15:50:46\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-06-19 13:24:24\n */\n\nimport { BehaviorSubject } from 'rxjs';\n\nimport { BaseMockBackend } from './base.mock';\n\nimport * as faker from 'faker';\nimport * as moment from 'moment';\nimport { MockHttpRequestHandler } from '@acaprojects/ts-composer';\n\nexport class MockRoomsBackend extends BaseMockBackend {\n    protected load() {\n        if (!this.model) { this.model = {}; }\n        this.loadRooms();\n    }\n\n    private loadRooms() {\n        if (this.model.log) { this.model.log('MOCK', 'Loading request for room list'); }\n\n        const room_list: any[] = [\n            { name: 'Meeting Room', area: '1.01', capacity: 4, bookable: true, zone: 'zone_lvl-01' },\n            { name: 'Meeting Room', area: '2.01', capacity: 8, bookable: true, zone: 'zone_lvl-02' },\n            { name: 'Meeting Room', area: '2.01', capacity: 8, bookable: true, zone: 'zone_lvl-02' },\n            { name: 'Holding Bay', area: 'holding', capacity: 16, bookable: false, searchable: false, zone: 'zone_lvl-01' },\n            { name: 'Meeting Room', area: '10.05', capacity: 16, bookable: true, zone: 'zone_lvl-10', searchable: false },\n            { name: 'Meeting Room', area: '10.06', capacity: 16, bookable: true, zone: 'zone_lvl-10' },\n            { name: 'Nose meeting', area: '10.27', capacity: 8, bookable: true, zone: 'zone_lvl-10' },\n            { name: 'Nose moom', area: '10.10', capacity: 8, bookable: true, zone: 'zone_lvl-10' },\n        ];\n\n        const bld = this.model.bld_data[Object.keys(this.model.bld_data)[0]];\n        const extras = bld.settings.discovery_info.extras;\n        const rooms: any[] = [];\n        for (const room of room_list) {\n            const id = `sys_rm-${room.area}`;\n            let extra_list = '';\n            for (let i = 0; i < 2; i++) {\n                if (extra_list) { extra_list += ' '; }\n                const e = extras[Math.floor(Math.random() * extras.length)];\n                if (extra_list.indexOf(e.extra_id) < 0) { extra_list += e.extra_id; }\n            }\n            rooms.push({\n                id,\n                name: `${room.name} ${room.area}`,\n                email: `${this.model.city}-${room.area}@${this.model.domain}`,\n                bookable: room.bookable,\n                capacity: room.capacity || Math.floor(Math.random() * 32 + 2),\n                features: '',\n                zones: [room.zone || 'zone_lvl-01'],\n                settings: {\n                    map_id: `${room.area}`,\n                    bookings: [],\n                    room_id: id,\n                    extra_features: extra_list,\n                    cost_hour: room.cost || 0\n                },\n                support_url: `http://aca.engin.run/demo/aca/control/` // `/meeting/#/?ctrl=${id}`\n            });\n        }\n        this.model.rooms = rooms;\n\n        window.control.handlers.push({\n            path: `/${this.model.api_route}/rooms/:id`,\n            metadata: this.model.rooms,\n            callback: (event) => {\n                if (event.route_params.id) {\n                    if (event.query_params.available_from) {\n                        const start = moment(+event.query_params.available_from * 1000);\n                        const end = event.query_params.available_to ? moment(+event.query_params.available_to * 1000) : moment(start).add(60, 'm');\n                        const available = this.getAvailableRooms(event.metadata, start.valueOf(), moment.duration(end.diff(start)).asMinutes());\n                        for (const rm of available) {\n                            if (rm.id === event.route_params.id) {\n                                rm.available = true;\n                                return rm;\n                            }\n                        }\n                    } else {\n                        for (const rm of event.metadata) {\n                            if (event.route_params.id === rm.id) {\n                                return rm;\n                            }\n                        }\n                    }\n                }\n                return null;\n            }\n        } as MockHttpRequestHandler);\n\n            // Get bookable rooms from room list\n        window.control.handlers.push({\n            path: `/${this.model.api_route}/rooms`,\n            metadata: this.model.rooms,\n            callback: (event) => {\n                if (event.query_params.available_from) {\n                    const start = moment(+event.query_params.available_from * 1000);\n                    const end = event.query_params.available_to ? moment(+event.query_params.available_to * 1000) : moment(start).add(60, 'm');\n                    return this.getAvailableRooms(event.metadata, start.valueOf(), moment.duration(end.diff(start)).asMinutes());\n                } else {\n                    const results: any[] = [];\n                    for (const i of event.metadata) {\n                        if (i.bookable) {\n                            i.available = Math.floor(Math.random() * 2349873421) % 3 === 0;\n                            results.push(i);\n                        }\n                    }\n                    return results;\n                }\n            }\n        } as MockHttpRequestHandler);\n        this.state.next(true);\n    }\n\n    private getAvailableRooms(list: any[], start_time: number, duration: number = 60) {\n        const results = [];\n        const start = moment(start_time);\n        const end = moment(start).add(duration, 'm');\n        for (const rm of list) {\n            let clash = false;\n            for (const bkn of rm.settings.bookings) {\n                const bkn_start = moment(bkn.Start);\n                const bkn_end = moment(bkn.End);\n                if (start.isBetween(bkn_start, bkn_end, 'm', '[)') || end.isBetween(bkn_start, bkn_end, 'm', '(]')) {\n                    clash = true;\n                }\n            }\n            if (!clash) {\n                rm.available = true;\n                rm.settings.available = true;\n                results.push(rm);\n            }\n        }\n        return results;\n    }\n}\n","/*\n * @Author: alex.sorafumo\n * @Date:   2017-04-03 15:50:46\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-06-18 15:57:30\n */\n\nimport { MockHttpRequestHandler, MockHttpRequest } from '@acaprojects/ts-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { BaseMockBackend } from './base.mock';\n\nimport * as faker from 'faker';\nimport * as moment from 'moment';\n\nexport class MockUsersBackend extends BaseMockBackend {\n\n    constructor(protected model) {\n        super(model);\n    }\n\n    protected load() {\n        this.loadVisitors();\n        this.loadUsers();\n        this.loadUser().then(() => {\n            this.state.next(true);\n            window.control.handlers.push({\n                path: `/${this.model.api_route}/people/:user`,\n                metadata: this.model.user_loc,\n                method: 'GET',\n                callback: (event) => {\n                    if (event.route_params.user) {\n                        const id = event.route_params.user;\n                        if (event.metadata && event.metadata[id]) {\n                            return [event.metadata[id]];\n                        }\n                    }\n                    return null;\n                }\n            } as MockHttpRequestHandler);\n        });\n    }\n\n    private loadUser(tries: number = 0) {\n        return new Promise((resolve) => {\n            if (tries > 10) {\n                return resolve();\n            }\n            if (localStorage) {\n                let user: any = null;\n                const email = localStorage.getItem('CONCIERGE.user_email');\n                if (email && this.model.users) {\n                    for (const usr of this.model.users) {\n                        if (email === usr.email) { user = usr; }\n                    }\n                    if (!user) {\n                        return this.loadBasicUser().then(() => resolve());\n                    }\n                } else {\n                    setTimeout(() => this.loadUser(++tries).then(() => resolve()), 300);\n                }\n            }\n            this.loadBasicUser().then(() => {\n                resolve();\n            });\n        });\n    }\n\n    private loadUsers() {\n        this.model.users = [];\n        for (let i = 0; i < 200; i++) {\n            const firstName: string = faker.name.firstName();\n            const lastName: string = faker.name.lastName();\n            this.model.users.push({\n                department: `${faker.company.companyName()}`,\n                phone: Math.floor(Math.random() * 8999 + 1000).toString(),\n                email: `${firstName.toLowerCase()}.${lastName.toLowerCase()}@${this.model.domain}`,\n                name: `${firstName} ${lastName}`,\n                id: `user-${Math.floor(Math.random() * 899999 + 100000).toString()}`,\n                avatar_url: '',\n            });\n        }\n            // Add predefined users\n        for (const name of this.model.predefined_users) {\n            const split = name.split(' ');\n            this.model.users.push({\n                department: `${faker.company.companyName()}`,\n                // phone: Math.floor(Math.random() * 8999 + 1000).toString(),\n                email: `${split[0].toLowerCase()}.${split[1].toLowerCase()}@${this.model.domain}`,\n                name,\n                id: `user-${Math.floor(Math.random() * 899999 + 100000).toString()}`,\n                avatar_url: '',\n                organisation_id: 12,\n                organisation_name: 'ACA'\n            });\n        }\n        for (const user of this.model.users) {\n            this.generateLocationFor(user);\n        }\n        window.control.handlers.push({\n            path: `/${this.model.api_route}/users`,\n            metadata: this.model.users,\n            callback: (e) => {\n                if (e.query_params.q) {\n                    const q = e.query_params.q.toLowerCase();\n                    const list = [];\n                    for (const u of e.metadata) {\n                        if (u.email.toLowerCase().indexOf(q) >= 0 || u.name.toLowerCase().indexOf(q) >= 0) {\n                            list.push(u);\n                            if (e.query_params.limit && list.length >= +e.query_params.limit) {\n                                break;\n                            }\n                        }\n                    }\n                    return list;\n                } else {\n                    return e.metadata;\n                }\n            }\n        } as MockHttpRequestHandler);\n\n        window.control.handlers.push({\n            path: `/${this.model.api_route}/users/:email`,\n            metadata: this.model.users,\n            callback: (e) => {\n                if (e.route_params.email) {\n                    for (const user of e.metadata) {\n                        if (user.email.toLowerCase().indexOf(e.route_params.email.toLowerCase())) {\n                            user.phone = Math.floor(Math.random() * 8999 + 1000).toString();\n                            return user;\n                        }\n                    }\n                }\n                return null;\n            }\n        } as MockHttpRequestHandler);\n    }\n\n    private loadBasicUser(user?: any, tries: number = 0) {\n        if (!this.model.user_promise) {\n            this.model.user_promise = new Promise((resolve) => {\n                if (tries > 10) {\n                    this.model.user_promise = null;\n                    return resolve();\n                }\n                if (!user && this.model && this.model.users) {\n                    user = this.model.users[\n                        Math.floor(Math.random() * this.model.users.length)\n                    ];\n                } else if (!user && (!this.model ||  !this.model.users || this.model.users.length <= 0)) {\n                    return setTimeout(() => {\n                        this.model.user_promise = null;\n                        this.loadBasicUser(user, ++tries).then(() => resolve());\n                    }, 300);\n                }\n                const data = {\n                    id: user.StaffGUID || user.id,\n                    name: user.StaffName || user.name,\n                    win_id: user.StaffWindowID || user.email,\n                    email: user.StaffEmailID || user.email,\n                    image: `/assets/users/${user.StaffGUID || user.id}.png`,\n                };\n                this.generateLocationFor(data, true);\n                this.model.user = data;\n                setTimeout(() => {\n                    window.control.handlers.push({\n                        path: '/control/api/users/current',\n                        metadata: data\n                    } as MockHttpRequestHandler);\n                    resolve();\n                }, 20);\n            });\n        }\n        return this.model.user_promise;\n    }\n\n    public loadVisitors() {\n        this.model.visitors = [];\n        const count = Math.floor(Math.random() * 10 + 2);\n        const time = moment().seconds(0).milliseconds(0).add(10, 'm');\n        time.minutes(Math.floor(time.minutes() / 5) * 5);\n        for (let i = 0; i < count; i++) {\n            const peeps = Math.floor(Math.random() * 3 + 1);\n            const people = [];\n            for (let k = 0; k < peeps; k++) {\n                const name = faker.name.firstName() + ' ' + faker.name.lastName();\n                people.push({\n                    name,\n                    organisation: {\n                        id: 12,\n                        name: 'ACA'\n                    },\n                    email: `${name.split(' ').join('.').toLowerCase()}@${this.model.domain}`\n                });\n            }\n            const visitor = {\n                id: Math.floor(Math.random() * 89999 + 10000),\n                name: `Group ${'ABCDEFGHIJKLMNOPQRSTUVWXYZ'[i]}`,\n                host: `${faker.name.firstName()} ${faker.name.lastName()}`,\n                location: `${faker.commerce.department()} RM`,\n                group: peeps > 1,\n                visitors: people,\n                date: time.valueOf()\n            };\n            this.model.visitors.push(visitor);\n            time.add(Math.floor(Math.random() * 5) * 15 + 15, 'm');\n        }\n        window.control.handlers.push({\n            path: `/${this.model.api_route}/visitors`,\n            metadata: this.model.visitors\n        } as MockHttpRequestHandler);\n    }\n\n    private generateLocationFor(user: any, force: boolean = false) {\n        if (!this.model.user_loc) { this.model.user_loc = {}; }\n        const id = user.id || user.StaffGUID || user.email;\n        if (!(window as any).mock) { (window as any).mock = {}; }\n        if (!(window as any).mock.located) { (window as any).mock.located = { wireless: [], fixed: [] }; }\n        if (user && id) {\n            if ((Math.floor(Math.random() * 289346923)) % 5 === 0 || force) {\n                const fixed = (Math.floor(Math.random() * 289346923) % 4) === 0;\n                const loc: any = {};\n                loc.building = 'zone_bld-01';\n                if (fixed) {\n                    loc.at_desk = true;\n                    if (this.model.desk_id_pool) {\n                        const desk = this.model.desk_id_pool[Math.floor(Math.random() * this.model.desk_id_pool.length)];\n                        loc.level = desk.level;\n                        loc.desk_id = desk.id;\n                        loc.building = desk.building;\n                    }\n                    (window as any).mock.located.fixed.push(user.name);\n                } else {\n                    loc.x = Math.floor(Math.random() * 6000 + 2000);\n                    loc.x_max = 10000;\n                    loc.y = Math.floor(Math.random() * 4000 + 3000);\n                    loc.y_max = 10000;\n                    const level = this.model.bld_data['zone_bld-01'].levels[Math.floor(Math.random() * this.model.bld_data['zone_bld-01'].levels.length)];\n                    loc.level = level.level_id;\n                    (window as any).mock.located.wireless.push(user.name);\n                }\n                this.model.user_loc[id] = loc;\n            }\n        }\n    }\n}\n","\nimport './system.mockup';\nimport './backend.mock';\n\nexport * from './system.mockup';\n","/**\n* @Author: Alex Sorafumo <alex.sorafumo>\n* @Date:   11/01/2017 4:16 PM\n* @Email:  alex@yuion.net\n* @Filename: mock-system.ts\n* @Last modified by:   Alex Sorafumo\n* @Last modified time: 03/02/2017 2:26 PM\n*/\n\nimport * as moment from 'moment';\n\nconst win = self as any;\n\nwin.systemData = win.systemData || {};\nwin.control = win.control || {};\nwin.control.systems = win.control.systems || {};\nwin.control.systems['sys-B0'] = {\n    System: [{\n        name: 'Demo System',\n    }],\n    Demo: [{\n        volume: 0,\n        mute: false,\n        views: 0,\n        state: 'Idle',\n\n        $play: () => {\n            win.control.systems['sys-B0'].Demo[0].state = 'Playing';\n        },\n\n        $stop: () => {\n            win.control.systems['sys-B0'].Demo[0].state = 'Stopped';\n        },\n\n        $volume: (value: number) => {\n            this.volume = value;\n            if (this.volume > 100) {\n                this.volume = 100;\n            } else if (this.volume < 0) {\n                this.volume = 0;\n            }\n        },\n\n        $mute: (state: boolean) => {\n            this.mute = state;\n        },\n\n        $state: (status: string) => {\n            this.state = status;\n        },\n    }],\n    FloorManagement: [{\n        'zone-lvl_02': {\n            'zone-2.N-status': { capacity: 100, people_count: Math.floor(Math.random() * 80 + 10) },\n            'zone-2.E-status': { capacity: 100, people_count: Math.floor(Math.random() * 80 + 10) },\n            'zone-2.S-status': { capacity: 100, people_count: Math.floor(Math.random() * 80 + 10) },\n            'zone-2.W-status': { capacity: 100, people_count: Math.floor(Math.random() * 80 + 10) }\n        }\n    }],\n    DeskManagement: [{\n        $desk_details: (desk_id: string) => this[desk_id],\n        $desk_usage: (level: string) => this[`${level}`] + this[`${level}:reserved`],\n        $manual_checkin: function (desk_id: string, level_id: string = 'zone_Fd-20') {\n            if (!this[`${level_id}`]) { this[`${level_id}`] = []; }\n            this[`${level_id}`] = this[`${level_id}`].concat([desk_id]);\n            if (!this[`${level_id}:clashes`]) { this[`${level_id}:clashes`] = []; }\n            this[`${level_id}:clashes`] = this[`${level_id}:clashes`].concat([desk_id]);\n            if (!this[`${level_id}:occupied_count`]) { this[`${level_id}:occupied_count`] = 0; }\n            this[`${level_id}:occupied_count`] += 1;\n            if (!this[`${level_id}:free_count`]) { this[`${level_id}:free_count`] = 1; }\n            this[`${level_id}free_count`] -= 1;\n            if (win.backend) {\n                const user = win.backend.model.user;\n                this[user.win_id] = {\n                    connected: true,\n                    manual_desk: true,\n                    desk_id,\n                    unplug_time: moment().unix()\n                };\n            }\n        },\n        // Will reserve the desk that is indicated above\n        $reserve_desk: () => {\n            if (win.backend) {\n                const user = win.backend.model.user;\n                if (this[user.win_id]) {\n                    this[user.win_id].reserved = true;\n                    this[user.win_id].unplug_time = moment().unix();\n                }\n            } else {\n                if (this.user) {\n                    this.user.reserved = true;\n                    this.user.unplug_time = moment().unix();\n                }\n            }\n        },\n        $cancel_reservation: () => {\n            if (win.backend) {\n                const user = win.backend.model.user;\n                if (this[user.win_id]) {\n                    this[user.win_id] = {\n                        connected: false,\n                        reserved: false,\n                        unplug_time: moment().unix()\n                    };\n                }\n            } else {\n                if (this.user) {\n                    this.user = {\n                        connected: false,\n                        reserved: false,\n                        unplug_time: moment().unix()\n                    };\n                }\n            }\n        },\n    }],\n    Slack: [{\n        threads: {\n            local: []\n        },\n        $get_historic_messages: function() {\n            const list: any[] = [];\n            for (const i of this.$system.Slack[0].threads.local) {\n                list.push(i);\n            }\n            return {\n                last_sent: this.$system.Slack[0].last_sent,\n                last_read: this.$system.Slack[0].last_read,\n                messages: list\n            };\n        },\n        $send_message: function(msg: string) {\n            this.$system.Slack[0].threads.local.push({\n                text: msg, username: win.backend.model.user.name || 'You', ts: moment().valueOf()\n            });\n            this.$system.Slack[0].last_sent = moment().valueOf();\n            setTimeout(() => {\n                this.$system.Slack[0].threads.local.push({\n                    text: 'This is a response', username: '', ts: moment().valueOf()\n                });\n                this.$system.Slack[0].last_read = moment().valueOf();\n            }, 500 * Math.floor(Math.random() * 20 + 5));\n        }\n    }]\n};\n\nsetTimeout(() => initMessages(), 500);\n\nfunction initMessages() {\n    if (win.backend && win.backend.model.user) {\n        const messages = [\n            'Testing', 'Response to Testing', `Hello I'm ${win.backend.model.user.name}`, `Hello ${win.backend.model.user.name}, this is the concierge`,\n            'Can I book a room for tomorrow at 9:30am?', 'Sure, how does Activity Space 31.04 sound?', 'That\\'s exactly what I\\'m looking for, thanks',\n            'Alright, you now have a booking for Activity Space 31.04 at 9:30am tomorrow.'\n        ];\n        const time = moment().add(-messages.length * 30, 'm').seconds(0).milliseconds(0);\n        let index = 0;\n        for (const msg of messages) {\n            win.control.systems['sys-B0'].Slack[0].threads.local.push({\n                text: msg, username: index % 2 === 0 ? win.backend.model.user.name : '', ts: time.valueOf()\n            });\n            index++;\n            time.add(30, 'm');\n        }\n    } else {\n        setTimeout(() => initMessages(), 500);\n    }\n}\n\nwin.systemData['sys-B0'] = win.control.systems['sys-B0'];\n","import { Pipe, PipeTransform } from '@angular/core';\nimport * as dayjs from 'dayjs';\n\n/**\n * Show Time in HH:mm\n * time is in unix milliseconds\n*/\n@Pipe({ name: 'showTime'})\nexport class ShowTimePipe implements PipeTransform {\n    transform(time: number): string {\n        return dayjs(time).format('h:mm A');\n    }\n}\n/**\n * Format Time\n * time is in unix milliseconds\n */\n@Pipe({ name: 'formatTime'})\nexport class FormatTimePipe implements PipeTransform {\n    transform(time: number, format: string): string {\n        return dayjs(time).format(format);\n    }\n}\n\nexport const TIME_PIPES = [\n    FormatTimePipe,\n    ShowTimePipe,\n];","import { Validators } from '@angular/forms';\nimport { ADynamicFormField } from '@acaprojects/ngx-dynamic-forms';\n\nimport { IRoom } from '../../services/data/rooms.service';\nimport { IUser } from '../../services/data/users.service';\n\nimport { IBooking } from '../../services/data/bookings.service';\nimport { validateDate, buildValidateDuration, buildValidateAttendees } from './validation.utilities';\nimport { formatAttendeesWithHost, formatSpaces, formatRecurrence, formatDate, formatTime, formatTimestamp } from './formatting.utilities';\nimport { CUSTOM_FIELD_REGISTER } from '../globals/custom-field-register';\n\nimport * as dayjs from 'dayjs';\nimport { AppService } from '../../services/app.service';\nimport { HashMap } from '@acaprojects/ngx-uploads/lib/types';\n\nexport interface SpaceRules {\n    auto_approve: boolean;\n    hide: boolean;\n    max_length?: number;\n}\n\nexport interface IBookingRules {\n    [type_zone: string]: IBookingRule[];\n}\n\nexport interface IBookingRule {\n    conditions: { [name: string]: string | string[] };\n    rules: {\n        book_ahead?: string;\n        book_length?: string;\n        auto_approve?: boolean;\n    };\n}\n\nconst MINUTE = 1;\nconst HOUR = 60;\nconst DAY = 24 * HOUR;\nconst WEEK = 7 * DAY;\n\nconst DURATION_MAP: { [duration: string]: number } = {\n    week: WEEK,\n    weeks: WEEK,\n    day: DAY,\n    days: DAY,\n    hour: HOUR,\n    hours: HOUR,\n    minute: MINUTE,\n    minutes: MINUTE\n};\n\nexport interface ISpaceRuleOptions {\n    user: IUser;\n    space: IRoom;\n    time?: number;\n    duration?: number;\n    rules: IBookingRules;\n}\n\nexport interface ISpaceCheckOptions {\n    user: IUser;\n    space: IRoom;\n    time?: number;\n    duration?: number;\n    rules: { [name: string]: string | string[] };\n}\n\n/**\n * Get booking rules for the given user and space\n * @param user User to determine applicable rules\n * @param space Space to get rules for\n * @param time Booking start time in ms since UTC epoch\n * @param rules List of booking rules for the building\n */\nexport function rulesForSpace(options: ISpaceRuleOptions): SpaceRules {\n    if (!options) {\n        throw Error('Options are needed to check for rule matches');\n    }\n    const space_rules_for_user: SpaceRules = {\n        auto_approve: true,\n        hide: true\n    };\n    if (options.space) {\n        for (const type in options.rules) {\n            if (\n                options.rules.hasOwnProperty(type) &&\n                options.rules[type] instanceof Array &&\n                (options.space.zones || []).find(i => i === type)\n            ) {\n                for (const rule_block of options.rules[type]) {\n                    if (\n                        checkRules({\n                            user: options.user,\n                            space: options.space,\n                            time: options.time,\n                            duration: options.duration,\n                            rules: rule_block.conditions\n                        })\n                    ) {\n                        const ruleset = rule_block.rules;\n                        const conditions = rule_block.conditions;\n                        space_rules_for_user.hide = false;\n                        if (conditions.max_length) {\n                            space_rules_for_user.max_length = stringToMinutes(conditions.max_length as string);\n                        }\n                        // NOTE: use max_length in conditions instead of book_length in rules\n                        // if (ruleset.book_length) {\n                        //     space_rules_for_user.max_length = stringToMinutes(ruleset.book_length as string);\n                        // }\n                        if (ruleset.auto_approve !== undefined) {\n                            space_rules_for_user.auto_approve = ruleset.auto_approve;\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    return space_rules_for_user;\n}\n\n/**\n * Check if user matches the given ruleset\n * @param user User to check for condition matches\n * @param ruleset Map of conditions\n */\nfunction checkRules(options: ISpaceCheckOptions): boolean {\n    if (options.rules) {\n        const time = dayjs(options.time);\n        const count = Object.keys(options.rules).length;\n        let matches = 0;\n        for (const key in options.rules) {\n            let counter = 0;\n            const condition: string[] = options.rules[key] instanceof Array ? (options.rules[key] as []) : [options.rules[key] as string];\n            switch (key) {\n                case 'group':\n                case 'groups':\n                    if (options.user && options.user.groups) {\n                        condition.forEach(i => (options.user.groups.find(j => j === i) ? counter++ : null));\n                        if (counter >= options.rules[key].length) {\n                            matches++;\n                        }\n                    }\n                    break;\n                case 'location':\n                case 'locations':\n                    if (options.user && options.user.location) {\n                        condition.forEach(i => ((options.user.location.name || '').indexOf(i) >= 0 ? counter++ : null));\n                        if (counter >= options.rules[key].length) {\n                            matches++;\n                        }\n                    }\n                    break;\n                case 'is_before':\n                    if (options.time) {\n                        const duration = stringToMinutes(condition[0]);\n                        const check = dayjs().add(duration, 'm');\n                        time.isBefore(check, 'm') ? matches++ : '';\n                    }\n                    break;\n                case 'is_after':\n                    if (options.time) {\n                        const duration = stringToMinutes(condition[0]);\n                        const check = dayjs().add(duration, 'm');\n                        time.isAfter(check, 'm') ? matches++ : '';\n                    }\n                    break;\n                case 'min_length':\n                    if (options.duration) {\n                        durationGreaterThanOrEqual(options.duration, condition[0]) ? matches++ : '';\n                    }\n                    break;\n                case 'max_length':\n                    if (options.duration) {\n                        durationGreaterThanOrEqual(condition[0], options.duration) ? matches++ : '';\n                    }\n                    break;\n            }\n        }\n        return matches >= count;\n    }\n    return false;\n}\n\n/**\n * Whether the first input is greater than the last. Converts duration strings into minutes\n * @param duration_1 First input can be a number in minutes or a duration string e.g. `1 hour`\n * @param duration_2 Second input can be a number in minutes or a duration string e.g. `30 minutes`\n */\nexport function durationGreaterThanOrEqual(duration_1: string | number, duration_2) {\n    const first: number = typeof duration_1 === 'string' ? stringToMinutes(duration_1) : duration_1;\n    const second: number = typeof duration_2 === 'string' ? stringToMinutes(duration_2) : duration_2;\n    return first >= second;\n}\n\n/**\n * Conver time string into minutes\n * @param str timestring e.g. `'1 day'`, `'15 minutes'`, `'2 weeks'`\n */\nexport function stringToMinutes(str: string): number {\n    const parts = str.split(' ');\n    return +parts[0] * DURATION_MAP[parts[1]];\n}\n\n/**\n * Generate form fields metadata for the given booking\n * @param booking\n * @param field_data\n */\nexport function generateBookingFormMetadata(\n    booking: IBooking,\n    field_data: { [name: string]: any }[],\n    service?: AppService\n): ADynamicFormField[] {\n    field_data = field_data.map(i => ({\n        ...i,\n        children: i.children ? i.children.map(i => ({ ...i })) : []\n    }));\n    const validators = {\n        // date: [validateDate],\n        attendees: [buildValidateAttendees(booking.organiser, service.Settings.get('min_attendees'))],\n        terms: [Validators.requiredTrue]\n    };\n    const formatters = {\n        attendees: formatAttendeesWithHost(booking.organiser),\n        date: formatDate,\n        start: formatTimestamp,\n        space: formatSpaces,\n        room: formatSpaces,\n        recurrence: formatRecurrence,\n        host: (control) => control.name || control\n    };\n    const custom_elements = CUSTOM_FIELD_REGISTER;\n    let today = dayjs(booking.date).startOf('m');\n    if (!booking.date && (today.minute() % 5) === 0) {\n        today = today.minute(today.minute() + 1);\n    }\n    today = today.minute(Math.ceil(today.minute() / 5) * 5);\n    const defaults = {\n        date: today.valueOf(),\n        start: today.format('HH:mm'),\n        duration: 60,\n        host: service ? service.Users.current() : null,\n        booking_type: { id: 'internal' },\n        needs_catering: false,\n        catering: [],\n        needs_space: true,\n        attendees: []\n    };\n    const process_field = field => {\n        const f = {\n            key: field.key,\n            label: field.label,\n            icon: field.icon,\n            type: field.control_type || field.type,\n            value: booking[field.key] || defaults[field.key],\n            format: formatters[field.key],\n            content: field.content || custom_elements[field.key],\n            required: field.required,\n            validators: validators[field.key],\n            references: field.references || field.refs,\n            hide: field.hide,\n            settings: { ...field.settings, readonly: field.readonly || (booking.id && field.readonly_edit) },\n            metadata: { ...field.metadata, service: service.Bookings },\n            attributes: { flex: field.flex },\n            children: field.children\n                ? field.children.map(process_field)\n                : null\n        };\n        return f;\n    };\n    if (booking && booking.id) {\n        if (dayjs().isAfter(dayjs(booking.date), 'm')) {\n            const period_grp = field_data.find(i => i.key === 'period_group') || { children: [] };\n            const time_grp = field_data.find(i => i.key === 'time_group') || { children: [] };\n            const date = period_grp.children.find(i => i.key === 'date') || {};\n            date.readonly = true;\n            const time = time_grp.children.find(i => i.key === 'start') || {};\n            time.readonly = true;\n        }\n    }\n    return field_data\n        .filter(i => booking.id ? !i.no_edit : !i.edit_only)\n        .map(process_field)\n        .map(f => new ADynamicFormField(f));\n}\n\n/**\n * Tally the number of edits for each field\n * @param edit_map Mapping of time stamps to lists of fields edited\n */\nexport function processEditList(edit_map: HashMap<string[]>): HashMap<number> {\n    const edit_counts: HashMap<number> = {};\n    for (const time in edit_map) {\n        if (edit_map[time]) {\n            for (const field of edit_map[time]) {\n                if (!edit_counts[field]) {\n                    edit_counts[field] = 0;\n                }\n                edit_counts[field]++;\n            }\n        }\n    }\n    return edit_counts;\n}\n","\nimport { IUser } from '../../services/data/users.service';\nimport { IRoom } from '../../services/data/rooms.service';\n\nimport * as dayjs from 'dayjs';\nimport { Utils } from '../utility.class';\n\n// attendees: FormFormatters.attendees(user),\n// date: FormFormatters.date,\n// room: FormFormatters.space,\n// recurrence: FormFormatters.recurrence\n\n/**\n * Get function to create formatted string for a list of users with a host\n * @param host Host user\n */\nexport function formatAttendeesWithHost(host: IUser): (_: IUser[]) => string {\n    return (l) => formatAttendees(l, host);\n}\n\n/**\n * Create formatted string from a list of users\n * @param list List of users\n * @param host Owner of the list of users\n */\nexport function formatAttendees(list: IUser[], host?: IUser) {\n    let attendee_str: string = '';\n    if (list && list.length > 0) {\n        const users = [...list];\n        if (host) {\n            const result = users.find(a => a.email === host.email);\n            if (result) {\n                users.splice(users.indexOf(result), 1);\n            }\n        }\n        const length = users.length + (host ? 1 : 0);\n        attendee_str = `${length} Attendee${length === 1 ? '' : 's'}; ${host ? host.name : ''}`;\n        for (const item of users) {\n            if (attendee_str) {\n                attendee_str += ', ';\n            }\n            attendee_str += item.name;\n        }\n        attendee_str = attendee_str.replace('; ,', ';');\n    }\n    return attendee_str;\n}\n\n/**\n * Create date formatted string for given date\n * @param date Date to format\n */\nexport function formatDate(date: number) {\n    return dayjs(date).format('DD MMMM YYYY');\n}\n\n/**\n * Create time formatted string for given date\n * @param date Date to format\n */\nexport function formatTime(date: number) {\n    return dayjs(date).format('h:mm A');\n}\n\n/**\n * Create formatted string for a period of given duration\n * @param duration Period duration in minutes\n */\nexport function formatPeriodWithDuration(duration: number) {\n    return (t) => formatPeriod(t, duration);\n}\n\n/**\n * Create formatted string for a period of given duration\n * @param timestamp Start hours and minutes of the period in the format `HH:mm`\n * @param duration Period duration in minutes\n */\nexport function formatPeriod(timestamp: string, duration: number = 60) {\n    const parts = timestamp.split(':');\n    const date = dayjs().hour(+parts[0]).minute(+parts[1]);\n    return `${date.format('h:mm A')} - ${date.add(duration, 'm').format('h:mm A')} (${Utils.humaniseDuration(duration)})`;\n}\n\n/**\n * Create formatted string for a period of given duration\n * @param timestamp Start hours and minutes of the period in the format `HH:mm`\n */\nexport function formatTimestamp(timestamp: string) {\n    const parts = timestamp.split(':');\n    const date = dayjs().hour(+parts[0]).minute(+parts[1]);\n    return `${date.format('h:mm A')}`;\n}\n\n/**\n * Create formatted human readable string for a given duration\n * @param duration Duration in minutes\n */\nexport function formatDuration(duration: number) {\n    return Utils.humaniseDuration(duration);\n}\n\n/** Human readable names of applicable recurrence periods */\nexport const RECURRENCE_PERIODS: string[] = ['None', 'Daily', 'Weekly', 'Biweekly', 'Monthly', 'Yearly'];\n\n/**\n * Create human readable string for recurrence metadata\n * @param value\n */\nexport function formatRecurrence(value: { period: string | number, end: number }) {\n    if (!value || !value.period || value.period as any >= RECURRENCE_PERIODS.length) {\n        return 'No recurrence';\n    }\n    const period = typeof value.period === 'string' ? value.period : RECURRENCE_PERIODS[value.period];\n    const end = value.end ? `until ${dayjs(value.end).format('DD MMM YYYY')}` : 'forever';\n    return `${period} ${end}`;\n}\n\n/**\n * Create human readable string for a room or list of rooms\n * @param list List of spaces/rooms\n */\nexport function formatSpaces(list: IRoom | IRoom[]) {\n    if (!list || (list instanceof Array && list.length <= 0)) {\n        return 'No selected space';\n    }\n    if (list instanceof Array) {\n        return list.length === 1 ? list[0].name : `${list.length} Space${list.length !== 1 ? 's' : ''}`;\n    } else {\n        const capacity = list.capacity ? '(' + list.capacity + ' ' + (list.capacity === 1 ? 'person' : 'people') + ')' : '';\n        return `${list.name} ${capacity}`;\n    }\n}\n","import { AbstractControl } from '@angular/forms';\n\nimport { IUser } from '../../services/data/users.service';\n\nimport * as dayjs from 'dayjs';\n\nconst HAS_ERROR = true;\n\n/**\n * Check that control value is a date that is the same or after from date\n * @param control Angular form control\n * @param is_from Comparison date(ms from UTC epoch). Defaults to the current time\n */\nexport function validateDate(control: AbstractControl, is_from: number = dayjs().valueOf()) {\n    const from = dayjs(is_from);\n    const date = dayjs(control.value || undefined);\n    return date.isBefore(from, 'd') ? { date: HAS_ERROR, message: 'Booking needs to be made in the future' } : null;\n}\n\n/**\n * Build start time validation function\n * @param date Date of the time to check\n * @param is_from Comparison date(ms from UTC epoch). Defaults to the current time\n */\nexport function buildValidateStartTime(date: number, is_from?: number) {\n    if (!is_from) {\n        const from = dayjs(is_from);\n        is_from = from.minute(Math.floor(from.minute() / 5) * 5).valueOf();\n    }\n    return (c) => validateStartTime(c, date, is_from);\n}\n\n/**\n * Check that control value time is after the comparison date time\n * @param control Angular form control\n * @param date Date of the time to check\n * @param is_from Comparison date(ms from UTC epoch). Defaults to the current time\n */\nexport function validateStartTime(control: AbstractControl, date: number, is_from: number = dayjs().valueOf()) {\n    const now = dayjs(is_from);\n    const parts = control.value.split(':');\n    const date_obj = dayjs(date).hour(+parts[0]).minute(+parts[1]);\n    return date_obj.isBefore(now, 'm') ? { start: HAS_ERROR, message: 'Booking time needs to be made in the future' } : null;\n}\n\nexport function buildValidateDuration(min: number = 10, max: number = 720) {\n    return (c) => validateDuration(c, min, max);\n}\n\nexport function validateDuration(control: AbstractControl, min: number = 10, max: number = 720) {\n    if (control.value < (min || 30)) {\n        return { duration: HAS_ERROR, message: `Minimum booking duration is ${min} minute${min === 1 ? 's' : ''}` };\n    } else if (control.value > (max || 720)) {\n        return { length: HAS_ERROR, message: `Maximum booking duration is ${max} minute${max === 1 ? 's' : ''}` };\n    }\n    return null;\n}\n\nexport function buildValidateAttendees(host: IUser, min: number = 0) {\n    return (c) => validateAttendees(c, host, min);\n}\n\nexport function validateAttendees(control: AbstractControl, host: IUser, min: number = 0) {\n    if (!control || !(control.value instanceof Array)) {\n        return min > 0\n            ? { invalid: true, message: `Minimum of ${min} attendee${min === 1 ? ' is' : 's are'} required other than you` }\n            : null;\n    }\n    const list: IUser[] = control.value;\n    if (host) {\n        const result = list.find(a => a.email === host.email);\n        if (result) { list.splice(list.indexOf(result), 1); }\n    }\n    return list.length >= min ? null : {\n        count: true,\n        message: `Minimum of ${min} attendee${min === 1 ? ' is' : 's are'} required other than you`\n    };\n}\n","/**\n * The static class that defines utility methods.\n *\n * @class Utils\n */\n\ndeclare let require: any;\ndeclare let process: any;\n\nexport class Utils {\n    /**\n     * Checks whether the platform is NW.js.\n     *\n     * @static\n     * @method isNwjs\n     * @return {Boolean} True if the platform is NW.js\n     */\n    public static isNwjs() {\n        return typeof require === 'function' && typeof process === 'object';\n    }\n    /**\n     * Checks whether the platform is a mobile device.\n     *\n     * @static\n     * @method isMobileDevice\n     * @return {Boolean} True if the platform is a mobile device\n     */\n    public static isMobileDevice() {\n        const r = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;\n        return !!navigator.userAgent.match(r);\n    }\n\n    /**\n     * Checks whether the browser is Mobile Safari.\n     *\n     * @static\n     * @method isMobileSafari\n     * @return {Boolean} True if the browser is Mobile Safari\n     */\n    public static isMobileSafari() {\n        const agent = navigator.userAgent;\n        return !!(agent.match(/iPhone|iPad|iPod/) && agent.match(/AppleWebKit/) &&\n            !agent.match('CriOS'));\n    }\n\n    /**\n     * Checks whether the browser is Android Chrome.\n     *\n     * @static\n     * @method isAndroidChrome\n     * @return {Boolean} True if the browser is Android Chrome\n     */\n    public static isAndroidChrome() {\n        const agent = navigator.userAgent;\n        return !!(agent.match(/Android/) && agent.match(/Chrome/));\n    }\n\n    /**\n     * Makes a CSS color string from RGB values.\n     *\n     * @static\n     * @method rgbToCssColor\n     * @param {Number} r The red value in the range (0, 255)\n     * @param {Number} g The green value in the range (0, 255)\n     * @param {Number} b The blue value in the range (0, 255)\n     * @return {String} CSS color string\n     */\n    public static rgbToCssColor(r, g, b) {\n        r = Math.round(r);\n        g = Math.round(g);\n        b = Math.round(b);\n        return 'rgb(' + r + ',' + g + ',' + b + ')';\n    }\n\n    public static unique<K extends keyof T, T = any>(array: T[], key?: K) {\n        return array.filter((el, pos, arr) =>\n            arr.indexOf(key ? arr.find(i => i[key] === el[key]) : arr.find(i => i === el)) === pos\n        );\n    }\n\n    public static padZero(num: number, length: number) {\n        let value = num.toString();\n        for (let i = 0; value.length < length; i++) {\n            value = '0' + value;\n        }\n        return value;\n    }\n\n    public static generateQueryString(fields: any) {\n        let query = '';\n        if (fields) {\n            for (const f in fields) {\n                if (fields[f] && fields[f] !== '') {\n                    if (query !== '') {\n                        query += '&';\n                    }\n                    query += `${f}=${fields[f]}`;\n                }\n            }\n        }\n        return query;\n    }\n\n    public static removeChars(str: string, char_list: string) {\n        if (!str) { return ''; }\n        for (let char of char_list) {\n            char = char.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n            str = str.replace(new RegExp(char, 'g'), '');\n        }\n        return str;\n    }\n\n\n    public static validateEmail(email: string) {\n        const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test((email || '').toLowerCase());\n    }\n\n    public static parseXML(data) {\n        const items: any[] = [];\n        // request outages.xml from the server and then you can extract the information like this\n        const parser = new DOMParser();\n        const xmlDoc: any = parser.parseFromString(data, 'text/xml');\n\n        // getElementsByTagName returns a sudo-array\n        const entries = Array.prototype.slice.call(\n            xmlDoc.getElementsByTagName('entry'),\n        );\n\n        entries.forEach((entry) => {\n            // <content> <properties> ==> <id></id><title></title> etc\n            const content = entry.getElementsByTagName('content')[0]\n                .childNodes[0].childNodes;\n            const obj = {};\n\n            content.forEach((field) => {\n                // looks like d:Id, d:Title etc\n                const name = field.nodeName.slice(2).toLowerCase();\n                const c = field.textContent;\n\n                obj[name] = c;\n            });\n            items.push(obj);\n        });\n        return items;\n    }\n\n    /**\n     * Converts a list of objects into a CSV string\n     * @param list List of objects\n     */\n    public static generateCSV(list: any[]) {\n        // Get all the available fields from the list\n        const field_list: string[] = [];\n        for (const item of list) {\n            for (const key in item) {\n                if (key && item.hasOwnProperty(key) && field_list.indexOf(key) < 0) {\n                    field_list.push(key);\n                }\n            }\n        }\n        field_list.sort((a, b) => a.localeCompare(b));\n        // Create CSV of fields\n        let fields = '';\n        for (const field of field_list) {\n            if (fields) { fields += ','; }\n            fields += field;\n        }\n        // Create CSV for each item in the list\n        let csv = '';\n        for (const item of list) {\n            if (csv) { csv += '\\n'; }\n            let line = '';\n            for (const f of field_list) {\n                if (field_list.indexOf(f) > 0) { line += ','; }\n                line += item[f]\n                    ? (typeof item[f] === 'object'\n                        ? JSON.stringify(item[f])\n                        : typeof item[f] === 'string' && item[f].indexOf(',') >= 0\n                            ? `\"${item[f]}\"`\n                            : item[f])\n                    : '';\n            }\n            csv += line;\n        }\n        return `${fields}\\n${csv}`;\n    }\n\n    /**\n     * Conver duration in minutes to human readable string\n     * @static\n     * @param duration Duration in minutes\n     */\n    public static humaniseDuration(duration: number, short: boolean = false) {\n        if (!duration || duration < 0) { return ''; }\n        const h = Math.floor(duration / 60);\n        let d = `${h >= 1 ? (h + (short ? 'h' : (' hour' + (h === 1 ? '' : 's')))) : ''}`;\n        if (duration % 60 !== 0) {\n            if (d) { d += short ? ' ' : ', '; }\n            const m = duration % 60;\n            d += `${m >= 1 ? (m + (short ? 'm' : (' minute' + (m === 1 ? '' : 's')))) : ''}`;\n        }\n        return d;\n    }\n\n    /**\n      * Get list of objects based off passed in CSV\n      * @static\n      * @param csv CSV to parse\n      */\n    public static loadCSV(csv: string) {\n\n        const lines = csv.split('\\n');\n        let fields = lines.splice(0, 1)[0].split(',');\n        fields = fields.map(v => v.replace('\\r', ''));\n        const list: any[] = [];\n        for (const line of lines) {\n            let parts = line.split(',');\n            parts = parts.map(v => v.replace('\\r', ''));\n            if (parts.length >= fields.length) {\n                const item: any = {};\n                for (let i = 0; i <= parts.length; i++) {\n                    let part = null;\n                    part = parts[i];\n                    if (part !== undefined) {\n                        item[(fields[i] || '').split(' ').join('_').toLowerCase()] = part;\n\n                    }\n                }\n                list.push(item);\n            }\n        }\n\n        return list;\n    }\n\n    /**\n     * Get a filtered list of items\n     * @param filter Value to filter on\n     * @param items List of results to filter\n     * @param fields Fields to check for matches on each item\n     */\n    public static filter(filter: string, items?: any[], fields: string[] = ['id']) {\n        let results: any[];\n        // Tokenise filter string\n        const filters = filter.toLowerCase().split(' ');\n        const list = {};\n        for (const f of filters) {\n            if (f) {\n                if (!list[f]) { list[f] = 0; }\n                list[f]++;\n            }\n        }\n        // Group similar tokens\n        const parts = [];\n        for (const f in list) {\n            if (list.hasOwnProperty(f)) {\n                parts.push({ word: f, count: list[f], regex: new RegExp(f, 'gi') });\n            }\n        }\n        parts.sort((a, b) => b.word.length - a.word.length || a.word.localeCompare(b.word));\n        const item_list = JSON.parse(JSON.stringify(items || []));\n        if (filter) {\n            results = item_list.filter(\n                (item) => {\n                    let match_count = 0;\n                    item.match_index = 65535;\n                    item.match = '';\n                    const field_list = {};\n                    // Initialise field match variables\n                    for (const f of fields) {\n                        field_list[f] = {\n                            value: (item[f] || '').toLowerCase(),\n                            index: 65536,\n                            matched: 0\n                        };\n                    }\n                    // Search for matches with the tokenised filter string\n                    for (const i of parts) {\n                        if (i.word) {\n                            // Check fields for matches\n                            for (const f of fields) {\n                                const field = field_list[f];\n                                const index = field.value.indexOf(i.word);\n                                field.index = index < field.index ? index : field.index;\n                                field.matches = (field.value.match(i.regex) || []).length;\n                                field.value = field.value.replace(i.regex, ' ');\n                            }\n                            // Update token match count\n                            for (const f of fields) {\n                                const field = field_list[f];\n                                if (field.matches >= i.count) {\n                                    match_count++;\n                                    // Update field matches\n                                    let changed = 0;\n                                    const tokens = (item[`match_${f}`] || item[f] || '').split(' ');\n                                    for (const k of tokens) {\n                                        if (changed >= i.count) {\n                                            break;\n                                        }\n                                        if (k.toLowerCase().indexOf(i.word) >= 0 && k.indexOf('`') < 0) {\n                                            tokens[tokens.indexOf(k)] = k.replace(i.regex, '`$&`');\n                                            changed++;\n                                        }\n                                    }\n                                    item[`match_${f}`] = tokens.join(' ');\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    // Get field with the most relevent match\n                    for (const f of fields) {\n                        const field = field_list[f];\n                        if (field.index < item.match_index && field.index >= 0) {\n                            item.match_index = field.index;\n                            item.match = f;\n                        }\n                    }\n                    return item.match_index >= 0 && item.match && (match_count >= parts.length);\n                });\n        } else {\n            results = item_list;\n        }\n        // Sort by order of relevence then name\n        results.sort((a, b) => {\n            const diff = a.match_index - b.match_index;\n            return diff === 0 ? a.name.localeCompare(b.name) : diff;\n        });\n        return results;\n    }\n\n    /**\n     * Calculate the distance between two geolocations\n     * @param latitudeA Latitude of the first point\n     * @param longitudeA Longitude of the first point\n     * @param latitudeB Latitude of the second point\n     * @param longitudeB Longitude of the second point\n     */\n    public static geodistance(latitudeA: number, longitudeA: number, latitudeB: number, longitudeB: number) {\n        const R = 6371; // Radius of the earth in km\n        const dLat = this.deg2rad(latitudeB - latitudeA);  // deg2rad below\n        const dLon = this.deg2rad(longitudeB - longitudeA);\n        const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n            Math.cos(this.deg2rad(latitudeA)) * Math.cos(this.deg2rad(latitudeB)) *\n            Math.sin(dLon / 2) * Math.sin(dLon / 2);\n\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        const d = R * c; // Distance in km\n        return d;\n    }\n\n    public static deg2rad(deg) {\n        return deg * (Math.PI / 180);\n    }\n\n    public static copyToClipboard(value: string) {\n        const el = document.createElement('textarea');  // Create a <textarea> element\n        el.value = value;                               // Set its value to the string that you want copied\n        el.setAttribute('readonly', '');                // Make it readonly to be tamper-proof\n        el.style.position = 'absolute';\n        el.style.left = '-9999px';                      // Move outside the screen to make it invisible\n        document.body.appendChild(el);                  // Append the <textarea> element to the HTML document\n        const selected =\n            document.getSelection().rangeCount > 0        // Check if there is any content selected previously\n                ? document.getSelection().getRangeAt(0)     // Store selection if found\n                : false;                                    // Mark as false to know no selection existed before\n        el.select();                                    // Select the <textarea> content\n        document.execCommand('copy');                   // Copy - only works as a result of a user action (e.g. click events)\n        document.body.removeChild(el);                  // Remove the <textarea> element\n        if (selected) {                                 // If a selection existed before copying\n            document.getSelection().removeAllRanges();    // Unselect everything on the HTML document\n            document.getSelection().addRange(selected);   // Restore the original selection\n        }\n    }\n\n    public static validate(type: string, value: any) {\n        switch (type) {\n            case 'email':\n            case 'Email':\n            case 'e-mail':\n            case 'E-mail':\n                return this.validateEmail(value);\n            case 'Number':\n            case 'number':\n                try {\n                    JSON.parse(`[${value}]`);\n                    return /^[0-9.-]*$/g.test(`${value}`);\n                } catch (e) {\n                    return false;\n                }\n            case 'integer':\n            case 'Integer':\n            case 'int':\n            case 'Int':\n                try {\n                    JSON.parse(`[${value}]`);\n                    return /^[0-9-]*$/g.test(`${value}`);\n                } catch (e) {\n                    return false;\n                }\n            case 'url':\n            case 'URL':\n                return /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/g.test(`${value}`);\n            case 'ip':\n            case 'ipv4':\n            case 'IP':\n                return /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/g.test(`${value}`);\n        }\n    }\n\n    public static download(filename, text) {\n        const element = document.createElement('a');\n        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n        element.setAttribute('download', filename);\n\n        element.style.display = 'none';\n        document.body.appendChild(element);\n\n        element.click();\n\n        document.body.removeChild(element);\n    }\n\n    constructor() {\n        throw new Error('This is a static class');\n    }\n}\n","\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { AppService } from '../../services/app.service';\n\n@Component({\n    selector: 'app-catering',\n    templateUrl: './catering.component.html',\n    styleUrls: ['./catering.component.scss']\n})\nexport class CateringComponent extends BaseDirective implements OnInit {\n    constructor(private _service: AppService, private _route: ActivatedRoute) {\n        super();\n    }\n\n    /** Name of the current page shown on the booking flow */\n    public page: string;\n\n    ngOnInit(): void {\n        this._service.title = 'Catering';\n        this.subscription('route', this._route.paramMap.subscribe(params => {\n            if (params.has('page')) {\n                this.page = params.get('page') as any;\n            }\n        }));\n     }\n}\n\n","\nimport { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Route, RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { WidgetsModule, DynamicFormComponentModule } from '@acaprojects/ngx-widgets';\n\nimport { SharedComponentModule } from '../../shared/components/shared.module';\nimport { CateringComponent } from './catering.component';\nimport { OrdersComponent } from './components/orders/orders.component';\nimport { MenusComponent } from './components/menus/menus.component';\n\nimport { CateringCategoryListComponent } from './components/menus/category-list/category-list.component';\nimport { CateringCategoryItemComponent } from './components/menus/category-list/category-item/category-item.component';\nimport { CateringCategoryModalComponent } from './overlays/category-modal/category-modal.component';\nimport { CateringGroupModalComponent } from './overlays/group-modal/group-modal.component';\nimport { CateringItemModalComponent } from './overlays/item-modal/item-modal.component';\n\n\nconst ROUTES: Route[] = [\n    { path: '', component: CateringComponent },\n    { path: ':page', component: CateringComponent},\n    { path: '**', redirectTo: '' }\n]\n\nexport const CATERING_ENTRY_COMPONENTS: Type<any>[] = [\n    CateringCategoryModalComponent,\n    CateringGroupModalComponent,\n    CateringItemModalComponent\n];\n\n@NgModule({\n    declarations: [\n        CateringComponent,\n        OrdersComponent,\n        MenusComponent,\n        CateringCategoryListComponent,\n        CateringCategoryItemComponent\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        SharedComponentModule,\n        RouterModule.forChild(ROUTES),\n        WidgetsModule,\n        DynamicFormComponentModule\n    ],\n    exports: [\n    ],\n    providers: [],\n    entryComponents: [\n    ]\n})\nexport class ConciergeCateringModule {}\n","<header>\n    <div class=\"heading\">{{ category ? 'Edit' : 'Add' }} Category</div>\n    <button mat-icon-button mat-dialog-close>\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <div class=\"body\" *ngIf=\"!loading; else loader\">\n        <div class=\"field image\" [class.loader]=\"loading_image\">\n            <img *ngIf=\"form.image_path\" [src]=\"form.image_path\" alt=\"Category Image\" />\n            <input type=\"file\" (change)=\"uploadImage($event)\" />\n            <i class=\"material-icons\" *ngIf=\"!loading_image\">cloud_upload</i>\n            <spinner class=\"center\" type=\"circle-ring\" color=\"#fff\" *ngIf=\"loading_image\"></spinner>\n        </div>\n        <div class=\"field\">\n            <label for=\"name\">Name<span>*</span></label>\n            <div name=\"name\" class=\"value\">\n                <input [(ngModel)]=\"form.name\" placeholder=\"Category name\" />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"description\">Description</label>\n            <div name=\"description\" class=\"value\">\n                <input [(ngModel)]=\"form.description\" placeholder=\"Category Description\" />\n            </div>\n        </div>\n    </div>\n</mat-dialog-content>\n<mat-dialog-actions *ngIf=\"!loading\">\n    <footer>\n        <button mat-button class=\"inverse\" *ngIf=\"category\" (touchrelease)=\"delete()\">Delete</button>\n        <button mat-button [disabled]=\"!valid\" (touchrelease)=\"save()\">Save</button>\n    </footer>\n</mat-dialog-actions>\n<ng-template #loader>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <i class=\"material-icons\" *ngIf=\"success\">done</i>\n            <spinner type=\"circle-ring\" *ngIf=\"!success\"></spinner>\n        </div>\n        <div class=\"text\" *ngIf=\"success\">Request successful</div>\n        <div class=\"text\" *ngIf=\"!success\">\n            {{ category ? (deleting ? 'Deleting' : 'Updating') : 'Adding' }} category...\n        </div>\n    </div>\n</ng-template>\n","\nimport { Component, ChangeDetectorRef, Inject, Output, EventEmitter, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { UploadManager } from '@acaprojects/ngx-uploads';\n\nimport { AppService } from '../../../../services/app.service';\nimport { CateringCategory } from '../../../../services/data/catering/catering-category.class';\nimport { BaseDirective } from '../../../../shared/globals/base.directive';\nimport { DialogEvent } from '../../../../shared/utilities/type.helpers';\n\nimport * as blobUtil from 'blob-util';\n\nexport interface CateringCategoryModalData {\n    category: CateringCategory;\n    group?: CateringCategory;\n}\n\n@Component({\n    selector: 'catering-category-modal',\n    templateUrl: './category-modal.component.html',\n    styleUrls: ['./category-modal.component.scss']\n})\nexport class CateringCategoryModalComponent extends BaseDirective implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form data for catering category */\n    public form: { [name: string]: any } = {};\n    /** Whether a request is being processed */\n    public loading: boolean;\n    /** Whether a image upload request is being processed */\n    public loading_image: boolean;\n    /** Whether the last request was successful */\n    public success: boolean;\n    /** Whether the category is being deleted */\n    public deleting: boolean;\n\n    constructor(\n        private _upload_manager: UploadManager,\n        private _service: AppService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringCategoryModalData\n    ) {\n        super();\n    }\n\n    /** Category to edit */\n    public get category(): CateringCategory {\n        return this._data.category;\n    }\n\n    /** Whether the form fields are valid */\n    public get valid(): boolean {\n        return !!this.form.name;\n    }\n\n    public ngOnInit(): void {\n        if (this.category) {\n            this.form = this.category.toJSON();\n        }\n    }\n\n    /**\n     * Save new category or changes to the existing category\n     */\n    public save() {\n        const bld = this._service.Buildings.current();\n        if (this._service && bld) {\n            this.form.zones = [bld.id];\n            this.loading = true;\n            const request = this.form.id\n                ? this._service.CateringCategories.updateItem(this.form.id, this.form)\n                : this._service.CateringCategories.add(this.form);\n            request.then(() => {\n                this.success = true;\n                this.timeout('close', () => this.event.emit({ reason: 'done' }), 3000);\n            }, () => {\n                this.loading = false;\n                this._service.notifyError(`Failed to ${this.category ? 'update' : 'create'} category`);\n            })\n        }\n    }\n\n    /**\n     * Delete the category set on the modal\n     */\n    public delete() {\n        if (this.category.id) {\n            this.deleting = true;\n            this.loading = true;\n            this._service.CateringCategories.delete(this.category.id).then(() => {\n                this.success = true;\n                this._service.notifySuccess('Succesfully deleted category');\n                this.timeout('close', () => this.event.emit({ reason: 'done' }), 3000);\n            }, () => {\n                this.deleting = false;\n                this.loading = false;\n                this._service.notifyError('Failed to delete category');\n            });\n        }\n    }\n\n    /** Upload the image to the cloud */\n    public uploadImage(event) {\n        if (event && event.target && event.target.files) {\n            const files: FileList = event.target.files;\n            if (files.length) {\n                const fileReader = new FileReader();\n                fileReader.onloadend = (e: any) => {\n                    this.loading_image = true;\n                    const arrayBuffer = e.target.result;\n                    const blob = blobUtil.arrayBufferToBlob(arrayBuffer, 'image/png');\n                    this._upload_manager.upload([blob], { file_name: files[0].name });\n                    const upload = this._upload_manager.uploads[this._upload_manager.uploads.length - 1];\n                    this.interval('upload', () => {\n                        if (upload.complete || upload.error) {\n                            if (upload.access_url && upload.complete) {\n                                console.log('Upload:', upload);\n                                this.form.image_path = upload.access_url;\n                            }\n                            this.loading_image = false;\n                            this.clearInterval('upload');\n                        }\n                    });\n                };\n                fileReader.readAsArrayBuffer(files[0]);\n            }\n        }\n    }\n}\n\n","<header>\n    <div class=\"heading\">{{ group ? 'Edit' : 'Add' }} {{ form.package ? 'Package' : 'Sub-category' }}</div>\n    <button mat-icon-button mat-dialog-close>\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <div class=\"body\" *ngIf=\"!loading; else loader\">\n        <div class=\"field image\" [class.loader]=\"loading_image\">\n            <img *ngIf=\"form.image_path\" [src]=\"form.image_path\" alt=\"Group Image\" />\n            <input type=\"file\" (change)=\"uploadImage($event)\" />\n            <i class=\"material-icons\" *ngIf=\"!loading_image\">cloud_upload</i>\n            <spinner class=\"center\" type=\"circle-ring\" color=\"#fff\" *ngIf=\"loading_image\"></spinner>\n        </div>\n        <div class=\"field\">\n            <label for=\"parent\">Parent Category</label>\n            <div name=\"parent\" class=\"value\">\n                {{ category?.name }}\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"is-package\"></label>\n            <div name=\"is-package\" class=\"value\">\n                <a-checkbox [(ngModel)]=\"form.package\" label=\"Package\"></a-checkbox>\n            </div>\n        </div>\n        <div class=\"field\" *ngIf=\"form.package\">\n            <label for=\"hide\"></label>\n            <div name=\"hide\" class=\"value\">\n                <a-checkbox [(ngModel)]=\"form.hide\" label=\"Out of stock\"></a-checkbox>\n            </div>\n        </div>\n        <div class=\"field\" *ngIf=\"form.package\">\n            <label for=\"order-anytime\"></label>\n            <div name=\"order-anytime\" class=\"value\">\n                <a-checkbox [(ngModel)]=\"form.order_anytime\" label=\"Can order anytime\"></a-checkbox>\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"name\">Name<span>*</span></label>\n            <div name=\"name\" class=\"value\">\n                <input [(ngModel)]=\"form.name\" [placeholder]=\"(form.package ? 'Package' : 'Sub-category') + ' Name'\" />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"name\">Type<span>*</span></label>\n            <div name=\"name\" class=\"value\">\n                <dropdown\n                    klass=\"form\"\n                    [list]=\"type_options\"\n                    [model]=\"type\"\n                    (modelChange)=\"form.catering_type = type_options[$event]\"\n                ></dropdown>\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"description\">Description</label>\n            <div name=\"description\" class=\"value\">\n                <input\n                    [(ngModel)]=\"form.description\"\n                    [placeholder]=\"(form.package ? 'Package' : 'Sub-category') + ' Description'\"\n                />\n            </div>\n        </div>\n        <div class=\"field\" *ngIf=\"form.package\">\n            <label for=\"price\">Price</label>\n            <div name=\"price\" class=\"value\">\n                <input type=\"number\" [(ngModel)]=\"form.unit_price\" placeholder=\"Package Price\" />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"must-select\">Items to select from category</label>\n            <div name=\"must-select\" class=\"value\">\n                <input\n                    type=\"number\"\n                    [(ngModel)]=\"form.must_select\"\n                    placeholder=\"User must select X items from package\"\n                />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"price\">Minimum number of items</label>\n            <div name=\"price\" class=\"value\">\n                <input\n                    type=\"number\"\n                    [(ngModel)]=\"form.minimum_quantity\"\n                    placeholder=\"Minimum number of items. Defaults to 0\"\n                />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"price\">Maximum number of items</label>\n            <div name=\"price\" class=\"value\">\n                <input\n                    type=\"number\"\n                    [(ngModel)]=\"form.maximum_quantity\"\n                    placeholder=\"Maximum number of items. Defaults to 100\"\n                />\n            </div>\n        </div>\n    </div>\n</mat-dialog-content>\n<mat-dialog-actions>\n    <div class=\"footer\" *ngIf=\"!loading\">\n        <button mat-button [disabled]=\"!valid\" (touchrelease)=\"save()\">Save</button>\n    </div>\n</mat-dialog-actions>\n<ng-template #loader>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <i class=\"material-icons\" *ngIf=\"success\">done</i>\n            <spinner type=\"circle-ring\" *ngIf=\"!success\"></spinner>\n        </div>\n        <div class=\"text\" *ngIf=\"success\">Request successful</div>\n        <div class=\"text\" *ngIf=\"!success\">{{ category ? 'Updating' : 'Adding' }} category...</div>\n    </div>\n</ng-template>\n","\nimport { Component, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { UploadManager } from '@acaprojects/ngx-uploads';\n\nimport { AppService } from '../../../../services/app.service';\nimport { Utils } from '../../../../shared/utility.class';\nimport { CateringCategory } from '../../../../services/data/catering/catering-category.class';\nimport { BaseDirective } from '../../../../shared/globals/base.directive';\nimport { CateringCategoryModalData } from '../category-modal/category-modal.component';\nimport { HashMap, DialogEvent } from '../../../../shared/utilities/type.helpers';\n\nimport * as blobUtil from 'blob-util';\n\n@Component({\n    selector: 'catering-group-modal',\n    templateUrl: './group-modal.component.html',\n    styleUrls: ['./group-modal.component.scss']\n})\nexport class CateringGroupModalComponent extends BaseDirective {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form data for catering category */\n    public form: HashMap = {};\n    /** Whether a request is being processed */\n    public loading: boolean;\n    /** Whether a image upload request is being processed */\n    public loading_image: boolean;\n    /** Whether the last request was successful */\n    public success: boolean;\n\n    public type_options: string[] = ['none', 'kitchen', 'pantry'];\n\n    /** Parent category */\n    public get category(): CateringCategory {\n        return this._data.category;\n    }\n\n    /** Category to edit */\n    public get group(): CateringCategory {\n        return this._data.group;\n    }\n\n    /** Whether the form fields are valid */\n    public get valid(): boolean {\n        return !!this.form.name && this.type >= 0;\n    }\n\n    /** Index of the active catering type */\n    public get type(): number {\n        return this.type_options.indexOf(this.form.catering_type || this.type_options[0]);\n    }\n\n    constructor(\n        private _upload_manager: UploadManager,\n        private _service: AppService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringCategoryModalData\n    ) {\n        super();\n    }\n\n    public init(): void {\n        if (this.group) {\n            this.form = { catering_type: this.category, ...this.group };\n        }\n    }\n\n    /**\n     * Save new category or changes to the existing category\n     */\n    public save() {\n        const bld = this._service.Buildings.current();\n        if (this._service && bld) {\n            this.form.zones = Utils.unique([...this.category.zones, bld.id]);\n            this.form.parent_categories = [this.category.id];\n            this.loading = true;\n            const data = new CateringCategory(this.form).toJSON();\n            const request = this.form.id\n                ? this._service.CateringCategories.updateItem(this.form.id, data)\n                : this._service.CateringCategories.add(data)\n            request.then(() => {\n                this.success = true;\n                this.timeout('close', () => this.event.emit({ reason: 'done' }), 3000);\n            }, () => {\n                this.loading = false;\n                this._service.notifyError(`Failed to ${this.category ? 'update' : 'create'} category`);\n            });\n        }\n    }\n\n    /** Upload the image to the cloud */\n    public uploadImage(event) {\n        if (event && event.target && event.target.files) {\n            const files: FileList = event.target.files;\n            if (files.length) {\n                const fileReader = new FileReader();\n                fileReader.onloadend = (e: any) => {\n                    const arrayBuffer = e.target.result;\n                    const blob = blobUtil.arrayBufferToBlob(arrayBuffer, 'image/png');\n                    this._upload_manager.upload([blob], { file_name: files[0].name });\n                    const upload = this._upload_manager.uploads[this._upload_manager.uploads.length - 1];\n                    this.interval('upload', () => {\n                        if (upload.complete || upload.error) {\n                            if (upload.access_url && upload.complete) {\n                                this.form.image_path = upload.access_url;\n                            }\n                            console.log('Complete:', upload);\n                            this.clearInterval('upload');\n                        }\n                    });\n                };\n                fileReader.readAsArrayBuffer(files[0]);\n            }\n        }\n    }\n}\n\n","<header>\n    <div class=\"heading\">{{ item ? 'Edit' : 'Add' }} Item</div>\n    <button mat-icon-button *ngIf=\"!loading\" mat-dialog-close>\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'close' }\"></app-icon>\n    </button>\n</header>\n<mat-dialog-content>\n    <div class=\"body\" *ngIf=\"!loading; else loader\">\n        <div class=\"field\">\n            <label for=\"parent\">Parent {{ category.package ? 'Package' : 'Category' }}</label>\n            <div name=\"parent\" class=\"value\">\n                {{ category?.name }}\n            </div>\n        </div>\n        <div class=\"field\" *ngIf=\"group\">\n            <label for=\"parent\">Group</label>\n            <div name=\"parent\" class=\"value\">\n                {{ group?.name }}\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"name\">Type<span>*</span></label>\n            <div name=\"name\" class=\"value\">\n                <dropdown\n                    klass=\"form\"\n                    [list]=\"type_options\"\n                    [model]=\"type\"\n                    (modelChange)=\"form.catering_type = type_options[$event]\"\n                ></dropdown>\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"name\">Name<span>*</span></label>\n            <div name=\"name\" class=\"value\">\n                <input [(ngModel)]=\"form.name\" placeholder=\"Item Name\" />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"description\">Description</label>\n            <div name=\"description\" class=\"value\">\n                <input [(ngModel)]=\"form.description\" placeholder=\"Item Description\" />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"hide\"></label>\n            <div name=\"hide\" class=\"value\">\n                <a-checkbox [(ngModel)]=\"form.out_of_stock\" label=\"Out of stock\"></a-checkbox>\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"order-anytime\"></label>\n            <div name=\"order-anytime\" class=\"value\">\n                <a-checkbox [(ngModel)]=\"form.order_anytime\" label=\"Can order anytime\"></a-checkbox>\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"allegy\">Allegen Information</label>\n            <div name=\"allegy\" class=\"value\">\n                <input [(ngModel)]=\"form.allergy\" placeholder=\"Allegen Information\" />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"price\">Supplier Cost</label>\n            <div name=\"price\" class=\"value\">\n                <input type=\"number\" [(ngModel)]=\"form.supplier_cost\" placeholder=\"Supplier Cost\" />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"price\">Price</label>\n            <div name=\"price\" class=\"value\">\n                <input type=\"number\" [(ngModel)]=\"form.unit_price\" placeholder=\"Item Price\" />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"price\">Minimum number of items</label>\n            <div name=\"price\" class=\"value\">\n                <input\n                    type=\"number\"\n                    [(ngModel)]=\"form.minimum_quantity\"\n                    placeholder=\"Minimum number of items. Defaults to 0\"\n                />\n            </div>\n        </div>\n        <div class=\"field\">\n            <label for=\"price\">Maximum number of items</label>\n            <div name=\"price\" class=\"value\">\n                <input\n                    type=\"number\"\n                    [(ngModel)]=\"form.maximum_quantity\"\n                    placeholder=\"Maximum number of items. Defaults to 100\"\n                />\n            </div>\n        </div>\n    </div>\n</mat-dialog-content>\n<mat-dialog-actions *ngIf=\"!loading\">\n    <div class=\"footer\">\n        <button mat-button [disabled]=\"!valid\" (touchrelease)=\"save()\">Save</button>\n    </div>\n</mat-dialog-actions>\n<ng-template #loader>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <i class=\"material-icons\" *ngIf=\"success\">done</i>\n            <spinner type=\"circle-ring\" *ngIf=\"!success\"></spinner>\n        </div>\n        <div class=\"text\" *ngIf=\"success\">Request successful</div>\n        <div class=\"text\" *ngIf=\"!success\">{{ item ? 'Updating' : 'Adding' }} item...</div>\n    </div>\n</ng-template>\n","import { Component, OnInit, Inject, Output, EventEmitter } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\n\nimport { AppService } from '../../../../services/app.service';\nimport { CateringCategory } from '../../../../services/data/catering/catering-category.class';\nimport { CateringItem } from '../../../../services/data/catering/catering-item.class';\nimport { BaseDirective } from '../../../../shared/globals/base.directive';\nimport { HashMap, DialogEvent } from '../../../../shared/utilities/type.helpers';\n\nexport interface CateringItemModalData {\n    category: CateringCategory;\n    group: CateringCategory;\n    item?: CateringItem;\n}\n\n@Component({\n    selector: 'catering-item-modal',\n    templateUrl: './item-modal.component.html',\n    styleUrls: ['./item-modal.component.scss']\n})\nexport class CateringItemModalComponent extends BaseDirective implements OnInit {\n    /** Emitter for user action on the modal */\n    @Output() public event = new EventEmitter<DialogEvent>();\n    /** Form data for catering category */\n    public form: HashMap = {};\n    /** Whether a request is being processed */\n    public loading: boolean;\n    /** Whether the last request was successful */\n    public success: boolean;\n\n    public type_options: string[] = ['none', 'kitchen', 'pantry'];\n\n    /** Parent category of the item */\n    public get category(): CateringCategory {\n        return this._data.category;\n    }\n\n    /** Parent group of the item */\n    public get group(): CateringCategory {\n        return this._data.group;\n    }\n\n    /** Catering Item to edit */\n    public get item(): CateringItem {\n        return this._data.item;\n    }\n\n    /** Whether the form fields are valid */\n    public get valid(): boolean {\n        return !!this.form.name && this.type >= 0;\n    }\n\n    constructor(\n        private _service: AppService,\n        @Inject(MAT_DIALOG_DATA) private _data: CateringItemModalData\n    ) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        if (this.item) {\n            const group: any = this.group || {};\n            const category: any = this.category || {};\n            this.form = {\n                catering_type: group.catering_type || category.catering_type,\n                ...this.item\n            };\n        }\n    }\n\n    /** Index of the active catering type */\n    public get type(): number {\n        return this.type_options.indexOf(this.form.catering_type || this.type_options[0]);\n    }\n\n    /**\n     * Save new category or changes to the existing category\n     */\n    public save() {\n        const bld = this._service.Buildings.current();\n        if (this._service && bld) {\n            this.form.zones = [bld.id];\n            this.form.categories = [this.category.id];\n            this.loading = true;\n            const data = new CateringCategory(this.form).toJSON();\n            const request = this.form.id\n                ? this._service.CateringItems.updateItem(this.form.id, data)\n                : this._service.CateringItems.add(data);\n            request.then(\n                () => {\n                    this.success = true;\n                    this.timeout('close', () => this.event.emit({ reason: 'done' }), 3000);\n                },\n                () => {\n                    this.loading = false;\n                    this._service.notifyError(`Failed to ${this.category ? 'update' : 'create'} category`);\n                }\n            );\n        }\n    }\n}\n","<div class=\"container\" [class.show]=\"model.show\">\n    <ng-container *ngFor=\"let item of model.menu.list\">\n        <a\n            [href]=\"item.link || item.url\"\n            [routerLink]=\"!item.link && !item.url ? ['/', item.id] : undefined\"\n            routerLinkActive=\"active\"\n            [queryParams]=\"!item.link && !item.url ? item.query : undefined\"\n            [target]=\"item.link || item.url ? '_blank' : ''\"\n        >\n            <div class=\"nav-item\" (touchrelease)=\"goto(item)\">\n                <app-icon [icon]=\"item.icon\"></app-icon>\n                <div class=\"text\" *ngIf=\"!item.hide_name\">{{ item.name }}</div>\n                <div class=\"bar\"></div>\n            </div>\n        </a>\n    </ng-container>\n    <div class=\"bottom-block\" *ngIf=\"building\">\n        <div class=\"location\" (touchrelease)=\"show_list = !show_list\">{{ building.name }}</div>\n        <div class=\"bld-list\" [class.show]=\"show_list\">\n            <div\n                class=\"item\"\n                *ngFor=\"let item of building_list || []\"\n                (touchrelease)=\"changeBuilding(item)\"\n                [title]=\"item.code + ' | ' + item.name + ' - ' + item.address\"\n            >\n                <div class=\"text\">{{ item.name }}</div>\n                <app-icon *ngIf=\"item.id === building.id\" [icon]=\"{ class: 'material-icons', content: 'done'}\"></app-icon>\n            </div>\n        </div>\n    </div>\n</div>\n","\nimport { Component, OnInit } from '@angular/core';\n\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { AppService } from '../../../services/app.service';\nimport { IBuilding } from '../../../services/data/buildings.service';\n\n@Component({\n    selector: 'sidebar-menu',\n    templateUrl: './sidebar-menu.template.html',\n    styleUrls: ['./sidebar-menu.styles.scss']\n})\nexport class SidebarMenuComponent extends BaseDirective implements OnInit {\n    /** Current building */\n    public building: IBuilding;\n    /** List of available buildings */\n    public building_list: IBuilding[];\n    /** Whether to show building list */\n    public show_list: boolean;\n\n    public model: any = {};\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.init();\n        this.subscription('show', this.service.listen('APP.show_sidebar', (value) => this.model.show = value));\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init);\n        }\n        this.loadBuildings();\n        this.model.menu = this.service.Settings.get('app.menu');\n        this.subscription('notifications', this.service.Bookings.listen('notifications', (value) => this.model.unread = value));\n        this.subscription('building', this.service.Buildings.listen((bld) => {\n            this.building = bld;\n        }));\n        this.interval('animate', () => this.model.animated = !this.model.animated, 2000);\n    }\n\n    public goto(item: any) {\n        if (item.id) {\n            this.service.set('APP.show_sidebar', false);\n            this.service.navigate(item.id, item.query || {});\n        } else if (item.link || item.url) {\n            window.open(item.link || item.url, 'blank_');\n        }\n    }\n\n    public loadBuildings() {\n        this.building_list = this.service.Buildings.list() || [];\n        let saved_building;\n        if (localStorage) {\n            const id = localStorage.getItem('CONCIERGE.building') || '';\n            if (id) {\n                saved_building = this.building_list.find(i => i.id === id);\n            }\n        }\n        if (saved_building) {\n            this.changeBuilding(saved_building);\n        }\n    }\n\n    public changeBuilding(bld: IBuilding) {\n        if (localStorage) {\n            localStorage.setItem('CONCIERGE.building', bld.id);\n        }\n        this.service.Buildings.set(bld.id);\n        this.show_list = false;\n    }\n}\n","<header>\n    <div class=\"logo\">\n        <img *ngIf=\"model.logo && (model.logo.type==='image' || model.logo.type==='img')\" alt=\"Logo\" [src]=\"model.logo.src\">\n        <i *ngIf=\"model.logo && model.logo.type!=='image' && model.logo.type!=='img'\" [class]=\"model.logo.src\"></i>\n    </div>\n    <div class=\"options\">\n        <div class=\"menu mobile-only\" (touchrelease)=\"toggleSidebar()\">\n            <i class=\"material-icons\">{{model.show_sidebar ? 'close' : 'menu'}}</i>\n        </div>\n        <div class=\"book\">\n            <button mat-button (touchrelease)=\"newMeeting()\">Book meeting</button>\n        </div>\n        <section class=\"level\" *ngIf=\"model.level && model.level.list && model.show_level\">\n            <dropdown klass=\"topbar\"  [list]=\"model.level.list\" [(model)]=\"model.level.active\" (modelChange)=\"setLevel(model.level.list[$event])\">\n            </dropdown>\n        </section>\n        <section class=\"level\" *ngIf=\"model.room_types && model.show_level\">\n            <dropdown klass=\"topbar\"  [list]=\"model.room_types\" [(model)]=\"model.active_room_type\" (modelChange)=\"setRoomType(model.room_types[$event])\">\n            </dropdown>\n        </section>\n        <div class=\"dropdown\" *ngIf=\"model.show_breakdown\">\n            <custom-dropdown klass=\"topbar\" [(show)]=\"model.show_out\" [content]=\"out_header\" [template]=\"out_template\">\n                <ng-template #out_header>\n                    <div class=\"icon\" (touchrelease)=\"model.show_out = !model.show_out\">\n                        <i class=\"material-icons\">vpn_key</i>\n                    </div>\n                    <div class=\"text\" (touchrelease)=\"model.show_out = !model.show_out\">Legend</div>\n                    <div class=\"icon\" (touchrelease)=\"model.show_out = !model.show_out\">\n                        <i class=\"material-icons\">{{model.show_out ? 'arrow_drop_up' : 'arrow_drop_down'}}</i>\n                    </div>\n                </ng-template>\n                <ng-template #out_template>\n                    <div class=\"colours list\">\n                        <div class=\"item\" *ngFor=\"let item of legend\" [id]=\"'legend-' + item.id\" [class.is-disabled]=\"!item.enabled\" (touchrelease)=\"toggleLegend(item)\">\n                            <div class=\"colour\" [style.background-color]=\"item.color | safestyle\"></div>\n                            <div class=\"text\">{{ item.name }}</div>\n                        </div>\n                    </div>\n                </ng-template>\n            </custom-dropdown>\n        </div>\n        <div class=\"breakdown\" *ngIf=\"model.show_breakdown\">\n            <div class=\"text\">Set Up/Breakdown</div>\n            <toggle [(model)]=\"model.breakdown\" (modelChange)=\"updateSetting('breakdown')\" type=\"android\"></toggle>\n        </div>\n        <div class=\"title not-mobile\" *ngIf=\"model.show_title\">\n            <div class=\"text\">{{ model.title }}</div>\n        </div>\n    </div>\n    <div class=\"date not-mobile\">\n        <button mat-icon-button [disabled]=\"model.today\" (touchrelease)=\"!model.today ? offsetDate(-1) : ''\">\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'keyboard_arrow_left'}\"></app-icon>\n        </button>\n        <div class=\"day\">{{model.display_date}}</div>\n        <button mat-icon-button (touchrelease)=\"offsetDate(1)\">\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'keyboard_arrow_right'}\"></app-icon>\n        </button>\n    </div>\n    <div class=\"cal\" tooltip [template]=\"calendar\" [(show)]=\"model.show_calendar\" position=\"bottom\" offset=\"end\" [triangle]=\"false\" (touchrelease)=\"model.show_calendar = true\" [class.active]=\"model.show_calendar\">\n        <app-icon [icon]=\"{ class: 'material-icons', content: 'event'}\"></app-icon>\n        <ng-template #calendar>\n            <a-date-picker klass=\"themed\" [(ngModel)]=\"model.date\" [counters]=\"event_counts\" (ngModelChange)=\"changeDate()\"></a-date-picker>\n            <div class=\"pending-count\">\n                <div class=\"dot\"></div>\n                <div class=\"text\">Restricted rooms to confirm: <span>{{ request_count }} Request{{ request_count === '1' ? '' : 's' }}</span></div>\n            </div>\n        </ng-template>\n    </div>\n</header>\n","\nimport { Component, OnInit } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { ILevel } from '../../../services/data/buildings.service';\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { AppService } from '../../../services/app.service';\nimport { BookingModalComponent } from '../../../overlays/booking-modal';\n\nimport * as dayjs from 'dayjs';\nimport { NewVisitorModalComponent } from '../../../overlays/new-visitor-modal/new-visitor-modal.component';\nimport { DialogEvent } from '../../../shared/utilities/type.helpers';\n\nexport interface ILegendKey {\n    /** Identifier of the key */\n    id: string;\n    /** Display name of the legend key */\n    name: string;\n    /** Colour associated with the legend key */\n    color: string;\n    /** Whether the legend item is enabled */\n    enabled: boolean;\n}\n\n@Component({\n    selector: 'topbar-menu',\n    templateUrl: './topbar-menu.template.html',\n    styleUrls: ['./topbar-menu.styles.scss']\n})\nexport class TopbarMenuComponent extends BaseDirective implements OnInit {\n    public model: any = {};\n    /** Timestamp for today */\n    public today: number = dayjs().valueOf();\n    /** List of the legend keys to display */\n    public legend: ILegendKey[] = [\n        { id: 'client', name: 'Client', color: '#1F40E6', enabled: true },\n        { id: 'external', name: 'External', color: '#8C5AC8', enabled: true },\n        { id: 'internal', name: 'Internal', color: '#e79fc7', enabled: true },\n        { id: 'interview', name: 'Interview', color: '#348D02', enabled: true },\n        { id: 'setup', name: 'Set-up', color: '#d32f2f', enabled: true },\n        { id: 'training', name: 'Training', color: '#F0E700', enabled: true },\n        { id: 'declined', name: 'Declined', color: '#CCC', enabled: true },\n    ];\n\n    constructor(private service: AppService, private router: Router, private _dialog: MatDialog) {\n        super();\n    }\n\n    /** Number of pending meetings for the active month */\n    public get request_count(): number {\n        const start = dayjs(this.model.date).startOf('M');\n        const end = start.endOf('M');\n        let count = 0;\n        const pending_list = this.event_counts;\n        for (let date = start; date.isBefore(end, 'm'); date = date.add(1, 'd')) {\n            count += (pending_list[date.format('YYYY-MM-DD')] || 0);\n        }\n        return count;\n    }\n\n    /** Mapping of dates to number of pending bookings */\n    public get event_counts(): { [date: string]: number } {\n        return this.service.get('CONCIERGE.pending_bookings') || {}\n    }\n\n    public ngOnInit() {\n        this.model.date = dayjs().valueOf();\n        this.today = dayjs().subtract(6, 'M').valueOf();\n        this.model.color = [];\n        this.service.set('APP.date', this.model.date);\n        this.init();\n\n        this.updateTime();\n        this.interval('time', () => this.updateTime(), 10 * 1000);\n        this.subscription('routing_events', this.router.events.subscribe((event) => {\n            if (event instanceof NavigationEnd) {\n                this.model.show_breakdown = event.url.indexOf('day-view') >= 0;\n                this.model.show_level = event.url.indexOf('day-view') >= 0 || event.url.indexOf('week-view') >= 0;\n                this.model.show_add_user = event.url.indexOf('visitor-list') >= 0;\n                this.model.show_title = event.url.indexOf('reports') >= 0;\n                this.model.show_out = false;\n                this.service.set('CONCIERGE.legend', this.legend.reduce((m, i) => {\n                    m[i.id] = i.enabled;\n                    return m;\n                }, {}));\n            }\n        }));\n        this.subscription('show', this.service.listen('APP.show_sidebar', (value) => this.model.show_sidebar = value));\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init());\n        }\n        this.model.color = [\n            { id: 'std', name: 'Standard', color: '#79b700' },\n            { id: 'wkshp', name: 'Workshop', color: '#00AEFF' },\n            { id: 'spev', name: 'Special Event', color: '#FBD350' },\n            { id: 'nocat', name: 'Un-categorised', color: '#B4B4B4' }\n        ];\n        this.model.logo = this.service.Settings.get('app.logo');\n        this.subscription('date', this.service.listen('APP.date', (date) => {\n            this.model.date = date;\n            this.model.display_date = dayjs(date || '').format('DD/MM/YYYY');\n            const today = dayjs();\n            // this.model.today = today.isSame(date, 'd');\n        }));\n        this.model.show_breakdown = this.router.url.indexOf('day-view') >= 0;\n        this.model.show_level =\n            this.router.url.indexOf('day-view') >= 0 ||\n            this.router.url.indexOf('week-view') >= 0;\n        this.subscription('level', this.service.listen('APP.level', (id) => this.setLevelByID(id)));\n        this.subscription(\n            'title',\n            this.service.listen('APP.title', (value) => this.model.title = value )\n        );\n\n        this.service.Buildings.listen((bld) => {\n            if (bld && bld.levels && bld.levels.length) {\n                this.model.level = {\n                    list: [...bld.levels] || [],\n                    active: 0\n                };\n                this.model.level.list.unshift({ id: -1, name: 'All Levels' });\n                const level = this.service.Settings.get('app.default_level');\n                if (level) {\n                    const found = bld.levels.find(i => i.id === level);\n                    this.service.set('APP.level', found ? found.id : this.model.level.list[1].id);\n                } else {\n                    this.service.set('APP.level', this.model.level.list[1].id);\n                }\n                const room_type_map = this.service.Buildings.organisation().space_types;\n                this.model.room_types = Object.keys(room_type_map)\n                    .map(i => ({ id: i, name: room_type_map[i] }));\n                this.model.room_types.unshift({ id: -1, name: 'All Room Types' });\n                this.model.active_room_type = 0;\n            }\n        });\n\n        const building = this.service.Buildings.current();\n        if (building) {\n            this.model.level = {\n                list: [...building.levels] || [],\n                active: 1\n            };\n            this.model.level.list.unshift({ id: -1, name: 'All Levels' });\n        }\n    }\n\n    /**\n     * Toggle the enabled state of the given legend key\n     * @param item Legend key to toggle\n     */\n    public toggleLegend(item: ILegendKey) {\n        item.enabled = !item.enabled;\n        this.service.set('CONCIERGE.legend', this.legend.reduce((m, i) => {\n            m[i.id] = i.enabled;\n            return m;\n        }, {}));\n    }\n\n    public offsetDate(value: number = 1) {\n        const date = dayjs(this.model.date || '').add(value, 'd');\n        this.model.date = date.valueOf();\n        this.model.display_date = dayjs(date || '').format('DD/MM/YYYY');\n        const today = dayjs();\n        // this.model.today = today.isSame(date, 'd');\n        this.service.set('APP.date', this.model.date);\n    }\n\n    public updateSetting(name: string) {\n        this.service.set(`APP.${name}`, this.model[name]);\n    }\n\n    public updateTime() {\n        this.model.time = dayjs().format('h:mm A');\n    }\n\n    public setLevelByID(id) {\n        this.timeout('set_level', () => {\n            if (this.model.level && this.model.level.list) {\n                const found = this.model.level.list.find(i => i.id === id);\n                return !found ? null : this.setLevel(found, false);\n            }\n        });\n    }\n\n    public changeDate() {\n        this.service.set('APP.date', this.model.date);\n        this.model.show_calendar = false;\n    }\n\n    public toggleSidebar() {\n        this.model.show_sidebar = !this.model.show_sidebar;\n        this.service.set('APP.show_sidebar', this.model.show_sidebar);\n    }\n\n    public setLevel(item: ILevel, update: boolean = true) {\n        if (this.model.level) {\n            this.model.level.active = this.model.level.list.findIndex(i => i.id === item.id);\n            this.model.show_levels = false;\n            if (update) {\n                this.service.set('APP.level', item.id);\n            }\n        }\n    }\n\n    public setRoomType(type: { id: string, name: string }) {\n        this.model.active_room_type = this.model.room_types.findIndex(i => i.id === type.id);\n        this.service.set('APP.room_type', type.id);\n    }\n\n    public newVisitor() {\n        const ref = this._dialog.open(NewVisitorModalComponent);\n        ref.componentInstance.event.subscribe((event: DialogEvent) => {\n            if (!event) { return; }\n            if (event.reason === 'done') {\n                this.service.Bookings.query({ complete: true });\n            }\n            ref.close();\n        });\n    }\n\n    public newMeeting() {\n        const ref = this._dialog.open(BookingModalComponent, { data: {} });\n    }\n}\n","<div class=\"container\">\n    <div class=\"group\">\n        <div class=\"title\">Notifications</div>\n        <div class=\"list\" *ngIf=\"model.settings\">\n            <div *ngFor=\"let item of model.settings.list\" class=\"item\">\n                <div class=\"name\">{{ item.name }}</div>\n                <div *ngFor=\"let bk of model[item.id]\" class=\"booking\">\n                    <div class=\"details\">\n                        <div class=\"subject\">{{ bk.title }}</div>\n                        <div class=\"info host\">{{ bk.display?.room || 'No location set' }} | <strong>Host:</strong> {{ bk.organiser?.name }}</div>\n                    </div>\n                    <div class=\"period\">\n                        <div class=\"info date\">{{ bk.display?.date }}</div>\n                        <div class=\"info time\">{{ bk.display?.time }}</div>\n                    </div>\n                </div>\n                <div *ngIf=\"!model[item.id] || model[item.id].length === 0\"> No bookings</div>\n            </div>\n        </div>\n    </div>\n</div>","\nimport { Component, OnInit } from '@angular/core';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { AppService } from '../../services/app.service';\n\n@Component({\n    selector: 'app-notifications',\n    templateUrl: './notifications.template.html',\n    styleUrls: ['./notifications.styles.scss']\n})\nexport class AppNotificationsComponent extends BaseDirective implements OnInit {\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.service.title = 'Notifications';\n        this.model.settings = this.service.Settings.get('app.notifications');\n        this.service.Bookings.listen<any>('notification_list', (resp) => {\n            if (!resp) { return; }\n            this.model.parking = resp.parking;\n            this.model.catering = resp.catering;\n            this.model.not_confirmed = resp.not_confirmed;\n        });\n    }\n}\n","<div class=\"container\" *ngIf=\"model.user && !model.loading\">\n    <div class=\"header\">\n        <topbar-menu></topbar-menu>\n    </div>\n    <div class=\"body\">\n        <section>\n            <sidebar-menu></sidebar-menu>\n        </section>\n        <main>\n            <router-outlet></router-outlet>\n        </main>\n    </div>\n    <feedback></feedback>\n</div>\n<div class=\"container loader\" *ngIf=\"model.loading\">\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <spinner type=\"circle-ring\" color=\"#fff\"></spinner>\n        </div>\n        <div class=\"text\">Loading application data...</div>\n    </div>\n</div>\n<div class=\"container login\" *ngIf=\"!model.user\">\n    <login-display></login-display>\n</div>","/**\n * @Author: Alex Sorafumo\n * @Date:   17/10/2016 4:10 PM\n * @Email:  alex@yuion.net\n * @Filename: simple.component.ts\n * @Last modified by:   Alex Sorafumo\n * @Last modified time: 01/02/2017 1:37 PM\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\n\nimport { AppService } from '../services/app.service';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'app-shell',\n    styleUrls: ['./shell.styles.scss'],\n    templateUrl: './shell.template.html'\n})\nexport class AppShellComponent implements OnInit {\n\n    public model: any = {};\n    public timers: any = {};\n\n    constructor(private service: AppService, private router: Router) {\n        this.model.routing = {};\n        this.router.events.subscribe((e) => {\n            if (e instanceof NavigationEnd) {\n                this.checkRoute();\n            }\n        });\n    }\n\n    public ngOnInit() {\n        this.model.year = moment().format('YYYY');\n        this.service.Users.listen('user', (user) => {\n            this.model.user = user;\n        });\n        this.init();\n    }\n\n    public init() {\n        this.model.loading = true;\n        if (!this.service.ready()) {\n            return setTimeout(() => this.init(), 200);\n        }\n        this.model.loading = false;\n        this.model.tiles = this.service.Settings.get('app.tiles');\n        this.checkRoute();\n        this.initBuilding();\n    }\n\n    public home() {\n        this.service.navigate('');\n    }\n\n    public initBuilding() {\n        const list = this.service.Buildings.list();\n        if (!list || list.length <= 0) {\n            return setTimeout(() => this.initBuilding(), 500);\n        }\n        this.model.bld_count = list.length;\n        let bld = '';\n        if (localStorage) {\n            bld = localStorage.getItem('CONCIERGE.building');\n        }\n        this.model.show_building = !bld && this.model.bld_count > 1;\n        this.service.Buildings.listen((building) => this.model.bld = building);\n    }\n\n    public route() {\n        if (this.model.routing.sub) {\n            this.service.navigate(this.model.routing.back);\n        }\n    }\n\n    public checkRoute() {\n        const route = this.router.url.split('?')[0];\n        if (this.model.menu) {\n            this.model.menu.show_footer = this.model.hide_routes.indexOf(route) < 0;\n        }\n        if (this.model.banner) {\n            this.model.banner.show = this.model.hide_routes.indexOf(route) < 0;\n        }\n        if (this.model.tiles) {\n            for (const tile of this.model.tiles) {\n                tile.active = route.indexOf(`/${tile.id}`) === 0;\n                if (tile.active && this.model.banner) {\n                    this.model.explore = tile.id.indexOf('explore') >= 0 || route.indexOf('book/room') >= 0;\n                    this.model.banner.color = this.model.banner.color || tile.color !== '#fff' ? tile.color : '';\n                    this.model.banner.page = {\n                        links: this.service.Settings.get(`app.${tile.settings}.banner.links`) || this.model.banner.links || []\n                    };\n                }\n            }\n        }\n    }\n}\n","<div class=\"container fadeInDown animated\">\n    <header>\n        <div class=\"text\">{{model.period}}</div>\n        <button mat-icon-button (touchrelease)=\"event.emit()\">\n            <app-icon [icon]=\"{ class: 'material-icons', content: 'close'}\"></app-icon>\n        </button>\n    </header>\n    <section *ngIf=\"bookings\">\n        <div class=\"item\" *ngFor=\"let item of bookings\">\n            <div class=\"room\">\n                <div class=\"name\">{{item.room?.name}}</div>\n                <div class=\"info\" *ngIf=\"item.room && item.room.level\">{{item.room.level.name}}</div>\n            </div>\n            <div class=\"host\">\n                <div class=\"name\" [title]=\"item.organiser?.name || item.organiser\">\n                    <span>Host:</span> {{item.organiser?.name || item.organiser}}\n                </div>\n                <div class=\"info attendees\">\n                    {{item.attendees?.length || '0'}} Attendee{{item.attendees && item.attendees.length === 1 ? '' :\n                    's'}}\n                </div>\n            </div>\n            <div class=\"time\">\n                <div class=\"name\">\n                    <div>Start:</div>\n                    <div class=\"ntime\">{{item.display?.start}}</div>\n                </div>\n                <div class=\"name\">\n                    <div>End:</div>\n                    <div class=\"ntime\">{{item.display?.end}}</div>\n                </div>\n            </div>\n        </div>\n    </section>\n</div>\n","import { Component, Input, Output, EventEmitter, OnChanges } from '@angular/core';\n\nimport { BaseDirective } from '../../../shared/globals/base.directive';\nimport { IBooking } from '../../../services/data/bookings.service';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'booking-list',\n    templateUrl: './booking-list.template.html',\n    styleUrls: ['./booking-list.styles.scss']\n})\nexport class BookingListComponent extends BaseDirective implements OnChanges {\n    @Input() public bookings: IBooking[];\n    @Input() public time: number;\n    @Output() public event = new EventEmitter();\n\n    public model: any = {};\n\n    public ngOnChanges(changes: any) {\n        if (changes.time && this.time) {\n            const time = moment(this.time || '');\n            this.model.period = `${time.format('ddd Do MMM h:mm A')} - ${time.add(1, 'h').format('h:mm A')}`;\n        }\n    }\n}\n","<div class=\"container\">\n    <div class=\"cntrs\" [class.blur]=\"model.selected\">\n        <header class=\"header\">\n            <div class=\"time\"><div class=\"block\">Time</div></div>\n            <div class=\"day\" *ngFor=\"let item of model.days\" [class.weekend]=\"item.weekend\">\n                <div class=\"date\">{{item.display}}</div>\n                <div class=\"bar\" [class.show]=\"item.active\"></div>\n            </div>\n        </header>\n        <section class=\"body\">\n            <div class=\"time\" [style.min-height]=\"(model.blocks.length * 3) + 'em'\">\n                <div class=\"block\" *ngFor=\"let blk of model.blocks\">\n                    {{blk.display}}\n                </div>\n            </div>\n            <div\n                class=\"day\"\n                [style.min-height]=\"(model.blocks.length * 3) + 'em'\"\n                *ngFor=\"let item of model.days\"\n                [class.weekend]=\"item.weekend\"\n            >\n                <div class=\"block\" *ngFor=\"let blk of model.blocks; let i = index\">\n                    <div\n                        class=\"events\"\n                        *ngIf=\"item.bookings[i] && item.bookings[i].length > 0\"\n                        (touchrelease)=\"selectBlock(item, i, blk)\"\n                    >\n                        <div class=\"text\">\n                            {{item.bookings[i].length}} Meeting{{item.bookings[i].length === 1 ? '' : 's'}}\n                        </div>\n\n                        <app-icon [icon]=\"{ class: 'material-icons', content: 'keyboard_arrow_down'}\"></app-icon>\n                    </div>\n                </div>\n            </div>\n        </section>\n    </div>\n    <div class=\"cntrs\" *ngIf=\"model.selected\">\n        <booking-list [bookings]=\"model.selected\" [time]=\"model.time\" (event)=\"model.selected = null\"></booking-list>\n    </div>\n    <div class=\"loader\" *ngIf=\"model.loading\">\n        <spinner type=\"circle-ring\"></spinner>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { AppService } from '../../services/app.service';\nimport { IBooking } from '../../services/data/bookings.service';\nimport { IRoom } from '../../services/data/rooms.service';\n\nimport * as moment from 'moment';\nimport * as dayjs from 'dayjs';\n\n@Component({\n    selector: 'app-week-view',\n    templateUrl: './week-view.template.html',\n    styleUrls: ['./week-view.styles.scss']\n})\nexport class WeekViewComponent extends BaseDirective implements OnInit {\n    public model: any = { settings: {} };\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.model.days = [];\n        this.service.title = 'Week View';\n        this.subscription('date', this.service.listen('APP.date', (date) => {\n            const old_date = moment(this.model.date || null);\n            old_date.add(-old_date.day(), 'd').hours(0).minutes(0).seconds(0).millisecond(0);\n            const old_week_end = moment(old_date).add(6, 'days').hours(23).minutes(59).seconds(59);\n            this.model.date = date;\n            const new_date = moment(date || null);\n            this.model.selected = null;\n            if (!new_date.isBetween(old_date, old_week_end, 'm', '[]')) {\n                this.updateBookings();\n            } else {\n                this.updateActiveDate();\n            }\n        }));\n        this.subscription('level', this.service.listen('APP.level', (lvl) => {\n            this.model.level = lvl;\n            this.model.selected = false;\n            this.updateBookings();\n        }));\n        this.subscription('room_type', this.service.listen('APP.room_type', (type) => {\n            this.model.room_type = type || -1;\n            this.updateBookings();\n        }));\n        this.generateTimeBlocks();\n        this.interval('bookings', () => this.updateBookings(), 5 * 60 * 1000);\n    }\n\n    public generateTimeBlocks() {\n        // Get settings\n        const start = this.model.settings.start_hour || 7;\n        const end = this.model.settings.end_hour || 21;\n        const block_size = this.model.settings.block_size || 60;\n        // Generate times\n        const start_time = moment().hours(start % 24).minutes((start % 1) * 60).seconds(0);\n        const time = moment(start_time);\n        const end_time = moment(start_time).hours(end % 24).minutes((end % 1) * 60);\n        const length = Math.abs(moment.duration(start_time.diff(end_time)).asMinutes());\n        // Generate time blocks\n        this.model.blocks = [];\n        for (; time.isSameOrBefore(end_time, 'm'); time.add(block_size, 'm')) {\n            this.model.blocks.push({\n                id: time.format('H:00'),\n                display: time.format('h:00 A'),\n                offset: Math.abs(moment.duration(start_time.diff(time)).asMinutes()) / length,\n                length: block_size / length,\n                hour: time.minutes() === 0,\n                hour_value: time.format('HH'),\n                raw: time.valueOf()\n            });\n        }\n        this.updateBookings();\n    }\n\n    public updateBookings() {\n        this.timeout('update', () => {\n            const date = moment(this.model.date || null);\n            const week_start = moment(date).startOf('week');\n            const week_end = moment(week_start).endOf('week');\n            const day = moment(week_start);\n            this.model.days = [];\n            for (; day.isSameOrBefore(week_end, 'd'); day.add(1, 'd')) {\n                this.model.days.push({\n                    time: day.valueOf(),\n                    display: day.format('ddd Do MMM'),\n                    active: day.isSame(date, 'd'),\n                    weekend: day.day() === 0 || day.day() === 6,\n                    bookings: []\n                });\n            }\n            this.model.update_level = this.model.level;\n            this.model.loading = true;\n            const zones = [];\n            if (this.model.level !== -1) {\n                zones.push(this.model.level);\n            }\n            this.service.Rooms.query({\n                zone_ids: zones.reduce((a, i) => a += a ? ',' + i : i, '')\n                    || this.service.Buildings.current().id,\n                available_from: week_start.unix(),\n                available_to: week_end.unix()\n            }).then((rooms: IRoom[]) => {\n                const type = this.model.room_type;\n                const room_list = rooms.filter(i => type && type !== -1 ? i.zones.indexOf(type) >= 0 : true);\n                this.service.Rooms.clearTimeline(week_start.valueOf(), week_end.valueOf());\n                for (const rm of room_list) {\n                    this.service.Rooms.updateTimeline(rm.id, rm.bookings);\n                    for (const d of this.model.days) {\n                        const time = moment(d.time).format('DD MMM YYYY');\n                        if (rm.timeline[time]) {\n                            const timeline = rm.timeline[time];\n                            for (const bkn of timeline) {\n                                let found = false;\n                                for (const booking of d.bookings) {\n                                    if (booking.id === bkn.id) {\n                                        found = true;\n                                        break;\n                                    }\n                                }\n                                if (!found) {\n                                    d.bookings.push(bkn);\n                                }\n                            }\n                        }\n                    }\n                }\n                for (const d of this.model.days) {\n                    d.bookings = this.getBookingsForDate(d.time, d.bookings || []);\n                }\n                this.model.loading = false;\n            }, () => this.model.loading = false);\n        });\n    }\n\n    public getBookingsForDate(date: number, bookings: IBooking[]) {\n        const day = moment(date);\n        let end = null;\n        bookings = (bookings as any).flat();\n        const used_ids = [];\n        const bkn_list = [];\n        for (const blk of (this.model.blocks || [])) {\n            day.hour(+blk.hour_value);\n            end = moment(day).add(1, 'h');\n            let bkns: any = [];\n            for (const bkn of bookings) {\n                const start = moment(bkn.date);\n                if (start.isBetween(day, end, 'm', '[)') && used_ids.indexOf(bkn.id) < 0) {\n                    bkns.push(bkn);\n                    used_ids.push(bkn.id);\n                }\n            }\n            bkns = bkns.flat();\n            bkns.sort((a, b) => a.date - b.date || a.duration - b.duration);\n            bkn_list.push(bkns);\n        }\n        return bkn_list;\n    }\n\n    private updateActiveDate() {\n        const date = moment(this.model.date || null);\n        for (const day of this.model.days) {\n            day.active = moment(day.time).isSame(date, 'd');\n        }\n    }\n\n    public selectBlock(item, index, block) {\n        this.model.selected = item.bookings[index];\n        const hours = moment(block.raw).hours();\n        const minutes = moment(block.raw).minutes();\n        console.log('Block:', dayjs(item.time).format('DD MMM, h:mm A'));\n        this.model.time = moment(item.time).hours(hours).minutes(minutes);\n    }\n\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":"webpack:///"}