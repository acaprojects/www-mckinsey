{"version":3,"sources":["./src/app/shell/catering/catering.component.html","./src/app/shell/catering/components/menus/category-list/category-item/category-item.component.html","./src/app/shell/catering/components/menus/category-list/category-item/category-item.component.ts","./src/app/shell/catering/components/menus/category-list/category-list.component.html","./src/app/shell/catering/components/menus/category-list/category-list.component.ts","./src/app/shell/catering/components/menus/menus.component.html","./src/app/shell/catering/components/menus/menus.component.ts","./src/app/shell/catering/components/orders/orders.component.html","./src/app/shell/catering/components/orders/orders.component.ts"],"names":[],"mappings":"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","file":"shell-catering-catering-module-ngfactory-es2015.js","sourcesContent":["\n\n\n<ng-container [ngSwitch]=\"page\">\n    <ng-container *ngSwitchCase=\"'orders'\">\n        <catering-orders></catering-orders>\n    </ng-container>\n    <ng-container *ngSwitchCase=\"'menus'\">\n            <catering-menus></catering-menus>\n    </ng-container>\n    <ng-container *ngSwitchDefault>\n        <div class=\"catering\">\n            <a [routerLink]=\"['/', 'catering', 'menus']\">\n                <div class=\"item\">\n                    <div class=\"image\">\n                        <img class=\"center\" src=\"assets/img/menus.jpg\" />\n                        <div class=\"overlay\"></div>\n                        <div class=\"text center\">Menus &amp; Pricing</div>\n                    </div>\n                    <div class=\"details\">\n                        View or edit menus and pricing\n                    </div>\n                </div>\n            </a>\n            <a [routerLink]=\"['/', 'catering', 'orders']\">\n                <div class=\"item\">\n                    <div class=\"image\">\n                        <img class=\"center\" src=\"assets/img/orders.jpg\" />\n                        <div class=\"overlay\"></div>\n                        <div class=\"text center\">Catering Orders</div>\n                    </div>\n                    <div class=\"details\">\n                        View catering orders and their status upon arrival\n                    </div>\n                </div>\n            </a>\n        </div>\n    </ng-container>\n</ng-container>","<div class=\"category-item\" *ngIf=\"item\" [class.editting]=\"editing\">\n    <div class=\"item-header\">\n        <div class=\"item-details\">\n            <span class=\"title\">{{ item.name }}</span>\n            <span class=\"sub-text\">{{ item.description || 'No description' }}</span>\n        </div>\n        <div class=\"item-price\" *ngIf=\"item.unit_price\">{{ price | currency:symbol }} each</div>\n        <div class=\"item-controls\">\n            <div\n                *ngIf=\"!item.deleting\"\n                class=\"icon\"\n                (touchrelease)=\"show_options = !show_options\"\n                tooltip\n                [(show)]=\"show_options\"\n                [template]=\"options\"\n                [triangle]=\"false\"\n                position=\"bottom\"\n                offset=\"end\"\n            >\n                <i class=\"material-icons\">more_vert</i>\n            </div>\n            <div class=\"deleting\" *ngIf=\"item.deleting\">Deleting</div>\n        </div>\n    </div>\n    <div class=\"item-list\" *ngIf=\"item.items\">\n        <div class=\"item\" *ngFor=\"let option of item.items\">\n            <div class=\"name\">{{ option.name }}</div>\n            <div class=\"sub-text\">{{ option.description }}</div>\n            <div class=\"price\" *ngIf=\"option.price\">{{ option.price / 100 | currency:symbol }} each</div>\n            <div class=\"item-controls\" *ngIf=\"!item.deleting; else deleting\">\n                <div class=\"icon\" (touchrelease)=\"editItem(option)\">\n                    <i class=\"material-icons\">edit</i>\n                </div>\n                <div class=\"icon\" (touchrelease)=\"deleteItem(option)\">\n                    <i class=\"material-icons\">delete</i>\n                </div>\n            </div>\n            <ng-template #deleting>\n                <div class=\"item-controls\">\n                    <div class=\"deleting\">Deleting</div>\n                </div>\n            </ng-template>\n        </div>\n    </div>\n</div>\n<ng-template #options>\n    <div class=\"actions\">\n        <div class=\"option\" *ngIf=\"item.items\" (touchrelease)=\"newItem()\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">add</i>\n            </div>\n            <div class=\"text\">Add Item</div>\n        </div>\n        <div class=\"option\" (touchrelease)=\"item.items ? editGroup(item) : editItem(item)\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">edit</i>\n            </div>\n            <div class=\"text\">Edit {{ item.items ? 'Group' : 'Item' }}</div>\n        </div>\n        <div class=\"option error\" (touchrelease)=\"item.items ? deleteGroup(item) : deleteItem(item)\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">delete</i>\n            </div>\n            <div class=\"text\">Remove {{ item.items ? 'Group' : 'Item' }}</div>\n        </div>\n    </div>\n</ng-template>\n","\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\n\nimport { BaseDirective } from '../../../../../../shared/globals/base.directive';\nimport { CateringGroupModalComponent } from '../../../../overlays/group-modal/group-modal.component';\nimport { AppService } from '../../../../../../services/app.service';\nimport { IBuilding } from '../../../../../../services/data/buildings.service';\nimport { CateringItemModalComponent } from '../../../../overlays/item-modal/item-modal.component';\nimport { CateringItem } from '../../../../../../services/data/catering/catering-item.class';\nimport { CateringCategory } from '../../../../../../services/data/catering/catering-category.class';\n\n@Component({\n    selector: 'catering-category-item',\n    templateUrl: './category-item.component.html',\n    styleUrls: ['./category-item.component.scss']\n})\nexport class CateringCategoryItemComponent extends BaseDirective {\n    @Input() public item: CateringCategory | CateringItem;\n    @Input() public parent: CateringCategory;\n    /** Emitter for change events to the menu */\n    @Output() public event = new EventEmitter();\n    /** Whether the item is being edited */\n    public editing: boolean;\n    /** Show options for the item */\n    public show_options: boolean;\n    /** Active building */\n    public building: IBuilding;\n\n    /** Currrency symbol for the active building */\n    public get symbol(): string {\n        const bld = this.building || this.service.Buildings.current();\n        return bld.currency || 'USD';\n    }\n\n    public get price(): number {\n        return this.item ? this.item.unit_price / 100 : 0\n    }\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.subscription('bld', this.service.Buildings.listen((bld) => this.building = bld || this.building));\n    }\n\n    /**\n     * Add new item to the menu category\n     */\n    public newItem() {\n        this.itemAction({});\n    }\n\n    /**\n     * Edit the given item\n     * @param item Item to edit\n     */\n    public editItem(item: CateringItem) {\n        this.itemAction({ item });\n    }\n\n    /**\n     * Edit or Add new item based of the passed data\n     * @param data\n     */\n    private itemAction(data: { item?: CateringItem }) {\n        const category = !data.item || data.item !== this.item ? this.item : this.parent;\n        this.show_options = false;\n        this.service.Overlay.openModal('catering-item', {\n            cmp: CateringItemModalComponent,\n            data: { ...data, category }\n        }, (event) => {\n            if (event.type === 'finish') {\n                this.event.emit('update');\n            }\n            event.close();\n        });\n    }\n\n    public deleteItem(item: CateringItem) {\n        if (item.id) {\n            this.show_options = false;\n            (item as any).deleting = true;\n            this.service.CateringItems.delete(item.id).then(() => {\n                this.event.emit('removed');\n                this.service.notifySuccess('Succesfully deleted item');\n            }, (e) => {\n                (item as any).deleting = false;\n                if (e !== 'User cancelled'){\n                    this.service.notifyError('Failed to delete item');\n                }\n            });\n        }\n    }\n\n    public deleteGroup(item: CateringCategory) {\n        if (item.id) {\n            this.show_options = false;\n            (item as any).deleting = true;\n            this.service.CateringCategories.delete(item.id).then(() => {\n                this.event.emit('removed');\n                this.service.notifySuccess('Succesfully deleted item group');\n            }, (e) => {\n                    (item as any).deleting = false;\n                    if (e !== 'User cancelled'){\n                        this.service.notifyError('Failed to delete item group');\n                    }\n            });\n        }\n    }\n\n    /**\n     * Add new sub-category or package to the menu\n     */\n    public newGroup() {\n        const category = this.parent;\n        this.groupAction({ category });\n    }\n\n    /**\n     * Edit the given group\n     * @param item Group to edit\n     */\n    public editGroup(item: CateringCategory) {\n        const category = this.parent;\n        this.groupAction({ category, group: item });\n    }\n\n    /**\n     * Edit or Add new category based of the passed data\n     * @param data\n     */\n    private groupAction(data: { category: CateringCategory, group?: CateringCategory }) {\n        this.show_options = false;\n        this.service.Overlay.openModal('catering-category', {\n            cmp: CateringGroupModalComponent,\n            data\n        }, (event) => {\n            if (event.type === 'finish') {\n                this.event.emit('update');\n            }\n            event.close();\n        });\n    }\n}\n\n","<div class=\"category-list\" *ngIf=\"category && category.items && category.items.length; else no_items\">\n    <div class=\"action-list\">\n        <button mat-button (touchrelease)=\"newGroup()\">Add package or sub-category</button>\n    </div>\n    <!-- List of Pacakage Items, they're cost and items included -->\n    <div class=\"item\" *ngFor=\"let item of category.items; let i = index\">\n        <div class=\"item-header\">\n            <div\n                class=\"item-image\"\n                (touchrelease)=\"item.show = !item.show\"\n                [style.background-image]=\"(item.image_path ? 'url(' + item.image_path + ')' : '') | safestyle\"\n            ></div>\n            <div class=\"item-details\" (touchrelease)=\"item.show = !item.show\">\n                <span class=\"title\">{{ item.name }}</span>\n                <span class=\"sub-text\">{{ item.items?.length }} selections</span>\n            </div>\n            <div class=\"item-price\" *ngIf=\"item.price\" (touchrelease)=\"(item.show)\">\n                {{ (item.price || 0) / 100 | currency: symbol }} per person\n            </div>\n            <div class=\"item-controls\">\n                <div\n                    class=\"icon\"\n                    (touchrelease)=\"shown_option = i\"\n                    tooltip\n                    [id]=\"category.id\"\n                    [show]=\"shown_option === i\"\n                    (showChange)=\"shown_option = null\"\n                    [template]=\"options\"\n                    [triangle]=\"false\"\n                    position=\"bottom\"\n                    offset=\"end\"\n                >\n                    <i class=\"material-icons\">more_vert</i>\n                </div>\n            </div>\n        </div>\n        <div class=\"item-list\" [@show] *ngIf=\"item.show\">\n            <catering-category-item\n                *ngFor=\"let subitem of item.items\"\n                [item]=\"subitem\"\n                [parent]=\"item\"\n                (event)=\"event.emit($event)\"\n            ></catering-category-item>\n        </div>\n    </div>\n</div>\n<ng-template #no_items>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <i class=\"material-icons\">close</i>\n        </div>\n        <div class=\"text\">Category contains no items</div>\n        <div class=\"action\">\n            <button mat-button (touchrelease)=\"newGroup()\">Add new package or sub-category</button>\n        </div>\n    </div>\n</ng-template>\n<ng-template #options>\n    <div class=\"actions\">\n        <div class=\"option\" (touchrelease)=\"newItem()\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">add</i>\n            </div>\n            <div class=\"text\">Add item</div>\n        </div>\n        <div class=\"option\" (touchrelease)=\"newGroup(true)\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">add</i>\n            </div>\n            <div class=\"text\">Add item group</div>\n        </div>\n        <div class=\"option\" (touchrelease)=\"editGroup(category.items[shown_option])\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">edit</i>\n            </div>\n            <div class=\"text\">\n                Edit\n                {{ category.items[shown_option] && category.items[shown_option].package ? 'package' : 'sub-category' }}\n            </div>\n        </div>\n        <div class=\"option error\" (touchrelease)=\"deleteGroup(category.items[shown_option])\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">delete</i>\n            </div>\n            <div class=\"text\">\n                Remove\n                {{ category.items[shown_option] && category.items[shown_option].package ? 'package' : 'sub-category' }}\n            </div>\n        </div>\n    </div>\n</ng-template>\n","\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { trigger, style, animate, transition } from '@angular/animations';\n\nimport { BaseDirective } from '../../../../../shared/globals/base.directive';\nimport { IBuilding } from '../../../../../services/data/buildings.service';\nimport { AppService } from '../../../../../services/app.service';\nimport { CateringGroupModalComponent } from '../../../overlays/group-modal/group-modal.component';\nimport { CateringItemModalComponent } from '../../../overlays/item-modal/item-modal.component';\nimport { CateringCategory } from '../../../../../services/data/catering/catering-category.class';\nimport { CateringItem } from '../../../../../services/data/catering/catering-item.class';\n\n@Component({\n    selector: 'catering-category-list',\n    templateUrl: './category-list.component.html',\n    styleUrls: ['./category-list.component.scss'],\n    animations: [\n        trigger('show', [\n            transition(':enter', [style({ opacity: 0, height: 0 }), animate(200, style({ opacity: 1, height: '*' }))]),\n            transition(':leave', [style({ opacity: 1, height: '*' }), animate(200, style({ opacity: 0, height: 0 }))]),\n        ])\n    ]\n})\nexport class CateringCategoryListComponent extends BaseDirective {\n    @Input() public category: CateringCategory;\n    /** Emitter for change events to the menu */\n    @Output() public event = new EventEmitter();\n    /** Active building */\n    public building: IBuilding;\n    /** Show options for the category */\n    public shown_option: number;\n\n    /** Currrency symbol for the active building */\n    public get symbol(): string {\n        const bld = this.building || this.service.Buildings.current();\n        return bld.currency || 'USD';\n    }\n\n    constructor(public service: AppService) {\n        super();\n    }\n\n    /**\n     * Add new item to the menu category\n     */\n    public newItem() {\n        this.itemAction({});\n    }\n\n    /**\n     * Edit the given item\n     * @param item Item to edit\n     */\n    public editItem(item: CateringItem) {\n        this.itemAction({ item });\n    }\n\n    /**\n     * Edit or Add new item based of the passed data\n     * @param data\n     */\n    private itemAction(data: { item?: CateringItem }) {\n        const category = this.shown_option || this.shown_option === 0\n                ? this.category.items[this.shown_option]\n                : this.category\n        this.shown_option = null;\n        this.service.Overlay.openModal('catering-item', {\n            cmp: CateringItemModalComponent,\n            data: { ...data, category }\n        }, (event) => {\n            if (event.type === 'finish') {\n                this.event.emit('update');\n            }\n            event.close();\n        });\n    }\n\n    /**\n     * Add new sub-category or package to the menu\n     */\n    public newGroup(use_active: boolean = false) {\n        const category: any = use_active\n            ? (this.shown_option || this.shown_option === 0\n                ? this.category.items[this.shown_option]\n                : this.category)\n            : this.category;\n        this.groupAction({ category });\n    }\n\n    /**\n     * Edit the given group\n     * @param item Group to edit\n     */\n    public editGroup(item: CateringCategory) {\n        const category = this.category;\n        this.groupAction({ category, group: item });\n    }\n\n    /**\n     * Edit or Add new category based of the passed data\n     * @param data\n     */\n    private groupAction(data: { category: CateringCategory, group?: CateringCategory }) {\n        this.shown_option = null;\n        this.service.Overlay.openModal('catering-category', {\n            cmp: CateringGroupModalComponent,\n            data\n        }, (event) => {\n            if (event.type === 'finish') {\n                this.event.emit('update');\n            }\n            event.close();\n        });\n    }\n\n    public deleteGroup(item: CateringCategory) {\n        if (item.id) {\n            this.shown_option = null;\n            (item as any).deleting = true;\n            this.service.CateringCategories.delete(item.id).then(() => {\n                this.event.emit('removed');\n                this.service.notifySuccess('Succesfully deleted item group');\n            }, (e) => {\n                    (item as any).deleting = false;\n                    if (e !== 'User cancelled'){\n                        this.service.notifyError('Failed to delete item group');\n                    }\n            });\n        }\n    }\n}\n\n","<section class=\"visitor-list\">\n    <header class=\"search\">\n        <div class=\"searchbar\" tabindex=\"0\" (focus)=\"focus()\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">search</i>\n            </div>\n            <input #input [(ngModel)]=\"search_str\" (ngModelChange)=\"filter()\" placeholder=\"Search for something here...\" />\n        </div>\n    </header>\n    <main *ngIf=\"filtered_menu && filtered_menu.length && !loading; else no_category\">\n        <!-- Package Groups -->\n        <div class=\"tab-group\">\n            <div class=\"tab add\" title=\"New Food Category\" [class.active]=\"current_tab === -1\">\n                <button mat-icon-button (touchrelease)=\"newCategory()\">\n                    <app-icon [icon]=\"{class: 'material-icons', content: 'add'}\"></app-icon>\n                </button>\n            </div>\n            <div\n                class=\"tab\"\n                *ngFor=\"let group of filtered_menu; let i = index\"\n                (touchrelease)=\"select(i, $event)\"\n                [class.active]=\"current_tab === i\"\n            >\n                <div class=\"text\">{{ group.name }}</div>\n                <button mat-icon-button (touchrelease)=\"editCategory(group)\">\n                    <app-icon [icon]=\"{class: 'material-icons', content: 'edit'}\"></app-icon>\n                </button>\n            </div>\n            <div class=\"loader\" *ngIf=\"loading\">\n                <spinner type=\"circle-ring\" color=\"#000\"></spinner>\n            </div>\n        </div>\n        <div class=\"list-view\">\n            <catering-category-list *ngIf=\"active_category\" [category]=\"active_category\" (event)=\"loadMenu()\"></catering-category-list>\n        </div>\n    </main>\n    <ng-template #no_items>\n        <div class=\"no-item\" center>\n            <div class=\"icon\">\n                <i class=\"material-icons\">close</i>\n            </div>\n            <div class=\"text\">\n                No {{ search_str ? 'matching' : '' }} {{ active_view === 'hosts' ? 'hosts' : 'visitors' }} for {{ date_display }}\n            </div>\n        </div>\n    </ng-template>\n</section>\n<ng-template #no_category>\n    <div class=\"no-item\" center>\n        <div class=\"icon\">\n            <i class=\"material-icons\" *ngIf=\"!loading\">close</i>\n            <spinner type=\"circle-ring\" *ngIf=\"loading\"></spinner>\n        </div>\n        <div class=\"text\">\n            <ng-container *ngIf=\"!loading\">No menu for {{ building?.name }}</ng-container>\n            <ng-container *ngIf=\"loading\">Loading menu for {{ building?.name }}...</ng-container>\n        </div>\n        <div class=\"action\" *ngIf=\"!loading\">\n            <button mat-button (touchrelease)=\"newCategory()\">Add new category</button>\n        </div>\n    </div>\n</ng-template>\n","\nimport { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\n\nimport { BaseDirective } from '../../../../shared/globals/base.directive';\nimport { AppService } from '../../../../services/app.service';\n\nimport { IBuilding } from '../../../../services/data/buildings.service';\nimport { CateringCategoryModalComponent } from '../../overlays/category-modal/category-modal.component';\nimport { CateringCategory } from '../../../../services/data/catering/catering-category.class';\nimport { CateringItem } from '../../../../services/data/catering/catering-item.class';\n\n\n@Component({\n    selector: 'catering-menus',\n    templateUrl: './menus.component.html',\n    styleUrls: ['./menus.component.scss']\n})\nexport class MenusComponent extends BaseDirective implements OnInit {\n    constructor(private service: AppService) { super(); }\n\n    /** Seach input */\n    @ViewChild('input', { static: true }) private input: ElementRef<HTMLInputElement>;\n    /** Current search string */\n    public search_str: string;\n    /** Loading state */\n    public loading:boolean = true;\n    /** Current tab in view - opted for this over custom routes */\n    public current_tab: number = 0;\n    /** Currently selected menu category */\n    public active_category: CateringCategory;\n    /** List of catering menu categories for the active building */\n    public catering_menu: CateringCategory[] = [];\n    /** List of catering menu categories for the active building */\n    public filtered_menu: CateringCategory[] = [];\n    /** Active building */\n    public building: IBuilding;\n\n    /** Currrency symbol for the active building */\n    public get symbol(): string {\n        const bld = this.building || this.service.Buildings.current();\n        return bld.currency || 'USD';\n    }\n\n    public ngOnInit(): void {\n        this.loading = false;\n        this.subscription('bld', this.service.Buildings.listen((bld) => bld ? this.loadMenu() : ''));\n        this.loadMenu();\n    }\n\n    /**\n     * Update the selected category to the given index\n     * @param index Index to set category\n     */\n    public select(index: number, event?: any) {\n        if (this.catering_menu.length > index) {\n            this.current_tab = index;\n            this.active_category = this.filtered_menu[index];\n            if (event && event.target) {\n                const el: HTMLElement = event.target;\n                el.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            }\n        }\n    }\n\n    /**\n     * Add new category to the menu\n     */\n    public newCategory() {\n        this.categoryAction({});\n    }\n\n    /**\n     * Edit the given category\n     * @param item Category to edit\n     */\n    public editCategory(item: CateringCategory) {\n        this.categoryAction({ category: item });\n    }\n\n    /**\n     * Edit or Add new category based of the passed data\n     * @param data\n     */\n    private categoryAction(data: { category?: CateringCategory }) {\n        this.service.Overlay.openModal('catering-category', {\n            cmp: CateringCategoryModalComponent,\n            data\n        }, (event) => {\n            if (event.type === 'finish') {\n                this.loadMenu();\n            }\n            event.close();\n        });\n    }\n\n    public deleteCategory(item: CateringCategory) {\n        if (item.id) {\n            (item as any).deleting = true;\n            this.service.CateringCategories.delete(item.id).then(() => {\n                this.service.notifySuccess('Succesfully deleted item group');\n            }, (e) => {\n                (item as any).deleting = false;\n                if (e !== 'User cancelled'){\n                    this.service.notifyError('Failed to delete item group');\n                }\n            });\n        }\n    }\n\n    public filter() {\n        const search = (this.search_str || '').toLowerCase();\n        this.filtered_menu = search ? <any>this.filterSubItems(search, this.catering_menu) : this.catering_menu;\n        const tab = this.active_category ? this.filtered_menu.find(i => i.id === this.active_category.id) : null;\n        this.active_category = tab ? tab : (this.filtered_menu.length > 0 ? this.filtered_menu[0] : null);\n        this.current_tab = this.filtered_menu.findIndex(i => i === this.active_category);\n    }\n\n    public filterSubItems(filter: string, list: (CateringCategory | CateringItem)[]) {\n        const filtered = [];\n        list.map(i => ({ ...i })).forEach(i => {\n            const match = (i.name || '').toLowerCase().indexOf(filter) >= 0 || (i.description || '').toLowerCase().indexOf(filter) >= 0\n            if (!match && (i as any).items) {\n                (i as any).items = this.filterSubItems(filter, (i as any).items);\n            }\n            if (match || ((i as any).items && (i as any).items.length)) {\n                filtered.push(i);\n            }\n        });\n        return filtered;\n    }\n\n    /**\n     * Load list of catering menu categories for the active building\n     */\n    public loadMenu() {\n        this.timeout('load-menu', () => {\n            const bld = this.service.Buildings.current();\n            if (bld) {\n                this.building = bld;\n                this.loading = true;\n                this.service.CateringMenu.query({ zone_id: bld.id })\n                    .then((menu) => {\n                        this.catering_menu = (menu || []) as CateringCategory[];\n                        this.select(0);\n                        this.filter();\n                        this.loading = false;\n                    }, () => this.loading = false);\n            }\n        }, 100);\n    }\n\n    /**\n     * Searchbar focus event\n     */\n    public focus(){\n\n    }\n}\n","<div class=\"orders-component\">\n    <div class=\"sub-header\">\n        <dropdown\n            klass=\"show-dropdown\"\n            [list]=\"show_options\"\n            [model]=\"show_selection\"\n            (modelChange)=\"displayChange($event)\"\n        ></dropdown>\n\n        <div>\n            Time Now <strong>{{ model.now?.display }}</strong> {{ model.now?.dow }}\n        </div>\n    </div>\n\n    <div class=\"order-titles\">\n        <div *ngFor=\"let header of order_headings; let i = index\" [ngStyle]=\"{ width: column_widths[i] + '%' }\">\n            {{ header }}\n        </div>\n    </div>\n    <ng-container *ngIf=\"!loading; else loading_state\">\n        <ng-container *ngIf=\"filtered_orders && filtered_orders.length; else empty_state\">\n            <div class=\"order-view\">\n                <div\n                    class=\"order\"\n                    *ngFor=\"let order of filtered_orders; let i = index\"\n                    [class.cancelled]=\"order.status === 'cancelled'\"\n                    (touchrelease)=\"showCateringDetails(order.booking, order)\"\n                >\n                    <div [ngStyle]=\"{ width: column_widths[0] + '%' }\">\n                        {{ order.deliver_at_time }}\n                    </div>\n                    <div [ngStyle]=\"{ width: column_widths[1] + '%' }\">\n                        {{ order.location }}\n                    </div>\n                    <div [ngStyle]=\"{ width: column_widths[2] + '%' }\">\n                        {{ order.booking.organiser?.name }}\n                    </div>\n                    <div class=\"package-display\" [ngStyle]=\"{ width: column_widths[3] + '%' }\">\n                        <ng-container *ngIf=\"order.pantry\">\n                            <p><span class=\"requirement\">(P)</span> Pantry</p>\n                        </ng-container>\n                        <ng-container *ngIf=\"order.kitchen\">\n                            <p><span class=\"requirement\" *ngIf=\"order.kitchen\">(K)</span> Kitchen</p>\n                        </ng-container>\n                    </div>\n                    <div\n                        class=\"shrink\"\n                        [ngStyle]=\"{ width: column_widths[4] + '%' }\"\n                        [matTooltip]=\"\n                            order.booking.attendees.length +\n                            ' Attendee' +\n                            (order.booking.attendees.length === 1 ? '' : 's') +\n                            '\\n' +\n                            (order.booking.expected_attendees[order.location_id] || '0') +\n                            ' Expected'\n                        \"\n                    >\n                        {{ order.booking.attendees.length }} ({{\n                            order.booking.expected_attendees[order.location_id] || '0'\n                        }})\n                    </div>\n                    <div class=\"shrink line-items\" [ngStyle]=\"{ width: column_widths[5] + '%' }\">\n                        {{ order_contents[order.id] }}\n                    </div>\n                    <div\n                        class=\"status-view\"\n                        [class.disabled]=\"order.loading\"\n                        [ngStyle]=\"{ width: column_widths[6] + '%' }\"\n                    >\n                        <custom-dropdown\n                            klass=\"status-dropdown {{ order.status }}\"\n                            [(show)]=\"model.show_dropdown[i]\"\n                            [content]=\"out_header\"\n                            [template]=\"out_template\"\n                        >\n                            <ng-template #out_header>\n                                <div class=\"text\" (touchrelease)=\"model.show_dropdown[i] = !model.show_dropdown[i]\">\n                                    {{ order.status }}\n                                </div>\n                                <app-icon [class]=\"'status-icon ' + order.status\"\n                                    (touchrelease)=\"model.show_dropdown[i] = !model.show_dropdown[i]\"\n                                    [icon]=\"{ class: 'custom-' + order.status }\"\n                                ></app-icon>\n                            </ng-template>\n                            <ng-template #out_template>\n                                <div class=\"colours list\">\n                                    <div\n                                        class=\"item\"\n                                        *ngFor=\"let status of orders_statuses\"\n                                        (touchrelease)=\"statusUpdate(status, order, i)\"\n                                    >\n                                        <div class=\"text\">{{ status }}</div>\n                                        <div class=\"colour {{ status }}\"></div>\n                                    </div>\n                                </div>\n                            </ng-template>\n                        </custom-dropdown>\n                        <div class=\"status-loader\" *ngIf=\"order.loading\">\n                            <spinner type=\"circle-ring\"></spinner>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </ng-container>\n    </ng-container>\n</div>\n<ng-template #empty_state>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <i class=\"material-icons\">close</i>\n        </div>\n        <div class=\"text\">\n            No {{ show_selection ? show_options[show_selection].split(' ')[1] : '' }} orders for {{ display?.date }}\n        </div>\n    </div>\n</ng-template>\n<ng-template #loading_state>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <spinner type=\"circle-ring\" color=\"rgba(0,0,0,.35)\"></spinner>\n        </div>\n        <div class=\"text\">Loading {{ building?.name }} orders for {{ display?.date }}</div>\n    </div>\n</ng-template>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { BaseDirective } from '../../../../shared/globals/base.directive';\nimport { AppService } from '../../../../services/app.service';\nimport { IBooking } from '../../../../services/data/bookings.service';\nimport { CateringOrder } from '../../../../services/data/catering/catering-order.class';\nimport { HashMap } from '../../../../shared/utilities/type.helpers';\nimport { IBuilding } from '../../../../services/data/buildings.service';\nimport { CateringCategory } from '../../../../services/data/catering/catering-category.class';\n\nimport * as dayjs from 'dayjs';\n\n@Component({\n    selector: 'catering-orders',\n    templateUrl: './orders.component.html',\n    styleUrls: ['./orders.component.scss']\n})\nexport class OrdersComponent extends BaseDirective implements OnInit {\n    constructor(private service: AppService, private _route: ActivatedRoute) {\n        super();\n    }\n\n    public model: any = {};\n    /** object to store visual controls */\n    public display: any = {};\n    /** Top Show Dropdown options - tbd */\n    public show_options: string[] = ['Show All', 'Show Kitchen', 'Show Pantry', 'Show Empty', 'Show Non-Empty'];\n    public show_selection: number = 0;\n\n    public building: IBuilding;\n\n    /** Grid/Table controls */\n    public order_headings: string[] = [\n        'Delivery Time',\n        'Room',\n        /* 'Meeting Type', */\n        'Host',\n        'Package Types',\n        'Attendees (Expected)',\n        'Line Items',\n        'Order Status'\n    ];\n    /** Column widths as % - futureproofing for column resizing */\n    public column_widths: number[] = [12, 13, /* 12, */ 13, 8, 7, 30, 17];\n    /** Status List */\n    public orders_statuses: string[] = ['accepted', 'preparing', 'ready', 'delivered', 'cancelled'];\n    /** List of orders for the current day */\n    public orders: CateringOrder[] = [];\n\n    public filtered_orders: CateringOrder[] = [];\n    /**  */\n    public view_id: string;\n    /** Whether the orders are being loaded */\n    public loading: boolean;\n\n    public get order_contents(): HashMap<string> {\n        const map = {};\n        for (const order of this.orders) {\n            map[order.id] = order.items.reduce((listing, item) => {\n                if (listing) {\n                    listing += '\\n\\n';\n                }\n                listing += `${item.amount} x    ${item.name}`;\n                if (item instanceof CateringCategory) {\n                    for (const sub_item of item.items) {\n                        if (!sub_item.amount) continue;\n                        listing += `\\n  - ${sub_item.amount ? '' + sub_item.amount + ' x    ' : ''}${sub_item.name}`;\n                    }\n                }\n                return listing;\n            }, '');\n        }\n        return map;\n    }\n\n    ngOnInit(): void {\n        /** Dropdown display control */\n        this.model.show_dropdown = new Array(this.orders.length).fill(false);\n        this.model.settings = this.service.Settings.get('app.day_view') || {};\n        this.init();\n    }\n\n    public init() {\n        const user = this.service.Users.current();\n        if (!this.service.Settings.setup) {\n            setTimeout(() => this.init(), 500);\n        }\n        this.loading = true;\n        this.subscription(\n            'date',\n            this.service.listen('APP.date', date => {\n                this.model.date = date;\n                this.updateTime();\n                this.loadOrders();\n            })\n        );\n\n        this.subscription(\n            'bld',\n            this.service.Buildings.listen(bld => (bld ? this.loadOrders() : ''))\n        );\n\n        this.subscription(\n            'route.query',\n            this._route.queryParamMap.subscribe(params => {\n                if (params.has('view')) {\n                    this.view_id = params.get('view');\n                    let order = null;\n                    let booking = null;\n                    if (!order && sessionStorage) {\n                        const order_id = sessionStorage.getItem('CONCIERGE.view_order');\n                        if (order_id) {\n                            const booking_str = sessionStorage.getItem('CONCIERGE.order_booking');\n                            if (booking_str) {\n                                booking = JSON.parse(booking_str);\n                                order = booking.catering.find(an_order => an_order.id === order_id);\n                            }\n                        }\n                    }\n                    if (order && booking) {\n                        this.view_id = null;\n                        this.showCateringDetails(booking, order);\n                    }\n                }\n            })\n        );\n\n        this.updateTime();\n        this.interval('time', () => this.updateTime(), 10 * 1000);\n        this.interval('time', () => this.loadOrders(), 2 * 60 * 1000);\n    }\n\n    /**\n     * Grab bookings with catering orders for the selected date\n     */\n    public loadOrders() {\n        this.timeout('load_order', () => {\n            const bld = this.service.Buildings.current();\n            if (bld) {\n                this.building = bld;\n                const date = dayjs(this.model.date).startOf('d');\n                this.display.date = date.format('DD MMM YYYY');\n                this.service.Rooms.query({\n                    available_from: date.unix(),\n                    available_to: date.add(1, 'd').unix(),\n                    zone_ids: bld.id\n                }).then(\n                    room_list => {\n                        this.orders = [];\n                        for (const room of room_list) {\n                            for (const booking of room.bookings) {\n                                if (booking.catering) {\n                                    const order_list = this.processOrders({ ...booking, room });\n                                    if (order_list) {\n                                        this.orders = this.orders.concat(order_list);\n                                    }\n                                }\n                            }\n                        }\n                        this.orders.sort((a, b) => {\n                            const time_a = dayjs(a.booking_date).add(a.delivery_time, 'm').valueOf();\n                            const time_b = dayjs(b.booking_date).add(b.delivery_time, 'm').valueOf();\n                            return time_a - time_b;\n                        });\n                        if (this.view_id) {\n                            const order = this.orders.find(i => i.booking_id === this.view_id);\n                            if (order) {\n                                this.view_id = null;\n                                const room = room_list.find(room =>\n                                    room.bookings.find(bkn => bkn.id === order.booking_id)\n                                );\n                                const booking = room.bookings.find(bkn => bkn.id === order.booking_id);\n                                this.showCateringDetails(booking, order);\n                            }\n                        }\n                        this.displayChange(this.show_selection);\n                        this.loading = false;\n                    },\n                    e => {\n                        this.loading = false;\n                    }\n                );\n            }\n        });\n    }\n\n    /** Changing the \"show\" option */\n    public displayChange(index: number) {\n        this.show_selection = index;\n        switch (index) {\n            case 1: // Kitchen\n                this.filtered_orders = this.orders.filter(i => i.kitchen);\n                break;\n            case 2: // Pantry\n                this.filtered_orders = this.orders.filter(i => i.pantry);\n                break;\n            case 3: // Empty\n                this.filtered_orders = this.orders.filter(i => !i.items || !i.items.length);\n                break;\n            case 4: // Non-Empty\n                this.filtered_orders = this.orders.filter(i => i.items && i.items.length > 0);\n                break;\n            default:\n                this.filtered_orders = [...this.orders];\n        }\n    }\n\n    /** Update the status of an order */\n    public statusUpdate(status, order, index) {\n        const old_status = order.status;\n        order.status = status || '';\n        this.model.show_dropdown[index] = false;\n        const booking = order.booking;\n        booking.catering.splice(\n            booking.catering.findIndex(o => o.id === order.id),\n            1,\n            new CateringOrder({ ...order, status: status })\n        );\n        order.loading = true;\n        this.service.Bookings.updateItem(booking.id, { ...booking, room: booking.room_list }).then(\n            res => {\n                order.loading = false;\n                this.updateOrders(res);\n                this.service.notifySuccess('Successfully updated status of order');\n            },\n            () => {\n                order.loading = false;\n                this.service.notifyError('Failed to update status of meeting order');\n                order.status = old_status || '';\n            }\n        );\n    }\n\n    /** quickly borrowed from day view */\n    public updateTime() {\n        // Get settings\n        const start = this.model.settings.start_hour || 6.5;\n        const end = this.model.settings.end_hour || 21.5;\n        // Generate times\n        const start_time = dayjs()\n            .hour(start % 24)\n            .minute((start % 1) * 60);\n        const end_time = dayjs()\n            .hour(end % 24)\n            .minute((end % 1) * 60);\n        const length = Math.abs(Math.floor(start_time.diff(end_time, 'm')));\n        const now = dayjs(this.model.date || '');\n        const hour = Math.floor(now.hour() + now.minute() / 60);\n        this.model.now = {\n            display: now.format('h:mm A'),\n            date: now.format('DD MMM YYYY'),\n            raw: now.valueOf(),\n            dow: now.format('dddd'),\n            offset: Math.floor(now.diff(start_time, 'm')) / length,\n            today: now.isSame(dayjs(), 'd'),\n            active: `${hour}:00`\n        };\n    }\n\n    /** Initiate catering modal to display notes and details */\n    public showCateringDetails(booking: IBooking, order: CateringOrder) {\n        console.log('Show Order:', order, ' | ', booking);\n        this.timeout(\n            'show catering',\n            () => {\n                if (this.model.show_dropdown.indexOf(true) > -1) {\n                    return;\n                }\n                this.service.Overlay.openModal(\n                    'catering-details',\n                    {\n                        data: {\n                            order,\n                            booking\n                        }\n                    },\n                    event => {\n                        if (event.type === 'updated') {\n                            let new_booking = event.data.order.booking;\n                            this.updateOrders(new_booking);\n                            sessionStorage.removeItem('CONCIERGE.view_order');\n                            sessionStorage.removeItem('CONCIERGE.order_booking');\n                            this.displayChange(this.show_selection);\n                        } else {\n                            event.close();\n                        }\n                    }\n                );\n            },\n            1\n        );\n    }\n\n    /** Update all orders associated to booking\n     * @param booking Updated booking\n     */\n    private updateOrders(booking) {\n        const new_order_list = this.processOrders(booking);\n        this.orders = this.orders\n            .filter(order => order.booking_id !== booking.id && (!order.booking || order.booking.id !== booking.id))\n            .concat(new_order_list);\n        this.orders.sort((a, b) => {\n            const time_a = dayjs(a.booking_date).add(a.delivery_time, 'm').valueOf();\n            const time_b = dayjs(b.booking_date).add(b.delivery_time, 'm').valueOf();\n            return time_a - time_b;\n        });\n    }\n\n    /**\n     * Process catering order data from given booking\n     * @param booking Booking with catering order details\n     */\n    private processOrders(booking: IBooking): CateringOrder[] {\n        if (booking.catering && booking.room) {\n            return booking.catering\n                .map(order => {\n                    order.booking = booking;\n                    return new CateringOrder({\n                        ...order,\n                        location: order.location || (this.service.Rooms.item(order.location_id) || { name: '' }).name\n                    });\n                })\n                .filter(order => {\n                    // Remove orders from other buildings\n                    const location = this.service.Rooms.item(order.location_id);\n                    return !location || location.level.bld_id === this.building.id;\n                });\n        }\n        return null;\n    }\n}\n"],"sourceRoot":"webpack:///"}