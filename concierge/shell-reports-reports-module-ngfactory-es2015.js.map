{"version":3,"sources":["./node_modules/@angular/cdk/table/typings/index.d.ts.CdkTable.html","./node_modules/@angular/cdk/table/typings/index.d.ts.CdkHeaderRow.html","./node_modules/@angular/cdk/table/typings/index.d.ts.CdkFooterRow.html","./node_modules/@angular/cdk/table/typings/index.d.ts.CdkRow.html","./src/app/shell/reports/report/report.template.html","./src/app/shell/reports/report/report.component.ts","./src/app/shell/reports/reports.template.html","./src/app/shell/reports/reports.component.ts","./src/app/shell/reports/reports.module.ts"],"names":[],"mappings":"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","file":"shell-reports-reports-module-ngfactory-es2015.js","sourcesContent":["\n  <ng-content select=\"caption\"></ng-content>\n  <ng-container headerRowOutlet></ng-container>\n  <ng-container rowOutlet></ng-container>\n  <ng-container footerRowOutlet></ng-container>\n","<ng-container cdkCellOutlet></ng-container>","<ng-container cdkCellOutlet></ng-container>","<ng-container cdkCellOutlet></ng-container>","<section class=\"report\">\n    <header>\n        <div class=\"block\">\n            <div class=\"cal\">\n                <label for=\"start_date\">Start Date:</label>\n                <div class=\"date\" (touchrelease)=\"model.show_calendar_start = true\" tooltip [template]=\"calendar_start\" [(show)]=\"model.show_calendar_start\" position=\"bottom\">{{ model.start_date | formatTime: 'DD MMM YYYY' }}</div>\n            </div>\n            <span>to</span>\n            <div class=\"cal\">\n                <label for=\"end_date\">End Date:</label>\n                <div class=\"date\" (touchrelease)=\"model.show_calendar_end = true\" tooltip [template]=\"calendar_end\" [(show)]=\"model.show_calendar_end\" position=\"bottom\">{{ model.end_date | formatTime: 'DD MMM YYYY' }}</div>\n            </div>\n            <ng-template #calendar_start>\n                <a-date-picker name=\"themed\" [(ngModel)]=\"model.start_date\" (ngModelChange)=\"changeStartDate()\"></a-date-picker>\n            </ng-template>\n            <ng-template #calendar_end>\n                <a-date-picker name=\"themed\" [(ngModel)]=\"model.end_date\" (ngModelChange)=\"changeEndDate()\"></a-date-picker>\n            </ng-template>\n        </div>\n        <div class=\"block\">\n            <custom-dropdown klass=\"options\" [(show)]=\"model.show\" [content]=\"content\" [template]=\"list\">\n                <ng-template #content>\n                    <div class=\"dropdown-header\" (touchrelease)=\"model.show = !model.show\">\n                        <div class=\"text\">Select location{{ model.report.single_zone ? '' : '(s)'}} ({{ model.selected.length }} selected)</div>\n                        <app-icon [icon]=\"{ class: 'material-icons', content: model.show ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}\"></app-icon>\n                    </div>\n                </ng-template>\n                <ng-template #list>\n                    <div class=\"item-list\">\n                        <ng-container *ngIf=\"model.locations && model.locations.length > 0\">\n                            <cdk-virtual-scroll-viewport\n                                [itemSize]=\"40\"\n                                [style.height]=\"(model.locations.length < 6 ? model.locations.length : 6) * 40 + 'px'\"\n                            >\n                                <ng-container *cdkVirtualFor=\"let item of model.locations; let i = index\">\n                                    <div class=\"item\">\n                                        <a-checkbox klass=\"dark\" [(ngModel)]=\"item.selected\" (ngModelChange)=\"updateLocations(item)\"></a-checkbox>\n                                        <div class=\"text\">\n                                            <div class=\"code\" [title]=\"item.code\">{{ item.code }}</div>\n                                            <div class=\"name\" [title]=\"item.name\">{{ item.name }}</div>\n                                        </div>\n                                    </div>\n                                </ng-container>\n                            </cdk-virtual-scroll-viewport>\n                        </ng-container>\n                    </div>\n                </ng-template>\n            </custom-dropdown>\n        </div>\n        <div class=\"block\">\n            <button mat-button (touchrelease)=\"getReport()\">Generate</button>\n            <button mat-button (touchrelease)=\"downloadFile()\">Download</button>\n        </div>\n    </header>\n    <main *ngIf=\"!loading; else load_state\">\n        <ng-container *ngIf=\"has_report; else pre_state\">\n                <table cdk-table [dataSource]=\"report$\">\n                    <ng-container cdkColumnDef=\"date\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Date</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.date | formatTime: 'DD/MM/YYYY HH:mm' }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"subject\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Meeting Subject</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.subject }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"host\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Meeting Host</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.host }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"booker\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Booker</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.booker?.name }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"room\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Room</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.room }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"catering_code\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Charge Code</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.catering_code}}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"menu_category\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Menu Category</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.menu_category }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"menu_items\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Menu items selected</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.menu_items }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"quantities\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Quantities</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.quantities }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"item_price\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Item Price</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ (row.item_price || 0) / 100 | currency:row.symbol }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"start_date\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Start Date</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.start_date | formatTime: 'DD/MM/YYYY HH:mm'  }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"end_date\">\n                        <th cdk-header-cell *cdkHeaderCellDef>End Date</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.end_date | formatTime: 'DD/MM/YYYY HH:mm' }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"is_all_day\">\n                        <th cdk-header-cell *cdkHeaderCellDef>All day</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.is_all_day }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"is_cancelled\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Cancelled</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.is_cancelled }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"attendees\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Attendees</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">\n                            <div *ngFor=\"let item of row.attendees\">{{ item }}</div>\n                        </td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"status\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Status</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.format_status || row.status }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"recurrence\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Recurrence</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.recurrence }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"notes\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Notes</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">\n                            <div *ngFor=\"let item of row.notes\" [innerHTML]=\"item\"></div>\n                        </td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"catering\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Charge Code</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.catering }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"setup\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Setup</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.setup }}</td>\n                    </ng-container>\n                    <ng-container cdkColumnDef=\"breakdown\">\n                        <th cdk-header-cell *cdkHeaderCellDef>Breakdown</th>\n                        <td cdk-cell *cdkCellDef=\"let row\">{{ row.breakdown }}</td>\n                    </ng-container>\n                    <tr cdk-header-row *cdkHeaderRowDef=\"model.columns\"></tr>\n                    <tr cdk-row *cdkRowDef=\"let row; columns: model.columns\"></tr>\n                </table>\n                <ng-container *ngIf=\"!has_items\">\n                    <ng-container *ngTemplateOutlet=\"empty_state\"></ng-container>\n                </ng-container>\n        </ng-container>\n    </main>\n</section>\n<ng-template #load_state>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <spinner type=\"circle-ring\"></spinner>\n        </div>\n        <div class=\"text\">\n            Loading report data...\n        </div>\n    </div>\n</ng-template>\n<ng-template #empty_state>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <i class=\"material-icons\">close</i>\n        </div>\n        <div class=\"text\">\n            No events for the selected period\n        </div>\n    </div>\n</ng-template>\n<ng-template #pre_state>\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <i class=\"material-icons\">arrow_upward</i>\n        </div>\n        <div class=\"text\">\n            Press generate above to view report\n        </div>\n    </div>\n</ng-template>\n","import { Component, OnInit } from '@angular/core';\nimport { CurrencyPipe } from '@angular/common';\nimport { ActivatedRoute } from '@angular/router';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { AppService } from '../../../services/app.service';\nimport { Utils } from '../../../shared/utility.class';\nimport { BaseDirective } from '../../../shared/globals/base.directive';\n\nimport * as dayjs from 'dayjs';\n@Component({\n    selector: 'report',\n    templateUrl: './report.template.html',\n    styleUrls: ['./report.style.scss']\n})\nexport class ReportComponent extends BaseDirective implements OnInit {\n\n    public model: any = {\n        locations: [],\n        selected: []\n    };\n    public report$ = new BehaviorSubject([]);\n    /** Whether a report has been downloaded from the server */\n    public has_report: boolean;\n    /** Whether a report is being loaded */\n    public loading: boolean;\n\n    /** Whether the current report has any data */\n    public get has_items() {\n        const list = this.report$.value || [];\n        return list.length > 0\n    }\n\n    constructor(private _service: AppService, private _route: ActivatedRoute) {\n        super();\n    }\n\n    public ngOnInit(): void {\n        this.model.start_date = dayjs().startOf('d').valueOf();\n        this.model.end_date = dayjs().endOf('d').valueOf();\n        this.model.report_list = [\n            {\n                id: 'catering',\n                name: 'Aggregated Charge Back Report',\n                columns: [\n                    'date',\n                    'subject',\n                    'host',\n                    'room',\n                    'catering_code',\n                    'menu_category',\n                    'menu_items',\n                    'quantities',\n                    'item_price'\n                ]\n            },\n            {\n                id: 'bookings',\n                name: 'Aggregated Bookings Report',\n                single_zone: true,\n                columns: [\n                    'start_date',\n                    'end_date',\n                    'subject',\n                    'host',\n                    'booker',\n                    'room',\n                    'attendees',\n                    'status',\n                    'setup',\n                    'breakdown',\n                    'is_all_day',\n                    'is_cancelled',\n                    'recurrence',\n                    'catering',\n                    'notes'\n                ]\n            }\n        ];\n        this.subscription('route', this._route.paramMap.subscribe(params => {\n            if (params.has('id')) {\n                this.model.report = this.model.report_list.find(report => report.id === params.get('id'));\n                this.model.columns = this.model.report.columns;\n                this._service.set('APP.title', this.model.report.name);\n            }\n        }));\n        this.has_report = false;\n        this.model.building = this._service.Buildings.current();\n        this.model.locations = this._service.Buildings.list() || [];\n        if (this.model.building) {\n            this.model.locations.forEach(i => i.selected = i.id === this.model.building.id);\n            this.updateSelected();\n        }\n    }\n\n    public updateLocations(location) {\n        if (this.model.report.single_zone) {\n            this.model.locations.forEach(i => {\n                if (i !== location) { i.selected = false; }\n            });\n        }\n        this.updateSelected();\n    }\n\n    public updateSelected() {\n        this.model.selected = this.model.locations.filter(el => el.selected);\n    }\n\n    public changeStartDate(): void {\n        this.model.show_calendar_start = false;\n        if (this.model.start_date >= this.model.end_date) {\n            this.model.end_date = dayjs(this.model.start_date).endOf('d').valueOf();\n        }\n    }\n\n    public changeEndDate(): void {\n        this.model.show_calendar_end = false;\n        this.model.end_date = dayjs(this.model.end_date).endOf('d').valueOf();\n        if (this.model.start_date > this.model.end_date) {\n            this.model.start_date = dayjs(this.model.end_date).startOf('d').valueOf();\n        }\n    }\n\n    public getReport(): void {\n        if (this.model.selected && this.model.selected.length < 1) {\n            this._service.notifyInfo('Please select at least one location');\n            return;\n        }\n        this.loading = true;\n        // waiting for back end changes to accomodate report type\n        if (this.model.report.id === 'bookings') {\n            this._service.BookingsReports.query({\n                date: dayjs(this.model.start_date).format('YYYY-MM-DD'),\n                start_date: dayjs(this.model.start_date).startOf('d').unix(),\n                end_date: dayjs(this.model.end_date).unix(),\n                zone_ids: this.model.selected.map(el => el.id)\n            }).then(res => {\n                res.forEach((i: any) => {\n                    if (i.status) {\n                        const result = i.status.replace( /([A-Z])/g, \" $1\" );\n                        i.format_status = result.charAt(0).toUpperCase() + result.slice(1);\n                    }\n                });\n                this.report$.next(res);\n                this.loading = false;\n                this.has_report = true;\n            }).catch(e => {\n                this.loading = false;\n            });\n        } else {\n            this._service.Reports.query({\n                start_date: dayjs(this.model.start_date).startOf('d').unix(),\n                end_date: dayjs(this.model.end_date).unix(),\n                zone_ids: this.model.selected.map(el => el.id)\n            }).then(res => {\n                this.report$.next(res);\n                this.loading = false;\n                this.has_report = true;\n            }).catch(e => {\n                this.loading = false;\n            });\n        }\n    }\n\n    public downloadFile(): void {\n        const filename = `${this.model.report.name}-${dayjs().format('YYYYMMDD')}.csv`;\n        const data = this.report$.value;\n        const csv = Utils.generateCSV(data.map(i => {\n            const output: any = {};\n            this.model.report.columns.forEach(key => {\n                output[key] = i[key];\n            });\n            if (output['booker']) {\n                output['booker'] = output['booker'].name;\n            }\n            if (output['item_price']) {\n                output['item_price'] = (new CurrencyPipe('en-us')).transform(output['item_price'] / 100, output.symbol);\n            }\n            if (output['attendees']) {\n                output['attendees'] = \"\\\"\" + output['attendees'].join('\\n') + \"\\\"\";\n            }\n            if (output['notes'] && output['notes'].length > 1) {\n                output['notes'] = JSON.stringify(output['notes'])\n                    .replace(new RegExp(',', 'g'), '，')\n                    .replace(/<[^>]*>?/gm, '')\n                    .replace(/\\&nbsp\\;/gm, ' ')\n                    .replace(/\\\\r\\\\n/g, '\\\\n')\n                    .replace(/\\\\n\\\\n/g, '\\\\n')\n                    .replace(/\\\\n\\\\n/g, '\\\\n');\n            } else {\n                delete output['notes'];\n            }\n            delete output.symbol;\n            return output;\n        }));\n        Utils.download(filename, csv);\n    }\n\n    /**\n     * Get currency code for the given room\n     * @param email Email of the room\n     */\n    private symbolForRoom(email: string) {\n        const room = this._service.Rooms.item(email);\n        if (room) {\n            const level = room.level || {} as any;\n            const building = this._service.Buildings.get(level.bld_id);\n            if (building) {\n                return building.currency || 'USD';\n            }\n        }\n        return 'USD';\n    }\n}\n","<div class=\"container\">\n    <div class=\"list\">\n        <a [routerLink]=\"['/reports', item.id]\" routerLinkActive=\"active\"  *ngFor=\"let item of model.report_list\">\n            <div class=\"item\">\n                <app-icon class=\"display\" [icon]=\"item.icon\"></app-icon>\n                <div class=\"name\">{{item.name}}</div>\n                <div class=\"contents\">\n                    <div class=\"details\">{{item.details}}</div>\n                    <app-icon [icon]=\"{ class: 'material-icons', content: 'keyboard_arrow_right'}\"></app-icon>\n                </div>\n            </div>\n        </a>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { BaseDirective } from '../../shared/globals/base.directive';\nimport { AppService } from '../../services/app.service';\n\n@Component({\n    selector: 'app-reports',\n    templateUrl: './reports.template.html',\n    styleUrls: ['./reports.styles.scss']\n})\nexport class AppReportsComponent extends BaseDirective implements OnInit {\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.service.title = 'Reports';\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init());\n        }\n        this.service.set('APP.title', 'Select a category to view workplace information or run a report.');\n        this.model.report_list = [\n            // { id: 'booking', name: 'Booking Report', image: 'assets/img/report/booking.svg', details: 'Generate report on booking clashes and other complications' },\n            // { id: 'visitor', name: 'Visitor Report', image: 'assets/img/report/visitor.svg', details: 'Generate report on visitor attendance' },\n            // { id: 'transition', name: 'Transition Report', image: 'assets/img/report/transition.svg', details: 'Generate report on booking clashes and other complications' },\n            {\n                id: 'bookings',\n                name: 'Bookings',\n                icon: { type: 'img', src: 'assets/img/report/booking.svg' },\n                details: 'Generate comprehensive report on various aspects of bookings'\n            },\n            {\n                id: 'catering',\n                name: 'Catering',\n                icon: { class: 'material-icons', content: 'room_service' },\n                details: 'View confirmed catering report or mark up unconfirmed catering'\n            }\n        ];\n    }\n\n    public goto(item: any) {\n        if (item.id) {\n            this.service.navigate(['reports', item.id], item.query || {});\n        } else if (item.link || item.url) {\n            window.open(item.link || item.url, 'blank_');\n        }\n    }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { WidgetsModule } from '@acaprojects/ngx-widgets';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\n\nimport { SharedComponentModule } from '../../shared/components/shared.module';\n\nimport { AppReportsComponent } from './reports.component';\nimport { ReportComponent } from './report/report.component';\n\nconst ROUTES: Routes = [\n    { path: '', component: AppReportsComponent },\n    { path: ':id', component: ReportComponent },\n    { path: '**', redirectTo: '' }\n]\n\n@NgModule({\n    declarations: [\n        AppReportsComponent,\n        ReportComponent,\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        SharedComponentModule,\n        WidgetsModule,\n        ScrollingModule,\n        RouterModule.forChild(ROUTES)\n    ],\n    exports: [],\n    providers: [],\n})\nexport class ReportsModule {}"],"sourceRoot":"webpack:///"}