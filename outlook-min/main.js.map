{"version":3,"sources":["webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./node_modules/zone.js/dist/zone.js","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.ts.AppComponent.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/overlays/attendee-modal/attendee-modal.template.html","webpack:///./src/app/overlays/attendee-modal/attendee-modal.component.ts","webpack:///./src/app/overlays/availability-overlay/availability-overlay.template.html","webpack:///./src/app/overlays/availability-overlay/availability-overlay.component.ts","webpack:///./src/app/overlays/booking-modal/booking-modal.template.html","webpack:///./src/app/overlays/booking-modal/booking-modal.component.ts","webpack:///./src/app/overlays/calendar-modal/calendar-modal.template.html","webpack:///./src/app/overlays/calendar-modal/calendar-modal.component.ts","webpack:///./src/app/overlays/catering-modal/catering-modal.template.html","webpack:///./src/app/overlays/catering-modal/catering-modal.component.ts","webpack:///./src/app/overlays/confirm-modal/confirm-modal.template.html","webpack:///./src/app/overlays/confirm-modal/confirm-modal.component.ts","webpack:///./src/app/overlays/date-period-modal/date-period-modal.template.html","webpack:///./src/app/overlays/date-period-modal/date-period-modal.component.ts","webpack:///./src/app/overlays/device-list-modal/device-list-modal.template.html","webpack:///./src/app/overlays/device-list-modal/device-list-modal.component.ts","webpack:///./src/app/overlays/item-select-modal/item-select-modal.template.html","webpack:///./src/app/overlays/item-select-modal/item-select-model.component.ts","webpack:///./src/app/overlays/level-select-modal/level-select-modal.template.html","webpack:///./src/app/overlays/level-select-modal/level-select-model.component.ts","webpack:///./src/app/overlays/map-filter-modal/map-filter-modal.template.html","webpack:///./src/app/overlays/map-filter-modal/map-filter-modal.component.ts","webpack:///./src/app/overlays/meeting-details-overlay/meeting-details-overlay.template.html","webpack:///./src/app/overlays/meeting-details-overlay/meeting-details-overlay.component.ts","webpack:///./src/app/overlays/overlays.module.ts","webpack:///./src/app/overlays/room-filter-modal/room-filter-modal.template.html","webpack:///./src/app/overlays/room-filter-modal/room-filter-modal.component.ts","webpack:///./src/app/overlays/room-select-modal/room-select-modal.template.html","webpack:///./src/app/overlays/room-select-modal/room-select-modal.component.ts","webpack:///./src/app/overlays/terms-overlay/terms-overlay.template.html","webpack:///./src/app/overlays/terms-overlay/terms-overlay.component.ts","webpack:///./src/app/overlays/time-period-modal/time-period-modal.template.html","webpack:///./src/app/overlays/time-period-modal/time-period-modal.component.ts","webpack:///./src/app/overlays/user-details-overlay/user-details-overlay.template.html","webpack:///./src/app/overlays/user-details-overlay/user-details-overlay.component.ts","webpack:///./src/app/overlays/view-room-modal/view-room-modal.template.html","webpack:///./src/app/overlays/view-room-modal/view-room-modal.component.ts","webpack:///./src/app/overlays/visitor-details-overlay/visitor-details-overlay.template.html","webpack:///./src/app/overlays/visitor-details-overlay/visitor-details-overlay.component.ts","webpack:///./src/app/services/app.service.ts","webpack:///./src/app/services/data/analytics.service.ts","webpack:///./src/app/services/data/base.service.ts","webpack:///./src/app/services/data/bookings.service.ts","webpack:///./src/app/services/data/buildings.service.ts","webpack:///./src/app/services/data/catering.service.ts","webpack:///./src/app/services/data/comments.service.ts","webpack:///./src/app/services/data/contacts.service.ts","webpack:///./src/app/services/data/location.service.ts","webpack:///./src/app/services/data/lockers.service.ts","webpack:///./src/app/services/data/rooms.service.ts","webpack:///./src/app/services/data/users.service.ts","webpack:///./src/app/services/data/visitors.service.ts","webpack:///./src/app/services/data/zoom.service.ts","webpack:///./src/app/services/hotkey.sevice.ts","webpack:///./src/app/services/settings.service.ts","webpack:///./src/app/shared/components/avatar/avatar.template.html","webpack:///./src/app/shared/components/avatar/avatar.component.ts","webpack:///./src/app/shared/components/base.component.ts","webpack:///./src/app/shared/components/booking-form/booking-form.template.html","webpack:///./src/app/shared/components/booking-form/booking-form.component.ts","webpack:///./src/app/shared/components/booking-form/form-checks.class.ts","webpack:///./src/app/shared/components/building-select/building-select.component.ts","webpack:///./src/app/shared/components/card/card.component.ts","webpack:///./src/app/shared/components/desk-info/desk-info.template.html","webpack:///./src/app/shared/components/desk-info/desk-info.component.ts","webpack:///./src/app/shared/components/dynamic-form/custom-field/custom-field.component.ts","webpack:///./src/app/shared/components/dynamic-form/dynamic-field.class.ts","webpack:///./src/app/shared/components/dynamic-form/dynamic-field/dynamic-field.component.ts","webpack:///./src/app/shared/components/dynamic-form/dynamic-form.component.ts","webpack:///./src/app/shared/components/dynamic-form/dynamic-form.module.ts","webpack:///./src/app/shared/components/login/forgot-pass-form/forgot-pass-form.component.ts","webpack:///./src/app/shared/components/login/index.ts","webpack:///./src/app/shared/components/login/login-form/login-form.template.html","webpack:///./src/app/shared/components/login/login-form/login-form.component.ts","webpack:///./src/app/shared/components/login/login.template.html","webpack:///./src/app/shared/components/login/login.component.ts","webpack:///./src/app/shared/components/login/register-form/register-form.component.ts","webpack:///./src/app/shared/components/room-info/room-info.template.html","webpack:///./src/app/shared/components/room-info/room-info.component.ts","webpack:///./src/app/shared/components/searchbar/searchbar.template.html","webpack:///./src/app/shared/components/searchbar/searchbar.component.ts","webpack:///./src/app/shared/components/shared.module.ts","webpack:///./src/app/shared/components/terms-display/terms-display.template.html","webpack:///./src/app/shared/components/terms-display/terms-display.component.ts","webpack:///./src/app/shared/components/timeline/timeline.template.html","webpack:///./src/app/shared/components/timeline/timeline.component.ts","webpack:///./src/app/shared/components/user-availability/user-availability.template.html","webpack:///./src/app/shared/components/user-availability/user-availability.component.ts","webpack:///./src/app/shared/components/user-form/user-form.template.html","webpack:///./src/app/shared/components/user-form/user-form.component.ts","webpack:///./src/app/shared/components/user-search/index.ts","webpack:///./src/app/shared/components/user-search/user-display/user-display.template.html","webpack:///./src/app/shared/components/user-search/user-display/user-display.component.ts","webpack:///./src/app/shared/components/user-search/user-list/user-list.template.html","webpack:///./src/app/shared/components/user-search/user-list/user-list.component.ts","webpack:///./src/app/shared/components/user-search/user-search.template.html","webpack:///./src/app/shared/components/user-search/user-search.component.ts","webpack:///./src/app/shared/components/user-tag/user-tag.template.html","webpack:///./src/app/shared/components/user-tag/user-tag.component.ts","webpack:///./src/app/shared/components/visitor-form/visitor-form.template.html","webpack:///./src/app/shared/components/visitor-form/visitor-form.component.ts","webpack:///./src/app/shared/utility.class.ts","webpack:///./src/app/shell/home/home.template.html","webpack:///./src/app/shell/home/home.component.ts","webpack:///./src/app/shell/shell.template.html","webpack:///./src/app/shell/shell.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6E;;;;;;;;;;;ACpRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,KAA4D;AAC7D,CAAC,SACW;AACZ,CAAC,qBAAqB;;AAEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,kBAAkB;AACzD,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iEAAiE,+CAA+C,EAAE;AAClH;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,4DAA4D,0CAA0C;AACtG;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,uCAAuC,0BAA0B,EAAE;AACnE;AACA;AACA;AACA,wCAAwC,6DAA6D,EAAE;AACvG,uCAAuC,WAAW,EAAE;AACpD;AACA,kCAAkC,aAAa,EAAE;AACjD,oCAAoC,WAAW,EAAE;AACjD,gCAAgC,aAAa,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,6BAA6B;AAC7B;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4HAA4H,wBAAwB,oCAAoC;AACxL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,sEAAsE;AACtJ;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,oDAAoD;AAC5F;AACA;AACA;AACA;AACA;AACA,2BAA2B,mCAAmC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,qEAAqE,gBAAgB;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,sCAAsC,MAAI;AAC1C;AACA;AACA,sCAAsC,MAAI;AAC1C;AACA;AACA,mFAAmF,kBAAkB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,mFAAmF,kBAAkB;AACrG;AACA;AACA;AACA;AACA,2BAA2B,QAAQ,gBAAgB;AACnD;AACA;AACA;AACA;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uGAAuG;AACvG;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,EAAE;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,EAAE;AACR;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,oCAAoC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,sBAAsB;AAChE,qCAAqC,iBAAiB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,8BAA8B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,0BAA0B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,wBAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,wBAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,0BAA0B,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,6BAA6B,EAAE;AACpF;AACA;AACA;AACA;AACA,8CAA8C,kDAAkD,EAAE;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,sDAAsD;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,0FAA0F;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,+BAA+B,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,gBAAgB;AACrF;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA,yCAAyC,6BAA6B;AACtE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,SAAS;AACT;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sBAAsB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA,UAAU,EAAE;AACZ;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ,qFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,EAAE;AACZ;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,0CAA0C;AAC5G;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;;ACjxGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kGChCsB,uIACpB,KAAiB,8lBACN;;;;;;;;;;;;;;;;ACFb;AAAA;AAAA;AAAA;AAA4D;AAEF;AAK1D;IAiBI,sBAAoB,IAAsB,EAAU,OAAuB;QAAvD,SAAI,GAAJ,IAAI,CAAkB;QAAU,YAAO,GAAP,OAAO,CAAgB;QACvE,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;QACxB,MAAc,CAAC,UAAU,GAAG,IAAI,CAAC;IAEtC,CAAC;IACL,mBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"main.js","sourcesContent":["var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","/**\n* @license\n* Copyright Google Inc. All Rights Reserved.\n*\n* Use of this source code is governed by an MIT-style license that can be\n* found in the LICENSE file at https://angular.io/license\n*/\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(factory());\n}(this, (function () { 'use strict';\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar Zone$1 = (function (global) {\n    var performance = global['performance'];\n    function mark(name) {\n        performance && performance['mark'] && performance['mark'](name);\n    }\n    function performanceMeasure(name, label) {\n        performance && performance['measure'] && performance['measure'](name, label);\n    }\n    mark('Zone');\n    var checkDuplicate = global[('__zone_symbol__forceDuplicateZoneCheck')] === true;\n    if (global['Zone']) {\n        // if global['Zone'] already exists (maybe zone.js was already loaded or\n        // some other lib also registered a global object named Zone), we may need\n        // to throw an error, but sometimes user may not want this error.\n        // For example,\n        // we have two web pages, page1 includes zone.js, page2 doesn't.\n        // and the 1st time user load page1 and page2, everything work fine,\n        // but when user load page2 again, error occurs because global['Zone'] already exists.\n        // so we add a flag to let user choose whether to throw this error or not.\n        // By default, if existing Zone is from zone.js, we will not throw the error.\n        if (checkDuplicate || typeof global['Zone'].__symbol__ !== 'function') {\n            throw new Error('Zone already loaded.');\n        }\n        else {\n            return global['Zone'];\n        }\n    }\n    var Zone = /** @class */ (function () {\n        function Zone(parent, zoneSpec) {\n            this._parent = parent;\n            this._name = zoneSpec ? zoneSpec.name || 'unnamed' : '<root>';\n            this._properties = zoneSpec && zoneSpec.properties || {};\n            this._zoneDelegate =\n                new ZoneDelegate(this, this._parent && this._parent._zoneDelegate, zoneSpec);\n        }\n        Zone.assertZonePatched = function () {\n            if (global['Promise'] !== patches['ZoneAwarePromise']) {\n                throw new Error('Zone.js has detected that ZoneAwarePromise `(window|global).Promise` ' +\n                    'has been overwritten.\\n' +\n                    'Most likely cause is that a Promise polyfill has been loaded ' +\n                    'after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. ' +\n                    'If you must load one, do so before loading zone.js.)');\n            }\n        };\n        Object.defineProperty(Zone, \"root\", {\n            get: function () {\n                var zone = Zone.current;\n                while (zone.parent) {\n                    zone = zone.parent;\n                }\n                return zone;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Zone, \"current\", {\n            get: function () {\n                return _currentZoneFrame.zone;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Zone, \"currentTask\", {\n            get: function () {\n                return _currentTask;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Zone.__load_patch = function (name, fn) {\n            if (patches.hasOwnProperty(name)) {\n                if (checkDuplicate) {\n                    throw Error('Already loaded patch: ' + name);\n                }\n            }\n            else if (!global['__Zone_disable_' + name]) {\n                var perfName = 'Zone:' + name;\n                mark(perfName);\n                patches[name] = fn(global, Zone, _api);\n                performanceMeasure(perfName, perfName);\n            }\n        };\n        Object.defineProperty(Zone.prototype, \"parent\", {\n            get: function () {\n                return this._parent;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(Zone.prototype, \"name\", {\n            get: function () {\n                return this._name;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Zone.prototype.get = function (key) {\n            var zone = this.getZoneWith(key);\n            if (zone)\n                return zone._properties[key];\n        };\n        Zone.prototype.getZoneWith = function (key) {\n            var current = this;\n            while (current) {\n                if (current._properties.hasOwnProperty(key)) {\n                    return current;\n                }\n                current = current._parent;\n            }\n            return null;\n        };\n        Zone.prototype.fork = function (zoneSpec) {\n            if (!zoneSpec)\n                throw new Error('ZoneSpec required!');\n            return this._zoneDelegate.fork(this, zoneSpec);\n        };\n        Zone.prototype.wrap = function (callback, source) {\n            if (typeof callback !== 'function') {\n                throw new Error('Expecting function got: ' + callback);\n            }\n            var _callback = this._zoneDelegate.intercept(this, callback, source);\n            var zone = this;\n            return function () {\n                return zone.runGuarded(_callback, this, arguments, source);\n            };\n        };\n        Zone.prototype.run = function (callback, applyThis, applyArgs, source) {\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        };\n        Zone.prototype.runGuarded = function (callback, applyThis, applyArgs, source) {\n            if (applyThis === void 0) { applyThis = null; }\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                try {\n                    return this._zoneDelegate.invoke(this, callback, applyThis, applyArgs, source);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                _currentZoneFrame = _currentZoneFrame.parent;\n            }\n        };\n        Zone.prototype.runTask = function (task, applyThis, applyArgs) {\n            if (task.zone != this) {\n                throw new Error('A task can only be run in the zone of creation! (Creation: ' +\n                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');\n            }\n            // https://github.com/angular/zone.js/issues/778, sometimes eventTask\n            // will run in notScheduled(canceled) state, we should not try to\n            // run such kind of task but just return\n            if (task.state === notScheduled && (task.type === eventTask || task.type === macroTask)) {\n                return;\n            }\n            var reEntryGuard = task.state != running;\n            reEntryGuard && task._transitionTo(running, scheduled);\n            task.runCount++;\n            var previousTask = _currentTask;\n            _currentTask = task;\n            _currentZoneFrame = { parent: _currentZoneFrame, zone: this };\n            try {\n                if (task.type == macroTask && task.data && !task.data.isPeriodic) {\n                    task.cancelFn = undefined;\n                }\n                try {\n                    return this._zoneDelegate.invokeTask(this, task, applyThis, applyArgs);\n                }\n                catch (error) {\n                    if (this._zoneDelegate.handleError(this, error)) {\n                        throw error;\n                    }\n                }\n            }\n            finally {\n                // if the task's state is notScheduled or unknown, then it has already been cancelled\n                // we should not reset the state to scheduled\n                if (task.state !== notScheduled && task.state !== unknown) {\n                    if (task.type == eventTask || (task.data && task.data.isPeriodic)) {\n                        reEntryGuard && task._transitionTo(scheduled, running);\n                    }\n                    else {\n                        task.runCount = 0;\n                        this._updateTaskCount(task, -1);\n                        reEntryGuard &&\n                            task._transitionTo(notScheduled, running, notScheduled);\n                    }\n                }\n                _currentZoneFrame = _currentZoneFrame.parent;\n                _currentTask = previousTask;\n            }\n        };\n        Zone.prototype.scheduleTask = function (task) {\n            if (task.zone && task.zone !== this) {\n                // check if the task was rescheduled, the newZone\n                // should not be the children of the original zone\n                var newZone = this;\n                while (newZone) {\n                    if (newZone === task.zone) {\n                        throw Error(\"can not reschedule task to \" + this.name + \" which is descendants of the original zone \" + task.zone.name);\n                    }\n                    newZone = newZone.parent;\n                }\n            }\n            task._transitionTo(scheduling, notScheduled);\n            var zoneDelegates = [];\n            task._zoneDelegates = zoneDelegates;\n            task._zone = this;\n            try {\n                task = this._zoneDelegate.scheduleTask(this, task);\n            }\n            catch (err) {\n                // should set task's state to unknown when scheduleTask throw error\n                // because the err may from reschedule, so the fromState maybe notScheduled\n                task._transitionTo(unknown, scheduling, notScheduled);\n                // TODO: @JiaLiPassion, should we check the result from handleError?\n                this._zoneDelegate.handleError(this, err);\n                throw err;\n            }\n            if (task._zoneDelegates === zoneDelegates) {\n                // we have to check because internally the delegate can reschedule the task.\n                this._updateTaskCount(task, 1);\n            }\n            if (task.state == scheduling) {\n                task._transitionTo(scheduled, scheduling);\n            }\n            return task;\n        };\n        Zone.prototype.scheduleMicroTask = function (source, callback, data, customSchedule) {\n            return this.scheduleTask(new ZoneTask(microTask, source, callback, data, customSchedule, undefined));\n        };\n        Zone.prototype.scheduleMacroTask = function (source, callback, data, customSchedule, customCancel) {\n            return this.scheduleTask(new ZoneTask(macroTask, source, callback, data, customSchedule, customCancel));\n        };\n        Zone.prototype.scheduleEventTask = function (source, callback, data, customSchedule, customCancel) {\n            return this.scheduleTask(new ZoneTask(eventTask, source, callback, data, customSchedule, customCancel));\n        };\n        Zone.prototype.cancelTask = function (task) {\n            if (task.zone != this)\n                throw new Error('A task can only be cancelled in the zone of creation! (Creation: ' +\n                    (task.zone || NO_ZONE).name + '; Execution: ' + this.name + ')');\n            task._transitionTo(canceling, scheduled, running);\n            try {\n                this._zoneDelegate.cancelTask(this, task);\n            }\n            catch (err) {\n                // if error occurs when cancelTask, transit the state to unknown\n                task._transitionTo(unknown, canceling);\n                this._zoneDelegate.handleError(this, err);\n                throw err;\n            }\n            this._updateTaskCount(task, -1);\n            task._transitionTo(notScheduled, canceling);\n            task.runCount = 0;\n            return task;\n        };\n        Zone.prototype._updateTaskCount = function (task, count) {\n            var zoneDelegates = task._zoneDelegates;\n            if (count == -1) {\n                task._zoneDelegates = null;\n            }\n            for (var i = 0; i < zoneDelegates.length; i++) {\n                zoneDelegates[i]._updateTaskCount(task.type, count);\n            }\n        };\n        Zone.__symbol__ = __symbol__;\n        return Zone;\n    }());\n    var DELEGATE_ZS = {\n        name: '',\n        onHasTask: function (delegate, _, target, hasTaskState) { return delegate.hasTask(target, hasTaskState); },\n        onScheduleTask: function (delegate, _, target, task) {\n            return delegate.scheduleTask(target, task);\n        },\n        onInvokeTask: function (delegate, _, target, task, applyThis, applyArgs) {\n            return delegate.invokeTask(target, task, applyThis, applyArgs);\n        },\n        onCancelTask: function (delegate, _, target, task) { return delegate.cancelTask(target, task); }\n    };\n    var ZoneDelegate = /** @class */ (function () {\n        function ZoneDelegate(zone, parentDelegate, zoneSpec) {\n            this._taskCounts = { 'microTask': 0, 'macroTask': 0, 'eventTask': 0 };\n            this.zone = zone;\n            this._parentDelegate = parentDelegate;\n            this._forkZS = zoneSpec && (zoneSpec && zoneSpec.onFork ? zoneSpec : parentDelegate._forkZS);\n            this._forkDlgt = zoneSpec && (zoneSpec.onFork ? parentDelegate : parentDelegate._forkDlgt);\n            this._forkCurrZone = zoneSpec && (zoneSpec.onFork ? this.zone : parentDelegate.zone);\n            this._interceptZS =\n                zoneSpec && (zoneSpec.onIntercept ? zoneSpec : parentDelegate._interceptZS);\n            this._interceptDlgt =\n                zoneSpec && (zoneSpec.onIntercept ? parentDelegate : parentDelegate._interceptDlgt);\n            this._interceptCurrZone =\n                zoneSpec && (zoneSpec.onIntercept ? this.zone : parentDelegate.zone);\n            this._invokeZS = zoneSpec && (zoneSpec.onInvoke ? zoneSpec : parentDelegate._invokeZS);\n            this._invokeDlgt =\n                zoneSpec && (zoneSpec.onInvoke ? parentDelegate : parentDelegate._invokeDlgt);\n            this._invokeCurrZone = zoneSpec && (zoneSpec.onInvoke ? this.zone : parentDelegate.zone);\n            this._handleErrorZS =\n                zoneSpec && (zoneSpec.onHandleError ? zoneSpec : parentDelegate._handleErrorZS);\n            this._handleErrorDlgt =\n                zoneSpec && (zoneSpec.onHandleError ? parentDelegate : parentDelegate._handleErrorDlgt);\n            this._handleErrorCurrZone =\n                zoneSpec && (zoneSpec.onHandleError ? this.zone : parentDelegate.zone);\n            this._scheduleTaskZS =\n                zoneSpec && (zoneSpec.onScheduleTask ? zoneSpec : parentDelegate._scheduleTaskZS);\n            this._scheduleTaskDlgt = zoneSpec &&\n                (zoneSpec.onScheduleTask ? parentDelegate : parentDelegate._scheduleTaskDlgt);\n            this._scheduleTaskCurrZone =\n                zoneSpec && (zoneSpec.onScheduleTask ? this.zone : parentDelegate.zone);\n            this._invokeTaskZS =\n                zoneSpec && (zoneSpec.onInvokeTask ? zoneSpec : parentDelegate._invokeTaskZS);\n            this._invokeTaskDlgt =\n                zoneSpec && (zoneSpec.onInvokeTask ? parentDelegate : parentDelegate._invokeTaskDlgt);\n            this._invokeTaskCurrZone =\n                zoneSpec && (zoneSpec.onInvokeTask ? this.zone : parentDelegate.zone);\n            this._cancelTaskZS =\n                zoneSpec && (zoneSpec.onCancelTask ? zoneSpec : parentDelegate._cancelTaskZS);\n            this._cancelTaskDlgt =\n                zoneSpec && (zoneSpec.onCancelTask ? parentDelegate : parentDelegate._cancelTaskDlgt);\n            this._cancelTaskCurrZone =\n                zoneSpec && (zoneSpec.onCancelTask ? this.zone : parentDelegate.zone);\n            this._hasTaskZS = null;\n            this._hasTaskDlgt = null;\n            this._hasTaskDlgtOwner = null;\n            this._hasTaskCurrZone = null;\n            var zoneSpecHasTask = zoneSpec && zoneSpec.onHasTask;\n            var parentHasTask = parentDelegate && parentDelegate._hasTaskZS;\n            if (zoneSpecHasTask || parentHasTask) {\n                // If we need to report hasTask, than this ZS needs to do ref counting on tasks. In such\n                // a case all task related interceptors must go through this ZD. We can't short circuit it.\n                this._hasTaskZS = zoneSpecHasTask ? zoneSpec : DELEGATE_ZS;\n                this._hasTaskDlgt = parentDelegate;\n                this._hasTaskDlgtOwner = this;\n                this._hasTaskCurrZone = zone;\n                if (!zoneSpec.onScheduleTask) {\n                    this._scheduleTaskZS = DELEGATE_ZS;\n                    this._scheduleTaskDlgt = parentDelegate;\n                    this._scheduleTaskCurrZone = this.zone;\n                }\n                if (!zoneSpec.onInvokeTask) {\n                    this._invokeTaskZS = DELEGATE_ZS;\n                    this._invokeTaskDlgt = parentDelegate;\n                    this._invokeTaskCurrZone = this.zone;\n                }\n                if (!zoneSpec.onCancelTask) {\n                    this._cancelTaskZS = DELEGATE_ZS;\n                    this._cancelTaskDlgt = parentDelegate;\n                    this._cancelTaskCurrZone = this.zone;\n                }\n            }\n        }\n        ZoneDelegate.prototype.fork = function (targetZone, zoneSpec) {\n            return this._forkZS ? this._forkZS.onFork(this._forkDlgt, this.zone, targetZone, zoneSpec) :\n                new Zone(targetZone, zoneSpec);\n        };\n        ZoneDelegate.prototype.intercept = function (targetZone, callback, source) {\n            return this._interceptZS ?\n                this._interceptZS.onIntercept(this._interceptDlgt, this._interceptCurrZone, targetZone, callback, source) :\n                callback;\n        };\n        ZoneDelegate.prototype.invoke = function (targetZone, callback, applyThis, applyArgs, source) {\n            return this._invokeZS ? this._invokeZS.onInvoke(this._invokeDlgt, this._invokeCurrZone, targetZone, callback, applyThis, applyArgs, source) :\n                callback.apply(applyThis, applyArgs);\n        };\n        ZoneDelegate.prototype.handleError = function (targetZone, error) {\n            return this._handleErrorZS ?\n                this._handleErrorZS.onHandleError(this._handleErrorDlgt, this._handleErrorCurrZone, targetZone, error) :\n                true;\n        };\n        ZoneDelegate.prototype.scheduleTask = function (targetZone, task) {\n            var returnTask = task;\n            if (this._scheduleTaskZS) {\n                if (this._hasTaskZS) {\n                    returnTask._zoneDelegates.push(this._hasTaskDlgtOwner);\n                }\n                returnTask = this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt, this._scheduleTaskCurrZone, targetZone, task);\n                if (!returnTask)\n                    returnTask = task;\n            }\n            else {\n                if (task.scheduleFn) {\n                    task.scheduleFn(task);\n                }\n                else if (task.type == microTask) {\n                    scheduleMicroTask(task);\n                }\n                else {\n                    throw new Error('Task is missing scheduleFn.');\n                }\n            }\n            return returnTask;\n        };\n        ZoneDelegate.prototype.invokeTask = function (targetZone, task, applyThis, applyArgs) {\n            return this._invokeTaskZS ? this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt, this._invokeTaskCurrZone, targetZone, task, applyThis, applyArgs) :\n                task.callback.apply(applyThis, applyArgs);\n        };\n        ZoneDelegate.prototype.cancelTask = function (targetZone, task) {\n            var value;\n            if (this._cancelTaskZS) {\n                value = this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt, this._cancelTaskCurrZone, targetZone, task);\n            }\n            else {\n                if (!task.cancelFn) {\n                    throw Error('Task is not cancelable');\n                }\n                value = task.cancelFn(task);\n            }\n            return value;\n        };\n        ZoneDelegate.prototype.hasTask = function (targetZone, isEmpty) {\n            // hasTask should not throw error so other ZoneDelegate\n            // can still trigger hasTask callback\n            try {\n                this._hasTaskZS &&\n                    this._hasTaskZS.onHasTask(this._hasTaskDlgt, this._hasTaskCurrZone, targetZone, isEmpty);\n            }\n            catch (err) {\n                this.handleError(targetZone, err);\n            }\n        };\n        ZoneDelegate.prototype._updateTaskCount = function (type, count) {\n            var counts = this._taskCounts;\n            var prev = counts[type];\n            var next = counts[type] = prev + count;\n            if (next < 0) {\n                throw new Error('More tasks executed then were scheduled.');\n            }\n            if (prev == 0 || next == 0) {\n                var isEmpty = {\n                    microTask: counts['microTask'] > 0,\n                    macroTask: counts['macroTask'] > 0,\n                    eventTask: counts['eventTask'] > 0,\n                    change: type\n                };\n                this.hasTask(this.zone, isEmpty);\n            }\n        };\n        return ZoneDelegate;\n    }());\n    var ZoneTask = /** @class */ (function () {\n        function ZoneTask(type, source, callback, options, scheduleFn, cancelFn) {\n            this._zone = null;\n            this.runCount = 0;\n            this._zoneDelegates = null;\n            this._state = 'notScheduled';\n            this.type = type;\n            this.source = source;\n            this.data = options;\n            this.scheduleFn = scheduleFn;\n            this.cancelFn = cancelFn;\n            this.callback = callback;\n            var self = this;\n            // TODO: @JiaLiPassion options should have interface\n            if (type === eventTask && options && options.useG) {\n                this.invoke = ZoneTask.invokeTask;\n            }\n            else {\n                this.invoke = function () {\n                    return ZoneTask.invokeTask.call(global, self, this, arguments);\n                };\n            }\n        }\n        ZoneTask.invokeTask = function (task, target, args) {\n            if (!task) {\n                task = this;\n            }\n            _numberOfNestedTaskFrames++;\n            try {\n                task.runCount++;\n                return task.zone.runTask(task, target, args);\n            }\n            finally {\n                if (_numberOfNestedTaskFrames == 1) {\n                    drainMicroTaskQueue();\n                }\n                _numberOfNestedTaskFrames--;\n            }\n        };\n        Object.defineProperty(ZoneTask.prototype, \"zone\", {\n            get: function () {\n                return this._zone;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(ZoneTask.prototype, \"state\", {\n            get: function () {\n                return this._state;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        ZoneTask.prototype.cancelScheduleRequest = function () {\n            this._transitionTo(notScheduled, scheduling);\n        };\n        ZoneTask.prototype._transitionTo = function (toState, fromState1, fromState2) {\n            if (this._state === fromState1 || this._state === fromState2) {\n                this._state = toState;\n                if (toState == notScheduled) {\n                    this._zoneDelegates = null;\n                }\n            }\n            else {\n                throw new Error(this.type + \" '\" + this.source + \"': can not transition to '\" + toState + \"', expecting state '\" + fromState1 + \"'\" + (fromState2 ? ' or \\'' + fromState2 + '\\'' : '') + \", was '\" + this._state + \"'.\");\n            }\n        };\n        ZoneTask.prototype.toString = function () {\n            if (this.data && typeof this.data.handleId !== 'undefined') {\n                return this.data.handleId.toString();\n            }\n            else {\n                return Object.prototype.toString.call(this);\n            }\n        };\n        // add toJSON method to prevent cyclic error when\n        // call JSON.stringify(zoneTask)\n        ZoneTask.prototype.toJSON = function () {\n            return {\n                type: this.type,\n                state: this.state,\n                source: this.source,\n                zone: this.zone.name,\n                runCount: this.runCount\n            };\n        };\n        return ZoneTask;\n    }());\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    ///  MICROTASK QUEUE\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    var symbolSetTimeout = __symbol__('setTimeout');\n    var symbolPromise = __symbol__('Promise');\n    var symbolThen = __symbol__('then');\n    var _microTaskQueue = [];\n    var _isDrainingMicrotaskQueue = false;\n    var nativeMicroTaskQueuePromise;\n    function scheduleMicroTask(task) {\n        // if we are not running in any task, and there has not been anything scheduled\n        // we must bootstrap the initial task creation by manually scheduling the drain\n        if (_numberOfNestedTaskFrames === 0 && _microTaskQueue.length === 0) {\n            // We are not running in Task, so we need to kickstart the microtask queue.\n            if (!nativeMicroTaskQueuePromise) {\n                if (global[symbolPromise]) {\n                    nativeMicroTaskQueuePromise = global[symbolPromise].resolve(0);\n                }\n            }\n            if (nativeMicroTaskQueuePromise) {\n                var nativeThen = nativeMicroTaskQueuePromise[symbolThen];\n                if (!nativeThen) {\n                    // native Promise is not patchable, we need to use `then` directly\n                    // issue 1078\n                    nativeThen = nativeMicroTaskQueuePromise['then'];\n                }\n                nativeThen.call(nativeMicroTaskQueuePromise, drainMicroTaskQueue);\n            }\n            else {\n                global[symbolSetTimeout](drainMicroTaskQueue, 0);\n            }\n        }\n        task && _microTaskQueue.push(task);\n    }\n    function drainMicroTaskQueue() {\n        if (!_isDrainingMicrotaskQueue) {\n            _isDrainingMicrotaskQueue = true;\n            while (_microTaskQueue.length) {\n                var queue = _microTaskQueue;\n                _microTaskQueue = [];\n                for (var i = 0; i < queue.length; i++) {\n                    var task = queue[i];\n                    try {\n                        task.zone.runTask(task, null, null);\n                    }\n                    catch (error) {\n                        _api.onUnhandledError(error);\n                    }\n                }\n            }\n            _api.microtaskDrainDone();\n            _isDrainingMicrotaskQueue = false;\n        }\n    }\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    ///  BOOTSTRAP\n    //////////////////////////////////////////////////////\n    //////////////////////////////////////////////////////\n    var NO_ZONE = { name: 'NO ZONE' };\n    var notScheduled = 'notScheduled', scheduling = 'scheduling', scheduled = 'scheduled', running = 'running', canceling = 'canceling', unknown = 'unknown';\n    var microTask = 'microTask', macroTask = 'macroTask', eventTask = 'eventTask';\n    var patches = {};\n    var _api = {\n        symbol: __symbol__,\n        currentZoneFrame: function () { return _currentZoneFrame; },\n        onUnhandledError: noop,\n        microtaskDrainDone: noop,\n        scheduleMicroTask: scheduleMicroTask,\n        showUncaughtError: function () { return !Zone[__symbol__('ignoreConsoleErrorUncaughtError')]; },\n        patchEventTarget: function () { return []; },\n        patchOnProperties: noop,\n        patchMethod: function () { return noop; },\n        bindArguments: function () { return []; },\n        patchThen: function () { return noop; },\n        setNativePromise: function (NativePromise) {\n            // sometimes NativePromise.resolve static function\n            // is not ready yet, (such as core-js/es6.promise)\n            // so we need to check here.\n            if (NativePromise && typeof NativePromise.resolve === 'function') {\n                nativeMicroTaskQueuePromise = NativePromise.resolve(0);\n            }\n        },\n    };\n    var _currentZoneFrame = { parent: null, zone: new Zone(null, null) };\n    var _currentTask = null;\n    var _numberOfNestedTaskFrames = 0;\n    function noop() { }\n    function __symbol__(name) {\n        return '__zone_symbol__' + name;\n    }\n    performanceMeasure('Zone', 'Zone');\n    return global['Zone'] = Zone;\n})(typeof window !== 'undefined' && window || typeof self !== 'undefined' && self || global);\n\nvar __values = (undefined && undefined.__values) || function (o) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n    if (m) return m.call(o);\n    return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n};\nZone.__load_patch('ZoneAwarePromise', function (global, Zone, api) {\n    var ObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var ObjectDefineProperty = Object.defineProperty;\n    function readableObjectToString(obj) {\n        if (obj && obj.toString === Object.prototype.toString) {\n            var className = obj.constructor && obj.constructor.name;\n            return (className ? className : '') + ': ' + JSON.stringify(obj);\n        }\n        return obj ? obj.toString() : Object.prototype.toString.call(obj);\n    }\n    var __symbol__ = api.symbol;\n    var _uncaughtPromiseErrors = [];\n    var symbolPromise = __symbol__('Promise');\n    var symbolThen = __symbol__('then');\n    var creationTrace = '__creationTrace__';\n    api.onUnhandledError = function (e) {\n        if (api.showUncaughtError()) {\n            var rejection = e && e.rejection;\n            if (rejection) {\n                console.error('Unhandled Promise rejection:', rejection instanceof Error ? rejection.message : rejection, '; Zone:', e.zone.name, '; Task:', e.task && e.task.source, '; Value:', rejection, rejection instanceof Error ? rejection.stack : undefined);\n            }\n            else {\n                console.error(e);\n            }\n        }\n    };\n    api.microtaskDrainDone = function () {\n        while (_uncaughtPromiseErrors.length) {\n            var _loop_1 = function () {\n                var uncaughtPromiseError = _uncaughtPromiseErrors.shift();\n                try {\n                    uncaughtPromiseError.zone.runGuarded(function () {\n                        throw uncaughtPromiseError;\n                    });\n                }\n                catch (error) {\n                    handleUnhandledRejection(error);\n                }\n            };\n            while (_uncaughtPromiseErrors.length) {\n                _loop_1();\n            }\n        }\n    };\n    var UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL = __symbol__('unhandledPromiseRejectionHandler');\n    function handleUnhandledRejection(e) {\n        api.onUnhandledError(e);\n        try {\n            var handler = Zone[UNHANDLED_PROMISE_REJECTION_HANDLER_SYMBOL];\n            if (handler && typeof handler === 'function') {\n                handler.call(this, e);\n            }\n        }\n        catch (err) {\n        }\n    }\n    function isThenable(value) {\n        return value && value.then;\n    }\n    function forwardResolution(value) {\n        return value;\n    }\n    function forwardRejection(rejection) {\n        return ZoneAwarePromise.reject(rejection);\n    }\n    var symbolState = __symbol__('state');\n    var symbolValue = __symbol__('value');\n    var symbolFinally = __symbol__('finally');\n    var symbolParentPromiseValue = __symbol__('parentPromiseValue');\n    var symbolParentPromiseState = __symbol__('parentPromiseState');\n    var source = 'Promise.then';\n    var UNRESOLVED = null;\n    var RESOLVED = true;\n    var REJECTED = false;\n    var REJECTED_NO_CATCH = 0;\n    function makeResolver(promise, state) {\n        return function (v) {\n            try {\n                resolvePromise(promise, state, v);\n            }\n            catch (err) {\n                resolvePromise(promise, false, err);\n            }\n            // Do not return value or you will break the Promise spec.\n        };\n    }\n    var once = function () {\n        var wasCalled = false;\n        return function wrapper(wrappedFunction) {\n            return function () {\n                if (wasCalled) {\n                    return;\n                }\n                wasCalled = true;\n                wrappedFunction.apply(null, arguments);\n            };\n        };\n    };\n    var TYPE_ERROR = 'Promise resolved with itself';\n    var CURRENT_TASK_TRACE_SYMBOL = __symbol__('currentTaskTrace');\n    // Promise Resolution\n    function resolvePromise(promise, state, value) {\n        var onceWrapper = once();\n        if (promise === value) {\n            throw new TypeError(TYPE_ERROR);\n        }\n        if (promise[symbolState] === UNRESOLVED) {\n            // should only get value.then once based on promise spec.\n            var then = null;\n            try {\n                if (typeof value === 'object' || typeof value === 'function') {\n                    then = value && value.then;\n                }\n            }\n            catch (err) {\n                onceWrapper(function () {\n                    resolvePromise(promise, false, err);\n                })();\n                return promise;\n            }\n            // if (value instanceof ZoneAwarePromise) {\n            if (state !== REJECTED && value instanceof ZoneAwarePromise &&\n                value.hasOwnProperty(symbolState) && value.hasOwnProperty(symbolValue) &&\n                value[symbolState] !== UNRESOLVED) {\n                clearRejectedNoCatch(value);\n                resolvePromise(promise, value[symbolState], value[symbolValue]);\n            }\n            else if (state !== REJECTED && typeof then === 'function') {\n                try {\n                    then.call(value, onceWrapper(makeResolver(promise, state)), onceWrapper(makeResolver(promise, false)));\n                }\n                catch (err) {\n                    onceWrapper(function () {\n                        resolvePromise(promise, false, err);\n                    })();\n                }\n            }\n            else {\n                promise[symbolState] = state;\n                var queue = promise[symbolValue];\n                promise[symbolValue] = value;\n                if (promise[symbolFinally] === symbolFinally) {\n                    // the promise is generated by Promise.prototype.finally\n                    if (state === RESOLVED) {\n                        // the state is resolved, should ignore the value\n                        // and use parent promise value\n                        promise[symbolState] = promise[symbolParentPromiseState];\n                        promise[symbolValue] = promise[symbolParentPromiseValue];\n                    }\n                }\n                // record task information in value when error occurs, so we can\n                // do some additional work such as render longStackTrace\n                if (state === REJECTED && value instanceof Error) {\n                    // check if longStackTraceZone is here\n                    var trace = Zone.currentTask && Zone.currentTask.data &&\n                        Zone.currentTask.data[creationTrace];\n                    if (trace) {\n                        // only keep the long stack trace into error when in longStackTraceZone\n                        ObjectDefineProperty(value, CURRENT_TASK_TRACE_SYMBOL, { configurable: true, enumerable: false, writable: true, value: trace });\n                    }\n                }\n                for (var i = 0; i < queue.length;) {\n                    scheduleResolveOrReject(promise, queue[i++], queue[i++], queue[i++], queue[i++]);\n                }\n                if (queue.length == 0 && state == REJECTED) {\n                    promise[symbolState] = REJECTED_NO_CATCH;\n                    try {\n                        // try to print more readable error log\n                        throw new Error('Uncaught (in promise): ' + readableObjectToString(value) +\n                            (value && value.stack ? '\\n' + value.stack : ''));\n                    }\n                    catch (err) {\n                        var error_1 = err;\n                        error_1.rejection = value;\n                        error_1.promise = promise;\n                        error_1.zone = Zone.current;\n                        error_1.task = Zone.currentTask;\n                        _uncaughtPromiseErrors.push(error_1);\n                        api.scheduleMicroTask(); // to make sure that it is running\n                    }\n                }\n            }\n        }\n        // Resolving an already resolved promise is a noop.\n        return promise;\n    }\n    var REJECTION_HANDLED_HANDLER = __symbol__('rejectionHandledHandler');\n    function clearRejectedNoCatch(promise) {\n        if (promise[symbolState] === REJECTED_NO_CATCH) {\n            // if the promise is rejected no catch status\n            // and queue.length > 0, means there is a error handler\n            // here to handle the rejected promise, we should trigger\n            // windows.rejectionhandled eventHandler or nodejs rejectionHandled\n            // eventHandler\n            try {\n                var handler = Zone[REJECTION_HANDLED_HANDLER];\n                if (handler && typeof handler === 'function') {\n                    handler.call(this, { rejection: promise[symbolValue], promise: promise });\n                }\n            }\n            catch (err) {\n            }\n            promise[symbolState] = REJECTED;\n            for (var i = 0; i < _uncaughtPromiseErrors.length; i++) {\n                if (promise === _uncaughtPromiseErrors[i].promise) {\n                    _uncaughtPromiseErrors.splice(i, 1);\n                }\n            }\n        }\n    }\n    function scheduleResolveOrReject(promise, zone, chainPromise, onFulfilled, onRejected) {\n        clearRejectedNoCatch(promise);\n        var promiseState = promise[symbolState];\n        var delegate = promiseState ?\n            (typeof onFulfilled === 'function') ? onFulfilled : forwardResolution :\n            (typeof onRejected === 'function') ? onRejected : forwardRejection;\n        zone.scheduleMicroTask(source, function () {\n            try {\n                var parentPromiseValue = promise[symbolValue];\n                var isFinallyPromise = chainPromise && symbolFinally === chainPromise[symbolFinally];\n                if (isFinallyPromise) {\n                    // if the promise is generated from finally call, keep parent promise's state and value\n                    chainPromise[symbolParentPromiseValue] = parentPromiseValue;\n                    chainPromise[symbolParentPromiseState] = promiseState;\n                }\n                // should not pass value to finally callback\n                var value = zone.run(delegate, undefined, isFinallyPromise && delegate !== forwardRejection && delegate !== forwardResolution ?\n                    [] :\n                    [parentPromiseValue]);\n                resolvePromise(chainPromise, true, value);\n            }\n            catch (error) {\n                // if error occurs, should always return this error\n                resolvePromise(chainPromise, false, error);\n            }\n        }, chainPromise);\n    }\n    var ZONE_AWARE_PROMISE_TO_STRING = 'function ZoneAwarePromise() { [native code] }';\n    var ZoneAwarePromise = /** @class */ (function () {\n        function ZoneAwarePromise(executor) {\n            var promise = this;\n            if (!(promise instanceof ZoneAwarePromise)) {\n                throw new Error('Must be an instanceof Promise.');\n            }\n            promise[symbolState] = UNRESOLVED;\n            promise[symbolValue] = []; // queue;\n            try {\n                executor && executor(makeResolver(promise, RESOLVED), makeResolver(promise, REJECTED));\n            }\n            catch (error) {\n                resolvePromise(promise, false, error);\n            }\n        }\n        ZoneAwarePromise.toString = function () {\n            return ZONE_AWARE_PROMISE_TO_STRING;\n        };\n        ZoneAwarePromise.resolve = function (value) {\n            return resolvePromise(new this(null), RESOLVED, value);\n        };\n        ZoneAwarePromise.reject = function (error) {\n            return resolvePromise(new this(null), REJECTED, error);\n        };\n        ZoneAwarePromise.race = function (values) {\n            var e_1, _a;\n            var resolve;\n            var reject;\n            var promise = new this(function (res, rej) {\n                resolve = res;\n                reject = rej;\n            });\n            function onResolve(value) {\n                promise && (promise = null || resolve(value));\n            }\n            function onReject(error) {\n                promise && (promise = null || reject(error));\n            }\n            try {\n                for (var values_1 = __values(values), values_1_1 = values_1.next(); !values_1_1.done; values_1_1 = values_1.next()) {\n                    var value = values_1_1.value;\n                    if (!isThenable(value)) {\n                        value = this.resolve(value);\n                    }\n                    value.then(onResolve, onReject);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (values_1_1 && !values_1_1.done && (_a = values_1.return)) _a.call(values_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return promise;\n        };\n        ZoneAwarePromise.all = function (values) {\n            var e_2, _a;\n            var resolve;\n            var reject;\n            var promise = new this(function (res, rej) {\n                resolve = res;\n                reject = rej;\n            });\n            // Start at 2 to prevent prematurely resolving if .then is called immediately.\n            var unresolvedCount = 2;\n            var valueIndex = 0;\n            var resolvedValues = [];\n            var _loop_2 = function (value) {\n                if (!isThenable(value)) {\n                    value = this_1.resolve(value);\n                }\n                var curValueIndex = valueIndex;\n                value.then(function (value) {\n                    resolvedValues[curValueIndex] = value;\n                    unresolvedCount--;\n                    if (unresolvedCount === 0) {\n                        resolve(resolvedValues);\n                    }\n                }, reject);\n                unresolvedCount++;\n                valueIndex++;\n            };\n            var this_1 = this;\n            try {\n                for (var values_2 = __values(values), values_2_1 = values_2.next(); !values_2_1.done; values_2_1 = values_2.next()) {\n                    var value = values_2_1.value;\n                    _loop_2(value);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (values_2_1 && !values_2_1.done && (_a = values_2.return)) _a.call(values_2);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            // Make the unresolvedCount zero-based again.\n            unresolvedCount -= 2;\n            if (unresolvedCount === 0) {\n                resolve(resolvedValues);\n            }\n            return promise;\n        };\n        ZoneAwarePromise.prototype.then = function (onFulfilled, onRejected) {\n            var chainPromise = new this.constructor(null);\n            var zone = Zone.current;\n            if (this[symbolState] == UNRESOLVED) {\n                this[symbolValue].push(zone, chainPromise, onFulfilled, onRejected);\n            }\n            else {\n                scheduleResolveOrReject(this, zone, chainPromise, onFulfilled, onRejected);\n            }\n            return chainPromise;\n        };\n        ZoneAwarePromise.prototype.catch = function (onRejected) {\n            return this.then(null, onRejected);\n        };\n        ZoneAwarePromise.prototype.finally = function (onFinally) {\n            var chainPromise = new this.constructor(null);\n            chainPromise[symbolFinally] = symbolFinally;\n            var zone = Zone.current;\n            if (this[symbolState] == UNRESOLVED) {\n                this[symbolValue].push(zone, chainPromise, onFinally, onFinally);\n            }\n            else {\n                scheduleResolveOrReject(this, zone, chainPromise, onFinally, onFinally);\n            }\n            return chainPromise;\n        };\n        return ZoneAwarePromise;\n    }());\n    // Protect against aggressive optimizers dropping seemingly unused properties.\n    // E.g. Closure Compiler in advanced mode.\n    ZoneAwarePromise['resolve'] = ZoneAwarePromise.resolve;\n    ZoneAwarePromise['reject'] = ZoneAwarePromise.reject;\n    ZoneAwarePromise['race'] = ZoneAwarePromise.race;\n    ZoneAwarePromise['all'] = ZoneAwarePromise.all;\n    var NativePromise = global[symbolPromise] = global['Promise'];\n    var ZONE_AWARE_PROMISE = Zone.__symbol__('ZoneAwarePromise');\n    var desc = ObjectGetOwnPropertyDescriptor(global, 'Promise');\n    if (!desc || desc.configurable) {\n        desc && delete desc.writable;\n        desc && delete desc.value;\n        if (!desc) {\n            desc = { configurable: true, enumerable: true };\n        }\n        desc.get = function () {\n            // if we already set ZoneAwarePromise, use patched one\n            // otherwise return native one.\n            return global[ZONE_AWARE_PROMISE] ? global[ZONE_AWARE_PROMISE] : global[symbolPromise];\n        };\n        desc.set = function (NewNativePromise) {\n            if (NewNativePromise === ZoneAwarePromise) {\n                // if the NewNativePromise is ZoneAwarePromise\n                // save to global\n                global[ZONE_AWARE_PROMISE] = NewNativePromise;\n            }\n            else {\n                // if the NewNativePromise is not ZoneAwarePromise\n                // for example: after load zone.js, some library just\n                // set es6-promise to global, if we set it to global\n                // directly, assertZonePatched will fail and angular\n                // will not loaded, so we just set the NewNativePromise\n                // to global[symbolPromise], so the result is just like\n                // we load ES6 Promise before zone.js\n                global[symbolPromise] = NewNativePromise;\n                if (!NewNativePromise.prototype[symbolThen]) {\n                    patchThen(NewNativePromise);\n                }\n                api.setNativePromise(NewNativePromise);\n            }\n        };\n        ObjectDefineProperty(global, 'Promise', desc);\n    }\n    global['Promise'] = ZoneAwarePromise;\n    var symbolThenPatched = __symbol__('thenPatched');\n    function patchThen(Ctor) {\n        var proto = Ctor.prototype;\n        var prop = ObjectGetOwnPropertyDescriptor(proto, 'then');\n        if (prop && (prop.writable === false || !prop.configurable)) {\n            // check Ctor.prototype.then propertyDescriptor is writable or not\n            // in meteor env, writable is false, we should ignore such case\n            return;\n        }\n        var originalThen = proto.then;\n        // Keep a reference to the original method.\n        proto[symbolThen] = originalThen;\n        Ctor.prototype.then = function (onResolve, onReject) {\n            var _this = this;\n            var wrapped = new ZoneAwarePromise(function (resolve, reject) {\n                originalThen.call(_this, resolve, reject);\n            });\n            return wrapped.then(onResolve, onReject);\n        };\n        Ctor[symbolThenPatched] = true;\n    }\n    api.patchThen = patchThen;\n    if (NativePromise) {\n        patchThen(NativePromise);\n    }\n    // This is not part of public API, but it is useful for tests, so we expose it.\n    Promise[Zone.__symbol__('uncaughtPromiseErrors')] = _uncaughtPromiseErrors;\n    return ZoneAwarePromise;\n});\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nZone.__load_patch('fetch', function (global, Zone, api) {\n    var fetch = global['fetch'];\n    var ZoneAwarePromise = global.Promise;\n    var symbolThenPatched = api.symbol('thenPatched');\n    var fetchTaskScheduling = api.symbol('fetchTaskScheduling');\n    var fetchTaskAborting = api.symbol('fetchTaskAborting');\n    if (typeof fetch !== 'function') {\n        return;\n    }\n    var OriginalAbortController = global['AbortController'];\n    var supportAbort = typeof OriginalAbortController === 'function';\n    var abortNative = null;\n    if (supportAbort) {\n        global['AbortController'] = function () {\n            var abortController = new OriginalAbortController();\n            var signal = abortController.signal;\n            signal.abortController = abortController;\n            return abortController;\n        };\n        abortNative = api.patchMethod(OriginalAbortController.prototype, 'abort', function (delegate) { return function (self, args) {\n            if (self.task) {\n                return self.task.zone.cancelTask(self.task);\n            }\n            return delegate.apply(self, args);\n        }; });\n    }\n    var placeholder = function () { };\n    global['fetch'] = function () {\n        var _this = this;\n        var args = Array.prototype.slice.call(arguments);\n        var options = args.length > 1 ? args[1] : null;\n        var signal = options && options.signal;\n        return new Promise(function (res, rej) {\n            var task = Zone.current.scheduleMacroTask('fetch', placeholder, args, function () {\n                var fetchPromise;\n                var zone = Zone.current;\n                try {\n                    zone[fetchTaskScheduling] = true;\n                    fetchPromise = fetch.apply(_this, args);\n                }\n                catch (error) {\n                    rej(error);\n                    return;\n                }\n                finally {\n                    zone[fetchTaskScheduling] = false;\n                }\n                if (!(fetchPromise instanceof ZoneAwarePromise)) {\n                    var ctor = fetchPromise.constructor;\n                    if (!ctor[symbolThenPatched]) {\n                        api.patchThen(ctor);\n                    }\n                }\n                fetchPromise.then(function (resource) {\n                    if (task.state !== 'notScheduled') {\n                        task.invoke();\n                    }\n                    res(resource);\n                }, function (error) {\n                    if (task.state !== 'notScheduled') {\n                        task.invoke();\n                    }\n                    rej(error);\n                });\n            }, function () {\n                if (!supportAbort) {\n                    rej('No AbortController supported, can not cancel fetch');\n                    return;\n                }\n                if (signal && signal.abortController && !signal.aborted &&\n                    typeof signal.abortController.abort === 'function' && abortNative) {\n                    try {\n                        Zone.current[fetchTaskAborting] = true;\n                        abortNative.call(signal.abortController);\n                    }\n                    finally {\n                        Zone.current[fetchTaskAborting] = false;\n                    }\n                }\n                else {\n                    rej('cancel fetch need a AbortController.signal');\n                }\n            });\n            if (signal && signal.abortController) {\n                signal.abortController.task = task;\n            }\n        });\n    };\n});\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * Suppress closure compiler errors about unknown 'Zone' variable\n * @fileoverview\n * @suppress {undefinedVars,globalThis,missingRequire}\n */\n// issue #989, to reduce bundle size, use short name\n/** Object.getOwnPropertyDescriptor */\nvar ObjectGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n/** Object.defineProperty */\nvar ObjectDefineProperty = Object.defineProperty;\n/** Object.getPrototypeOf */\nvar ObjectGetPrototypeOf = Object.getPrototypeOf;\n/** Object.create */\nvar ObjectCreate = Object.create;\n/** Array.prototype.slice */\nvar ArraySlice = Array.prototype.slice;\n/** addEventListener string const */\nvar ADD_EVENT_LISTENER_STR = 'addEventListener';\n/** removeEventListener string const */\nvar REMOVE_EVENT_LISTENER_STR = 'removeEventListener';\n/** zoneSymbol addEventListener */\nvar ZONE_SYMBOL_ADD_EVENT_LISTENER = Zone.__symbol__(ADD_EVENT_LISTENER_STR);\n/** zoneSymbol removeEventListener */\nvar ZONE_SYMBOL_REMOVE_EVENT_LISTENER = Zone.__symbol__(REMOVE_EVENT_LISTENER_STR);\n/** true string const */\nvar TRUE_STR = 'true';\n/** false string const */\nvar FALSE_STR = 'false';\n/** __zone_symbol__ string const */\nvar ZONE_SYMBOL_PREFIX = '__zone_symbol__';\nfunction wrapWithCurrentZone(callback, source) {\n    return Zone.current.wrap(callback, source);\n}\nfunction scheduleMacroTaskWithCurrentZone(source, callback, data, customSchedule, customCancel) {\n    return Zone.current.scheduleMacroTask(source, callback, data, customSchedule, customCancel);\n}\nvar zoneSymbol = Zone.__symbol__;\nvar isWindowExists = typeof window !== 'undefined';\nvar internalWindow = isWindowExists ? window : undefined;\nvar _global = isWindowExists && internalWindow || typeof self === 'object' && self || global;\nvar REMOVE_ATTRIBUTE = 'removeAttribute';\nvar NULL_ON_PROP_VALUE = [null];\nfunction bindArguments(args, source) {\n    for (var i = args.length - 1; i >= 0; i--) {\n        if (typeof args[i] === 'function') {\n            args[i] = wrapWithCurrentZone(args[i], source + '_' + i);\n        }\n    }\n    return args;\n}\nfunction patchPrototype(prototype, fnNames) {\n    var source = prototype.constructor['name'];\n    var _loop_1 = function (i) {\n        var name_1 = fnNames[i];\n        var delegate = prototype[name_1];\n        if (delegate) {\n            var prototypeDesc = ObjectGetOwnPropertyDescriptor(prototype, name_1);\n            if (!isPropertyWritable(prototypeDesc)) {\n                return \"continue\";\n            }\n            prototype[name_1] = (function (delegate) {\n                var patched = function () {\n                    return delegate.apply(this, bindArguments(arguments, source + '.' + name_1));\n                };\n                attachOriginToPatched(patched, delegate);\n                return patched;\n            })(delegate);\n        }\n    };\n    for (var i = 0; i < fnNames.length; i++) {\n        _loop_1(i);\n    }\n}\nfunction isPropertyWritable(propertyDesc) {\n    if (!propertyDesc) {\n        return true;\n    }\n    if (propertyDesc.writable === false) {\n        return false;\n    }\n    return !(typeof propertyDesc.get === 'function' && typeof propertyDesc.set === 'undefined');\n}\nvar isWebWorker = (typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope);\n// Make sure to access `process` through `_global` so that WebPack does not accidentally browserify\n// this code.\nvar isNode = (!('nw' in _global) && typeof _global.process !== 'undefined' &&\n    {}.toString.call(_global.process) === '[object process]');\nvar isBrowser = !isNode && !isWebWorker && !!(isWindowExists && internalWindow['HTMLElement']);\n// we are in electron of nw, so we are both browser and nodejs\n// Make sure to access `process` through `_global` so that WebPack does not accidentally browserify\n// this code.\nvar isMix = typeof _global.process !== 'undefined' &&\n    {}.toString.call(_global.process) === '[object process]' && !isWebWorker &&\n    !!(isWindowExists && internalWindow['HTMLElement']);\nvar zoneSymbolEventNames = {};\nvar wrapFn = function (event) {\n    // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n    // event will be undefined, so we need to use window.event\n    event = event || _global.event;\n    if (!event) {\n        return;\n    }\n    var eventNameSymbol = zoneSymbolEventNames[event.type];\n    if (!eventNameSymbol) {\n        eventNameSymbol = zoneSymbolEventNames[event.type] = zoneSymbol('ON_PROPERTY' + event.type);\n    }\n    var target = this || event.target || _global;\n    var listener = target[eventNameSymbol];\n    var result;\n    if (isBrowser && target === internalWindow && event.type === 'error') {\n        // window.onerror have different signiture\n        // https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror#window.onerror\n        // and onerror callback will prevent default when callback return true\n        var errorEvent = event;\n        result = listener &&\n            listener.call(this, errorEvent.message, errorEvent.filename, errorEvent.lineno, errorEvent.colno, errorEvent.error);\n        if (result === true) {\n            event.preventDefault();\n        }\n    }\n    else {\n        result = listener && listener.apply(this, arguments);\n        if (result != undefined && !result) {\n            event.preventDefault();\n        }\n    }\n    return result;\n};\nfunction patchProperty(obj, prop, prototype) {\n    var desc = ObjectGetOwnPropertyDescriptor(obj, prop);\n    if (!desc && prototype) {\n        // when patch window object, use prototype to check prop exist or not\n        var prototypeDesc = ObjectGetOwnPropertyDescriptor(prototype, prop);\n        if (prototypeDesc) {\n            desc = { enumerable: true, configurable: true };\n        }\n    }\n    // if the descriptor not exists or is not configurable\n    // just return\n    if (!desc || !desc.configurable) {\n        return;\n    }\n    var onPropPatchedSymbol = zoneSymbol('on' + prop + 'patched');\n    if (obj.hasOwnProperty(onPropPatchedSymbol) && obj[onPropPatchedSymbol]) {\n        return;\n    }\n    // A property descriptor cannot have getter/setter and be writable\n    // deleting the writable and value properties avoids this error:\n    //\n    // TypeError: property descriptors must not specify a value or be writable when a\n    // getter or setter has been specified\n    delete desc.writable;\n    delete desc.value;\n    var originalDescGet = desc.get;\n    var originalDescSet = desc.set;\n    // substr(2) cuz 'onclick' -> 'click', etc\n    var eventName = prop.substr(2);\n    var eventNameSymbol = zoneSymbolEventNames[eventName];\n    if (!eventNameSymbol) {\n        eventNameSymbol = zoneSymbolEventNames[eventName] = zoneSymbol('ON_PROPERTY' + eventName);\n    }\n    desc.set = function (newValue) {\n        // in some of windows's onproperty callback, this is undefined\n        // so we need to check it\n        var target = this;\n        if (!target && obj === _global) {\n            target = _global;\n        }\n        if (!target) {\n            return;\n        }\n        var previousValue = target[eventNameSymbol];\n        if (previousValue) {\n            target.removeEventListener(eventName, wrapFn);\n        }\n        // issue #978, when onload handler was added before loading zone.js\n        // we should remove it with originalDescSet\n        if (originalDescSet) {\n            originalDescSet.apply(target, NULL_ON_PROP_VALUE);\n        }\n        if (typeof newValue === 'function') {\n            target[eventNameSymbol] = newValue;\n            target.addEventListener(eventName, wrapFn, false);\n        }\n        else {\n            target[eventNameSymbol] = null;\n        }\n    };\n    // The getter would return undefined for unassigned properties but the default value of an\n    // unassigned property is null\n    desc.get = function () {\n        // in some of windows's onproperty callback, this is undefined\n        // so we need to check it\n        var target = this;\n        if (!target && obj === _global) {\n            target = _global;\n        }\n        if (!target) {\n            return null;\n        }\n        var listener = target[eventNameSymbol];\n        if (listener) {\n            return listener;\n        }\n        else if (originalDescGet) {\n            // result will be null when use inline event attribute,\n            // such as <button onclick=\"func();\">OK</button>\n            // because the onclick function is internal raw uncompiled handler\n            // the onclick will be evaluated when first time event was triggered or\n            // the property is accessed, https://github.com/angular/zone.js/issues/525\n            // so we should use original native get to retrieve the handler\n            var value = originalDescGet && originalDescGet.call(this);\n            if (value) {\n                desc.set.call(this, value);\n                if (typeof target[REMOVE_ATTRIBUTE] === 'function') {\n                    target.removeAttribute(prop);\n                }\n                return value;\n            }\n        }\n        return null;\n    };\n    ObjectDefineProperty(obj, prop, desc);\n    obj[onPropPatchedSymbol] = true;\n}\nfunction patchOnProperties(obj, properties, prototype) {\n    if (properties) {\n        for (var i = 0; i < properties.length; i++) {\n            patchProperty(obj, 'on' + properties[i], prototype);\n        }\n    }\n    else {\n        var onProperties = [];\n        for (var prop in obj) {\n            if (prop.substr(0, 2) == 'on') {\n                onProperties.push(prop);\n            }\n        }\n        for (var j = 0; j < onProperties.length; j++) {\n            patchProperty(obj, onProperties[j], prototype);\n        }\n    }\n}\nvar originalInstanceKey = zoneSymbol('originalInstance');\n// wrap some native API on `window`\nfunction patchClass(className) {\n    var OriginalClass = _global[className];\n    if (!OriginalClass)\n        return;\n    // keep original class in global\n    _global[zoneSymbol(className)] = OriginalClass;\n    _global[className] = function () {\n        var a = bindArguments(arguments, className);\n        switch (a.length) {\n            case 0:\n                this[originalInstanceKey] = new OriginalClass();\n                break;\n            case 1:\n                this[originalInstanceKey] = new OriginalClass(a[0]);\n                break;\n            case 2:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1]);\n                break;\n            case 3:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1], a[2]);\n                break;\n            case 4:\n                this[originalInstanceKey] = new OriginalClass(a[0], a[1], a[2], a[3]);\n                break;\n            default:\n                throw new Error('Arg list too long.');\n        }\n    };\n    // attach original delegate to patched function\n    attachOriginToPatched(_global[className], OriginalClass);\n    var instance = new OriginalClass(function () { });\n    var prop;\n    for (prop in instance) {\n        // https://bugs.webkit.org/show_bug.cgi?id=44721\n        if (className === 'XMLHttpRequest' && prop === 'responseBlob')\n            continue;\n        (function (prop) {\n            if (typeof instance[prop] === 'function') {\n                _global[className].prototype[prop] = function () {\n                    return this[originalInstanceKey][prop].apply(this[originalInstanceKey], arguments);\n                };\n            }\n            else {\n                ObjectDefineProperty(_global[className].prototype, prop, {\n                    set: function (fn) {\n                        if (typeof fn === 'function') {\n                            this[originalInstanceKey][prop] = wrapWithCurrentZone(fn, className + '.' + prop);\n                            // keep callback in wrapped function so we can\n                            // use it in Function.prototype.toString to return\n                            // the native one.\n                            attachOriginToPatched(this[originalInstanceKey][prop], fn);\n                        }\n                        else {\n                            this[originalInstanceKey][prop] = fn;\n                        }\n                    },\n                    get: function () {\n                        return this[originalInstanceKey][prop];\n                    }\n                });\n            }\n        }(prop));\n    }\n    for (prop in OriginalClass) {\n        if (prop !== 'prototype' && OriginalClass.hasOwnProperty(prop)) {\n            _global[className][prop] = OriginalClass[prop];\n        }\n    }\n}\nfunction copySymbolProperties(src, dest) {\n    if (typeof Object.getOwnPropertySymbols !== 'function') {\n        return;\n    }\n    var symbols = Object.getOwnPropertySymbols(src);\n    symbols.forEach(function (symbol) {\n        var desc = Object.getOwnPropertyDescriptor(src, symbol);\n        Object.defineProperty(dest, symbol, {\n            get: function () {\n                return src[symbol];\n            },\n            set: function (value) {\n                if (desc && (!desc.writable || typeof desc.set !== 'function')) {\n                    // if src[symbol] is not writable or not have a setter, just return\n                    return;\n                }\n                src[symbol] = value;\n            },\n            enumerable: desc ? desc.enumerable : true,\n            configurable: desc ? desc.configurable : true\n        });\n    });\n}\nvar shouldCopySymbolProperties = false;\n\nfunction patchMethod(target, name, patchFn) {\n    var proto = target;\n    while (proto && !proto.hasOwnProperty(name)) {\n        proto = ObjectGetPrototypeOf(proto);\n    }\n    if (!proto && target[name]) {\n        // somehow we did not find it, but we can see it. This happens on IE for Window properties.\n        proto = target;\n    }\n    var delegateName = zoneSymbol(name);\n    var delegate = null;\n    if (proto && !(delegate = proto[delegateName])) {\n        delegate = proto[delegateName] = proto[name];\n        // check whether proto[name] is writable\n        // some property is readonly in safari, such as HtmlCanvasElement.prototype.toBlob\n        var desc = proto && ObjectGetOwnPropertyDescriptor(proto, name);\n        if (isPropertyWritable(desc)) {\n            var patchDelegate_1 = patchFn(delegate, delegateName, name);\n            proto[name] = function () {\n                return patchDelegate_1(this, arguments);\n            };\n            attachOriginToPatched(proto[name], delegate);\n            if (shouldCopySymbolProperties) {\n                copySymbolProperties(delegate, proto[name]);\n            }\n        }\n    }\n    return delegate;\n}\n// TODO: @JiaLiPassion, support cancel task later if necessary\nfunction patchMacroTask(obj, funcName, metaCreator) {\n    var setNative = null;\n    function scheduleTask(task) {\n        var data = task.data;\n        data.args[data.cbIdx] = function () {\n            task.invoke.apply(this, arguments);\n        };\n        setNative.apply(data.target, data.args);\n        return task;\n    }\n    setNative = patchMethod(obj, funcName, function (delegate) { return function (self, args) {\n        var meta = metaCreator(self, args);\n        if (meta.cbIdx >= 0 && typeof args[meta.cbIdx] === 'function') {\n            return scheduleMacroTaskWithCurrentZone(meta.name, args[meta.cbIdx], meta, scheduleTask);\n        }\n        else {\n            // cause an error by calling it directly.\n            return delegate.apply(self, args);\n        }\n    }; });\n}\n\nfunction attachOriginToPatched(patched, original) {\n    patched[zoneSymbol('OriginalDelegate')] = original;\n}\nvar isDetectedIEOrEdge = false;\nvar ieOrEdge = false;\nfunction isIE() {\n    try {\n        var ua = internalWindow.navigator.userAgent;\n        if (ua.indexOf('MSIE ') !== -1 || ua.indexOf('Trident/') !== -1) {\n            return true;\n        }\n    }\n    catch (error) {\n    }\n    return false;\n}\nfunction isIEOrEdge() {\n    if (isDetectedIEOrEdge) {\n        return ieOrEdge;\n    }\n    isDetectedIEOrEdge = true;\n    try {\n        var ua = internalWindow.navigator.userAgent;\n        if (ua.indexOf('MSIE ') !== -1 || ua.indexOf('Trident/') !== -1 || ua.indexOf('Edge/') !== -1) {\n            ieOrEdge = true;\n        }\n        return ieOrEdge;\n    }\n    catch (error) {\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// override Function.prototype.toString to make zone.js patched function\n// look like native function\nZone.__load_patch('toString', function (global) {\n    // patch Func.prototype.toString to let them look like native\n    var originalFunctionToString = Function.prototype.toString;\n    var ORIGINAL_DELEGATE_SYMBOL = zoneSymbol('OriginalDelegate');\n    var PROMISE_SYMBOL = zoneSymbol('Promise');\n    var ERROR_SYMBOL = zoneSymbol('Error');\n    var newFunctionToString = function toString() {\n        if (typeof this === 'function') {\n            var originalDelegate = this[ORIGINAL_DELEGATE_SYMBOL];\n            if (originalDelegate) {\n                if (typeof originalDelegate === 'function') {\n                    return originalFunctionToString.apply(this[ORIGINAL_DELEGATE_SYMBOL], arguments);\n                }\n                else {\n                    return Object.prototype.toString.call(originalDelegate);\n                }\n            }\n            if (this === Promise) {\n                var nativePromise = global[PROMISE_SYMBOL];\n                if (nativePromise) {\n                    return originalFunctionToString.apply(nativePromise, arguments);\n                }\n            }\n            if (this === Error) {\n                var nativeError = global[ERROR_SYMBOL];\n                if (nativeError) {\n                    return originalFunctionToString.apply(nativeError, arguments);\n                }\n            }\n        }\n        return originalFunctionToString.apply(this, arguments);\n    };\n    newFunctionToString[ORIGINAL_DELEGATE_SYMBOL] = originalFunctionToString;\n    Function.prototype.toString = newFunctionToString;\n    // patch Object.prototype.toString to let them look like native\n    var originalObjectToString = Object.prototype.toString;\n    var PROMISE_OBJECT_TO_STRING = '[object Promise]';\n    Object.prototype.toString = function () {\n        if (this instanceof Promise) {\n            return PROMISE_OBJECT_TO_STRING;\n        }\n        return originalObjectToString.apply(this, arguments);\n    };\n});\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {missingRequire}\n */\nvar passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n            }\n        });\n        window.addEventListener('test', options, options);\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\n// an identifier to tell ZoneTask do not create a new invoke closure\nvar OPTIMIZED_ZONE_EVENT_TASK_DATA = {\n    useG: true\n};\nvar zoneSymbolEventNames$1 = {};\nvar globalSources = {};\nvar EVENT_NAME_SYMBOL_REGX = /^__zone_symbol__(\\w+)(true|false)$/;\nvar IMMEDIATE_PROPAGATION_SYMBOL = ('__zone_symbol__propagationStopped');\nfunction patchEventTarget(_global, apis, patchOptions) {\n    var ADD_EVENT_LISTENER = (patchOptions && patchOptions.add) || ADD_EVENT_LISTENER_STR;\n    var REMOVE_EVENT_LISTENER = (patchOptions && patchOptions.rm) || REMOVE_EVENT_LISTENER_STR;\n    var LISTENERS_EVENT_LISTENER = (patchOptions && patchOptions.listeners) || 'eventListeners';\n    var REMOVE_ALL_LISTENERS_EVENT_LISTENER = (patchOptions && patchOptions.rmAll) || 'removeAllListeners';\n    var zoneSymbolAddEventListener = zoneSymbol(ADD_EVENT_LISTENER);\n    var ADD_EVENT_LISTENER_SOURCE = '.' + ADD_EVENT_LISTENER + ':';\n    var PREPEND_EVENT_LISTENER = 'prependListener';\n    var PREPEND_EVENT_LISTENER_SOURCE = '.' + PREPEND_EVENT_LISTENER + ':';\n    var invokeTask = function (task, target, event) {\n        // for better performance, check isRemoved which is set\n        // by removeEventListener\n        if (task.isRemoved) {\n            return;\n        }\n        var delegate = task.callback;\n        if (typeof delegate === 'object' && delegate.handleEvent) {\n            // create the bind version of handleEvent when invoke\n            task.callback = function (event) { return delegate.handleEvent(event); };\n            task.originalDelegate = delegate;\n        }\n        // invoke static task.invoke\n        task.invoke(task, target, [event]);\n        var options = task.options;\n        if (options && typeof options === 'object' && options.once) {\n            // if options.once is true, after invoke once remove listener here\n            // only browser need to do this, nodejs eventEmitter will cal removeListener\n            // inside EventEmitter.once\n            var delegate_1 = task.originalDelegate ? task.originalDelegate : task.callback;\n            target[REMOVE_EVENT_LISTENER].call(target, event.type, delegate_1, options);\n        }\n    };\n    // global shared zoneAwareCallback to handle all event callback with capture = false\n    var globalZoneAwareCallback = function (event) {\n        // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n        // event will be undefined, so we need to use window.event\n        event = event || _global.event;\n        if (!event) {\n            return;\n        }\n        // event.target is needed for Samsung TV and SourceBuffer\n        // || global is needed https://github.com/angular/zone.js/issues/190\n        var target = this || event.target || _global;\n        var tasks = target[zoneSymbolEventNames$1[event.type][FALSE_STR]];\n        if (tasks) {\n            // invoke all tasks which attached to current target with given event.type and capture = false\n            // for performance concern, if task.length === 1, just invoke\n            if (tasks.length === 1) {\n                invokeTask(tasks[0], target, event);\n            }\n            else {\n                // https://github.com/angular/zone.js/issues/836\n                // copy the tasks array before invoke, to avoid\n                // the callback will remove itself or other listener\n                var copyTasks = tasks.slice();\n                for (var i = 0; i < copyTasks.length; i++) {\n                    if (event && event[IMMEDIATE_PROPAGATION_SYMBOL] === true) {\n                        break;\n                    }\n                    invokeTask(copyTasks[i], target, event);\n                }\n            }\n        }\n    };\n    // global shared zoneAwareCallback to handle all event callback with capture = true\n    var globalZoneAwareCaptureCallback = function (event) {\n        // https://github.com/angular/zone.js/issues/911, in IE, sometimes\n        // event will be undefined, so we need to use window.event\n        event = event || _global.event;\n        if (!event) {\n            return;\n        }\n        // event.target is needed for Samsung TV and SourceBuffer\n        // || global is needed https://github.com/angular/zone.js/issues/190\n        var target = this || event.target || _global;\n        var tasks = target[zoneSymbolEventNames$1[event.type][TRUE_STR]];\n        if (tasks) {\n            // invoke all tasks which attached to current target with given event.type and capture = false\n            // for performance concern, if task.length === 1, just invoke\n            if (tasks.length === 1) {\n                invokeTask(tasks[0], target, event);\n            }\n            else {\n                // https://github.com/angular/zone.js/issues/836\n                // copy the tasks array before invoke, to avoid\n                // the callback will remove itself or other listener\n                var copyTasks = tasks.slice();\n                for (var i = 0; i < copyTasks.length; i++) {\n                    if (event && event[IMMEDIATE_PROPAGATION_SYMBOL] === true) {\n                        break;\n                    }\n                    invokeTask(copyTasks[i], target, event);\n                }\n            }\n        }\n    };\n    function patchEventTargetMethods(obj, patchOptions) {\n        if (!obj) {\n            return false;\n        }\n        var useGlobalCallback = true;\n        if (patchOptions && patchOptions.useG !== undefined) {\n            useGlobalCallback = patchOptions.useG;\n        }\n        var validateHandler = patchOptions && patchOptions.vh;\n        var checkDuplicate = true;\n        if (patchOptions && patchOptions.chkDup !== undefined) {\n            checkDuplicate = patchOptions.chkDup;\n        }\n        var returnTarget = false;\n        if (patchOptions && patchOptions.rt !== undefined) {\n            returnTarget = patchOptions.rt;\n        }\n        var proto = obj;\n        while (proto && !proto.hasOwnProperty(ADD_EVENT_LISTENER)) {\n            proto = ObjectGetPrototypeOf(proto);\n        }\n        if (!proto && obj[ADD_EVENT_LISTENER]) {\n            // somehow we did not find it, but we can see it. This happens on IE for Window properties.\n            proto = obj;\n        }\n        if (!proto) {\n            return false;\n        }\n        if (proto[zoneSymbolAddEventListener]) {\n            return false;\n        }\n        var eventNameToString = patchOptions && patchOptions.eventNameToString;\n        // a shared global taskData to pass data for scheduleEventTask\n        // so we do not need to create a new object just for pass some data\n        var taskData = {};\n        var nativeAddEventListener = proto[zoneSymbolAddEventListener] = proto[ADD_EVENT_LISTENER];\n        var nativeRemoveEventListener = proto[zoneSymbol(REMOVE_EVENT_LISTENER)] =\n            proto[REMOVE_EVENT_LISTENER];\n        var nativeListeners = proto[zoneSymbol(LISTENERS_EVENT_LISTENER)] =\n            proto[LISTENERS_EVENT_LISTENER];\n        var nativeRemoveAllListeners = proto[zoneSymbol(REMOVE_ALL_LISTENERS_EVENT_LISTENER)] =\n            proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER];\n        var nativePrependEventListener;\n        if (patchOptions && patchOptions.prepend) {\n            nativePrependEventListener = proto[zoneSymbol(patchOptions.prepend)] =\n                proto[patchOptions.prepend];\n        }\n        function checkIsPassive(task) {\n            if (!passiveSupported && typeof taskData.options !== 'boolean' &&\n                typeof taskData.options !== 'undefined' && taskData.options !== null) {\n                // options is a non-null non-undefined object\n                // passive is not supported\n                // don't pass options as object\n                // just pass capture as a boolean\n                task.options = !!taskData.options.capture;\n                taskData.options = task.options;\n            }\n        }\n        var customScheduleGlobal = function (task) {\n            // if there is already a task for the eventName + capture,\n            // just return, because we use the shared globalZoneAwareCallback here.\n            if (taskData.isExisting) {\n                return;\n            }\n            checkIsPassive(task);\n            return nativeAddEventListener.call(taskData.target, taskData.eventName, taskData.capture ? globalZoneAwareCaptureCallback : globalZoneAwareCallback, taskData.options);\n        };\n        var customCancelGlobal = function (task) {\n            // if task is not marked as isRemoved, this call is directly\n            // from Zone.prototype.cancelTask, we should remove the task\n            // from tasksList of target first\n            if (!task.isRemoved) {\n                var symbolEventNames = zoneSymbolEventNames$1[task.eventName];\n                var symbolEventName = void 0;\n                if (symbolEventNames) {\n                    symbolEventName = symbolEventNames[task.capture ? TRUE_STR : FALSE_STR];\n                }\n                var existingTasks = symbolEventName && task.target[symbolEventName];\n                if (existingTasks) {\n                    for (var i = 0; i < existingTasks.length; i++) {\n                        var existingTask = existingTasks[i];\n                        if (existingTask === task) {\n                            existingTasks.splice(i, 1);\n                            // set isRemoved to data for faster invokeTask check\n                            task.isRemoved = true;\n                            if (existingTasks.length === 0) {\n                                // all tasks for the eventName + capture have gone,\n                                // remove globalZoneAwareCallback and remove the task cache from target\n                                task.allRemoved = true;\n                                task.target[symbolEventName] = null;\n                            }\n                            break;\n                        }\n                    }\n                }\n            }\n            // if all tasks for the eventName + capture have gone,\n            // we will really remove the global event callback,\n            // if not, return\n            if (!task.allRemoved) {\n                return;\n            }\n            return nativeRemoveEventListener.call(task.target, task.eventName, task.capture ? globalZoneAwareCaptureCallback : globalZoneAwareCallback, task.options);\n        };\n        var customScheduleNonGlobal = function (task) {\n            checkIsPassive(task);\n            return nativeAddEventListener.call(taskData.target, taskData.eventName, task.invoke, taskData.options);\n        };\n        var customSchedulePrepend = function (task) {\n            return nativePrependEventListener.call(taskData.target, taskData.eventName, task.invoke, taskData.options);\n        };\n        var customCancelNonGlobal = function (task) {\n            return nativeRemoveEventListener.call(task.target, task.eventName, task.invoke, task.options);\n        };\n        var customSchedule = useGlobalCallback ? customScheduleGlobal : customScheduleNonGlobal;\n        var customCancel = useGlobalCallback ? customCancelGlobal : customCancelNonGlobal;\n        var compareTaskCallbackVsDelegate = function (task, delegate) {\n            var typeOfDelegate = typeof delegate;\n            return (typeOfDelegate === 'function' && task.callback === delegate) ||\n                (typeOfDelegate === 'object' && task.originalDelegate === delegate);\n        };\n        var compare = (patchOptions && patchOptions.diff) ? patchOptions.diff : compareTaskCallbackVsDelegate;\n        var blackListedEvents = Zone[Zone.__symbol__('BLACK_LISTED_EVENTS')];\n        var makeAddListener = function (nativeListener, addSource, customScheduleFn, customCancelFn, returnTarget, prepend) {\n            if (returnTarget === void 0) { returnTarget = false; }\n            if (prepend === void 0) { prepend = false; }\n            return function () {\n                var target = this || _global;\n                var eventName = arguments[0];\n                var delegate = arguments[1];\n                if (!delegate) {\n                    return nativeListener.apply(this, arguments);\n                }\n                if (isNode && eventName === 'uncaughtException') {\n                    // don't patch uncaughtException of nodejs to prevent endless loop\n                    return nativeListener.apply(this, arguments);\n                }\n                // don't create the bind delegate function for handleEvent\n                // case here to improve addEventListener performance\n                // we will create the bind delegate when invoke\n                var isHandleEvent = false;\n                if (typeof delegate !== 'function') {\n                    if (!delegate.handleEvent) {\n                        return nativeListener.apply(this, arguments);\n                    }\n                    isHandleEvent = true;\n                }\n                if (validateHandler && !validateHandler(nativeListener, delegate, target, arguments)) {\n                    return;\n                }\n                var options = arguments[2];\n                if (blackListedEvents) {\n                    // check black list\n                    for (var i = 0; i < blackListedEvents.length; i++) {\n                        if (eventName === blackListedEvents[i]) {\n                            return nativeListener.apply(this, arguments);\n                        }\n                    }\n                }\n                var capture;\n                var once = false;\n                if (options === undefined) {\n                    capture = false;\n                }\n                else if (options === true) {\n                    capture = true;\n                }\n                else if (options === false) {\n                    capture = false;\n                }\n                else {\n                    capture = options ? !!options.capture : false;\n                    once = options ? !!options.once : false;\n                }\n                var zone = Zone.current;\n                var symbolEventNames = zoneSymbolEventNames$1[eventName];\n                var symbolEventName;\n                if (!symbolEventNames) {\n                    // the code is duplicate, but I just want to get some better performance\n                    var falseEventName = (eventNameToString ? eventNameToString(eventName) : eventName) + FALSE_STR;\n                    var trueEventName = (eventNameToString ? eventNameToString(eventName) : eventName) + TRUE_STR;\n                    var symbol = ZONE_SYMBOL_PREFIX + falseEventName;\n                    var symbolCapture = ZONE_SYMBOL_PREFIX + trueEventName;\n                    zoneSymbolEventNames$1[eventName] = {};\n                    zoneSymbolEventNames$1[eventName][FALSE_STR] = symbol;\n                    zoneSymbolEventNames$1[eventName][TRUE_STR] = symbolCapture;\n                    symbolEventName = capture ? symbolCapture : symbol;\n                }\n                else {\n                    symbolEventName = symbolEventNames[capture ? TRUE_STR : FALSE_STR];\n                }\n                var existingTasks = target[symbolEventName];\n                var isExisting = false;\n                if (existingTasks) {\n                    // already have task registered\n                    isExisting = true;\n                    if (checkDuplicate) {\n                        for (var i = 0; i < existingTasks.length; i++) {\n                            if (compare(existingTasks[i], delegate)) {\n                                // same callback, same capture, same event name, just return\n                                return;\n                            }\n                        }\n                    }\n                }\n                else {\n                    existingTasks = target[symbolEventName] = [];\n                }\n                var source;\n                var constructorName = target.constructor['name'];\n                var targetSource = globalSources[constructorName];\n                if (targetSource) {\n                    source = targetSource[eventName];\n                }\n                if (!source) {\n                    source = constructorName + addSource +\n                        (eventNameToString ? eventNameToString(eventName) : eventName);\n                }\n                // do not create a new object as task.data to pass those things\n                // just use the global shared one\n                taskData.options = options;\n                if (once) {\n                    // if addEventListener with once options, we don't pass it to\n                    // native addEventListener, instead we keep the once setting\n                    // and handle ourselves.\n                    taskData.options.once = false;\n                }\n                taskData.target = target;\n                taskData.capture = capture;\n                taskData.eventName = eventName;\n                taskData.isExisting = isExisting;\n                var data = useGlobalCallback ? OPTIMIZED_ZONE_EVENT_TASK_DATA : undefined;\n                // keep taskData into data to allow onScheduleEventTask to access the task information\n                if (data) {\n                    data.taskData = taskData;\n                }\n                var task = zone.scheduleEventTask(source, delegate, data, customScheduleFn, customCancelFn);\n                // should clear taskData.target to avoid memory leak\n                // issue, https://github.com/angular/angular/issues/20442\n                taskData.target = null;\n                // need to clear up taskData because it is a global object\n                if (data) {\n                    data.taskData = null;\n                }\n                // have to save those information to task in case\n                // application may call task.zone.cancelTask() directly\n                if (once) {\n                    options.once = true;\n                }\n                if (!(!passiveSupported && typeof task.options === 'boolean')) {\n                    // if not support passive, and we pass an option object\n                    // to addEventListener, we should save the options to task\n                    task.options = options;\n                }\n                task.target = target;\n                task.capture = capture;\n                task.eventName = eventName;\n                if (isHandleEvent) {\n                    // save original delegate for compare to check duplicate\n                    task.originalDelegate = delegate;\n                }\n                if (!prepend) {\n                    existingTasks.push(task);\n                }\n                else {\n                    existingTasks.unshift(task);\n                }\n                if (returnTarget) {\n                    return target;\n                }\n            };\n        };\n        proto[ADD_EVENT_LISTENER] = makeAddListener(nativeAddEventListener, ADD_EVENT_LISTENER_SOURCE, customSchedule, customCancel, returnTarget);\n        if (nativePrependEventListener) {\n            proto[PREPEND_EVENT_LISTENER] = makeAddListener(nativePrependEventListener, PREPEND_EVENT_LISTENER_SOURCE, customSchedulePrepend, customCancel, returnTarget, true);\n        }\n        proto[REMOVE_EVENT_LISTENER] = function () {\n            var target = this || _global;\n            var eventName = arguments[0];\n            var options = arguments[2];\n            var capture;\n            if (options === undefined) {\n                capture = false;\n            }\n            else if (options === true) {\n                capture = true;\n            }\n            else if (options === false) {\n                capture = false;\n            }\n            else {\n                capture = options ? !!options.capture : false;\n            }\n            var delegate = arguments[1];\n            if (!delegate) {\n                return nativeRemoveEventListener.apply(this, arguments);\n            }\n            if (validateHandler &&\n                !validateHandler(nativeRemoveEventListener, delegate, target, arguments)) {\n                return;\n            }\n            var symbolEventNames = zoneSymbolEventNames$1[eventName];\n            var symbolEventName;\n            if (symbolEventNames) {\n                symbolEventName = symbolEventNames[capture ? TRUE_STR : FALSE_STR];\n            }\n            var existingTasks = symbolEventName && target[symbolEventName];\n            if (existingTasks) {\n                for (var i = 0; i < existingTasks.length; i++) {\n                    var existingTask = existingTasks[i];\n                    if (compare(existingTask, delegate)) {\n                        existingTasks.splice(i, 1);\n                        // set isRemoved to data for faster invokeTask check\n                        existingTask.isRemoved = true;\n                        if (existingTasks.length === 0) {\n                            // all tasks for the eventName + capture have gone,\n                            // remove globalZoneAwareCallback and remove the task cache from target\n                            existingTask.allRemoved = true;\n                            target[symbolEventName] = null;\n                        }\n                        existingTask.zone.cancelTask(existingTask);\n                        if (returnTarget) {\n                            return target;\n                        }\n                        return;\n                    }\n                }\n            }\n            // issue 930, didn't find the event name or callback\n            // from zone kept existingTasks, the callback maybe\n            // added outside of zone, we need to call native removeEventListener\n            // to try to remove it.\n            return nativeRemoveEventListener.apply(this, arguments);\n        };\n        proto[LISTENERS_EVENT_LISTENER] = function () {\n            var target = this || _global;\n            var eventName = arguments[0];\n            var listeners = [];\n            var tasks = findEventTasks(target, eventNameToString ? eventNameToString(eventName) : eventName);\n            for (var i = 0; i < tasks.length; i++) {\n                var task = tasks[i];\n                var delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                listeners.push(delegate);\n            }\n            return listeners;\n        };\n        proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER] = function () {\n            var target = this || _global;\n            var eventName = arguments[0];\n            if (!eventName) {\n                var keys = Object.keys(target);\n                for (var i = 0; i < keys.length; i++) {\n                    var prop = keys[i];\n                    var match = EVENT_NAME_SYMBOL_REGX.exec(prop);\n                    var evtName = match && match[1];\n                    // in nodejs EventEmitter, removeListener event is\n                    // used for monitoring the removeListener call,\n                    // so just keep removeListener eventListener until\n                    // all other eventListeners are removed\n                    if (evtName && evtName !== 'removeListener') {\n                        this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this, evtName);\n                    }\n                }\n                // remove removeListener listener finally\n                this[REMOVE_ALL_LISTENERS_EVENT_LISTENER].call(this, 'removeListener');\n            }\n            else {\n                var symbolEventNames = zoneSymbolEventNames$1[eventName];\n                if (symbolEventNames) {\n                    var symbolEventName = symbolEventNames[FALSE_STR];\n                    var symbolCaptureEventName = symbolEventNames[TRUE_STR];\n                    var tasks = target[symbolEventName];\n                    var captureTasks = target[symbolCaptureEventName];\n                    if (tasks) {\n                        var removeTasks = tasks.slice();\n                        for (var i = 0; i < removeTasks.length; i++) {\n                            var task = removeTasks[i];\n                            var delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                            this[REMOVE_EVENT_LISTENER].call(this, eventName, delegate, task.options);\n                        }\n                    }\n                    if (captureTasks) {\n                        var removeTasks = captureTasks.slice();\n                        for (var i = 0; i < removeTasks.length; i++) {\n                            var task = removeTasks[i];\n                            var delegate = task.originalDelegate ? task.originalDelegate : task.callback;\n                            this[REMOVE_EVENT_LISTENER].call(this, eventName, delegate, task.options);\n                        }\n                    }\n                }\n            }\n            if (returnTarget) {\n                return this;\n            }\n        };\n        // for native toString patch\n        attachOriginToPatched(proto[ADD_EVENT_LISTENER], nativeAddEventListener);\n        attachOriginToPatched(proto[REMOVE_EVENT_LISTENER], nativeRemoveEventListener);\n        if (nativeRemoveAllListeners) {\n            attachOriginToPatched(proto[REMOVE_ALL_LISTENERS_EVENT_LISTENER], nativeRemoveAllListeners);\n        }\n        if (nativeListeners) {\n            attachOriginToPatched(proto[LISTENERS_EVENT_LISTENER], nativeListeners);\n        }\n        return true;\n    }\n    var results = [];\n    for (var i = 0; i < apis.length; i++) {\n        results[i] = patchEventTargetMethods(apis[i], patchOptions);\n    }\n    return results;\n}\nfunction findEventTasks(target, eventName) {\n    var foundTasks = [];\n    for (var prop in target) {\n        var match = EVENT_NAME_SYMBOL_REGX.exec(prop);\n        var evtName = match && match[1];\n        if (evtName && (!eventName || evtName === eventName)) {\n            var tasks = target[prop];\n            if (tasks) {\n                for (var i = 0; i < tasks.length; i++) {\n                    foundTasks.push(tasks[i]);\n                }\n            }\n        }\n    }\n    return foundTasks;\n}\nfunction patchEventPrototype(global, api) {\n    var Event = global['Event'];\n    if (Event && Event.prototype) {\n        api.patchMethod(Event.prototype, 'stopImmediatePropagation', function (delegate) { return function (self, args) {\n            self[IMMEDIATE_PROPAGATION_SYMBOL] = true;\n            // we need to call the native stopImmediatePropagation\n            // in case in some hybrid application, some part of\n            // application will be controlled by zone, some are not\n            delegate && delegate.apply(self, args);\n        }; });\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {missingRequire}\n */\nvar taskSymbol = zoneSymbol('zoneTask');\nfunction patchTimer(window, setName, cancelName, nameSuffix) {\n    var setNative = null;\n    var clearNative = null;\n    setName += nameSuffix;\n    cancelName += nameSuffix;\n    var tasksByHandleId = {};\n    function scheduleTask(task) {\n        var data = task.data;\n        function timer() {\n            try {\n                task.invoke.apply(this, arguments);\n            }\n            finally {\n                // issue-934, task will be cancelled\n                // even it is a periodic task such as\n                // setInterval\n                if (!(task.data && task.data.isPeriodic)) {\n                    if (typeof data.handleId === 'number') {\n                        // in non-nodejs env, we remove timerId\n                        // from local cache\n                        delete tasksByHandleId[data.handleId];\n                    }\n                    else if (data.handleId) {\n                        // Node returns complex objects as handleIds\n                        // we remove task reference from timer object\n                        data.handleId[taskSymbol] = null;\n                    }\n                }\n            }\n        }\n        data.args[0] = timer;\n        data.handleId = setNative.apply(window, data.args);\n        return task;\n    }\n    function clearTask(task) {\n        return clearNative(task.data.handleId);\n    }\n    setNative =\n        patchMethod(window, setName, function (delegate) { return function (self, args) {\n            if (typeof args[0] === 'function') {\n                var options = {\n                    isPeriodic: nameSuffix === 'Interval',\n                    delay: (nameSuffix === 'Timeout' || nameSuffix === 'Interval') ? args[1] || 0 :\n                        undefined,\n                    args: args\n                };\n                var task = scheduleMacroTaskWithCurrentZone(setName, args[0], options, scheduleTask, clearTask);\n                if (!task) {\n                    return task;\n                }\n                // Node.js must additionally support the ref and unref functions.\n                var handle = task.data.handleId;\n                if (typeof handle === 'number') {\n                    // for non nodejs env, we save handleId: task\n                    // mapping in local cache for clearTimeout\n                    tasksByHandleId[handle] = task;\n                }\n                else if (handle) {\n                    // for nodejs env, we save task\n                    // reference in timerId Object for clearTimeout\n                    handle[taskSymbol] = task;\n                }\n                // check whether handle is null, because some polyfill or browser\n                // may return undefined from setTimeout/setInterval/setImmediate/requestAnimationFrame\n                if (handle && handle.ref && handle.unref && typeof handle.ref === 'function' &&\n                    typeof handle.unref === 'function') {\n                    task.ref = handle.ref.bind(handle);\n                    task.unref = handle.unref.bind(handle);\n                }\n                if (typeof handle === 'number' || handle) {\n                    return handle;\n                }\n                return task;\n            }\n            else {\n                // cause an error by calling it directly.\n                return delegate.apply(window, args);\n            }\n        }; });\n    clearNative =\n        patchMethod(window, cancelName, function (delegate) { return function (self, args) {\n            var id = args[0];\n            var task;\n            if (typeof id === 'number') {\n                // non nodejs env.\n                task = tasksByHandleId[id];\n            }\n            else {\n                // nodejs env.\n                task = id && id[taskSymbol];\n                // other environments.\n                if (!task) {\n                    task = id;\n                }\n            }\n            if (task && typeof task.type === 'string') {\n                if (task.state !== 'notScheduled' &&\n                    (task.cancelFn && task.data.isPeriodic || task.runCount === 0)) {\n                    if (typeof id === 'number') {\n                        delete tasksByHandleId[id];\n                    }\n                    else if (id) {\n                        id[taskSymbol] = null;\n                    }\n                    // Do not cancel already canceled functions\n                    task.zone.cancelTask(task);\n                }\n            }\n            else {\n                // cause an error by calling it directly.\n                delegate.apply(window, args);\n            }\n        }; });\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/*\n * This is necessary for Chrome and Chrome mobile, to enable\n * things like redefining `createdCallback` on an element.\n */\nvar _defineProperty = Object[zoneSymbol('defineProperty')] = Object.defineProperty;\nvar _getOwnPropertyDescriptor = Object[zoneSymbol('getOwnPropertyDescriptor')] =\n    Object.getOwnPropertyDescriptor;\nvar _create = Object.create;\nvar unconfigurablesKey = zoneSymbol('unconfigurables');\nfunction propertyPatch() {\n    Object.defineProperty = function (obj, prop, desc) {\n        if (isUnconfigurable(obj, prop)) {\n            throw new TypeError('Cannot assign to read only property \\'' + prop + '\\' of ' + obj);\n        }\n        var originalConfigurableFlag = desc.configurable;\n        if (prop !== 'prototype') {\n            desc = rewriteDescriptor(obj, prop, desc);\n        }\n        return _tryDefineProperty(obj, prop, desc, originalConfigurableFlag);\n    };\n    Object.defineProperties = function (obj, props) {\n        Object.keys(props).forEach(function (prop) {\n            Object.defineProperty(obj, prop, props[prop]);\n        });\n        return obj;\n    };\n    Object.create = function (obj, proto) {\n        if (typeof proto === 'object' && !Object.isFrozen(proto)) {\n            Object.keys(proto).forEach(function (prop) {\n                proto[prop] = rewriteDescriptor(obj, prop, proto[prop]);\n            });\n        }\n        return _create(obj, proto);\n    };\n    Object.getOwnPropertyDescriptor = function (obj, prop) {\n        var desc = _getOwnPropertyDescriptor(obj, prop);\n        if (desc && isUnconfigurable(obj, prop)) {\n            desc.configurable = false;\n        }\n        return desc;\n    };\n}\nfunction _redefineProperty(obj, prop, desc) {\n    var originalConfigurableFlag = desc.configurable;\n    desc = rewriteDescriptor(obj, prop, desc);\n    return _tryDefineProperty(obj, prop, desc, originalConfigurableFlag);\n}\nfunction isUnconfigurable(obj, prop) {\n    return obj && obj[unconfigurablesKey] && obj[unconfigurablesKey][prop];\n}\nfunction rewriteDescriptor(obj, prop, desc) {\n    // issue-927, if the desc is frozen, don't try to change the desc\n    if (!Object.isFrozen(desc)) {\n        desc.configurable = true;\n    }\n    if (!desc.configurable) {\n        // issue-927, if the obj is frozen, don't try to set the desc to obj\n        if (!obj[unconfigurablesKey] && !Object.isFrozen(obj)) {\n            _defineProperty(obj, unconfigurablesKey, { writable: true, value: {} });\n        }\n        if (obj[unconfigurablesKey]) {\n            obj[unconfigurablesKey][prop] = true;\n        }\n    }\n    return desc;\n}\nfunction _tryDefineProperty(obj, prop, desc, originalConfigurableFlag) {\n    try {\n        return _defineProperty(obj, prop, desc);\n    }\n    catch (error) {\n        if (desc.configurable) {\n            // In case of errors, when the configurable flag was likely set by rewriteDescriptor(), let's\n            // retry with the original flag value\n            if (typeof originalConfigurableFlag == 'undefined') {\n                delete desc.configurable;\n            }\n            else {\n                desc.configurable = originalConfigurableFlag;\n            }\n            try {\n                return _defineProperty(obj, prop, desc);\n            }\n            catch (error) {\n                var descJson = null;\n                try {\n                    descJson = JSON.stringify(desc);\n                }\n                catch (error) {\n                    descJson = desc.toString();\n                }\n                console.log(\"Attempting to configure '\" + prop + \"' with descriptor '\" + descJson + \"' on object '\" + obj + \"' and got error, giving up: \" + error);\n            }\n        }\n        else {\n            throw error;\n        }\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// we have to patch the instance since the proto is non-configurable\nfunction apply(api, _global) {\n    var WS = _global.WebSocket;\n    // On Safari window.EventTarget doesn't exist so need to patch WS add/removeEventListener\n    // On older Chrome, no need since EventTarget was already patched\n    if (!_global.EventTarget) {\n        patchEventTarget(_global, [WS.prototype]);\n    }\n    _global.WebSocket = function (x, y) {\n        var socket = arguments.length > 1 ? new WS(x, y) : new WS(x);\n        var proxySocket;\n        var proxySocketProto;\n        // Safari 7.0 has non-configurable own 'onmessage' and friends properties on the socket instance\n        var onmessageDesc = ObjectGetOwnPropertyDescriptor(socket, 'onmessage');\n        if (onmessageDesc && onmessageDesc.configurable === false) {\n            proxySocket = ObjectCreate(socket);\n            // socket have own property descriptor 'onopen', 'onmessage', 'onclose', 'onerror'\n            // but proxySocket not, so we will keep socket as prototype and pass it to\n            // patchOnProperties method\n            proxySocketProto = socket;\n            [ADD_EVENT_LISTENER_STR, REMOVE_EVENT_LISTENER_STR, 'send', 'close'].forEach(function (propName) {\n                proxySocket[propName] = function () {\n                    var args = ArraySlice.call(arguments);\n                    if (propName === ADD_EVENT_LISTENER_STR || propName === REMOVE_EVENT_LISTENER_STR) {\n                        var eventName = args.length > 0 ? args[0] : undefined;\n                        if (eventName) {\n                            var propertySymbol = Zone.__symbol__('ON_PROPERTY' + eventName);\n                            socket[propertySymbol] = proxySocket[propertySymbol];\n                        }\n                    }\n                    return socket[propName].apply(socket, args);\n                };\n            });\n        }\n        else {\n            // we can patch the real socket\n            proxySocket = socket;\n        }\n        patchOnProperties(proxySocket, ['close', 'error', 'message', 'open'], proxySocketProto);\n        return proxySocket;\n    };\n    var globalWebSocket = _global['WebSocket'];\n    for (var prop in WS) {\n        globalWebSocket[prop] = WS[prop];\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {globalThis}\n */\nvar globalEventHandlersEventNames = [\n    'abort',\n    'animationcancel',\n    'animationend',\n    'animationiteration',\n    'auxclick',\n    'beforeinput',\n    'blur',\n    'cancel',\n    'canplay',\n    'canplaythrough',\n    'change',\n    'compositionstart',\n    'compositionupdate',\n    'compositionend',\n    'cuechange',\n    'click',\n    'close',\n    'contextmenu',\n    'curechange',\n    'dblclick',\n    'drag',\n    'dragend',\n    'dragenter',\n    'dragexit',\n    'dragleave',\n    'dragover',\n    'drop',\n    'durationchange',\n    'emptied',\n    'ended',\n    'error',\n    'focus',\n    'focusin',\n    'focusout',\n    'gotpointercapture',\n    'input',\n    'invalid',\n    'keydown',\n    'keypress',\n    'keyup',\n    'load',\n    'loadstart',\n    'loadeddata',\n    'loadedmetadata',\n    'lostpointercapture',\n    'mousedown',\n    'mouseenter',\n    'mouseleave',\n    'mousemove',\n    'mouseout',\n    'mouseover',\n    'mouseup',\n    'mousewheel',\n    'orientationchange',\n    'pause',\n    'play',\n    'playing',\n    'pointercancel',\n    'pointerdown',\n    'pointerenter',\n    'pointerleave',\n    'pointerlockchange',\n    'mozpointerlockchange',\n    'webkitpointerlockerchange',\n    'pointerlockerror',\n    'mozpointerlockerror',\n    'webkitpointerlockerror',\n    'pointermove',\n    'pointout',\n    'pointerover',\n    'pointerup',\n    'progress',\n    'ratechange',\n    'reset',\n    'resize',\n    'scroll',\n    'seeked',\n    'seeking',\n    'select',\n    'selectionchange',\n    'selectstart',\n    'show',\n    'sort',\n    'stalled',\n    'submit',\n    'suspend',\n    'timeupdate',\n    'volumechange',\n    'touchcancel',\n    'touchmove',\n    'touchstart',\n    'touchend',\n    'transitioncancel',\n    'transitionend',\n    'waiting',\n    'wheel'\n];\nvar documentEventNames = [\n    'afterscriptexecute', 'beforescriptexecute', 'DOMContentLoaded', 'freeze', 'fullscreenchange',\n    'mozfullscreenchange', 'webkitfullscreenchange', 'msfullscreenchange', 'fullscreenerror',\n    'mozfullscreenerror', 'webkitfullscreenerror', 'msfullscreenerror', 'readystatechange',\n    'visibilitychange', 'resume'\n];\nvar windowEventNames = [\n    'absolutedeviceorientation',\n    'afterinput',\n    'afterprint',\n    'appinstalled',\n    'beforeinstallprompt',\n    'beforeprint',\n    'beforeunload',\n    'devicelight',\n    'devicemotion',\n    'deviceorientation',\n    'deviceorientationabsolute',\n    'deviceproximity',\n    'hashchange',\n    'languagechange',\n    'message',\n    'mozbeforepaint',\n    'offline',\n    'online',\n    'paint',\n    'pageshow',\n    'pagehide',\n    'popstate',\n    'rejectionhandled',\n    'storage',\n    'unhandledrejection',\n    'unload',\n    'userproximity',\n    'vrdisplyconnected',\n    'vrdisplaydisconnected',\n    'vrdisplaypresentchange'\n];\nvar htmlElementEventNames = [\n    'beforecopy', 'beforecut', 'beforepaste', 'copy', 'cut', 'paste', 'dragstart', 'loadend',\n    'animationstart', 'search', 'transitionrun', 'transitionstart', 'webkitanimationend',\n    'webkitanimationiteration', 'webkitanimationstart', 'webkittransitionend'\n];\nvar mediaElementEventNames = ['encrypted', 'waitingforkey', 'msneedkey', 'mozinterruptbegin', 'mozinterruptend'];\nvar ieElementEventNames = [\n    'activate',\n    'afterupdate',\n    'ariarequest',\n    'beforeactivate',\n    'beforedeactivate',\n    'beforeeditfocus',\n    'beforeupdate',\n    'cellchange',\n    'controlselect',\n    'dataavailable',\n    'datasetchanged',\n    'datasetcomplete',\n    'errorupdate',\n    'filterchange',\n    'layoutcomplete',\n    'losecapture',\n    'move',\n    'moveend',\n    'movestart',\n    'propertychange',\n    'resizeend',\n    'resizestart',\n    'rowenter',\n    'rowexit',\n    'rowsdelete',\n    'rowsinserted',\n    'command',\n    'compassneedscalibration',\n    'deactivate',\n    'help',\n    'mscontentzoom',\n    'msmanipulationstatechanged',\n    'msgesturechange',\n    'msgesturedoubletap',\n    'msgestureend',\n    'msgesturehold',\n    'msgesturestart',\n    'msgesturetap',\n    'msgotpointercapture',\n    'msinertiastart',\n    'mslostpointercapture',\n    'mspointercancel',\n    'mspointerdown',\n    'mspointerenter',\n    'mspointerhover',\n    'mspointerleave',\n    'mspointermove',\n    'mspointerout',\n    'mspointerover',\n    'mspointerup',\n    'pointerout',\n    'mssitemodejumplistitemremoved',\n    'msthumbnailclick',\n    'stop',\n    'storagecommit'\n];\nvar webglEventNames = ['webglcontextrestored', 'webglcontextlost', 'webglcontextcreationerror'];\nvar formEventNames = ['autocomplete', 'autocompleteerror'];\nvar detailEventNames = ['toggle'];\nvar frameEventNames = ['load'];\nvar frameSetEventNames = ['blur', 'error', 'focus', 'load', 'resize', 'scroll', 'messageerror'];\nvar marqueeEventNames = ['bounce', 'finish', 'start'];\nvar XMLHttpRequestEventNames = [\n    'loadstart', 'progress', 'abort', 'error', 'load', 'progress', 'timeout', 'loadend',\n    'readystatechange'\n];\nvar IDBIndexEventNames = ['upgradeneeded', 'complete', 'abort', 'success', 'error', 'blocked', 'versionchange', 'close'];\nvar websocketEventNames = ['close', 'error', 'open', 'message'];\nvar workerEventNames = ['error', 'message'];\nvar eventNames = globalEventHandlersEventNames.concat(webglEventNames, formEventNames, detailEventNames, documentEventNames, windowEventNames, htmlElementEventNames, ieElementEventNames);\nfunction filterProperties(target, onProperties, ignoreProperties) {\n    if (!ignoreProperties || ignoreProperties.length === 0) {\n        return onProperties;\n    }\n    var tip = ignoreProperties.filter(function (ip) { return ip.target === target; });\n    if (!tip || tip.length === 0) {\n        return onProperties;\n    }\n    var targetIgnoreProperties = tip[0].ignoreProperties;\n    return onProperties.filter(function (op) { return targetIgnoreProperties.indexOf(op) === -1; });\n}\nfunction patchFilteredProperties(target, onProperties, ignoreProperties, prototype) {\n    // check whether target is available, sometimes target will be undefined\n    // because different browser or some 3rd party plugin.\n    if (!target) {\n        return;\n    }\n    var filteredProperties = filterProperties(target, onProperties, ignoreProperties);\n    patchOnProperties(target, filteredProperties, prototype);\n}\nfunction propertyDescriptorPatch(api, _global) {\n    if (isNode && !isMix) {\n        return;\n    }\n    var supportsWebSocket = typeof WebSocket !== 'undefined';\n    if (canPatchViaPropertyDescriptor()) {\n        var ignoreProperties = _global['__Zone_ignore_on_properties'];\n        // for browsers that we can patch the descriptor:  Chrome & Firefox\n        if (isBrowser) {\n            var internalWindow = window;\n            var ignoreErrorProperties = isIE ? [{ target: internalWindow, ignoreProperties: ['error'] }] : [];\n            // in IE/Edge, onProp not exist in window object, but in WindowPrototype\n            // so we need to pass WindowPrototype to check onProp exist or not\n            patchFilteredProperties(internalWindow, eventNames.concat(['messageerror']), ignoreProperties ? ignoreProperties.concat(ignoreErrorProperties) : ignoreProperties, ObjectGetPrototypeOf(internalWindow));\n            patchFilteredProperties(Document.prototype, eventNames, ignoreProperties);\n            if (typeof internalWindow['SVGElement'] !== 'undefined') {\n                patchFilteredProperties(internalWindow['SVGElement'].prototype, eventNames, ignoreProperties);\n            }\n            patchFilteredProperties(Element.prototype, eventNames, ignoreProperties);\n            patchFilteredProperties(HTMLElement.prototype, eventNames, ignoreProperties);\n            patchFilteredProperties(HTMLMediaElement.prototype, mediaElementEventNames, ignoreProperties);\n            patchFilteredProperties(HTMLFrameSetElement.prototype, windowEventNames.concat(frameSetEventNames), ignoreProperties);\n            patchFilteredProperties(HTMLBodyElement.prototype, windowEventNames.concat(frameSetEventNames), ignoreProperties);\n            patchFilteredProperties(HTMLFrameElement.prototype, frameEventNames, ignoreProperties);\n            patchFilteredProperties(HTMLIFrameElement.prototype, frameEventNames, ignoreProperties);\n            var HTMLMarqueeElement_1 = internalWindow['HTMLMarqueeElement'];\n            if (HTMLMarqueeElement_1) {\n                patchFilteredProperties(HTMLMarqueeElement_1.prototype, marqueeEventNames, ignoreProperties);\n            }\n            var Worker_1 = internalWindow['Worker'];\n            if (Worker_1) {\n                patchFilteredProperties(Worker_1.prototype, workerEventNames, ignoreProperties);\n            }\n        }\n        patchFilteredProperties(XMLHttpRequest.prototype, XMLHttpRequestEventNames, ignoreProperties);\n        var XMLHttpRequestEventTarget_1 = _global['XMLHttpRequestEventTarget'];\n        if (XMLHttpRequestEventTarget_1) {\n            patchFilteredProperties(XMLHttpRequestEventTarget_1 && XMLHttpRequestEventTarget_1.prototype, XMLHttpRequestEventNames, ignoreProperties);\n        }\n        if (typeof IDBIndex !== 'undefined') {\n            patchFilteredProperties(IDBIndex.prototype, IDBIndexEventNames, ignoreProperties);\n            patchFilteredProperties(IDBRequest.prototype, IDBIndexEventNames, ignoreProperties);\n            patchFilteredProperties(IDBOpenDBRequest.prototype, IDBIndexEventNames, ignoreProperties);\n            patchFilteredProperties(IDBDatabase.prototype, IDBIndexEventNames, ignoreProperties);\n            patchFilteredProperties(IDBTransaction.prototype, IDBIndexEventNames, ignoreProperties);\n            patchFilteredProperties(IDBCursor.prototype, IDBIndexEventNames, ignoreProperties);\n        }\n        if (supportsWebSocket) {\n            patchFilteredProperties(WebSocket.prototype, websocketEventNames, ignoreProperties);\n        }\n    }\n    else {\n        // Safari, Android browsers (Jelly Bean)\n        patchViaCapturingAllTheEvents();\n        patchClass('XMLHttpRequest');\n        if (supportsWebSocket) {\n            apply(api, _global);\n        }\n    }\n}\nfunction canPatchViaPropertyDescriptor() {\n    if ((isBrowser || isMix) && !ObjectGetOwnPropertyDescriptor(HTMLElement.prototype, 'onclick') &&\n        typeof Element !== 'undefined') {\n        // WebKit https://bugs.webkit.org/show_bug.cgi?id=134364\n        // IDL interface attributes are not configurable\n        var desc = ObjectGetOwnPropertyDescriptor(Element.prototype, 'onclick');\n        if (desc && !desc.configurable)\n            return false;\n    }\n    var ON_READY_STATE_CHANGE = 'onreadystatechange';\n    var XMLHttpRequestPrototype = XMLHttpRequest.prototype;\n    var xhrDesc = ObjectGetOwnPropertyDescriptor(XMLHttpRequestPrototype, ON_READY_STATE_CHANGE);\n    // add enumerable and configurable here because in opera\n    // by default XMLHttpRequest.prototype.onreadystatechange is undefined\n    // without adding enumerable and configurable will cause onreadystatechange\n    // non-configurable\n    // and if XMLHttpRequest.prototype.onreadystatechange is undefined,\n    // we should set a real desc instead a fake one\n    if (xhrDesc) {\n        ObjectDefineProperty(XMLHttpRequestPrototype, ON_READY_STATE_CHANGE, {\n            enumerable: true,\n            configurable: true,\n            get: function () {\n                return true;\n            }\n        });\n        var req = new XMLHttpRequest();\n        var result = !!req.onreadystatechange;\n        // restore original desc\n        ObjectDefineProperty(XMLHttpRequestPrototype, ON_READY_STATE_CHANGE, xhrDesc || {});\n        return result;\n    }\n    else {\n        var SYMBOL_FAKE_ONREADYSTATECHANGE_1 = zoneSymbol('fake');\n        ObjectDefineProperty(XMLHttpRequestPrototype, ON_READY_STATE_CHANGE, {\n            enumerable: true,\n            configurable: true,\n            get: function () {\n                return this[SYMBOL_FAKE_ONREADYSTATECHANGE_1];\n            },\n            set: function (value) {\n                this[SYMBOL_FAKE_ONREADYSTATECHANGE_1] = value;\n            }\n        });\n        var req = new XMLHttpRequest();\n        var detectFunc = function () { };\n        req.onreadystatechange = detectFunc;\n        var result = req[SYMBOL_FAKE_ONREADYSTATECHANGE_1] === detectFunc;\n        req.onreadystatechange = null;\n        return result;\n    }\n}\nvar unboundKey = zoneSymbol('unbound');\n// Whenever any eventListener fires, we check the eventListener target and all parents\n// for `onwhatever` properties and replace them with zone-bound functions\n// - Chrome (for now)\nfunction patchViaCapturingAllTheEvents() {\n    var _loop_1 = function (i) {\n        var property = eventNames[i];\n        var onproperty = 'on' + property;\n        self.addEventListener(property, function (event) {\n            var elt = event.target, bound, source;\n            if (elt) {\n                source = elt.constructor['name'] + '.' + onproperty;\n            }\n            else {\n                source = 'unknown.' + onproperty;\n            }\n            while (elt) {\n                if (elt[onproperty] && !elt[onproperty][unboundKey]) {\n                    bound = wrapWithCurrentZone(elt[onproperty], source);\n                    bound[unboundKey] = elt[onproperty];\n                    elt[onproperty] = bound;\n                }\n                elt = elt.parentElement;\n            }\n        }, true);\n    };\n    for (var i = 0; i < eventNames.length; i++) {\n        _loop_1(i);\n    }\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction eventTargetPatch(_global, api) {\n    var WTF_ISSUE_555 = 'Anchor,Area,Audio,BR,Base,BaseFont,Body,Button,Canvas,Content,DList,Directory,Div,Embed,FieldSet,Font,Form,Frame,FrameSet,HR,Head,Heading,Html,IFrame,Image,Input,Keygen,LI,Label,Legend,Link,Map,Marquee,Media,Menu,Meta,Meter,Mod,OList,Object,OptGroup,Option,Output,Paragraph,Pre,Progress,Quote,Script,Select,Source,Span,Style,TableCaption,TableCell,TableCol,Table,TableRow,TableSection,TextArea,Title,Track,UList,Unknown,Video';\n    var NO_EVENT_TARGET = 'ApplicationCache,EventSource,FileReader,InputMethodContext,MediaController,MessagePort,Node,Performance,SVGElementInstance,SharedWorker,TextTrack,TextTrackCue,TextTrackList,WebKitNamedFlow,Window,Worker,WorkerGlobalScope,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload,IDBRequest,IDBOpenDBRequest,IDBDatabase,IDBTransaction,IDBCursor,DBIndex,WebSocket'\n        .split(',');\n    var EVENT_TARGET = 'EventTarget';\n    var apis = [];\n    var isWtf = _global['wtf'];\n    var WTF_ISSUE_555_ARRAY = WTF_ISSUE_555.split(',');\n    if (isWtf) {\n        // Workaround for: https://github.com/google/tracing-framework/issues/555\n        apis = WTF_ISSUE_555_ARRAY.map(function (v) { return 'HTML' + v + 'Element'; }).concat(NO_EVENT_TARGET);\n    }\n    else if (_global[EVENT_TARGET]) {\n        apis.push(EVENT_TARGET);\n    }\n    else {\n        // Note: EventTarget is not available in all browsers,\n        // if it's not available, we instead patch the APIs in the IDL that inherit from EventTarget\n        apis = NO_EVENT_TARGET;\n    }\n    var isDisableIECheck = _global['__Zone_disable_IE_check'] || false;\n    var isEnableCrossContextCheck = _global['__Zone_enable_cross_context_check'] || false;\n    var ieOrEdge = isIEOrEdge();\n    var ADD_EVENT_LISTENER_SOURCE = '.addEventListener:';\n    var FUNCTION_WRAPPER = '[object FunctionWrapper]';\n    var BROWSER_TOOLS = 'function __BROWSERTOOLS_CONSOLE_SAFEFUNC() { [native code] }';\n    //  predefine all __zone_symbol__ + eventName + true/false string\n    for (var i = 0; i < eventNames.length; i++) {\n        var eventName = eventNames[i];\n        var falseEventName = eventName + FALSE_STR;\n        var trueEventName = eventName + TRUE_STR;\n        var symbol = ZONE_SYMBOL_PREFIX + falseEventName;\n        var symbolCapture = ZONE_SYMBOL_PREFIX + trueEventName;\n        zoneSymbolEventNames$1[eventName] = {};\n        zoneSymbolEventNames$1[eventName][FALSE_STR] = symbol;\n        zoneSymbolEventNames$1[eventName][TRUE_STR] = symbolCapture;\n    }\n    //  predefine all task.source string\n    for (var i = 0; i < WTF_ISSUE_555.length; i++) {\n        var target = WTF_ISSUE_555_ARRAY[i];\n        var targets = globalSources[target] = {};\n        for (var j = 0; j < eventNames.length; j++) {\n            var eventName = eventNames[j];\n            targets[eventName] = target + ADD_EVENT_LISTENER_SOURCE + eventName;\n        }\n    }\n    var checkIEAndCrossContext = function (nativeDelegate, delegate, target, args) {\n        if (!isDisableIECheck && ieOrEdge) {\n            if (isEnableCrossContextCheck) {\n                try {\n                    var testString = delegate.toString();\n                    if ((testString === FUNCTION_WRAPPER || testString == BROWSER_TOOLS)) {\n                        nativeDelegate.apply(target, args);\n                        return false;\n                    }\n                }\n                catch (error) {\n                    nativeDelegate.apply(target, args);\n                    return false;\n                }\n            }\n            else {\n                var testString = delegate.toString();\n                if ((testString === FUNCTION_WRAPPER || testString == BROWSER_TOOLS)) {\n                    nativeDelegate.apply(target, args);\n                    return false;\n                }\n            }\n        }\n        else if (isEnableCrossContextCheck) {\n            try {\n                delegate.toString();\n            }\n            catch (error) {\n                nativeDelegate.apply(target, args);\n                return false;\n            }\n        }\n        return true;\n    };\n    var apiTypes = [];\n    for (var i = 0; i < apis.length; i++) {\n        var type = _global[apis[i]];\n        apiTypes.push(type && type.prototype);\n    }\n    // vh is validateHandler to check event handler\n    // is valid or not(for security check)\n    patchEventTarget(_global, apiTypes, { vh: checkIEAndCrossContext });\n    api.patchEventTarget = patchEventTarget;\n    return true;\n}\nfunction patchEvent(global, api) {\n    patchEventPrototype(global, api);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nfunction patchCallbacks(target, targetName, method, callbacks) {\n    var symbol = Zone.__symbol__(method);\n    if (target[symbol]) {\n        return;\n    }\n    var nativeDelegate = target[symbol] = target[method];\n    target[method] = function (name, opts, options) {\n        if (opts && opts.prototype) {\n            callbacks.forEach(function (callback) {\n                var source = targetName + \".\" + method + \"::\" + callback;\n                var prototype = opts.prototype;\n                if (prototype.hasOwnProperty(callback)) {\n                    var descriptor = ObjectGetOwnPropertyDescriptor(prototype, callback);\n                    if (descriptor && descriptor.value) {\n                        descriptor.value = wrapWithCurrentZone(descriptor.value, source);\n                        _redefineProperty(opts.prototype, callback, descriptor);\n                    }\n                    else if (prototype[callback]) {\n                        prototype[callback] = wrapWithCurrentZone(prototype[callback], source);\n                    }\n                }\n                else if (prototype[callback]) {\n                    prototype[callback] = wrapWithCurrentZone(prototype[callback], source);\n                }\n            });\n        }\n        return nativeDelegate.call(target, name, opts, options);\n    };\n    attachOriginToPatched(target[method], nativeDelegate);\n}\nfunction registerElementPatch(_global) {\n    if ((!isBrowser && !isMix) || !('registerElement' in _global.document)) {\n        return;\n    }\n    var callbacks = ['createdCallback', 'attachedCallback', 'detachedCallback', 'attributeChangedCallback'];\n    patchCallbacks(document, 'Document', 'registerElement', callbacks);\n}\nfunction patchCustomElements(_global) {\n    if ((!isBrowser && !isMix) || !('customElements' in _global)) {\n        return;\n    }\n    var callbacks = ['connectedCallback', 'disconnectedCallback', 'adoptedCallback', 'attributeChangedCallback'];\n    patchCallbacks(_global.customElements, 'customElements', 'define', callbacks);\n}\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * @fileoverview\n * @suppress {missingRequire}\n */\nZone.__load_patch('util', function (global, Zone, api) {\n    api.patchOnProperties = patchOnProperties;\n    api.patchMethod = patchMethod;\n    api.bindArguments = bindArguments;\n});\nZone.__load_patch('timers', function (global) {\n    var set = 'set';\n    var clear = 'clear';\n    patchTimer(global, set, clear, 'Timeout');\n    patchTimer(global, set, clear, 'Interval');\n    patchTimer(global, set, clear, 'Immediate');\n});\nZone.__load_patch('requestAnimationFrame', function (global) {\n    patchTimer(global, 'request', 'cancel', 'AnimationFrame');\n    patchTimer(global, 'mozRequest', 'mozCancel', 'AnimationFrame');\n    patchTimer(global, 'webkitRequest', 'webkitCancel', 'AnimationFrame');\n});\nZone.__load_patch('blocking', function (global, Zone) {\n    var blockingMethods = ['alert', 'prompt', 'confirm'];\n    for (var i = 0; i < blockingMethods.length; i++) {\n        var name_1 = blockingMethods[i];\n        patchMethod(global, name_1, function (delegate, symbol, name) {\n            return function (s, args) {\n                return Zone.current.run(delegate, global, args, name);\n            };\n        });\n    }\n});\nZone.__load_patch('EventTarget', function (global, Zone, api) {\n    // load blackListEvents from global\n    var SYMBOL_BLACK_LISTED_EVENTS = Zone.__symbol__('BLACK_LISTED_EVENTS');\n    if (global[SYMBOL_BLACK_LISTED_EVENTS]) {\n        Zone[SYMBOL_BLACK_LISTED_EVENTS] = global[SYMBOL_BLACK_LISTED_EVENTS];\n    }\n    patchEvent(global, api);\n    eventTargetPatch(global, api);\n    // patch XMLHttpRequestEventTarget's addEventListener/removeEventListener\n    var XMLHttpRequestEventTarget = global['XMLHttpRequestEventTarget'];\n    if (XMLHttpRequestEventTarget && XMLHttpRequestEventTarget.prototype) {\n        api.patchEventTarget(global, [XMLHttpRequestEventTarget.prototype]);\n    }\n    patchClass('MutationObserver');\n    patchClass('WebKitMutationObserver');\n    patchClass('IntersectionObserver');\n    patchClass('FileReader');\n});\nZone.__load_patch('on_property', function (global, Zone, api) {\n    propertyDescriptorPatch(api, global);\n    propertyPatch();\n});\nZone.__load_patch('customElements', function (global, Zone, api) {\n    registerElementPatch(global);\n    patchCustomElements(global);\n});\nZone.__load_patch('canvas', function (global) {\n    var HTMLCanvasElement = global['HTMLCanvasElement'];\n    if (typeof HTMLCanvasElement !== 'undefined' && HTMLCanvasElement.prototype &&\n        HTMLCanvasElement.prototype.toBlob) {\n        patchMacroTask(HTMLCanvasElement.prototype, 'toBlob', function (self, args) {\n            return { name: 'HTMLCanvasElement.toBlob', target: self, cbIdx: 0, args: args };\n        });\n    }\n});\nZone.__load_patch('XHR', function (global, Zone) {\n    // Treat XMLHttpRequest as a macrotask.\n    patchXHR(global);\n    var XHR_TASK = zoneSymbol('xhrTask');\n    var XHR_SYNC = zoneSymbol('xhrSync');\n    var XHR_LISTENER = zoneSymbol('xhrListener');\n    var XHR_SCHEDULED = zoneSymbol('xhrScheduled');\n    var XHR_URL = zoneSymbol('xhrURL');\n    var XHR_ERROR_BEFORE_SCHEDULED = zoneSymbol('xhrErrorBeforeScheduled');\n    function patchXHR(window) {\n        var XMLHttpRequestPrototype = XMLHttpRequest.prototype;\n        function findPendingTask(target) {\n            return target[XHR_TASK];\n        }\n        var oriAddListener = XMLHttpRequestPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n        var oriRemoveListener = XMLHttpRequestPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n        if (!oriAddListener) {\n            var XMLHttpRequestEventTarget_1 = window['XMLHttpRequestEventTarget'];\n            if (XMLHttpRequestEventTarget_1) {\n                var XMLHttpRequestEventTargetPrototype = XMLHttpRequestEventTarget_1.prototype;\n                oriAddListener = XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n                oriRemoveListener = XMLHttpRequestEventTargetPrototype[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n            }\n        }\n        var READY_STATE_CHANGE = 'readystatechange';\n        var SCHEDULED = 'scheduled';\n        function scheduleTask(task) {\n            var data = task.data;\n            var target = data.target;\n            target[XHR_SCHEDULED] = false;\n            target[XHR_ERROR_BEFORE_SCHEDULED] = false;\n            // remove existing event listener\n            var listener = target[XHR_LISTENER];\n            if (!oriAddListener) {\n                oriAddListener = target[ZONE_SYMBOL_ADD_EVENT_LISTENER];\n                oriRemoveListener = target[ZONE_SYMBOL_REMOVE_EVENT_LISTENER];\n            }\n            if (listener) {\n                oriRemoveListener.call(target, READY_STATE_CHANGE, listener);\n            }\n            var newListener = target[XHR_LISTENER] = function () {\n                if (target.readyState === target.DONE) {\n                    // sometimes on some browsers XMLHttpRequest will fire onreadystatechange with\n                    // readyState=4 multiple times, so we need to check task state here\n                    if (!data.aborted && target[XHR_SCHEDULED] && task.state === SCHEDULED) {\n                        // check whether the xhr has registered onload listener\n                        // if that is the case, the task should invoke after all\n                        // onload listeners finish.\n                        var loadTasks = target['__zone_symbol__loadfalse'];\n                        if (loadTasks && loadTasks.length > 0) {\n                            var oriInvoke_1 = task.invoke;\n                            task.invoke = function () {\n                                // need to load the tasks again, because in other\n                                // load listener, they may remove themselves\n                                var loadTasks = target['__zone_symbol__loadfalse'];\n                                for (var i = 0; i < loadTasks.length; i++) {\n                                    if (loadTasks[i] === task) {\n                                        loadTasks.splice(i, 1);\n                                    }\n                                }\n                                if (!data.aborted && task.state === SCHEDULED) {\n                                    oriInvoke_1.call(task);\n                                }\n                            };\n                            loadTasks.push(task);\n                        }\n                        else {\n                            task.invoke();\n                        }\n                    }\n                    else if (!data.aborted && target[XHR_SCHEDULED] === false) {\n                        // error occurs when xhr.send()\n                        target[XHR_ERROR_BEFORE_SCHEDULED] = true;\n                    }\n                }\n            };\n            oriAddListener.call(target, READY_STATE_CHANGE, newListener);\n            var storedTask = target[XHR_TASK];\n            if (!storedTask) {\n                target[XHR_TASK] = task;\n            }\n            sendNative.apply(target, data.args);\n            target[XHR_SCHEDULED] = true;\n            return task;\n        }\n        function placeholderCallback() { }\n        function clearTask(task) {\n            var data = task.data;\n            // Note - ideally, we would call data.target.removeEventListener here, but it's too late\n            // to prevent it from firing. So instead, we store info for the event listener.\n            data.aborted = true;\n            return abortNative.apply(data.target, data.args);\n        }\n        var openNative = patchMethod(XMLHttpRequestPrototype, 'open', function () { return function (self, args) {\n            self[XHR_SYNC] = args[2] == false;\n            self[XHR_URL] = args[1];\n            return openNative.apply(self, args);\n        }; });\n        var XMLHTTPREQUEST_SOURCE = 'XMLHttpRequest.send';\n        var fetchTaskAborting = zoneSymbol('fetchTaskAborting');\n        var fetchTaskScheduling = zoneSymbol('fetchTaskScheduling');\n        var sendNative = patchMethod(XMLHttpRequestPrototype, 'send', function () { return function (self, args) {\n            if (Zone.current[fetchTaskScheduling] === true) {\n                // a fetch is scheduling, so we are using xhr to polyfill fetch\n                // and because we already schedule macroTask for fetch, we should\n                // not schedule a macroTask for xhr again\n                return sendNative.apply(self, args);\n            }\n            if (self[XHR_SYNC]) {\n                // if the XHR is sync there is no task to schedule, just execute the code.\n                return sendNative.apply(self, args);\n            }\n            else {\n                var options = { target: self, url: self[XHR_URL], isPeriodic: false, args: args, aborted: false };\n                var task = scheduleMacroTaskWithCurrentZone(XMLHTTPREQUEST_SOURCE, placeholderCallback, options, scheduleTask, clearTask);\n                if (self && self[XHR_ERROR_BEFORE_SCHEDULED] === true && !options.aborted &&\n                    task.state === SCHEDULED) {\n                    // xhr request throw error when send\n                    // we should invoke task instead of leaving a scheduled\n                    // pending macroTask\n                    task.invoke();\n                }\n            }\n        }; });\n        var abortNative = patchMethod(XMLHttpRequestPrototype, 'abort', function () { return function (self, args) {\n            var task = findPendingTask(self);\n            if (task && typeof task.type == 'string') {\n                // If the XHR has already completed, do nothing.\n                // If the XHR has already been aborted, do nothing.\n                // Fix #569, call abort multiple times before done will cause\n                // macroTask task count be negative number\n                if (task.cancelFn == null || (task.data && task.data.aborted)) {\n                    return;\n                }\n                task.zone.cancelTask(task);\n            }\n            else if (Zone.current[fetchTaskAborting] === true) {\n                // the abort is called from fetch polyfill, we need to call native abort of XHR.\n                return abortNative.apply(self, args);\n            }\n            // Otherwise, we are trying to abort an XHR which has not yet been sent, so there is no\n            // task\n            // to cancel. Do nothing.\n        }; });\n    }\n});\nZone.__load_patch('geolocation', function (global) {\n    /// GEO_LOCATION\n    if (global['navigator'] && global['navigator'].geolocation) {\n        patchPrototype(global['navigator'].geolocation, ['getCurrentPosition', 'watchPosition']);\n    }\n});\nZone.__load_patch('PromiseRejectionEvent', function (global, Zone) {\n    // handle unhandled promise rejection\n    function findPromiseRejectionHandler(evtName) {\n        return function (e) {\n            var eventTasks = findEventTasks(global, evtName);\n            eventTasks.forEach(function (eventTask) {\n                // windows has added unhandledrejection event listener\n                // trigger the event listener\n                var PromiseRejectionEvent = global['PromiseRejectionEvent'];\n                if (PromiseRejectionEvent) {\n                    var evt = new PromiseRejectionEvent(evtName, { promise: e.promise, reason: e.rejection });\n                    eventTask.invoke(evt);\n                }\n            });\n        };\n    }\n    if (global['PromiseRejectionEvent']) {\n        Zone[zoneSymbol('unhandledPromiseRejectionHandler')] =\n            findPromiseRejectionHandler('unhandledrejection');\n        Zone[zoneSymbol('rejectionHandledHandler')] =\n            findPromiseRejectionHandler('rejectionhandled');\n    }\n});\n\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n})));\n","var map = {\n\t\"./shell/booking/booking.module.ngfactory\": [\n\t\t\"./src/app/shell/booking/booking.module.ngfactory.js\",\n\t\t\"shell-booking-booking-module-ngfactory\"\n\t],\n\t\"./shell/explore/explore.module.ngfactory\": [\n\t\t\"./src/app/shell/explore/explore.module.ngfactory.js\",\n\t\t\"shell-explore-explore-module-ngfactory\"\n\t],\n\t\"./shell/new-schedule/schedule.module.ngfactory\": [\n\t\t\"./src/app/shell/new-schedule/schedule.module.ngfactory.js\",\n\t\t\"shell-new-schedule-schedule-module-ngfactory\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","\n        \n            <div class=\"app\">\n                <router-outlet></router-outlet>\n            </div>\n  \n    ","import { Component, ViewContainerRef } from '@angular/core';\r\nimport { ViewEncapsulation } from '@angular/core';\r\nimport { OverlayService } from '@acaprojects/ngx-widgets';\r\nimport { environment } from '../environments/environment';\r\n\r\n\r\n\r\n@Component({\r\n    selector: 'app-home',\r\n    template: `\r\n        \r\n            <div class=\"app\">\r\n                <router-outlet></router-outlet>\r\n            </div>\r\n  \r\n    `,\r\n    styleUrls: [\r\n        './app-styles/app.styles.scss',\r\n        './app-styles/custom-widget.styles.scss',\r\n        './app-styles/native-element.styles.scss'\r\n    ],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class AppComponent {\r\n    constructor(private view: ViewContainerRef, private overlay: OverlayService) {\r\n        this.overlay.view = view;\r\n        (window as any).app_loaded = true;\r\n        \r\n    }\r\n}","\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\n\r\nimport { ComposerModule } from '@acaprojects/ngx-composer';\r\nimport { WidgetsModule } from '@acaprojects/ngx-widgets';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { APP_COMPONENTS, APP_ENTRY_COMPONENTS } from './shell';\r\nimport { ROUTES } from './app.routes';\r\nimport { environment } from '../environments/environment';\r\n\r\n// import './shared/mock';\r\nimport { SharedComponentModule } from './shared/components/shared.module';\r\nimport { OverlayComponentModule } from './overlays/overlays.module';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        AppComponent,\r\n        ...APP_COMPONENTS,\r\n        ...APP_ENTRY_COMPONENTS,\r\n    ],\r\n    imports: [\r\n        BrowserAnimationsModule,\r\n        BrowserModule,\r\n        RouterModule.forRoot(ROUTES, { useHash: true }),\r\n        HttpClientModule,\r\n        FormsModule,\r\n        WidgetsModule.forRoot(),\r\n        ComposerModule.forRoot(),\r\n        SharedComponentModule,\r\n        OverlayComponentModule\r\n    ],\r\n    providers: [ ],\r\n    entryComponents: [\r\n        ...APP_ENTRY_COMPONENTS\r\n    ],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Manage Attendees</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\" *ngIf=\"model.form\">\n        <user-search [modal]=\"true\" [(users)]=\"model.form.attendees\" (close)=\"fn.event('Change')\"></user-search>\n    </div>\n</div>","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'attendee-modal',\n    templateUrl: './attendee-modal.template.html',\n    styleUrls: ['./attendee-modal.styles.scss'],\n})\nexport class AttendeeModalComponent extends OverlayContentComponent {\n    public model: any = { form: {} };\n\n    public init() {\n        this.model.form = {};\n        this.model.form.attendees = JSON.parse(JSON.stringify(this.model.attendees || []));\n    }\n\n    public close() {\n        setTimeout(() => this.fn.close(), 300);\n    }\n}\n","<div class=\"cntnr\" [style.height]=\"model.vh + 'px'\">\n    <user-availability [(date)]=\"model.date\" [(duration)]=\"model.duration\" [(users)]=\"model.users\" (event)=\"$event.type === 'Accept' ? event('Accept') : fn.close()\"></user-availability>\n</div>","\nimport { Component } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\n\n@Component({\n    selector: 'availability-overlay',\n    templateUrl: './availability-overlay.template.html',\n    styleUrls: ['./availability-overlay.styles.scss']\n})\nexport class AvailabilityOverlayComponent extends OverlayContentComponent {\n\n    public init() {\n        this.model.form = {};\n        this.model.group = 0;\n        if (this.model.visitor) {\n            this.model.datetime = this.model.visitor.date || this.model.visitor.time;\n        }\n    }\n\n    public resize() {\n        super.resize();\n        this.model.vh = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    }\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">New Booking</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\" *ngIf=\"model.form\">\n        <booking-form [(form)]=\"model.form\" [(error)]=\"model.error\" [(valid)]=\"model.valid\" [check]=\"model.validate\" [settings]=\"model.form_settings\" (event)=\"event($event)\"></booking-form>\n    </div>\n    <div class=\"footer\">\n        <btn name=\"full-width\" (tapped)=\"cancel()\">Cancel</btn>\n        <btn name=\"full-width normal\" type=\"submit\" (tapped)=\"!model.booking ? book() : ''\">\n            <div class=\"text\" *ngIf=\"!model.booking\">{{model.form.room?.book_type || 'Book'}}</div>\n            <div class=\"icon\" *ngIf=\"model.booking\">\n                <spinner type=\"circle-ring\" color=\"#fff\"></spinner>\n            </div>\n        </btn>\n    </div>\n</div>","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component, OnInit } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'booking-modal',\n    templateUrl: './booking-modal.template.html',\n    styleUrls: ['./booking-modal.styles.scss'],\n})\nexport class BookingModalComponent extends OverlayContentComponent implements OnInit {\n    public model: any = {};\n\n    public close() {\n        setTimeout(() => this.fn.close(), 300);\n    }\n\n    public ngOnInit() {\n        this.model.form_settings = { recurrence: false, hide_errors: false, edit: true };\n        this.model.error = {};\n        this.model.form_checked = false;\n        if (!this.model.form) {\n            this.model.form = {};\n        }\n        this.initBld();\n    }\n\n    public init() {\n        const user = this.service.Users.current();\n        if (!this.service.Settings.setup || !user) {\n            setTimeout(() => this.init(), 500);\n        }\n        if (this.model.room) {\n            this.model.form = { room: this.model.room };\n        }\n        if (this.model.form.room && this.model.form.room.current) {\n            const bkn = this.model.form.room.current;\n            this.model.form.date = moment(bkn.start).add(bkn.duration, 'm').valueOf();\n        }\n        if (!this.model.form.date) {\n            const now = moment();\n            now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n            this.model.form.date = now.valueOf();\n        } else {\n            const date = moment(this.model.form.date);\n            if (date.isBefore(moment(), 'm')) {\n                const now = moment();\n                now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n                this.model.form.date = now.valueOf();\n            }\n        }\n        if (!this.model.form.duration) {\n            this.model.form.duration = 60;\n        }\n        this.model.error = {};\n        this.model.min_attendees = this.service.Settings.get('app.booking.min_attendees');\n        this.model.settings = this.service.Settings.get('app.booking');\n        this.model.user = user;\n    }\n\n    public initBld() {\n        this.model.bld = this.service.Buildings.current();\n        if (!this.model.bld) {\n            return setTimeout(() => this.initBld(), 500);\n        }\n    }\n\n    public manageAttendees() {\n        this.service.Overlay.openModal('attendees', { data: { attendees: this.model.form.attendees } })\n            .then((inst: any) => inst.subscribe((event: any) => {\n                if (event.type === 'Change') {\n                    this.model.form.attendees = event.data.form.attendees || [];\n                    this.model.form = JSON.parse(JSON.stringify(this.model.form));\n                }\n                event.close();\n            }));\n    }\n\n    public selectSpace() {\n        this.service.Overlay.openModal('select-room', { data: { room: this.model.form.room } })\n            .then((inst: any) => inst.subscribe((event: any) => {\n                if (event.type === 'Select') {\n                    this.model.form.room = event.data.selected || this.model.form.room;\n                    this.model.form.room = {\n                        id: this.model.form.room.id,\n                        name: this.model.form.room.name,\n                        capacity: this.model.form.room.capacity\n                    };\n                    this.model.form = JSON.parse(JSON.stringify(this.model.form));\n                }\n                event.close();\n            }));\n    }\n\n    public event(e) {\n        if (e === 'Attendees') {\n            if (this.model.form.attendees) {\n                for (const item of this.model.form.attendees) {\n                    item.select = true;\n                }\n            }\n            this.manageAttendees();\n        } else if (e === 'Space') {\n            this.selectSpace();\n        }\n    }\n\n    public book() {\n        this.model.booking = true;\n        this.model.form_checked = true;\n        this.model.validate = !this.model.validate;\n        setTimeout(() => {\n            if (this.model.valid) {\n                this.service.Rooms.isAvailable(this.model.form.room.id, this.model.form.date, this.model.form.duration)\n                    .then(() => {\n                        this.model.booking = false;\n                        if (this.model.settings.title_prefix) {\n                            this.model.form.title = this.model.settings.title_prefix + this.model.form.title;\n                        }\n                        this.model.processing = true;\n                        this.service.Bookings.book(this.model.form).then(() => {\n                            this.fn.close();\n                            this.service.navigate(`book/results`);\n                            this.model.processing = false;\n                        }, () => {\n                            if (this.model.settings && this.model.settings.title_prefix) {\n                                this.model.form.title = this.model.form.title.replace(this.model.settings.title_prefix, '');\n                            }\n                            this.service.error('An error occurred while making your booking');\n                            this.model.processing = false;\n                        });\n                    }, () => {\n                        this.model.booking = false;\n                        const start = moment(this.model.form.date);\n                        const date = start.format('MMM Do, YYYY');\n                        const end = moment(start).add(this.model.form.duration, 'm');\n                        this.model.error.room = {\n                            message: `The selected space is not free from ${start.format('h:mma')} to ${end.format('h:mma')} on ${date}`\n                        };\n                        this.model.error = JSON.parse(JSON.stringify(this.model.error));\n                    });\n            } else {\n                this.model.booking = false;\n            }\n        }, 100);\n    }\n\n    public toggleBlock(name: string) {\n        if (!this.model.show) {\n            this.model.show = {};\n        }\n        this.model.show[name] = !this.model.show[name];\n    }\n\n    public clearStore() {\n        if (localStorage) {\n            localStorage.removeItem('STAFF.booking_form');\n        }\n    }\n\n    public storeForm() {\n        if (localStorage) {\n            localStorage.setItem('STAFF.booking_form', JSON.stringify(this.model.form));\n        }\n    }\n\n    public loadForm() {\n        if (localStorage) {\n           this.model.form = JSON.parse(localStorage.getItem('STAFF.booking_form') || '{}');\n        }\n    }\n\n    public cancel() {\n        this.clearStore();\n        this.fn.event('Cancel');\n    }\n}\n","<div class=\"container\">\n    <div class=\"body\">\n        <calendar name=\"modal\" [(date)]=\"model.form.date\" [options]=\"{ limit: this.model.limit || 6, past: false }\" ></calendar>\n    </div>\n    <div class=\"footer\">\n        <btn name=\"full-width\" (tapped)=\"event('Cancel')\">Cancel</btn>\n        <btn name=\"full-width normal\" (tapped)=\"event('Accept')\">Ok</btn>\n    </div>\n</div>","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'calendar-modal',\n    templateUrl: './calendar-modal.template.html',\n    styleUrls: ['./calendar-modal.styles.scss'],\n})\nexport class CalendarModalComponent extends OverlayContentComponent {\n    public model: any = { form: {} };\n\n    public init() {\n        if (!this.service || !this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 300);\n        }\n        this.model.form = {};\n        this.model.limit = this.service.Settings.get('app.booking.limit') || 6;\n        this.model.form.date = this.model.date || moment().valueOf();\n    }\n\n    public close() {\n        setTimeout(() => this.fn.close(), 300);\n    }\n\n    public event(name: string) {\n        setTimeout(() => this.fn.event(name), 300);\n    }\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"heading\">{{model.show_order ? 'Confirm order' : 'Catering Service'}}</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\">\n        <div class=\"item-list\" *ngIf=\"!model.show_order\">\n            <div #tablist class=\"tabs\">\n                <div #tab class=\"tab\" [class.active]=\"!model.category\" (tap)=\"setCategory('')\">\n                    All ({{model.count }})\n                </div>\n                <div #tab class=\"tab\" *ngFor=\"let cat of model.category_list\" [class.active]=\"model.list[cat] === model.category\" (tap)=\"setCategory(cat)\">\n                    {{cat}}\n                </div>\n                <div class=\"bar\" [style.left]=\"model.tab?.left + 'px'\" [style.width]=\"model.tab?.width + 'px'\">\n                </div>\n            </div>\n            <div class=\"list\">\n                <div class=\"item\" *ngFor=\"let item of filtered_items\">\n                    <div class=\"name\">{{item.name}}</div>\n                    <div class=\"price\" *ngIf=\"item.price\">{{((item.price / 100) || 0 )| currency}} each</div>\n                    <div class=\"amount\">\n                        <div class=\"counter\" (keyup.arrowleft)=\"add(item, -1)\" (keyup.arrrowright)=\"add(item, 1)\">\n                            <div class=\"btn\" [class.disabled]=\"!item.quantity || item.quantity <= 0\" (tap)=\"add(item, -1)\">\n                                <i class=\"material-icons\">remove</i>\n                            </div>\n                            <div class=\"count\">{{item.quantity || '0'}}</div>\n                            <div class=\"btn\" [class.disabled]=\"item.quantity >= 20\" (tap)=\"add(item, 1)\">\n                                <i class=\"material-icons\">add</i>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"price\" *ngIf=\"item.price\">{{(((item.price /100) * (item.quantity || 0)) || 0) | currency}}</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"order-list\" *ngIf=\"model.show_order\">\n            <div class=\"table-head\">\n                <div class=\"col\">Item</div>\n                <div class=\"col fixed\">Cost</div>\n                <div class=\"col quantity\">Quantity</div>\n                <div class=\"col fixed\">Total</div>\n            </div>\n            <div class=\"list\" *ngIf=\"model.cart && model.cart.items\">\n                <div class=\"item\" *ngFor=\"let item of model.cart.items\">\n                    <div class=\"name\">{{item.name}}</div>\n                    <div class=\"price\" *ngIf=\"item.price\">{{((item.price / 100) || 0 )| currency}} each</div>\n                    <div class=\"amount\">\n                        <div class=\"counter\">\n                            <div class=\"btn\" [class.disabled]=\"!item.quantity || item.quantity <= 0\" (tap)=\"add(item, -1, true)\">\n                                <i class=\"material-icons\">remove</i>\n                            </div>\n                            <div class=\"count\">{{item.quantity || '0'}}</div>\n                            <div class=\"btn\" [class.disabled]=\"item.quantity >= 20\" (tap)=\"add(item, 1, true)\">\n                                <i class=\"material-icons\">add</i>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"price\" *ngIf=\"item.price\">{{(((item.price /100) * (item.quantity || 0)) || 0) | currency}}</div>\n                    <div class=\"remove\" (tap)=\"removeItem(item)\">\n                        <i center class=\"material-icons\">close</i>\n                    </div>\n                </div>\n                <div class=\"tally\">\n                    <div class=\"name\">Total</div>\n                    <div class=\"count\">{{model.cart.total || '0'}}</div>\n                    <div class=\"price\" *ngIf=\"model.cart.total_price\">{{((model.cart.total_price / 100) || '0') | currency}}</div>\n                </div>\n            </div>\n            <div class=\"dietary\">\n                <div class=\"block-header\" (tap)=\"model.show_diet = !model.show_diet\">\n                    <div class=\"text\">Dietary requirements</div>\n                    <div class=\"icon\" [class.green]=\"model.cart.details && !model.show_diet\">\n                        <i class=\"material-icons\">{{ model.show_diet ? 'close' : (model.cart.details ? 'done' : 'help') }}</i>\n                    </div>\n                </div>\n                <div class=\"block\" [class.show]=\"model.show_diet\">\n                    <textarea [(ngModel)]=\"model.cart.details\" placeholder=\"Add any dietary requirements here\"></textarea>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer\">\n        <btn name=\"full-width\" (tapped)=\"!model.show_order ? fn.event('Cancel') : model.show_order = false\">{{!model.show_order ? 'Cancel' : 'Back'}}</btn>\n        <btn name=\"full-width normal\" type=\"submit\" [disabled]=\"model.item_count <= 0 || model.show_diet\" (tapped)=\"!model.show_order ? showOrder() : order()\">\n            <div class=\"text\" *ngIf=\"!model.booking\">\n                {{ model.show_order ? 'Confirm' : 'Place order' }}\n                <div class=\"item-count\" *ngIf=\"!model.show_order && model.item_count > 0\">\n                    {{model.item_count}}\n                </div>\n            </div>\n            <div class=\"icon\" *ngIf=\"model.booking\">\n                <spinner type=\"circle-ring\" color=\"#fff\"></spinner>\n            </div>\n        </btn>\n    </div>\n</div>","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component, ElementRef, QueryList, ViewChild, ViewChildren } from '@angular/core';\n\nimport { ICateringItem, ICart } from '../../services/data/catering.service';\n\nconst max_order_number_per_item = 10;\n@Component({\n    selector: 'catering-modal',\n    templateUrl: './catering-modal.template.html',\n    styleUrls: ['./catering-modal.styles.scss'],\n})\nexport class CateringModalComponent extends OverlayContentComponent {\n    public filtered_items: ICateringItem[] = [];\n    public ordered_items: ICateringItem[] = [];\n    public model: any = {\n        item_count: {},\n    };\n\n    @ViewChild('tablist') private tabs: ElementRef;\n    @ViewChildren('tab') private tab_list: QueryList<ElementRef>;\n\n    public init() {\n        this.model.item_count = 0;\n        this.ordered_items = [];\n        this.filtered_items = [];\n        if (this.service) {\n            this.model.list = JSON.parse(JSON.stringify(this.service.Catering.list()));\n            this.model.items = [];\n            if (!this.model.cart) {\n                this.model.cart = {} as ICart;\n            }\n            this.model.category_list = [];\n            this.model.count = 0;\n            for (const cat in this.model.list) {\n                if (this.model.list.hasOwnProperty(cat) && this.model.list[cat] && this.model.list[cat].length > 0) {\n                    this.model.category_list.push(cat);\n                    this.model.count += this.model.list[cat].length;\n                    if (this.model.catering && this.model.catering.items) {\n                        for (const itm of this.model.list[cat]) {\n                            for (const item of this.model.catering.items) {\n                                if (itm.id === item.id) {\n                                    itm.quantity = item.quantity;\n                                    this.model.item_count += item.quantity;\n                                }\n                            }\n                        }\n                    }\n                    this.model.items = this.model.items.concat(this.model.list[cat]);\n                }\n            }\n\n            if (this.model.catering) {\n                this.model.cart.details = this.model.catering.details;\n            }\n            setTimeout(() => this.setCategory(''), 500);\n        } else {\n            this.fn.close();\n        }\n    }\n\n    public setCategory(value: string) {\n        this.model.category = this.model.list[value];\n        const tabs = this.tab_list.toArray();\n        const tab = tabs[this.model.category_list.indexOf(value) + 1];\n        if (tab) {\n            const root_rect = this.tabs.nativeElement.getBoundingClientRect();\n            const rect = tab.nativeElement.getBoundingClientRect();\n            this.model.tab = {\n                left: rect.left - root_rect.left,\n                width: rect.width,\n            };\n        }\n        this.filter();\n    }\n\n    public filter() {\n        this.filtered_items = [];\n        if (!this.model.category || this.model.category.length <= 0) {\n            this.filtered_items = this.model.items;\n        } else {\n            this.filtered_items = this.model.category;\n        }\n    }\n\n    public add(item: ICateringItem, amount: number, order: boolean = false) {\n        if (!item.quantity) { item.quantity = 0; }\n        item.quantity += amount;\n        if (item.quantity < 0) {\n            item.quantity = 0;\n        } else if (item.quantity > 20) {\n            item.quantity = 20;\n        } else {\n            this.model.item_count += amount;\n        }\n        if (order) {\n            this.updateOrder();\n        }\n    }\n\n    public removeItem(item: any) {\n        for (const itm of this.model.cart.items) {\n            if (itm.id === item.id) {\n                item.quantity = 0;\n            }\n        }\n        this.updateOrder();\n    }\n\n    public showOrder() {\n        this.model.show_order = true;\n        this.updateOrder();\n    }\n\n    public order() {\n        if (this.model.item_count <= 0) {\n            return;\n        }\n        this.updateOrder();\n        this.model.order = this.ordered_items;\n        this.model.total = this.model.item_count;\n        this.fn.event('Accept');\n    }\n\n    private updateOrder() {\n        this.model.cart.items = [];\n        (this.model.cart as ICart).total = 0;\n        (this.model.cart as ICart).total_price = 0;\n        for (const item of this.model.items) {\n            if (item.quantity > 0) {\n                this.model.cart.items.push(item);\n                this.model.cart.total += item.quantity;\n                this.model.cart.total_price += item.price * item.quantity;\n            }\n        }\n        this.model.item_count = this.model.cart.total;\n        if (this.model.cart.total <= 0) {\n            this.model.show_order = false;\n        }\n    }\n}\n","<div class=\"container\" *ngIf=\"!model.loading && !model.error && !model.success\">\n    <div class=\"body\">\n        <div class=\"icon\">\n            <i center class=\"material-icons\">{{model.icon}}</i>\n        </div>\n        <div class=\"details\">\n            <div class=\"heading\" [innerHTML]=\"model.title | safe\"  *ngIf=\"model.title\" ></div>\n            <div class=\"info\" [innerHTML]=\"model.message | safe\"></div>\n            <div class=\"link\" *ngIf=\"model.link\">\n                <a (mousedown)=\"fn.event('Link')\" (touchstart)=\"fn.event('Link')\">{{model.link.text}}</a>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer\">\n        <btn name=\"full-width\" (tapped)=\"event('Cancel')\">Cancel</btn>\n        <btn name=\"full-width normal\" (tapped)=\"event('Accept')\">Ok</btn>\n    </div>\n</div>\n<div class=\"container\" *ngIf=\"model.loading || model.error || model.success\">\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <i class=\"material-icons\" [class.error]=\"model.error\" *ngIf=\"!model.loading\">{{model.error ? 'close' : 'done'}}</i>\n            <spinner type=\"circle-ring\" *ngIf=\"model.loading\"></spinner>\n        </div>\n        <div class=\"text\">\n            {{model.loading ? 'Processing request...' : (model.error ? 'Request failed' : 'Success')}}\n        </div>\n    </div>\n</div>","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component } from '@angular/core';\n\n@Component({\n    selector: 'confirm-modal',\n    templateUrl: './confirm-modal.template.html',\n    styleUrls: ['./confirm-modal.styles.scss'],\n})\nexport class ConfirmModalComponent extends OverlayContentComponent {\n    public model: any = {};\n\n    public init() {\n        return;\n    }\n\n    public close() {\n        setTimeout(() => this.fn.close(), 300);\n    }\n\n    public event(name: string) {\n        setTimeout(() => this.fn.event(name), 300);\n    }\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Booking period</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\">\n        <calendar name=\"modal disabled\" [(date)]=\"model.form.start\" (dateChange)=\"updateStart()\" [options]=\"{ limit: this.model.limit || 6, past: false }\"></calendar>\n        <div class=\"divider\"></div>\n        <calendar name=\"modal\" [(date)]=\"model.form.end\" (dateChange)=\"updateEnd()\" [today]=\"model.form.start\" [options]=\"{ limit: this.model.limit || 6, past: false }\"></calendar>\n    </div>\n    <div class=\"footer\">\n        <div class=\"text\">From <strong>{{model.start_display}}</strong> to <strong>{{model.end_display}}</strong> ({{model.duration}})</div>\n        <btn name=\"inverse\" (tapped)=\"event('Cancel')\">Cancel</btn>\n        <btn (tapped)=\"event('Accept')\">Ok</btn>\n    </div>\n</div>\n","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'date-period-modal',\n    templateUrl: './date-period-modal.template.html',\n    styleUrls: ['./date-period-modal.styles.scss'],\n})\nexport class DatePeriodModalComponent extends OverlayContentComponent {\n    public model: any = { form: {} };\n\n    public init() {\n        if (!this.service || !this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 300);\n        }\n        this.model.form = {};\n        this.model.form.start = this.model.start || moment().valueOf();\n        this.model.form.end = this.model.end || moment().valueOf();\n        this.model.limit = this.service.Settings.get('app.booking.limit') || 6;\n        this.updateDisplay();\n    }\n\n    public close() {\n        setTimeout(() => this.fn.close(), 300);\n    }\n\n    public event(name: string) {\n        setTimeout(() => this.fn.event(name), 300);\n    }\n\n    public updateStart() {\n        const form = this.model.form;\n        form.end++;\n        if (!form.end || form.end < form.start) {\n            form.end = form.start;\n        }\n        this.updateDisplay();\n    }\n\n    public updateEnd() {\n        const form = this.model.form;\n        if (!form.end || form.end < form.start) {\n            form.end = form.start;\n        }\n        this.updateDisplay();\n    }\n\n    public updateDisplay() {\n        const start = moment(this.model.form.start);\n        const end = moment(this.model.form.end);\n        this.model.start_display = start.format('ddd DD MMMM');\n        this.model.end_display = end.format('ddd DD MMMM YYYY');\n        const duration = Math.floor(moment.duration(end.diff(start)).asDays() + 1);\n        this.model.duration = `${duration} day${duration === 1 ? '' : 's'}`;\n    }\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Device list<span *ngIf=\"model.list\">({{model.list.length || '0'}})</span></div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\">\n        <ng-container *ngIf=\"model.list\">\n            <div class=\"item\" *ngFor=\"let item of model.list; let i = index\" (tap)=\"show(item)\">\n                <div class=\"text\" *ngIf=\"item && item.display && item.display.building\">{{item.display.building}}, {{item.display.level}}</div>\n                <div class=\"text\" *ngIf=\"item && item.name\">{{item.name}}</div>\n            </div>\n        </ng-container>\n        <div class=\"no-item\" center *ngIf=\"!model.list\">\n            <div class=\"icon\"><i class=\"material-icons\">close</i></div>\n            <div class=\"text\">No devices found</div>\n        </div>\n    </div>\n</div>","\nimport { Component, OnDestroy } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\n\n@Component({\n    selector: 'device-list-model',\n    templateUrl: './device-list-modal.template.html',\n    styleUrls: ['./device-list-modal.styles.scss']\n})\nexport class DeviceListModalComponent extends OverlayContentComponent implements OnDestroy {\n\n    public init() {\n        this.model.interval = setInterval(() => this.load(), 5 * 1000);\n        this.load();\n    }\n\n    public ngOnDestroy() {\n        if (this.model.interval) {\n            clearInterval(this.model.interval);\n            this.model.interval = null;\n        }\n    }\n\n    public load() {\n        this.service.Location.query({}).then((list) => {\n            this.model.list = list || [];\n        }, () => null);\n    }\n\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Select {{model.name || 'options'}}</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\">\n        <ng-container *ngIf=\"model.options\">\n            <div class=\"item\" *ngFor=\"let item of model.options; let i = index\" (tap)=\"select(item)\">\n                <div class=\"text\">{{item}}</div>\n                <div class=\"icon\" *ngIf=\"i === model.selected\">\n                    <i class=\"material-icons\">done</i>\n                </div>\n            </div>\n        </ng-container>\n        <div class=\"no-item\" center *ngIf=\"!model.options\">\n            <div class=\"icon\"><i class=\"material-icons\">touch</i></div>\n            <div class=\"text\">No {{model.name || options}} to select</div>\n        </div>\n    </div>\n</div>","\nimport { Component } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\n\n@Component({\n    selector: 'item-select-model',\n    templateUrl: './item-select-modal.template.html',\n    styleUrls: ['./item-select-modal.styles.scss']\n})\nexport class ItemSelectModalComponent extends OverlayContentComponent {\n\n    public init() {\n        if (!this.model.options) {\n            this.model.options = [];\n        }\n    }\n\n    public select(item: any) {\n        this.model.selected = this.model.options.indexOf(item);\n        this.fn.event('Select');\n    }\n\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Select Level</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\">\n        <ng-container *ngIf=\"model.level && model.level.list\">\n            <div class=\"item\" *ngFor=\"let item of model.level.list\" (tap)=\"select(item)\">\n                <div class=\"text\">{{item.name}}</div>\n                <div class=\"icon\" *ngIf=\"item.id === model.active\">\n                    <i class=\"material-icons\">done</i>\n                </div>\n            </div>\n        </ng-container>\n        <div class=\"no-item\" center *ngIf=\"!model.level || !model.level.list || model.level.list.length <= 0\">\n            <div class=\"icon\"><i class=\"material-icons\">layers_clear</i></div>\n            <div class=\"text\">No levels to select</div>\n        </div>\n    </div>\n</div>","\nimport { Component } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { ILevel } from '../../services/data/buildings.service';\n\n@Component({\n    selector: 'level-select-model',\n    templateUrl: './level-select-modal.template.html',\n    styleUrls: ['./level-select-modal.styles.scss']\n})\nexport class LevelSelectModalComponent extends OverlayContentComponent {\n\n    public init() {\n        if (this.service) {\n            this.service.Buildings.listen((bld) => {\n                this.model.level = { list: [] };\n                if (bld && bld.levels) {\n                    this.model.level.list = bld.levels;\n                }\n            });\n        } else {\n            this.fn.close();\n        }\n    }\n\n    public select(lvl: ILevel) {\n        this.model.active = lvl.id;\n        this.fn.event('Select');\n    }\n\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Select Filters</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\" *ngIf=\"model && model.show\">\n        <div class=\"item\">\n            <checkbox name=\"n m\" [(model)]=\"model.show.desks\" (modelChange)=\"updateState()\" label=\"Desks Status\"></checkbox>\n            <!-- <div class=\"text\">Desk Status</div>\n            <div class=\"checkbox\">\n                <toggle name=\"zones\" [(model)]=\"model.show.desks\" (modelChange)=\"updateState()\" type=\"ios\"></toggle>\n            </div> -->\n        </div>\n        <div class=\"item\">\n            <checkbox name=\"n m\" [(model)]=\"model.show.rooms\" (modelChange)=\"updateState()\" label=\"Room Status\"></checkbox>\n            <!-- <div class=\"text\">Room Status</div>\n            <div class=\"checkbox\">\n                <toggle name=\"zones\" [(model)]=\"model.show.rooms\" (modelChange)=\"updateState()\" type=\"ios\"></toggle>\n            </div> -->\n        </div>\n        <div class=\"item\">\n            <checkbox name=\"n m\" [(model)]=\"model.show.teams\" (modelChange)=\"updateState()\" label=\"Team Tables\"></checkbox>\n            <!-- <div class=\"text\">Team Tables</div>\n            <div class=\"checkbox\">\n                <toggle name=\"zones\" [(model)]=\"model.show.teams\" (modelChange)=\"updateState()\" type=\"ios\"></toggle>\n            </div> -->\n        </div>\n        <div class=\"item\">\n            <checkbox name=\"n m\" [(model)]=\"model.show.zones\" (modelChange)=\"updateState()\" label=\"Zones\"></checkbox>\n            <!-- <div class=\"text\">Zones</div>\n            <div class=\"checkbox\">\n                <toggle name=\"zones\" [(model)]=\"model.zones.show\" (modelChange)=\"updateState()\" type=\"ios\"></toggle>\n            </div> -->\n        </div>\n    </div>\n    <div class=\"footer\">\n        <btn name=\"full-width normal\" (tapped)=\"event('Accept')\">Confirm</btn>\n    </div>\n</div>","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'map-filter-modal',\n    templateUrl: './map-filter-modal.template.html',\n    styleUrls: ['./map-filter-modal.styles.scss'],\n})\nexport class MapFilterModalComponent extends OverlayContentComponent {\n    public model: any = {};\n\n    public init() {\n        this.model.show = {};\n        this.service.listen('EXPLORE.show.desks', (state) => {\n            this.model.show.desks = state;\n        });\n        this.service.listen('EXPLORE.show.rooms', (state) => {\n            this.model.show.rooms = state;\n        });\n        this.service.listen('EXPLORE.show.teams', (state) => {\n            this.model.show.teams = state;\n        });\n        this.service.listen('EXPLORE.show.zones', (state) => {\n            this.model.show.zones = state;\n        });\n    }\n\n    public updateState() {\n        this.service.set('EXPLORE.show.desks', this.model.show.desks);\n        this.service.set('EXPLORE.show.rooms', this.model.show.rooms);\n        this.service.set('EXPLORE.show.teams', this.model.show.teams);\n        this.service.set('EXPLORE.show.zones', this.model.show.zones);\n        this.service.set('EXPLORE.filters', !this.service.get('EXPLORE.filters'));\n    }\n\n    public close() {\n        setTimeout(() => this.fn.close(), 300);\n    }\n\n    public event(name: string) {\n        this.fn.event(name);\n    }\n\n}\n","<div class=\"cntnr\" [style.height]=\"model.vh + 'px'\">\n    <div class=\"header\">\n        {{model.edit ? 'Edit Meeting' : 'View Meeting' }}\n    </div>\n    <form #booking_details *ngIf=\"!model.loading\">\n        <div class=\"body\">\n            <div class=\"details\" *ngIf=\"model.booking && !model.edit\">\n                <div class=\"field\">\n                    <div class=\"label\">Title:</div>\n                    <div class=\"value\">{{model.booking.title || 'No title'}}</div>\n                </div>\n                <div class=\"field\">\n                    <div class=\"label\">Space:</div>\n                    <div class=\"value\">{{model.booking.room ? model.booking.room.name || 'No selected space' : 'No selected space'}}</div>\n                    <div class=\"option\" *ngIf=\"model.booking.room && model.booking.room.map_id\"><btn (tapped)=\"locate()\">Map</btn></div>\n                </div>\n                <div class=\"field\" *ngIf=\"model.booking.description\">\n                    <div class=\"label\">Description:</div>\n                    <div class=\"value\">{{model.booking.description || 'No description'}}</div>\n                </div>\n                <div class=\"field organiser\">\n                    <div class=\"label\">Organiser:</div>\n                    <div class=\"value\">\n                        <div class=\"list variable\">\n                            <div class=\"item\">\n                                <div class=\"details\">\n                                    <div class=\"grp\">\n                                        <div class=\"name\">{{model.booking.organiser ? model.booking.organiser.name : 'Not you'}}</div>\n                                        <div class=\"minor\">{{model.booking.organiser && model.booking.organiser.organisation ? model.booking.organiser.organisation.name\n                                            : ''}}</div>\n                                    </div>\n                                    <div class=\"minor\" *ngIf=\"model.booking.organiser && model.booking.organiser.email\">\n                                        {{model.booking.organiser?.email}}\n                                    </div>\n                                </div>\n                                <div class=\"dot\" *ngIf=\"model.user && model.organiser === model.user.email\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"field top\">\n                    <div class=\"label\">Attendees:</div>\n                    <div class=\"value\">\n                        <div class=\"list variable\">\n                            <ng-container *ngIf=\"model.booking.attendees\">\n                                <ng-container  *ngFor=\"let item of model.booking.attendees\">\n                                    <div class=\"item\" *ngIf=\"model.organiser !== item.email\">\n                                        <div class=\"details\">\n                                            <div class=\"grp\">\n                                                <div class=\"name\"><span *ngIf=\"item.prefix\">{{item.prefix}} </span>{{item.name}}</div>\n                                                <div class=\"minor\">{{item.organisation?.name}}</div>\n                                            </div>\n                                            <div class=\"minor\" *ngIf=\"item.email\">{{item.email}}</div>\n                                        </div>\n                                        <div class=\"dot\" *ngIf=\"model.user && model.user.email === item.email\"></div>\n                                    </div>\n                                </ng-container>\n                            </ng-container>\n                            <span *ngIf=\"!model.booking.attendees || model.booking.attendees.length <= 1\">No Attendees</span>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"field\">\n                    <div class=\"label\">Date:</div>\n                    <div class=\"value\">{{model.booking.display?.date}}, {{model.booking.display?.time}}</div>\n                </div>\n                <div class=\"field\" *ngIf=\"model.booking.cost\">\n                    <div class=\"label\">Cost:</div>\n                    <div class=\"value\">{{(model.booking.cost || 0) | currency}}</div>\n                </div>\n            </div>\n            <div class=\"form\" *ngIf=\"!model.booking || model.edit\">\n                <booking-form [(form)]=\"model.form\" [(error)]=\"model.error\" [settings]=\"{ edit: true, recurrence: false }\" [(valid)]=\"model.valid\"\n                    (event)=\"event($event)\"></booking-form>\n            </div>\n        </div>\n        <div class=\"footer\">\n            <btn name=\"black inverse\" (tapped)=\"fn.close()\">Close</btn>\n            <btn name=\"black inverse\" *ngIf=\"model.booking && model.booking.room && model.booking.room.support_url && !model.edit && (!model.settings || model.settings.control !== false)\"\n                [disabled]=\"!model.soon\" (tapped)=\"control()\">\n                Control\n            </btn>\n            <btn name=\"black inverse\" *ngIf=\"model.booking && !model.edit && !model.is_past\" (tapped)=\"edit()\">Edit</btn>\n            <btn name=\"error inverse\" *ngIf=\"model.booking && !model.edit && model.can_cancel\" (tapped)=\"delete()\">\n                {{model.booking && model.booking.is_organiser ? 'Delete' : 'Decline'}}\n            </btn>\n            <btn name=\"inverse\" *ngIf=\"model.booking && model.edit\" [disabled]=\"!model.form || !model.form.room || !model.form.date || !model.valid\"\n                (tapped)=\"!model.is_booking ? update() : ''\">\n                <div class=\"text\" *ngIf=\"!model.is_booking\">Save</div>\n                <div class=\"icon\" *ngIf=\"model.is_booking\">\n                    <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .87)\"></spinner>\n                </div>\n            </btn>\n        </div>\n    </form>\n    <div class=\"no-item\" center *ngIf=\"model.loading\">\n        <div class=\"icon\">\n            <i class=\"material-icons\" *ngIf=\"!model.processing\">done</i>\n            <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .2)\" *ngIf=\"model.processing\"></spinner>\n        </div>\n        <div class=\"text\">\n            <ng-container *ngIf=\"model.processing\">Processing request...</ng-container>\n            <ng-container *ngIf=\"!model.processing && model.edit\">Updated meeting</ng-container>\n            <ng-container *ngIf=\"!model.processing && model.deleting\">\n                Successfully {{model.booking && model.booking.is_organiser ? 'declined' : 'deleted'}} meeting\n            </ng-container>\n            <ng-container *ngIf=\"!model.processing && !model.edit && !model.deleting\">Successfully created meeting</ng-container>\n        </div>\n    </div>\n    <div class=\"close\" *ngIf=\"!model.processing || !model.loading\" (tap)=\"fn.close()\">\n        <i class=\"material-icons\">close</i>\n    </div>\n</div>","\nimport { Component, OnDestroy } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'meeting-details-overlay',\n    templateUrl: './meeting-details-overlay.template.html',\n    styleUrls: ['./meeting-details-overlay.styles.scss']\n})\nexport class MeetingDetailsOverlayComponent extends OverlayContentComponent implements OnDestroy {\n\n    public init() {\n        if (!this.service || !this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.form = {};\n        this.model.group = 0;\n        this.model.settings = this.service.Settings.get('app.booking') || {};\n        this.model.user = this.service.Users.current();\n        if (this.model.booking) {\n            this.checkSoon();\n            if (this.model.booking.organiser){\n                this.model.organiser = typeof this.model.booking.organiser === 'string' ? this.model.booking.organiser : this.model.booking.organiser.email;\n                this.model.is_organiser = this.model.booking.organiser && (this.model.organiser === this.model.user.email);\n            }\n            this.model.check_soon = setInterval(() => this.checkSoon(), 12 * 1000);\n        }\n        this.updateDisplay();\n        this.resize();\n    }\n\n    public ngOnDestroy() {\n        if (this.model.check_soon) {\n            clearInterval(this.model.check_soon);\n            this.model.check_soon = null;\n        }\n    }\n\n\n    /**\n     * Update booking\n     */\n    public update() {\n        if (this.service) {\n            this.model.is_booking = true;\n            this.model.form_checked = true;\n            const booking = this.model.booking;\n            const form = this.model.form;\n            if (booking.date !== form.date || booking.duration !== form.duration) {\n                    // Start and/or end time is different check if room is available at new times\n                this.service.Rooms.isAvailable(form.room.id, form.date, form.duration, booking.icaluid)\n                    .then(\n                        () => this.updateMeeting(),\n                        () => {\n                            this.model.is_booking = false;\n                            const start = moment(form.date);\n                            const date = start.format('MMM Do, YYYY');\n                            const end = moment(start).add(form.duration, 'm');\n                            this.model.error.room = {\n                                message: `The selected space is not free from ${start.format('h:mma')} to ${end.format('h:mma')} on ${date}`\n                            };\n                        });\n            } else {\n                this.updateMeeting();\n            }\n        }\n    }\n\n    public updateMeeting() {\n        this.model.is_booking = false;\n        this.model.loading = true;\n        this.model.processing = true;\n        if (this.model.settings.title_prefix) {\n            this.model.form.title = this.model.settings.title_prefix + this.model.form.title;\n        }\n        let found = false;\n        for (const u of this.model.form.attendees) {\n            if (u.email === this.model.user.email) {\n                found = true;\n                break;\n            }\n        }\n        if (!found) {\n            this.model.form.attendees.unshift(this.model.user);\n        }\n        this.service.Bookings.update(this.model.form, this.model.booking.id).then(() => {\n            this.model.processing = false;\n            this.model.visitor_list = [];\n            setTimeout(() => this.fn.close(), 3000);\n        }, () => this.model.loading = false);\n    }\n\n    public delete() {\n        if (this.service) {\n            this.model.loading = true;\n            this.model.processing = true;\n            this.model.deleting = true;\n            this.service.Bookings.delete(this.model.booking.id).then(() => {\n                this.model.processing = false;\n                this.fn.event('Success');\n                this.model.visitor_list = [];\n                setTimeout(() => this.fn.close(), 3000);\n            }, (err) => {\n                this.model.loading = false;\n                this.model.deleting = false;\n                if (err !== 'User cancelled') { this.service.error(err); }\n            });\n        }\n    }\n\n    public manageAttendees() {\n        this.service.Overlay.openModal('attendees', { data: { attendees: this.model.form.attendees } })\n            .then((inst: any) => inst.subscribe((event: any) => {\n                if (event.type === 'Change') {\n                    this.model.form.attendees = event.data.form.attendees || [];\n                    if (!this.model.error) { this.model.error = {}; }\n                    this.model.error.attendees = null;\n                    this.model.form.room = this.model.form.room;\n                    this.model.form = JSON.parse(JSON.stringify(this.model.form));\n                }\n                event.close();\n            }));\n    }\n\n    public event(e) {\n        if (e === 'Attendees') {\n            if (this.model.form.attendees) {\n                for (const item of this.model.form.attendees) {\n                    item.select = true;\n                }\n            }\n            this.manageAttendees();\n        }\n    }\n\n    public edit() {\n        this.model.edit = true;\n        this.model.form = JSON.parse(JSON.stringify(this.model.booking || {}));\n    }\n\n    public control() {\n        if (this.model.booking && this.model.booking.room && this.model.booking.room.support_url) {\n            window.open(this.model.booking.room.support_url, 'blank_');\n        }\n    }\n\n    public checkSoon() {\n        const now = moment();\n        const start = moment(this.model.booking.date);\n        this.model.is_past = now.isAfter(start);\n        if (this.model.is_past) {\n            this.model.edit = false;\n        }\n        const end = moment(start).add(this.model.booking.duration, 'm');\n        this.model.soon = now.isBetween(start.add(-(this.model.settings.pre_control || 15), 'm'), end, 'm', '[]');\n        const cancel = moment(start).add(-(this.service.Settings.get('app.booking.lock_cancel') || 0), 'm');\n        this.model.can_cancel = now.isBefore(cancel, 'm');\n    }\n\n    public locate() {\n        if (this.model.booking && this.model.booking.room && this.model.booking.room.map_id) {\n            this.service.Overlay.openModal('view-room', { data: {\n                room: this.model.booking.room,\n            }}).then((inst: any) => inst.subscribe((event) => event.close()));\n        }\n    }\n\n    public updateDisplay() {\n        if (!this.model.form) { this.model.form = {}; }\n        if (!this.model.form.date) { this.model.form.date = moment().seconds(0).milliseconds(0).valueOf(); }\n        this.model.display = {};\n        const date = moment(this.model.form.date);\n        this.model.display.date = date.format('dddd, Do MMMM YYYY');\n        this.model.display.time = date.format('h:mm a');\n    }\n\n    public resize() {\n        super.resize();\n        this.model.vh = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    }\n\n}\n","\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { WidgetsModule } from '@acaprojects/ngx-widgets';\nimport { AttendeeModalComponent } from './attendee-modal/attendee-modal.component';\nimport { BookingModalComponent } from './booking-modal/booking-modal.component';\nimport { CalendarModalComponent } from './calendar-modal/calendar-modal.component';\nimport { CateringModalComponent } from './catering-modal/catering-modal.component';\nimport { ConfirmModalComponent } from './confirm-modal/confirm-modal.component';\nimport { ItemSelectModalComponent } from './item-select-modal/item-select-model.component';\nimport { LevelSelectModalComponent } from './level-select-modal/level-select-model.component';\nimport { MapFilterModalComponent } from './map-filter-modal/map-filter-modal.component';\nimport { RoomFilterModalComponent } from './room-filter-modal/room-filter-modal.component';\nimport { TermsOverlayComponent } from './terms-overlay/terms-overlay.component';\nimport { TimePeriodModalComponent } from './time-period-modal/time-period-modal.component';\nimport { ViewRoomModalComponent } from './view-room-modal/view-room-modal.component';\nimport { RoomSelectModalComponent } from './room-select-modal/room-select-modal.component';\nimport { DeviceListModalComponent } from './device-list-modal/device-list-modal.component';\nimport { DatePeriodModalComponent } from './date-period-modal/date-period-modal.component';\n\nimport { MeetingDetailsOverlayComponent } from './meeting-details-overlay/meeting-details-overlay.component';\nimport { VisitorDetailsOverlayComponent } from './visitor-details-overlay/visitor-details-overlay.component';\nimport { UserDetailsOverlayComponent } from './user-details-overlay/user-details-overlay.component';\nimport { AvailabilityOverlayComponent } from './availability-overlay/availability-overlay.component';\n\nimport { SharedComponentModule } from '../shared/components/shared.module';\n\nconst OVERLAYS: any = [\n    AttendeeModalComponent,\n    AvailabilityOverlayComponent,\n    BookingModalComponent,\n    CalendarModalComponent,\n    CateringModalComponent,\n    ConfirmModalComponent,\n    ItemSelectModalComponent,\n    LevelSelectModalComponent,\n    MapFilterModalComponent,\n    MeetingDetailsOverlayComponent,\n    RoomFilterModalComponent,\n    TermsOverlayComponent,\n    TimePeriodModalComponent,\n    UserDetailsOverlayComponent,\n    ViewRoomModalComponent,\n    VisitorDetailsOverlayComponent,\n    RoomSelectModalComponent,\n    DeviceListModalComponent,\n    DatePeriodModalComponent\n];\n\n@NgModule({\n    declarations: [\n        ...OVERLAYS\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        WidgetsModule,\n        SharedComponentModule\n    ],\n    exports: [\n        ...OVERLAYS\n    ],\n    entryComponents: [\n        ...OVERLAYS\n    ]\n})\nexport class OverlayComponentModule { }\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Filter Spaces</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\" *ngIf=\"model\">\n        <div class=\"filter\" *ngIf=\"model.level && model.level.names\">\n            <div class=\"dropdown\">\n                <dropdown name=\"blend\" [list]=\"model.level.names\" [(model)]=\"model.level.index\" (modelChange)=\"event('Update')\"></dropdown>\n            </div>\n        </div>\n        <div class=\"filter\" *ngIf=\"model.capacity && model.capacity.names\">\n            <div class=\"dropdown\">\n                <dropdown name=\"blend\" [list]=\"model.capacity.names\" [(model)]=\"model.capacity.index\" (modelChange)=\"event('Update')\"></dropdown>\n            </div>\n        </div>\n        <div class=\"filter\">\n            <checkbox name=\"n m middle\" [(model)]=\"model.show_all\" label=\"Show rooms in use\" (modelChange)=\"event('Update')\"></checkbox>\n        </div>\n        <div class=\"filter\" *ngIf=\"model.extras && model.extras.length > 0\">\n            <div class=\"block\">\n                <div class=\"bar\"></div>\n                <div class=\"heading\">AV Preferences</div>\n                <div class=\"bar\"></div>\n            </div>\n            <div class=\"list\">\n                <ng-container *ngFor=\"let e of model.extras\">\n                    <checkbox name=\"n m\" [(model)]=\"e.active\" (modelChange)=\"event('Update')\" [label]=\"e.name\"></checkbox>\n                </ng-container>\n            </div>\n        </div>\n    </div>\n    <div class=\"footer\">\n        <btn name=\"full-width normal\" (tapped)=\"event('Close')\">Close</btn>\n    </div>\n</div>","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component, OnInit } from '@angular/core';\n\nimport * as moment from 'moment';\nimport { IBuilding } from '../../services/data/buildings.service';\n\n@Component({\n    selector: 'room-filter-modal',\n    templateUrl: './room-filter-modal.template.html',\n    styleUrls: ['./room-filter-modal.styles.scss'],\n})\nexport class RoomFilterModalComponent extends OverlayContentComponent {\n    public model: any = {};\n\n    public init() {\n\n    }\n\n    public event(name: string) {\n        setTimeout(() => this.fn.event(name), 300);\n    }\n\n    public close() {\n        setTimeout(() => this.fn.close(), 300);\n    }\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Select room</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\">\n        <ng-container *ngIf=\"model.rooms\">\n            <div class=\"item\" *ngFor=\"let item of model.rooms\">\n                <div class=\"details\">\n                    <div class=\"name\">{{item.name}}</div>\n                    <div class=\"level\">{{item.level?.name}}</div>\n                </div>\n                <div class=\"button\">\n                    <btn (tapped)=\"select(item)\">Select</btn>\n                </div>\n            </div>\n        </ng-container>\n    </div>\n</div>","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component, OnInit } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'room-select-modal',\n    templateUrl: './room-select-modal.template.html',\n    styleUrls: ['./room-select-modal.styles.scss'],\n})\nexport class RoomSelectModalComponent extends OverlayContentComponent {\n    public model: any = {};\n\n    public init() {\n        if (!this.service.ready()) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.updateList();\n    }\n\n    public updateList() {\n        const date = moment(this.model.date || null);\n        this.service.Rooms.available({\n            date: date.valueOf(),\n            duration: this.model.duration || 60\n        }).then((list) => {\n            this.model.rooms = list;\n            this.model.rooms.sort((a, b) => a.level.name.localeCompare(b.level.name) || a.name.localeCompare(b.name));\n        });\n    }\n\n    public select(item) {\n        this.model.selected = item;\n        this.event('Select');\n    }\n}\n","<div class=\"cntnr\">\n    <terms-display></terms-display>\n    <div class=\"close\" (tap)=\"fn.close()\">\n        <i class=\"material-icons\">close</i>\n    </div>\n</div>","\nimport { Component } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\n\n@Component({\n    selector: 'terms-overlay',\n    templateUrl: './terms-overlay.template.html',\n    styleUrls: ['./terms-overlay.styles.scss']\n})\nexport class TermsOverlayComponent extends OverlayContentComponent {\n\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">Select {{ model.simple ? 'time' : 'Booking Period' }}</div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\" *ngIf=\"model.form\">\n        <time-picker [(date)]=\"model.form.start\" [manual]=\"true\" [(duration)]=\"model.duration\" [range]=\"!model.simple\"></time-picker>\n    </div>\n    <div class=\"footer\">\n        <btn name=\"full-width normal\" (tapped)=\"event('Accept')\">Ok</btn>\n    </div>\n</div>","import { OverlayContentComponent } from '@acaprojects/ngx-widgets';\nimport { Component } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'time-period-modal',\n    templateUrl: './time-period-modal.template.html',\n    styleUrls: ['./time-period-modal.styles.scss'],\n})\nexport class TimePeriodModalComponent extends OverlayContentComponent {\n    public model: any = {};\n\n    public init() {\n        if (!this.service || !this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 300);\n        }\n        this.model.form = {};\n        this.model.display = {};\n        this.model.focus = {};\n        this.model.min_duration = this.service.Settings.get('app.booking.min_length') || 30;\n        this.model.max_duration = this.service.Settings.get('app.booking.max_length') || 480;\n        if (!this.model.duration) { this.model.duration = 60; }\n        if (!this.model.end) { this.model.simple = true; }\n        const now = moment();\n        now.minutes(Math.ceil(now.minutes() / 5) * 5);\n            // Set start and end times\n        this.model.form.start = this.model.start || now.format('HH:mm');\n        this.model.form.end = this.model.end || now.add(this.model.duration || 60, 'm').format('HH:mm');\n            // Setup duration\n        if (this.model.form.start && this.model.form.end) {\n            const start = moment().hours(this.model.form.start.split(':')[0]).minutes(this.model.form.start.split(':')[1]);\n            const end = moment().hours(this.model.form.end.split(':')[0]).minutes(this.model.form.end.split(':')[1]);\n            this.model.duration = Math.floor(Math.abs(moment.duration(start.diff(end)).asMinutes()));\n        }\n    }\n\n    public close() {\n        setTimeout(() => this.fn.close(), 300);\n    }\n\n    public event(name: string) {\n        const start = moment().hours(this.model.form.start.split(':')[0]).minutes(this.model.form.start.split(':')[1]);\n        start.minutes(Math.ceil(start.minutes() / 5) * 5);\n        this.model.form.start = start.format('HH:mm');\n        const end = moment(start).add(this.model.duration, 'm');\n        this.model.form.end = end.format('HH:mm');\n        this.model.form.duration = Math.floor(Math.abs(moment.duration(start.diff(end)).asMinutes()));\n        setTimeout(() => this.fn.event(name), 300);\n    }\n}\n","<div class=\"cntnr\" [style.height]=\"model.vh + 'px'\">\n    <div class=\"header\">\n        {{model.user ? model.user.name + ' details' : (model.edit ? 'Edit Contact' : 'New Contact') }}\n    </div>\n    <form #user_details *ngIf=\"!model.loading\">\n        <div class=\"body\">\n            <div class=\"details\" *ngIf=\"model.user\">\n                <div class=\"field\">\n                    <div class=\"label\">Name:</div>\n                    <div class=\"value\">{{model.user.name}}</div>\n                </div>\n                <div class=\"field\" *ngIf=\"model.user.organisation\">\n                    <div class=\"label\">Organisation:</div>\n                    <div class=\"value\">{{model.user.organisation?.name}}</div>\n                </div>\n                <div class=\"field\">\n                    <div class=\"label\">Email:</div>\n                    <div class=\"value\">{{model.user.email}}</div>\n                </div>\n                <div class=\"field\">\n                    <div class=\"label\">Mobile:</div>\n                    <div class=\"value\">{{model.user.phone || model.user.mobile}}</div>\n                </div>\n            </div>\n            <div class=\"form\" *ngIf=\"!model.user\">\n                <user-form [(form)]=\"model.form\" [search]=\"false\" [visitors]=\"!model.backend\" [edit]=\"model.edit\"></user-form>\n            </div>\n        </div>\n        <div class=\"footer\">\n            <btn name=\"black inverse\" (tap)=\"fn.close()\">Close</btn>\n            <btn name=\"black inverse\" *ngIf=\"model.user\">Edit</btn>\n            <btn name=\"inverse\" *ngIf=\"!model.user && model.edit\"\n                [disabled]=\"!model.form || (!model.form.email && (!model.form.users || model.form.users.length <= 0))\"\n                (tapped)=\"update()\">\n                Save\n            </btn>\n            <btn name=\"inverse\" *ngIf=\"!model.user && !model.edit\"\n                [disabled]=\"!model.form || (!model.form.email && (!model.form.users || model.form.users.length <= 0))\"\n                (tapped)=\"add(false)\">\n                Add\n            </btn>\n            <btn name=\"inverse\" *ngIf=\"!model.user && !model.edit\"\n                [disabled]=\"!model.form || (!model.form.email && (!model.form.users || model.form.users.length <= 0))\"\n                (tapped)=\"add()\">\n                Add &amp; Finish\n            </btn>\n        </div>\n    </form>\n    <div class=\"no-item\" center *ngIf=\"model.loading\">\n        <div class=\"icon\">\n            <i class=\"material-icons\" *ngIf=\"!model.processing\">done</i>\n            <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .2)\" *ngIf=\"model.processing\"></spinner>\n        </div>\n        <div class=\"text\">\n            {{model.processing ? 'Processing request...' : (model.edit ? 'Updated user' : 'Successfully added user')}}\n        </div>\n    </div>\n    <div class=\"close\" *ngIf=\"!model.processing || !model.loading\" (tap)=\"fn.close()\">\n        <i class=\"material-icons\">close</i>\n    </div>\n</div>","\nimport { Component } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\n\n@Component({\n    selector: 'user-details-overlay',\n    templateUrl: './user-details-overlay.template.html',\n    styleUrls: ['./user-details-overlay.styles.scss']\n})\nexport class UserDetailsOverlayComponent extends OverlayContentComponent {\n\n    public init() {\n        if (!this.model.form) { this.model.form = {}; }\n        if (this.model.search_field) {\n            if ((this.model.search_field || '').indexOf('@') >= 0) {\n                this.model.form.email = this.model.search_field;\n            } else if ((this.model.search_field || '').indexOf(' ') >= 0) {\n                const parts = this.model.search_field.split(' ');\n                this.model.form.first_name = parts[0];\n                this.model.form.last_name = parts[1];\n            } else {\n                this.model.form.first_name = this.model.search_field;\n            }\n            this.model.form = { ...this.model.form };\n        }\n    }\n\n    public add(finish: boolean = true) {\n        if (this.service) {\n            this.model.loading = true;\n            this.model.processing = true;\n            if (!this.model.form.first_name && !this.model.form.last_name) {\n                this.model.form.name = (this.model.form.email || `Guest ${Math.random() * 9999}`).split('@')[0];\n            } else {\n                this.model.form.name = (this.model.form.first_name || '') + ' ' + (this.model.form.last_name || '');\n            }\n            if (this.model.backend) {\n                this.service.Users.add(this.model.form.users ? (this.model.form.users[0] || this.model.form) : this.model.form).then(() => {\n                    this.model.processing = false;\n                    this.fn.event('Success');\n                    if (finish) {\n                        setTimeout(() => this.fn.close(), 3000);\n                    } else {\n                        setTimeout(() => {\n                            this.model.form = {};\n                            this.model.loading = false;\n                        }, 3000);\n                    }\n                }, () => this.model.loading = false);\n            } else {\n                this.model.processing = false;\n                this.fn.event('Success');\n                if (finish) {\n                    setTimeout(() => this.fn.close(), 3000);\n                } else {\n                    setTimeout(() => {\n                        this.model.form = {};\n                        this.model.loading = false;\n                    }, 3000);\n                }\n            }\n        }\n    }\n\n    public update() {\n        if (this.service) {\n            this.model.loading = true;\n            this.model.processing = true;\n            this.model.form.name = (this.model.form.first_name || '') + ' ' + (this.model.form.last_name || '');\n            this.service.Users.update(this.model.form.users ? (this.model.form.users[0] || this.model.form) : this.model.form).then(() => {\n                this.model.processing = false;\n                this.fn.event('Success');\n                setTimeout(() => this.fn.close(), 3000);\n            }, () => this.model.loading = false);\n        }\n    }\n\n    public resize() {\n        super.resize();\n        this.model.vh = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    }\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        <div class=\"text\">\n            <div class=\"name\">{{model.room?.name || 'View Room'}}</div>\n            <div class=\"capacity\" *ngIf=\"model.room && model.room.capacity\">\n                ({{model.room.capacity}} {{ model.room.capacity === 1 ? 'Person' : 'People' }})\n            </div>\n        </div>\n        <div class=\"close\" (tap)=\"fn.close()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n    </div>\n    <div class=\"body\" *ngIf=\"model.room && model.date\">\n        <div class=\"timeline\">\n            <timeline\n                [now]=\"(model.date && model.date === 'Today')\"\n                [start]=\"model.start_time || 7\"\n                [end]=\"model.end_time || 19\"\n                [events]=\"(model.date && model.date === 'Today' ? model.room.today : model.room.timeline ? model.room.timeline[model.date] : []) || []\"\n                [booking]=\"model.booking ? model.booking : null\">\n            </timeline>\n        </div>\n        <div class=\"map\">\n            <map [src]=\"model.level?.map_url\"\n                [poi]=\"model.pins\"\n                [styles]=\"model.style\"\n                [lock]=\"model.lock\"\n                [focus]=\"{ id: 'area-' + model.room.map_id + '-status', zoom: 150 }\">\n            </map>\n            <div class=\"level\">\n                {{model.level?.name}}\n            </div>\n        </div>\n    </div>\n</div>","import { OverlayContentComponent, MapPinComponent } from '@acaprojects/ngx-widgets';\nimport { Component } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'view-room-modal',\n    templateUrl: './view-room-modal.template.html',\n    styleUrls: ['./view-room-modal.styles.scss'],\n})\nexport class ViewRoomModalComponent extends OverlayContentComponent {\n    public model: any = {};\n\n    public init() {\n        if (!this.model.room) {\n            this.fn.close();\n        } else {\n            this.model.lock = true;\n            if (!this.model.date) {\n                this.model.date = 'Today';\n            }\n            this.model.colours = {\n                rooms: this.service.Settings.get('app.colors.rooms') || {}\n            };\n            this.model.pins = [{\n                id: `area-${this.model.room.map_id}-status`,\n                prefix: 'pin',\n                cmp: MapPinComponent,\n                model: {\n                    back: this.model.colours.rooms.pin || '#03A9F4',\n                    text: this.model.room.name\n                }\n            }];\n            this.model.style = { Zones: { display: 'none' } };\n            const bld = this.service.Buildings.current();\n            if (bld) {\n                for (const lvl of bld.levels) {\n                    if (lvl.id === this.model.room.level.id) {\n                        this.model.level = lvl;\n                        break;\n                    }\n                }\n            } else {\n                this.fn.close();\n            }\n        }\n    }\n\n}\n","<div class=\"cntnr\" [style.height]=\"model.vh + 'px'\">\n    <div class=\"form-container\">\n        <visitor-form [visitor]=\"model.visitor\" [canEdit]=\"false\" (close)=\"fn.close()\"></visitor-form>\n    </div>\n    <div class=\"close\" *ngIf=\"!model.processing || !model.loading\" (tap)=\"fn.close()\">\n        <i class=\"material-icons\">close</i>\n    </div>\n</div>","\nimport { Component } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\n\n@Component({\n    selector: 'visitor-details-overlay',\n    templateUrl: './visitor-details-overlay.template.html',\n    styleUrls: ['./visitor-details-overlay.styles.scss']\n})\nexport class VisitorDetailsOverlayComponent extends OverlayContentComponent {\n\n    public init() {\n        this.model.form = {};\n        this.model.group = 0;\n        if (this.model.visitor) {\n            this.model.datetime = this.model.visitor.date || this.model.visitor.time;\n        }\n    }\n\n    public resize() {\n        super.resize();\n        this.model.vh = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    }\n}\n","/**\n * @Author: Alex Sorafumo <alex.sorafumo>\n * @Date:   12/01/2017 2:25 PM\n * @Email:  alex@yuion.net\n * @Filename: app.service.ts\n * @Last modified by:   Alex Sorafumo\n * @Last modified time: 03/02/2017 10:25 AM\n */\n\nimport { Injectable } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { Router } from '@angular/router';\n// import { SwUpdate } from '@angular/service-worker';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { SystemsService, CommsService } from '@acaprojects/ngx-composer';\nimport { OverlayService, NotificationComponent } from '@acaprojects/ngx-widgets';\n\nimport { SettingsService } from './settings.service';\nimport { AnalyticsService } from './data/analytics.service';\nimport { Utils } from '../shared/utility.class';\n\nimport { UsersService } from './data/users.service';\nimport { BuildingsService } from './data/buildings.service';\nimport { CateringService } from './data/catering.service';\nimport { CommentsService } from './data/comments.service';\nimport { RoomsService } from './data/rooms.service';\nimport { BookingsService } from './data/bookings.service';\nimport { VisitorsService } from './data/visitors.service';\nimport { HotkeyService } from './hotkey.sevice';\nimport { LockersService } from './data/lockers.service';\nimport { ContactsService } from './data/contacts.service';\nimport { LocationService } from './data/location.service';\nimport { ZoomService } from './data/zoom.service';\n\n\nimport { ConfirmModalComponent } from '../overlays/confirm-modal/confirm-modal.component';\nimport { TimePeriodModalComponent } from '../overlays/time-period-modal/time-period-modal.component';\nimport { CalendarModalComponent } from '../overlays/calendar-modal/calendar-modal.component';\nimport { BookingModalComponent } from '../overlays/booking-modal/booking-modal.component';\nimport { AttendeeModalComponent } from '../overlays/attendee-modal/attendee-modal.component';\nimport { RoomFilterModalComponent } from '../overlays/room-filter-modal/room-filter-modal.component';\nimport { LevelSelectModalComponent } from '../overlays/level-select-modal/level-select-model.component';\nimport { MapFilterModalComponent } from '../overlays/map-filter-modal/map-filter-modal.component';\nimport { ViewRoomModalComponent } from '../overlays/view-room-modal/view-room-modal.component';\nimport { VisitorDetailsOverlayComponent } from '../overlays/visitor-details-overlay/visitor-details-overlay.component';\nimport { UserDetailsOverlayComponent } from '../overlays/user-details-overlay/user-details-overlay.component';\nimport { MeetingDetailsOverlayComponent } from '../overlays/meeting-details-overlay/meeting-details-overlay.component';\nimport { TermsOverlayComponent } from '../overlays/terms-overlay/terms-overlay.component';\nimport { ItemSelectModalComponent } from '../overlays/item-select-modal/item-select-model.component';\nimport { CateringModalComponent } from '../overlays/catering-modal/catering-modal.component';\nimport { RoomSelectModalComponent } from '../overlays/room-select-modal/room-select-modal.component';\nimport { AvailabilityOverlayComponent } from '../overlays/availability-overlay/availability-overlay.component';\nimport { DeviceListModalComponent } from '../overlays/device-list-modal/device-list-modal.component';\nimport { DatePeriodModalComponent } from '../overlays/date-period-modal/date-period-modal.component';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AppService {\n    private api_base = 'api/staff';\n\n    private subjects: any = {};\n    private observers: any = {};\n\n    private prev_route: string[] = [];\n    private model: any = {};\n    private timers: any = {};\n\n    private dialog: any;\n\n    constructor(private _title: Title,\n        // private version: SwUpdate,\n        private router: Router,\n        private overlay: OverlayService,\n        private analytics: AnalyticsService,\n        private settings: SettingsService,\n        private systems: SystemsService,\n        private hotkeys: HotkeyService,\n        private lockers: LockersService,\n        private buildings: BuildingsService,\n        private bookings: BookingsService,\n        private catering: CateringService,\n        private comments: CommentsService,\n        private rooms: RoomsService,\n        private users: UsersService,\n        private visitors: VisitorsService,\n        private location: LocationService,\n        private contacts: ContactsService,\n        private zoom: ZoomService,\n        private http: CommsService\n    ) {\n        \n            // Set parent service on child services\n        this.buildings.parent = this.bookings.parent = this.rooms.parent = this.comments.parent = this;\n        this.users.parent = this.analytics.parent = this.catering.parent = this.visitors.parent = this;\n        this.lockers.parent = this.contacts.parent = this.location.parent = this;\n        this.zoom.parent = this;\n            // Create subjects\n        this.subjects.system = new BehaviorSubject('');\n        this.observers.system = this.subjects.system.asObservable();\n        this.subjects.systems = new BehaviorSubject<any[]>([]);\n        this.observers.systems = this.subjects.systems.asObservable();\n            // Register modals/overlay components\n        this.overlay.registerService(this);\n        this.overlay.setupModal('attendees', { cmp: AttendeeModalComponent });\n        this.overlay.setupModal('booking-form', { cmp: BookingModalComponent });\n        this.overlay.setupModal('calendar', { cmp: CalendarModalComponent });\n        this.overlay.setupModal('catering', { cmp: CateringModalComponent });\n        this.overlay.setupModal('confirm', { cmp: ConfirmModalComponent });\n        this.overlay.setupModal('room-filter', { cmp: RoomFilterModalComponent });\n        this.overlay.setupModal('time-period', { cmp: TimePeriodModalComponent });\n        this.overlay.setupModal('level-select', { cmp: LevelSelectModalComponent });\n        this.overlay.setupModal('map-filter', { cmp: MapFilterModalComponent });\n        this.overlay.setupModal('view-room', { cmp: ViewRoomModalComponent });\n        this.overlay.setupModal('item-select', { cmp: ItemSelectModalComponent });\n        this.overlay.setupModal('user-details', { cmp: UserDetailsOverlayComponent, name: 'overlay' });\n        this.overlay.setupModal('visitor-details', { cmp: VisitorDetailsOverlayComponent, name: 'overlay' });\n        this.overlay.setupModal('meeting-details', { cmp: MeetingDetailsOverlayComponent, name: 'overlay' });\n        this.overlay.setupModal('terms', { cmp: TermsOverlayComponent, name: 'overlay' });\n        this.overlay.setupModal('availability', { cmp: AvailabilityOverlayComponent, name: 'overlay' });\n        this.overlay.setupModal('select-room', { cmp: RoomSelectModalComponent });\n        this.overlay.setupModal('device-list', { cmp: DeviceListModalComponent });\n        this.overlay.setupModal('date-period', { cmp: DatePeriodModalComponent });\n        this.init();\n    }\n\n    get endpoint() {\n        const host = this.Settings.get('composer.domain');\n        const protocol = this.Settings.get('composer.protocol');\n        const port = ((protocol === 'https:') ? '443' : '80');\n        const url = `${protocol || location.protocol}//${host || location.host}`;\n        const endpoint = `${url}`;\n        return endpoint;\n    }\n\n    get api_endpoint() {\n        return `${this.endpoint}/${this.api_base}`;\n    }\n\n    public init(tries: number = 0) {\n\n        if (!this.settings.setup) {\n            if (tries === 5)  { this.settings.init(); }\n            return setTimeout(() => this.init(), 500);\n        }\n\n        \n\n        // this.version.available.subscribe(event => {\n        //     const current = `current version is ${event.current.hash}`;\n        //     const available = `available version is ${event.available.hash}`;\n        //     this.settings.log('CACHE', `Update available: ${current} ${available}`);\n        //     this.info('Newer version of the app is available', 'Refresh', () => {\n        //         location.reload();\n        //     });\n        // });\n        if (this.settings.get('debug')) { (window as any).application = this; }\n        this.model.title = this.settings.get('app.title') || 'Angular Application';\n        this.initialiseComposer();\n        if (this.users) {\n            const sub = this.users.listen('state', (state) => {\n                if (state === 'available') {\n                    this.loadSystems();\n                    sub.unsubscribe();\n                }\n            });\n        } else {\n            this.loadSystems();\n        }\n        this.analytics.init();\n            // Initialise data services\n        this.buildings.init();\n        this.bookings.init();\n        this.users.init();\n        this.rooms.init();\n        // this.catering.init();\n        // this.visitors.init();\n        this.lockers.init();\n        this.zoom.init();\n        // this.contacts.init();\n        NotificationComponent.timeout(5000);\n        // setTimeout(() => this.overlay.openModal('availability', { data: {} }, (e) => e.close()), 1000);\n        // setInterval(() => this.checkCache(), 5 * 60 * 1000);\n    }\n\n    public ready() {\n        const mock = this.settings.get('mock') ? (window as any).backend : null;\n        const app_ready = this.settings.setup && this.users.current() && this.buildings.current();\n        return app_ready && (!mock || mock.is_loaded);\n    }\n\n    public initialiseComposer(tries: number = 0) {\n        this.settings.log('SYSTEM', 'Initialising Composer...');\n            // Get domain information for configuring composer\n        const host = this.settings.get('composer.domain') || location.hostname;\n        const protocol = this.settings.get('composer.protocol') || location.protocol;\n        const port = (protocol.indexOf('https') >= 0 ? '443' : '80');\n        const url = this.settings.get('composer.use_domain') ? `${protocol}//${host}` : location.origin;\n        const route = this.settings.get('composer.route') || '';\n            // Generate configuration for composer\n        const config: any = {\n            id: 'AcaEngine',\n            scope: 'public',\n            protocol, host, port,\n            oauth_server: `${url}/auth/oauth/authorize`,\n            oauth_tokens: `${url}/auth/token`,\n            redirect_uri: `${location.origin}${route}/oauth-resp.html`,\n            api_endpoint: `${url}/control/`,\n            proactive: true,\n            login_local: this.settings.get('composer.local_login') || (location.search || '').indexOf('prevent_login=true') >= 0 || false,\n            http: true,\n        };\n            // Enable mock/development environment if the settings is defined\n            const mock = this.settings.get('mock');\n            if (mock) {\n                config.mock = true;\n                config.http = false;\n            }\n             \n            let search:any = this.searchToObject();\n    \n            if(!mock){\n                let hasToken = this.checkForExistingToken();\n                console.log('HAS_TOKEN?', hasToken);\n                if(hasToken){\n                    console.log('setting up as normal');\n                    this.systems.setup(config);\n                }else{\n                    console.log('getting token');\n                    console.log('!search.action:', !search.action);\n                    console.log('search:', search);\n                    if (!search.action){\n                                   \n                        if(Office.context.ui.hasOwnProperty('displayDialogAsync')) {\n                            Office.context.ui.displayDialogAsync((location.origin + location.pathname), {height: 60, width: 40},\n                                (asyncResult) => {\n                                    this.dialog = asyncResult.value;\n                                    this.dialog.addEventHandler(Office.EventType.DialogMessageReceived, (arg)=>{\n                                        console.log('message:',arg);\n                                        if(JSON.parse(arg.message).messageType === \"success\"){\n                                            this.dialog.close();\n                                            window.location.reload();\n                                        }\n                                    });\n                                    //legacy listener for OWA where dialog comms is stilted.\n                                    setTimeout(()=>{\n                                        this.listenForTokenUpdate();\n                                    }, 5000);\n                                }\n                            );\n                        }else{                            \n                            this.systems.setup(config);\n                        }  \n                    }else{                    \n                        this.systems.setup(config);\n                    }\n                }\n            }else{\n                this.systems.setup(config);\n            }\n    }\n\n    private searchToObject() {\n        var pairs = window.location.search.substring(1).split(\"&\"),\n            obj = {},\n            pair,\n            i;\n\n        for ( i in pairs ) {\n            if ( pairs[i] === \"\" ) continue;\n\n            pair = pairs[i].split(\"=\");\n            obj[ decodeURIComponent( pair[0] ) ] = decodeURIComponent( pair[1] );\n        }\n\n        return obj;\n    }\n\n    private listenForTokenUpdate(){\n        let hasToken = this.checkForExistingToken();\n        if(hasToken){\n            this.dialog.close();\n            window.location.reload();\n        }else{\n            setTimeout(()=>{\n                this.listenForTokenUpdate();\n            }, 1000);\n        }\n    }\n\n    /**\n     * Listen to changes of given property\n     * @param name Name of the property\n     * @param next Callback for changes to properties value\n     */\n    public listen(name: string, next: (data: any) => void) {\n        if (this.subjects[name]) {\n            return this.observers[name].subscribe(next);\n        } else {\n                // Create new variable to store property's value\n            this.subjects[name] = new BehaviorSubject<any>(this[name] instanceof Function ? null : this[name]);\n            this.observers[name] = this.subjects[name].asObservable();\n                // Create raw getter and setter for property\n            if (!(this[name] instanceof Function)) {\n                Object.defineProperty(this, name, {\n                    get: () => this.get(name),\n                    set: (v: any) => this.set(name, v)\n                });\n            }\n            return this.observers[name].subscribe(next);\n        }\n    }\n\n    /**\n     * Get the current value of the given property\n     * @param name Name of the property\n     */\n    public get(name: string) {\n        return this.subjects[name] ? this.subjects[name].getValue() : null;\n    }\n\n    /**\n     * Set the value of the given property\n     * @param name Name of the property\n     * @param value New value to assign to the property\n     */\n    public set(name: string, value: any) {\n        if (this.subjects[name]) {\n            this.subjects[name].next(value);\n        } else {\n                // Create new variable to store property's value\n            this.subjects[name] = new BehaviorSubject<any>(value);\n            this.observers[name] = this.subjects[name].asObservable();\n                // Create raw getter and setter for property\n            if (!(this[name] instanceof Function)) {\n                Object.defineProperty(this, name, {\n                    get: () => this.get(name),\n                    set: (v: any) => this.set(name, v)\n                });\n            }\n        }\n    }\n\n    get Analytics() { return this.analytics; }\n    get Settings() {\n        this.settings.get = (setting: string) => this.buildings.getSetting(setting) || this.settings.getSetting(setting);\n        return this.settings;\n    }\n    get Overlay() { return this.overlay; }\n    get Systems() { return this.systems; }\n    get Hotkeys() { return this.hotkeys; }\n    get system() { return this.subjects.system.getValue(); }\n    set system(value: string) { this.subjects.system.next(value); }\n        // Getters for data/API services\n    get Buildings() { return this.buildings; }\n    get Bookings() { return this.bookings; }\n    get Catering() { return this.catering; }\n    get Rooms() { return this.rooms; }\n    get Users() { return this.users; }\n    get Visitors() { return this.visitors; }\n    get Lockers() { return this.lockers; }\n    get Contacts() { return this.contacts; }\n    get Location() { return this.location; }\n    get Zoom() { return this.zoom; }\n\n    /**\n     * Set the page title\n     * @param str New value to set the page title\n     */\n    set title(str: string) {\n        if (!this.model.title) {\n            this.model.title = this.settings.get('app.title') || '';\n        }\n        const title = `${str ? str : ''}${this.model.title ? ' | ' + this.model.title : ''}`;\n        this._title.setTitle(title || this.settings.get('app.title'));\n    }\n\n    /**\n     * Get the current page title\n     */\n    get title() {\n        return this._title.getTitle();\n    }\n\n    /**\n     * Open Terms and conditions modal\n     */\n    public viewTerms() {\n        this.overlay.openModal('terms', {})\n            .then((inst: any) => inst.subscribe((e) => e.close()));\n    }\n\n    public logout() {\n        this.users.logout();\n    }\n\n    /**\n     * Wrapper for Angular Router navigate method\n     * @param path Path to navigate\n     * @param query Query parameter to add to the route\n     */\n    public navigate(path: string | string[], query?: any) {\n        let path_list = [];\n        if (path instanceof Array) {\n            path_list = path_list.concat(path);\n        } else {\n            path_list.push(path);\n        }\n        this.prev_route.push(this.router.url);\n        // if (!this.systems.resources.authLoaded) {\n        this.router.navigate(path_list, { queryParams: query });\n        // } else {\n        // this.router.navigate([path]);\n        // }\n    }\n\n    /**\n     * Return to the previous page\n     */\n    public back() {\n        if (this.prev_route.length > 0) {\n            this.navigate(this.prev_route.pop());\n            this.prev_route.pop();\n        } else {\n            this.navigate('');\n        }\n    }\n\n    /**\n     * Log message to the console\n     * @param type Message prefix\n     * @param msg Message to emit\n     * @param args Arguments to attach to log\n     * @param stream Stream to output the message\n     */\n    public log(type: string, msg: string, args?: any, stream: string = 'debug') {\n        this.settings.log(type, msg, args, stream);\n    }\n\n    /**\n     * Open confirm modal\n     * @param options Options to pass to the modal\n     * @param next Callback for events on the modal\n     */\n    public confirm(options: any, next: (event: any) => void) {\n        this.Overlay.openModal('confirm', {\n            data: options,\n        }).then((inst: any) => inst.subscribe(next));\n    }\n\n    /**\n     * Create a new error notification\n     * @param msg Message to display\n     * @param action User action to display\n     * @param event Callback for user action\n     */\n    public error(msg: string, action?: string, event?: () => void) {\n        const message = msg ? msg : `Error`;\n        this.overlay.notify('success', {\n            html: `<div class=\"display-icon error\" style=\"font-size:2.0em\"></div><div class=\"msg\">${message}</div>`,\n            name: 'ntfy error',\n            action\n        });\n    }\n\n    /**\n     * Create a new success notification\n     * @param msg Message to display\n     * @param action User action to display\n     * @param event Callback for user action\n     */\n    public success(msg: string, action?: string, event?: () => void) {\n        const message = msg ? msg : `Success`;\n        this.overlay.notify('success', {\n            html: `<div class=\"display-icon success\" style=\"font-size:2.0em\"></div><div class=\"msg\">${message}</div>`,\n            name: 'ntfy success',\n            action\n        }, event);\n    }\n\n    /**\n     * Create a new informational notification\n     * @param msg Message to display\n     * @param action User action to display\n     * @param event Callback for user action\n     */\n    public info(msg: string, action?: string, event?: () => void) {\n        const message = msg ? msg : `Information`;\n        this.overlay.notify('info', {\n            html: `<div class=\"display-icon info\" style=\"font-size:2.0em\"></div></div><div class=\"msg\">${message}</div>`,\n            name: 'ntfy info',\n            action\n        }, event);\n    }\n\n    get iOS() {\n        return Utils.isMobileSafari();\n    }\n\n    public getSystem(id: string) {\n        const system_list = this.subjects.systems.getValue();\n        if (system_list) {\n            for (const system of system_list) {\n                if (system.id === id) {\n                    return system;\n                }\n            }\n        }\n        return {};\n    }\n\n    private addSystems(list: any[]) {\n        const system_list = this.subjects.systems.getValue().concat(list);\n        system_list.sort((a, b) => a.name.localeCompare(b.name));\n        this.subjects.systems.next(system_list);\n    }\n\n    private loadSystems(tries: number = 0) {\n        if (this.timers.system) {\n            clearTimeout(this.timers.system);\n            this.timers.system = null;\n        }\n        if (tries > 20) { return; }\n        const systems = this.systems.resources.get('System');\n        if (systems) {\n            tries = 0;\n            systems.get({ offset: '0', limit: 500 }).then((sys_list: any) => {\n                this.subjects.systems.next([]);\n                if (sys_list) {\n                    const count = sys_list.total;\n                    if (count > 500) {\n                        const iter = Math.ceil((count - 500) / 500);\n                        for (let i = 0; i < iter; i++) {\n                            systems.get({ offset: (i + 1) * 500, limit: 500 }).then((list: any) => {\n                                if (list) {\n                                    this.addSystems(list.results);\n                                }\n                            });\n                        }\n                    }\n                    this.addSystems(sys_list.results);\n                } else {\n                    this.timers.system = setTimeout(() => this.loadSystems(tries), 200 * ++tries);\n                }\n            }, (err: any) => {\n                this.timers.system = setTimeout(() => this.loadSystems(tries), 200 * ++tries);\n            });\n        } else {\n            this.timers.system = setTimeout(() => this.loadSystems(tries), 200 * ++tries);\n        }\n    }\n\n    public checkForExistingToken(){\n        \n        console.log(\"CHECKING FOR TOKEN\");\n        let keys = Object.keys(localStorage);\n        console.log(keys);\n        let hasToken = false;\n        const path = `${location.origin}${this.Settings.get('composer.route') || ''}/oauth-resp.html`;\n        const client_id = this.http.hash(path);\n\n        for(let key of keys){\n            if(key.indexOf(`${client_id}_access_token`) >= 0){\n                console.log(key, key.indexOf(`${client_id}_access_token`));\n                hasToken = true;\n            }\n        }\n\n        if(hasToken){\n            let expiry = localStorage.getItem(`${client_id}_expires_at`);\n            if(parseInt(expiry) < (new Date).getTime()){\n                hasToken = false;\n            }\n        }\n        \n        return hasToken;\n    }\n\n    \n\n}\n","import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AnalyticsService {\n    public model: any = {};\n    public parent = null;\n\n    private timers: any = {};\n\n    constructor(private router: Router) { }\n\n    public init() {\n        if (!this.parent || !this.parent.ready()) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.settings = this.parent.Settings.get('app.analytics') || {};\n        if (this.model.settings && this.model.settings.enabled) {\n            this.parent.Settings.log('Analytics', `Initialising...`);\n            // (window as any).ga('create', 'UA-119470294-1', 'auto');\n            (window as any).ga('create', this.model.settings.tracking_id, 'auto');\n            (window as any).ga('send', 'pageview');\n            this.updatePage();\n        }\n    }\n    /**\n     * Set User ID for the Google Analytics session\n     * @param id Identifier of the User\n     */\n    public setUser(id: string) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga) {\n            this.timeout(`user|${id}`, () => {\n                this.parent.Settings.log('Analytics', `Set user ID: ${id}`);\n                (window as any).ga('set', 'userId', id);\n                this.event('authentication', 'user-id available');\n            }, 100);\n        }\n    }\n\n    /**\n     * Post event to Google Analytics API\n     * @param category Event Category\n     * @param action Event Action\n     * @param label Event Label\n     * @param value Event Value\n     */\n    public event(category: string, action: string, label?: string, value?: string) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga) {\n            this.timeout(`event|${category}|${action}|${label}|${value}`, () => {\n                const l = label ? ', ' + label : '';\n                this.parent.Settings.log('Analytics', `Event: ${category}, ${action}${l}${value ? ', ' + value : ''}`);\n                (window as any).ga('send', 'event', category, action, label, value);\n            }, 100);\n        }\n    }\n\n    public screen(name: string, app_name?: string) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga && name) {\n            this.timeout(`event|${name}|${app_name || this.parent.Settings.appName}`, () => {\n                this.parent.Settings.log('Analytics', `Screen: ${name}${app_name ? ', ' + app_name : ''}`);\n                (window as any).ga('send', 'screenview', {\n                    appName: app_name || this.parent.Settings.appName,\n                    screenName: name\n                });\n            }, 100);\n        }\n    }\n\n    public page(route: string, origin: boolean = false) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga) {\n            this.model.page = route || '/';\n            this.timeout(`page|${route}`, () => {\n                this.parent.Settings.log('Analytics', `Page: ${route}`);\n                (window as any).ga('send', 'pageview', `${origin ? location.origin : ''}${route}`);\n            }, 100);\n        }\n    }\n\n    public timing(category: string, variable: string, value: string, label?: string) {\n        if (this.model.settings && this.model.settings.enabled && (window as any).ga) {\n            this.timeout(`page|${category}|${variable}|${value}|${label}`, () => {\n                this.parent.Settings.log('Analytics', `Timing: ${category}, ${variable}, ${value}${label ? ', ' + label : ''}`);\n                (window as any).ga('send', 'timing', category, variable, value, label);\n            }, 100);\n        }\n    }\n\n    /**\n     * Creates a timeout for the given name and clears a old one if it exists\n     * @param name Name of timer\n     * @param fn Timer callback\n     * @param delay Timer delay\n     */\n    private timeout(name: string, fn: () => void, delay: number = 300) {\n        if (this.timers[name]) {\n            clearTimeout(this.timers[name]);\n            this.timers[name] = null;\n        }\n        this.timers[name] = setTimeout(() => {\n            if (fn instanceof Function) { fn(); }\n            this.timers[name] = null;\n        }, delay);\n    }\n\n    /**\n     * Post page and screen for the current view of the application\n     * @param tries Retry count. DON'T USE\n     */\n    public updatePage(tries: number = 0) {\n        if (tries > 10) { return; }\n        if (!this.model.settings || !this.model.settings.enabled || !(window as any).ga) {\n            return setTimeout(() => this.updatePage(), 200 * ++tries);\n        }\n        this.timeout('update-page', () => {\n            const page = this.router.url.split('?')[0];\n            if (this.model.page !== page) {\n                const title = (this.parent.title || '').split(' | ')[0];\n                this.screen(title);\n                this.page(page);\n            }\n        }, 50);\n    }\n}\n","\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { Utils } from '../../shared/utility.class';\n\nimport * as moment from 'moment';\n\nconst FORBIDDEN: string[] = ['model', 'observers', 'subjects'];\n\nexport class BaseService {\n    public parent: any = null;\n    protected model: any = {};\n    protected subjects: any = {};\n    protected observers: any = {};\n    protected promises: any = {};\n    protected subs: any = {\n        timers: {},     // Store for timers\n        intervals: {},  // Store for intervals\n        obs: {}         // Store for observables\n    };\n\n    protected http: CommsService;\n\n    constructor() {\n        this.set('map', {});\n        this.set('list', []);\n    }\n\n    public init() {\n        if (!this.parent || !this.parent.Settings.setup || (this.parent.Settings.get('mock') && !(window as any).backend.is_loaded)) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.load();\n    }\n\n    protected load() { }\n\n    get endpoint() {\n        return this.parent ? `${this.parent.api_endpoint}${this.model.route}` : `/control/api${this.model.route}`;\n    }\n\n    public list() {\n        return this.get('list') || [];\n    }\n\n    public filter(filter: string, fields: string[] = ['id', 'name'], items: any[] = this.list()) {\n        return Utils.filter(filter, items, fields);\n    }\n\n    public clearList() {\n        this.set('list', []);\n    }\n\n    /**\n     * Listen to changes of given property\n     * @param name Name of the property\n     * @param next Callback for changes to properties value\n     */\n    public listen(name: string, next: (data: any) => void) {\n        if (this.subjects[name]) {\n            return this.observers[name].subscribe(next);\n        } else {\n            // Create new variable to store property's value\n            this.subjects[name] = new BehaviorSubject<any>(this[name] instanceof Function ? null : this[name]);\n            this.observers[name] = this.subjects[name].asObservable();\n            // Create raw getter and setter for property\n            if (!(this[name] instanceof Function)) {\n                Object.defineProperty(this, name, {\n                    get: () => this.get(name),\n                    set: (v: any) => this.set(name, v)\n                });\n            }\n            return this.observers[name].subscribe(next);\n        }\n    }\n\n    /**\n     * Get the current value of the given property\n     * @param name Name of the property\n     */\n    public get(name: string) {\n        return this.subjects[name] ? this.subjects[name].getValue() : null;\n    }\n\n    /**\n     * Get item from list with the specific ID\n     * @param id ID to search for\n     */\n    public item(id: string) {\n        if (!id) { return null; }\n        const list = this.get('list') || [];\n        for (const item of list) {\n            if (item.id === id || item.name === id || (item.email && (item.email || '').toLowerCase() === id.toLowerCase())) {\n                return item;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Get observable for property\n     * @param name Name of the property. Possible values bookings, new_booking, and update_booking\n     */\n    public observer(name: string) {\n        return this.subjects[name] ? this.observers[name] : null;\n    }\n\n    /**\n     * Get item listing\n     * @param fields Key, value pairs for query parameters\n     * @param tries Retry value. DON'T USE\n     */\n    public query(fields?: any) {\n        const query = Utils.generateQueryString(fields);\n        let update = true;\n        if (fields && !fields.update) {\n            for (const f in fields) {\n                if (fields.hasOwnProperty(f) && f !== 'offset' && f !== 'limit') {\n                    update = false;\n                    break;\n                }\n            }\n        }\n        const key = `query|${query}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}${query ? '?' + query : ''}`;\n                this.http.get(url).subscribe(\n                    (resp: any) => {\n                        const item_list = this.processList(resp.results ? resp.results || resp : resp);\n                        if (update) { this.updateList(item_list); }\n                        resolve(item_list);\n                        setTimeout(() => this.promises[key] = null, 5 * 1000);\n                    }, (err) => {\n                        this.promises[key] = null;\n                        reject(err);\n                    });\n            });\n        }\n        return this.promises[key];\n    }\n    /**\n     * Get item with the given ID\n     * @param id ID to get the data for\n     * @param fields Key, value pairs for query parameters\n     */\n    public show(id: string, fields?: any) {\n        const key = `show|${id}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const control = fields && fields.control;\n                if (control) { delete fields.control; }\n                const query = Utils.generateQueryString(fields) || (fields ? 'complete=true' : '');\n                const url = `${control ? ('/control/api' + this.model.route) : this.endpoint}/${id}${query ? '?' + query : ''}`;\n                this.http.get(url).subscribe(\n                    (resp: any) => {\n                        const item = this.processItem(resp);\n                        resolve(item);\n                        setTimeout(() => this.promises[key] = null, 15 * 1000);\n                    }, (err) => {\n                        this.promises[key] = null;\n                        reject(err);\n                    });\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Add new item with the given parameters\n     * @param data\n     */\n    public add(data: any) {\n        const key = `add|${data.id || moment().seconds(0).unix()}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const formatted_data = this.format(data);\n                const url = `${this.endpoint}`;\n                this.http.post(url, formatted_data).subscribe(\n                    (resp: any) => {\n                        const item = this.processItem(resp);\n                        resolve(item);\n                        this.parent.Analytics.event((this.model.name || '').toUpperCase(), `created_${this.model.name}`);\n                        const list = this.get('list') || [];\n                        list.push(item);\n                        this.updateList(list);\n                        setTimeout(() => this.promises[key] = null, 2 * 1000);\n                    }, (err) => {\n                        this.parent.Analytics.event((this.model.name || '').toUpperCase(), `create_${this.model.name}_fail`);\n                        this.promises[key] = null;\n                        reject(err);\n                    });\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Alias for add method\n     * @param data\n     */\n    public new(data: any) {\n        return this.add(data);\n    }\n\n    /**\n     * Update item with given ID\n     * @param id ID of the item\n     * @param data New values to replace on the old item\n     */\n    public update(id: string, data: any, link?: any) {\n        return new Promise((resolve, reject) => {\n            if (!id) { return reject('Invalid ID given'); }\n            data.link = link;\n            this.parent.confirm(this.confirmSettings('update', data), (event) => {\n                if (event.type === 'Accept') {\n                    this.updateItem(id, data).then((d) => resolve(d), (e) => reject(e));\n                } else {\n                    event.close();\n                    reject('User cancelled');\n                }\n            });\n        });\n    }\n\n    /**\n     * Request to the server to update the given item\n     * @param id ID of the item to update\n     * @param data Data to replace on the server's copy\n     */\n    public updateItem(id: string, data: any) {\n        if (!id) { return new Promise((rs, rj) => rj('Invalid ID given')); }\n        const key = `update|${id || moment().seconds(0).unix()}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const formatted_data = this.format(data);\n                const url = `${this.endpoint}/${id}`;\n                this.http.put(url, formatted_data).subscribe(\n                    (resp: any) => {\n                        const item = this.processItem(resp);\n                            // Update item data\n                        this.updateList([item]);\n                        resolve(item);\n                        this.parent.Analytics.event((this.model.name || '').toUpperCase(), `updated_${this.model.name}`);\n                        setTimeout(() => this.promises[key] = null, 2 * 1000);\n                    }, (err) => {\n                        this.promises[key] = null;\n                        this.parent.Analytics.event((this.model.name || '').toUpperCase(), `update_${this.model.name}_fail`);\n                        reject(err);\n                    });\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Execute task on the the given item\n     * @param id Item ID\n     * @param task Name of the task to execute\n     */\n    public task(id: string, task: string, fields?: any) {\n        const key = `task|${id}|${task}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}/${id}/${task}`;\n                const body: any = {\n                    id,\n                    _task: task\n                };\n                if (fields) {\n                    for (const k in fields) {\n                        if (fields.hasOwnProperty(k)) {\n                            body[k] = fields[k];\n                        }\n                    }\n                }\n                this.http.post(url, body).subscribe(\n                    (resp: any) => {\n                        resolve(resp || {});\n                        setTimeout(() => this.promises[key] = null, 200);\n                    }, (err) => {\n                        this.promises[key] = null;\n                        reject(err instanceof Array ? err[0] : err);\n                    });\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Remove item with the given ID\n     * @param id ID of the item\n     */\n    public remove(id: string, fields?: any) {\n        return new Promise((resolve, reject) => {\n            if (!id) { return reject('Invalid ID given'); }\n            const item = this.item(id) || {};\n            item.link = fields ? fields.link : '';\n            this.parent.confirm(this.confirmSettings('delete', item), (event) => {\n                if (event.type === 'Accept') {\n                    this.deleteItem(id, fields).then((d) => resolve(d), (e) => reject(e));\n                } else {\n                    reject('User cancelled');\n                }\n                event.close();\n            });\n        });\n    }\n\n    /**\n     * Alias for the remove method\n     * @param id\n     */\n    public delete(id: string, fields?: any) {\n        return this.remove(id, fields);\n    }\n\n    /**\n     * Request to delete item on the server\n     * @param id ID of the item to delete\n     */\n    protected deleteItem(id: string, fields?: any) {\n        const query = Utils.generateQueryString(fields);\n        const key = `delete|${id || moment().seconds(0).unix()}|${query}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}/${id}${query ? '?' + query : ''}`;\n                this.http.delete(url).subscribe(\n                    (resp: any) => {\n                        this.removeFromList([{ id }]);\n                        resolve();\n                        this.parent.Analytics.event((this.model.name || '').toUpperCase(), `removed_${this.model.name}`);\n                        setTimeout(() => this.promises[key] = null, 2 * 1000);\n                    }, (err) => {\n                        this.promises[key] = null;\n                        this.parent.Analytics.event((this.model.name || '').toUpperCase(), `remove_${this.model.name}_fail`);\n                        reject(err);\n                    });\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Adds new items and updates existing items in the item list store\n     * @param input_list List of new/updated items\n     */\n    protected updateList(input_list: any[], clear: boolean = false) {\n        // Get current list\n        const item_list = clear ? [] : this.list() || [];\n        // Add any new items to the list\n        for (const input of (input_list || [])) {\n            let found = false;\n            for (const item of item_list) {\n                if (item.id === input.id || (input.email && item.email === input.email)) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                item_list.push(input);\n            }\n        }\n        // Sort list\n        item_list.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n        // Store changes to the list\n        this.updateHashMap(item_list);\n        this.set('list', item_list);\n    }\n\n    /**\n     * Remove given items from the item list store\n     * @param list list of items to remove\n     */\n    protected removeFromList(list: any[]) {\n        const item_list = this.list() || [];\n        for (const item of list) {\n            for (const i of item_list) {\n                if (i.id === item.id) {\n                    item_list.splice(item_list.indexOf(i), 1);\n                    break;\n                }\n            }\n        }\n        this.set('list', item_list);\n    }\n\n    /**\n     * Update random access list of items\n     * @param list List of items. Each item requires an id parameter\n     */\n    protected updateHashMap(list: any[]) {\n        const map: any = {};\n        for (const item of list) {\n            map[item.id] = item;\n        }\n        this.set('map', map);\n    }\n\n    /**\n     * Process array of items from the server\n     * @param input_list Array of items\n     */\n    protected processList(input_list: any[]) {\n        const output_list: any[] = [];\n        for (const key in (input_list || [])) {\n            if (input_list.hasOwnProperty(key) && input_list[key]) {\n                const out = this.processItem(input_list[key], key);\n                if (out) { output_list.push(out); }\n            }\n        }\n        output_list.sort((a, b) => (a.name || a.id || '').localeCompare(b.name || b.id || ''));\n        return output_list;\n    }\n\n    /**\n     * Post processing for server data to be used locally\n     * @param data Data to format\n     */\n    protected processItem(raw_item: any, id?: string) {\n        return raw_item;\n    }\n\n    /**\n     * Pre-processing for local data to be sent to the server\n     * @param data Data to format\n     */\n    protected format(data: any) {\n        const formatted_data = data;\n        return formatted_data;\n    }\n\n    /**\n     * Set the value of the given property\n     * @param name Name of the property\n     * @param value New value to assign to the property\n     */\n    protected set(name: string, value: any) {\n        if (this.subjects[name]) {\n            this.subjects[name].next(value);\n        } else {\n            // Create new variable to store property's value\n            this.subjects[name] = new BehaviorSubject<any>(value);\n            this.observers[name] = this.subjects[name].asObservable();\n            // Create raw getter and setter for property\n            if (!(this[name] instanceof Function)) {\n                Object.defineProperty(this, name, {\n                    get: () => this.get(name),\n                    set: (v: any) => this.set(name, v)\n                });\n            }\n        }\n    }\n\n    /**\n     * Generate settings for confirm modal\n     * @param key\n     * @param fields\n     */\n    protected confirmSettings(key: string, fields: any = {}) {\n        const settings: any = {\n            title: '',\n            message: '',\n            icon: '',\n            link: fields.link,\n            accept: 'Ok',\n            cancel: true\n        };\n        switch (key) {\n            case 'delete':\n                settings.title = `Delete ${this.model.name}`;\n                settings.message = `Are you sure you wish to delete ${this.model.name} '${fields.name || fields.title || ''}'?`;\n                settings.icon = 'delete';\n                break;\n            case 'update':\n                settings.title = `Update ${this.model.name}`;\n                settings.message = `Update ${this.model.name} '${fields.name ? fields.name : ''}'?`;\n                settings.icon = 'cloud_upload';\n                break;\n            case 'add':\n                settings.title = `New ${this.model.name}`;\n                settings.message = `Create new ${this.model.name} '${fields.name ? fields.name : ''}'?`;\n                settings.icon = 'add';\n                break;\n        }\n        return settings;\n    }\n\n    /**\n     * Wrapper for setTimeout. Clears timer with same name\n     * @param name Name of the timer\n     * @param fn Callback function\n     * @param delay Timeout delay in milliseconds\n     */\n    public timeout(name: string, fn: () => void, delay: number = 300) {\n        this.clearTimer(name);\n        if (!(fn instanceof Function)) { return; }\n        this.subs.timers[name] = setTimeout(() => fn(), delay);\n    }\n\n    /**\n     * Clears timer with the given name\n     * @param name Name of the timer\n     */\n    public clearTimer(name: string) {\n        if (this.subs.timers[name]) {\n            clearTimeout(this.subs.timers[name]);\n            this.subs.timers[name] = null;\n        }\n    }\n\n    /**\n     * Wrapper for setInterval. Clears interval with same name\n     * @param name Name of the interval\n     * @param fn Callback function\n     * @param delay Timeout delay in milliseconds\n     */\n    public interval(name: string, fn: () => void, delay: number = 300) {\n        this.clearInterval(name);\n        if (!(fn instanceof Function)) { return; }\n        this.subs.intervals[name] = setInterval(() => fn(), delay);\n    }\n\n\n    /**\n     * Clears interval with the given name\n     * @param name Name of the interval\n     */\n    public clearInterval(name: string) {\n        if (this.subs.intervals[name]) {\n            clearInterval(this.subs.intervals[name]);\n            this.subs.intervals[name] = null;\n        }\n    }\n}\n","/*\n * @Author: Alex Sorafumo\n * @Date: 2017-06-05 12:39:28\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-06-19 13:56:07\n */\n\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\n\nimport { IRoom } from './rooms.service';\nimport { IUser } from './users.service';\n\nimport * as moment from 'moment';\nimport { BaseService } from './base.service';\nimport { Utils } from '../../shared/utility.class';\n\nexport interface IBooking {\n    id: string;\n    icaluid?: string;\n    title: string;\n    date: number;\n    start_hours?: number;\n    duration: number;\n    description?: string;\n    organiser?: IUser;\n    is_organiser?: boolean;\n    attendees?: IUser[];\n    room?: IRoom;\n    display?: any;\n    catering?: boolean;\n    visitors?: boolean;\n    cost_code?: string;\n    parking?: boolean;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class BookingsService extends BaseService {\n\n    constructor(protected http: CommsService) {\n        super();\n        this.model.name = 'booking';\n        this.model.route = '/bookings';\n        this.set('timeline', {});\n        this.set('new_booking', { state: 'idle' });\n        this.set('update_booking', { state: 'idle' });\n    }\n    /**\n     * Initialise service\n     */\n    public init() {\n        if (!this.parent || !this.parent.Rooms.list(true) || this.parent.Rooms.list(true).length <= 0 || !this.parent.ready()) {\n            return setTimeout(() => this.init(), 500);\n        }\n        if (this.parent && this.parent.Settings.get('app.schedule.enabled')) {\n            this.load();\n        }\n    }\n\n    protected load(tries: number = 0) {\n        this.query();\n        this.interval('load', () => this.query(), 5 * 60 * 1000);\n    }\n\n    /**\n     * Create overlay with the give booking details displayed\n     * @param item Booking to view\n     */\n    public view(item: IBooking) {\n        if (this.parent) {\n            this.parent.Overlay.openModal('meeting-details', { data: { booking: item } })\n                .then((inst: any) => inst.subscribe((e) => e.close()));\n        }\n    }\n\n    /**\n     * Create modal with a booking form\n     * @param room Room to book\n     */\n    public bookRoom(room: IRoom) {\n        this.parent.Overlay.openModal('booking-form', { data: { room } })\n            .then((inst: any) => inst.subscribe((e) => e.close()));\n    }\n\n    /**\n     * Create confirm modal for booking the specified space with the given parameters\n     * @param item Booking form hash map\n     */\n    public book(item: any) {\n        return new Promise((resolve, reject) => {\n            if (this.get('new_booking').state !== 'idle') { return reject('Another booking is in progress'); }\n            const date = moment(item.date);\n            this.parent.confirm(this.confirmSettings('add', item), (event) => {\n                if (event.type === 'Accept') {\n                    this.subjects.new_booking.next({ state: 'processing' });\n                    this.add(item).then((d) => {\n                        this.set('new_booking', { state: 'success', value: d });\n                        resolve(d);\n                        if (localStorage) {\n                            const booking = localStorage.getItem('STAFF.booking_form');\n                            localStorage.removeItem('STAFF.booking_form');\n                            localStorage.setItem('STAFF.last_booking', booking || JSON.stringify(item));\n                        }\n                        this.timeout(`${moment().unix()}`, () => this.set('new_booking', { state: 'idle' }));\n                    }, (e) => {\n                        this.set('new_booking', { state: 'error', value: e });\n                        this.timeout('new_error', () => this.set('new_booking', { state: 'idle' }));\n                        reject(e);\n                    });\n                } else {\n                    reject('Cancelled by user');\n                }\n                event.close();\n            });\n        });\n    }\n\n    /**\n     * Create confirm modal for updating booking of the specified space with the given parameters\n     * @param item Booking form hash map\n     */\n    public update(item: any, id?: string) {\n        return new Promise((resolve, reject) => {\n            this.parent.confirm(this.confirmSettings('update', item), (event) => {\n                if (event.type === 'Accept') {\n                    this.set('update_booking', { state: 'processing' });\n                    this.updateItem(item.id || id, item)\n                        .then((d) => {\n                            this.set('update_booking', { state: 'success', value: d });\n                            resolve(d);\n                            if (localStorage) {\n                                const booking = localStorage.getItem('STAFF.booking_form');\n                                localStorage.removeItem('STAFF.booking_form');\n                                localStorage.setItem('STAFF.last_booking', booking || JSON.stringify(item));\n                            }\n                            this.parent.Rooms.replaceBooking(item);\n                            this.query();\n                            this.timeout(`${moment().unix()}`, () => this.set('new_booking', { state: 'idle' }));\n                        }, (e) => {\n                            this.set('update_booking', { state: 'error', value: e });\n                            this.timeout('update_error', () => this.set('update_booking', { state: 'idle' }));\n                            reject(e);\n                        });\n                    event.close();\n                } else { reject('Cancelled by user'); }\n                event.close();\n            });\n        });\n    }\n\n    public accept(id: string, fields?: any) {\n        return this.task(id, 'accept', fields);\n    }\n\n    /**\n     * Retrieve booking with the given ID\n     * @param id ID of booking\n     */\n    public getWithID(id: string) {\n        return this.item(id);\n    }\n    /**\n     * Get item with the given ID\n     * @param id ID to get the data for\n     * @param fields Key, value pairs for query parameters\n     */\n    public show(id: string, fields?: any) {\n        const key = `show|${id}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const control = fields && fields.control;\n                if (control) { delete fields.control; }\n                const query = Utils.generateQueryString(fields) || (fields ? 'complete=true' : '');\n                const url = `${control ? ('/control/api' + this.model.route) : this.endpoint}/${id}${query ? '?' + query : ''}`;\n                this.http.get(url).subscribe(\n                    (resp: any) => {\n                        const list = this.processList(resp);\n                        resolve(list);\n                        setTimeout(() => this.promises[key] = null, 15 * 1000);\n                    }, (err) => {\n                        this.promises[key] = null;\n                        reject(err);\n                    });\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Check for conflicts between two lists of bookings\n     * @param list First list to check for conflicts\n     * @param comparison Second list to check for conflicts. Defaults to the users bookings\n     */\n    public checkConflicts(list: IBooking[], comparison?: IBooking[]) {\n        if (!comparison) {\n            comparison = this.get('timeline') || [];\n        }\n        let conflict_count = 0;\n        for (const bkn of list) {\n            const bkn_start = moment(bkn.date);\n            const bkn_end = moment(bkn_start).add(bkn.duration, 'm');\n            for (const cmp of comparison) {\n                const cmp_start = moment(cmp.date);\n                const cmp_end = moment(cmp_start).add(cmp.duration, 'm');\n                if (bkn_start.isBetween(cmp_start, cmp_end, 'm', '[)') || bkn_end.isBetween(cmp_start, cmp_end, 'm', '(]')) {\n                    conflict_count++;\n                    break;\n                }\n            }\n        }\n        return conflict_count;\n    }\n\n    /**\n     * Get the free times between a group of booking\n     * @param list List of bookings\n     */\n    public getFreeSlots(list: IBooking[]) {\n        list.sort((a, b) => a.date - b.date);\n        const block: { start: number, end: number }[] = [];\n        let bkn_start = null;\n        let bkn_end = null;\n        for (const bkn of list) {\n            bkn_start = moment(bkn.date).seconds(0).milliseconds(0);\n            if (!bkn_end) {\n                block.push({ start: -1, end: bkn_start.valueOf() });\n            } else if (bkn_end.isBefore(bkn_start, 'm')) {\n                block.push({ start: bkn_end.valueOf(), end: bkn_start.valueOf() });\n            }\n            bkn_end = moment(bkn_start).add(bkn.duration, 'm');\n        }\n        if (bkn_end) {\n            block.push({ start: bkn_end.valueOf(), end: -1 });\n        }\n        return block;\n    }\n\n    protected processItem(raw_item: any) {\n        const user = this.parent.Users.current();\n        const start = moment(raw_item.start_epoch * 1000 || raw_item.start || raw_item.Start || raw_item.date);\n        const end = moment(raw_item.end_epoch * 1000 || raw_item.end || raw_item.End);\n        const has_end = raw_item.end_epoch * 1000 || raw_item.end || raw_item.End;\n        const duration = moment.duration(start.diff(end));\n        const item: IBooking = {\n            id: raw_item.id,\n            icaluid: raw_item.icaluid,\n            title: raw_item.title || raw_item.Subject || raw_item.subject,\n            date: start.valueOf(),\n            start_hours: start.hours() + start.minutes() / 60,\n            duration: has_end ? Math.abs(duration.asMinutes()) || raw_item.duration : raw_item.duration,\n            description: raw_item.description,\n            attendees: this.parent.Users.processList(raw_item.attendees || []),\n            organiser: raw_item.owner,\n            is_organiser: false,\n            room: { id: raw_item.room_id, name: raw_item.room_name } as IRoom,\n            visitors: raw_item.visitors,\n            display: {\n                date: start.format('DD/MM/YYYY'),\n                time: `${start.format('h:mma')} - ${end.format('h:mma')}`,\n                start: start.format('h:mma'),\n                end: has_end ? end.format('h:mma') : moment(start).add(raw_item.duration, 'm').format('h:mma'),\n                duration: duration.humanize()\n            }\n        };\n\n        Object.defineProperty(item, 'room', {\n            get: () => {\n                const room = raw_item.room_id ? this.parent.Rooms.item(raw_item.room_id) : { id: raw_item.room_id, name: raw_item.room_name } as IRoom;\n                item.display.room = room ? room.name : '';\n                item.display.level = room && room.level ? room.level.name : '';\n                return room;\n            }\n        });\n        // Setup organiser for booking\n        if (raw_item.organiser || raw_item.organizer) {\n            const email = typeof raw_item.organiser === 'string' ? raw_item.organiser : (typeof raw_item.organizer === 'string' ? raw_item.organizer : (raw_item.organiser || raw_item.organizer || {}).email);\n            // Get the organiser's details\n            item.organiser = this.parent.Users.get(email) || raw_item.organiser || raw_item.organizer;\n            // Check if organiser is the current user\n            item.is_organiser = item.organiser && user && (item.organiser.id === user.id || item.organiser.email === user.email || item.organiser === user.email);\n        }\n        // Get room associated with the booking\n        const id = raw_item.locations && raw_item.locations.length > 0 ? raw_item.locations[0].uniqueId : raw_item.room_id;\n        const rm = this.parent.Rooms.item(id);\n        if (rm) {\n            item.display.room = rm.name || raw_item.room_name;\n            item.display.level = rm.level ? rm.level.name : '';\n        }\n        this.createVisitors(item);\n        return item;\n    }\n\n    /**\n     * Create visitor group from booking\n     * @param booking Booking data\n     */\n    private createVisitors(booking: IBooking) {\n        if (booking.visitors) {\n            const visitor_list: any[] = [];\n            for (const person of booking.attendees) {\n                if (person.external) {\n                    visitor_list.push(person);\n                }\n            }\n            const group = {\n                id: booking.id,\n                visitors: visitor_list,\n                date: booking.date,\n                group_name: booking.title,\n                user_id: booking.organiser ? booking.organiser.id || '' : '',\n                user_email: booking.organiser ? booking.organiser.email || booking.organiser : '',\n                room_id: booking.room.id\n            };\n            this.parent.Visitors.updateList([this.parent.Visitors.processItem(group)], false);\n        }\n    }\n\n    protected format(item) {\n        const form = item || {};\n        if (!form.room) { form.room = {}; }\n        const date = moment(form.date);\n        const request: any = {\n            start: date.valueOf(),\n            end: date.add(form.duration, 'm').valueOf(),\n            room_id: form.room.email || form.room.id,\n            title: form.title,\n            description: form.description,\n            attendees: form.attendees,\n            other: form.other,\n            from_room: form.from_room || '',\n            loan_items: form.loan_items || '',\n            private: form.private || false,\n            catering: form.catering || false,\n            cost_code: form.cost_code,\n            parking: form.catering || false\n        };\n        if (item.icaluid) { request.icaluid = item.icaluid; }\n        if (item.organiser) { request.organiser = item.organiser; }\n        return request;\n    }\n\n    protected updateList(list: IBooking[]) {\n        super.updateList(list);\n        const timeline = this.get('timeline') || {};\n        // Add bookings to timeline\n        for (const item of list) {\n            const date = moment(item.date);\n            const day = timeline[date.format('YYYY/MM/DD')] || [];\n            for (const event of day) {\n                if ((item.id && event.id === item.id) || item.date === event.date) {\n                    day.splice(day.indexOf(event), 1);\n                    break;\n                }\n            }\n            day.push(item);\n            timeline[date.format('YYYY/MM/DD')] = day;\n        }\n        // Sort events in the timeline\n        for (const key in timeline) {\n            if (timeline.hasOwnProperty(key)) {\n                timeline[key].sort((a, b) => a.date - b.date);\n            }\n        }\n        this.set('timeline', timeline);\n    }\n\n    public removeFromList(list: any[]) {\n        super.removeFromList(list);\n            // Also remove booking from timeline\n        const timeline = this.get('timeline') || {};\n        for (const item of list) {\n            const date = moment(item.date);\n            const day = timeline[date.format('YYYY/MM/DD')] || [];\n            for (const event of day) {\n                if ((item.id && event.id === item.id) || item.date === event.date) {\n                    day.splice(day.indexOf(event), 1);\n                    break;\n                }\n            }\n        }\n        this.set('timeline', timeline);\n    }\n\n    protected confirmSettings(key: string, fields: any = {}) {\n        const settings = super.confirmSettings(key, fields);\n        const date = moment(fields.date || '');\n        const user = this.parent.Users.current();\n        const room = fields.room ? this.parent.Rooms.item(fields.room.id) : null;\n        const lvl = room ? room.level : null;\n        switch (key) {\n            case 'add':\n                settings.title = `${(room || {}).book_type || (!lvl ? 'Schedule' : 'Book')} ${ lvl ? 'space' : 'meeting'}`;\n                if (lvl) {\n                    settings.message = `${room.book_type || 'Book'} space \"${room.name}\"<br>`;\n                } else {\n                    settings.message = 'Meeting ';\n                }\n                settings.message += `\n                    on the ${date.format('Do of MMMM, YYYY')} at ${date.format('h:mma')}<br>\n                    for ${Utils.humaniseDuration(fields.duration)}\n                `;\n                break;\n            case 'delete':\n                if (user && fields.organiser && user.email !== fields.organiser && user.email !== fields.organiser.email) {\n                    settings.title = `Decline meeting`;\n                    settings.message = `Are you sure you wish to decline attendance to meeting '${fields.name || fields.title || ''}'?`;\n                    settings.icon = 'event_busy';\n                }\n                break;\n            case 'update':\n                settings.message = `Change booking for \"${fields.room ? fields.room.name : fields.room_name}\"<br>\n                                    to the ${date.format('Do of MMMM, YYYY')} at ${date.format('h:mma')}<br>\n                                    for ${moment.duration(fields.duration * 60, 's').humanize()}`;\n                break;\n        }\n        return settings;\n    }\n\n    private checkAttendees(list: IUser[]) {\n        const external_attendees = [];\n        for (const user of (list || [])) {\n            if (user.external) {\n                external_attendees.push(user);\n            }\n        }\n        return external_attendees;\n    }\n}\n","/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-25 16:00:37\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-07-02 16:45:34\n*/\n\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Utils } from '../../shared/utility.class';\n\nexport interface IBuilding {\n    id: string;\n    zone_id?: string;\n    name: string;\n    extras: IExtra[];\n    levels: ILevel[];\n    settings: any;\n    loan_items?: IExtra[];\n    orgs?: IOrganisation[];\n    roles?: any;\n    lockers?: any;\n    visitor_space?: string;\n    coords?: {\n        longitude: number;\n        latitude: number;\n    };\n    map: {\n        zones?: { id: string, name: string; }[];\n        searchables?: any;\n    };\n    terms?: {\n        title: string,\n        details: string\n    }[];\n}\n\nexport interface IExtra {\n    id: string;\n    name: string;\n}\n\nexport interface ILevel {\n    id: string;\n    bld_id: string;\n    name: string;\n    number: string | number;\n    book_type?: string;\n    map_url?: string;\n    map: {\n        features?: { id: string, name: string; }[];\n        poi?: { id: string, name: string; }[];\n    };\n    type?: string;\n    settings?: any;\n    defaults?: any;\n}\n\nexport interface IOrganisation {\n    id: string;\n    name: string;\n    settings: any;\n    blds?: IBuilding[];\n    orgs?: IOrganisation[];\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class BuildingsService {\n    public parent: any = null;\n    public default = '';\n    public data: any = {};\n\n    private model: any = {};\n    private active = '';\n    private org: IOrganisation;\n    private subjects: any = {};\n    private observers: any = {};\n\n    constructor(private http: CommsService) {\n        this.subjects.active = new BehaviorSubject<IBuilding>(null);\n        this.observers.active = this.subjects.active.asObservable();\n    }\n    /**\n     * Initialise service\n     */\n    public init() {\n        if (!this.parent || !this.parent.Settings.setup || (this.parent.Settings.get('mock') && !(window as any).backend.is_loaded)) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.default = this.parent.Settings.get('building.default');\n        this.model.has_orgs = this.parent.Settings.get('app.orgs');\n        if (localStorage) {\n            this.model.user_set_building = localStorage.getItem('STAFF.building');\n        }\n        const sub = this.parent.Users.listen('state', (state) => {\n            if (state === 'available') {\n                this.load();\n                sub.unsubscribe();\n            }\n        });\n    }\n\n    /**\n     * Load API data\n     * @param tries Retry count. DON'T USE\n     */\n    public load(tries: number = 0) {\n        if (!this.parent) {\n            return setTimeout(() => this.load(), 500);\n        }\n        const url = `${this.parent.endpoint}/control/api/zones?tags=org`;\n        this.http.get(url).subscribe((response: any) => {\n            const o = response instanceof Array ? response : response.results;\n            if (o && o.length > 0) {\n                const org = o[0];\n                const settings = org.settings ? org.settings.discovery_info || {} : {};\n                this.org = {\n                    id: org.id,\n                    name: org.name,\n                    settings: settings.settings || {},\n                    blds: settings.buildings || [],\n                    orgs: settings.organisations || []\n                };\n                if (!this.org.orgs || this.org.orgs.length <= 0 && this.model.has_orgs) {\n                    this.loadOrganisations();\n                }\n            }\n        }, (err) => {\n            this.parent.log('BLD(S)', 'Error loading org:', err, 'error');\n            setTimeout(() => this.load(tries), 500 * ++tries);\n        }, () => {\n            if (!this.org) {\n                setTimeout(() => this.load(tries), 500 * ++tries);\n            } else {\n                this.loadBuildings();\n            }\n        });\n    }\n    /**\n     * Load Organisation Data\n     */\n    public loadOrganisations() {\n        if (!this.parent) {\n            return setTimeout(() => this.loadOrganisations(), 500);\n        }\n        const url = `${this.parent.api_endpoint}/organisations`;\n        this.http.get(url).subscribe((r: any) => {\n            if (this.org) {\n                this.org.orgs = r;\n            }\n            for (const id in this.data) {\n                if (this.data[id]) {\n                    this.data[id].orgs = this.org.orgs;\n                }\n            }\n        }, (e) => null, () => null);\n    }\n\n    /**\n     * Get a list of buildings\n     */\n    public list() {\n        const blds: IBuilding[] = [];\n        for (const b in this.data) {\n            if (this.data.hasOwnProperty(b) && this.data[b]) {\n                blds.push(this.data[b]);\n            }\n        }\n        return blds;\n    }\n\n    /**\n     * Gets the currently active building\n     */\n    public current(): IBuilding {\n        return this.subjects.active.getValue();\n    }\n\n    /**\n     * Observable for current building\n     */\n    public listen(next: (data: any) => void) {\n        return this.observers.active.subscribe(next);\n    }\n\n    /**\n     * Get observable for property\n     * @param name Name of the property. Possible values active\n     */\n    public observer(name: string = 'active') {\n        return this.subjects[name] ? this.observers[name] : null;\n    }\n\n    /**\n     * Get Buidling with the given ID\n     * @param id Building ID\n     */\n    public get(id: string) {\n        if (this.data[id]) {\n            return this.data[id];\n        }\n        return null;\n    }\n\n    /**\n     * Set the active building\n     * @param id ID of Building\n     * @param save Store active building\n     */\n    public set(id: string, save: boolean = true) {\n        if (this.data[id]) {\n            this.active = id;\n            this.subjects.active.next(this.data[id]);\n            if (localStorage && save) {\n                localStorage.setItem('STAFF.building', id);\n            }\n        }\n    }\n\n    /**\n     * Gets the organisation\n     */\n    public organisation() {\n        return this.org;\n    }\n\n    /**\n     * Gets the levels of the current building or building with the given ID\n     * @param {string} id Building ID\n     */\n    public levels(id?: string) {\n        const bld = this.current();\n        if (bld) {\n            if (id) {\n                for (const lvl of bld.levels) {\n                    if (lvl.id === id) { return [lvl]; }\n                }\n            } else {\n                return bld.levels || [];\n            }\n        }\n        return [];\n    }\n    /**\n     * Get first level that matches the given ID/IDs\n     * @param id_list An ID or array of IDs\n     */\n    public getLevel(id_list: string | string[]) {\n        const list = id_list instanceof Array ? id_list : [id_list];\n        for (const id in this.data) {\n            if (this.data.hasOwnProperty(id) && this.data[id]) {\n                const bld = this.data[id];\n                for (const lvl of bld.levels) {\n                    if (list.indexOf(lvl.id) >= 0) {\n                        return lvl;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Get a list of extras that IDs match\n     * @param id String with the IDs\n     */\n    public getExtras(id: string) {\n        const bld = this.current();\n        const list = [];\n        if (bld && id) {\n            for (const e of bld.extras) {\n                if (id.indexOf(e.id) >= 0) {\n                    list.push(e);\n                }\n            }\n        }\n        return list;\n    }\n\n    public getSetting(name: string) {\n        const bld = this.current();\n        let item = null;\n        if (bld) {\n            const settings = bld.settings;\n            const parts = name.split('.');\n            if (parts[0] === 'app' && parts.length > 1) { parts.splice(0, 1); }\n            if (parts.length <= 0) { return null; }\n            item = this.getItemFromKeys(parts, settings);\n        }\n        if (!item && this.organisation()) {\n            const settings = this.organisation().settings;\n            const parts = name.split('.');\n            if (parts[0] === 'app' && parts.length > 1) { parts.splice(0, 1); }\n            if (parts.length <= 0) { return null; }\n            item = this.getItemFromKeys(parts, settings);\n        }\n        return item;\n    }\n\n    /**\n     * Gets nested setting value\n     * @param keys List of keys to iterate down the object\n     * @param root Root element of the search\n     * @return Returns the value a the end of the iteration or null\n     */\n    private getItemFromKeys(keys: string[], root: any) {\n        if (keys.length <= 0) {\n            return root;\n        }\n        if (typeof root !== 'object') {\n            return null;\n        }\n        let item = root;\n        // Iterate through keys to traverse object tree\n        for (const k of keys) {\n            // Make sure key has a value\n            if (k !== '') {\n                if (item !== undefined && item !== null && item.hasOwnProperty(k)) {\n                    item = item[k];\n                } else {\n                    return null;\n                }\n            }\n        }\n        return item;\n    }\n\n\n    /**\n     * Load building data from the API\n     * @param tries Retry count. DON'T USE\n     */\n    private loadBuildings(tries: number = 0) {\n        const url = `${this.parent.endpoint}/control/api/zones?tags=building`;\n        this.http.get(url).subscribe((response: any) => {\n            const blds = response instanceof Array ? response : response.results;\n            for (const bld of blds) {\n                for (const b of this.org.blds) {\n                    if (bld.id === b.zone_id) {\n                        const info = bld.settings.discovery_info || {};\n                        this.data[bld.id] = {\n                            id: bld.id,\n                            name: bld.name,\n                            catering: info.catering,\n                            phone: info.phone,\n                            systems: {\n                                desks: info.desk_tracking,\n                                messaging: info.messaging\n                            },\n                            lockers: info.locker_structure,\n                            roles: info.roles || {},\n                            extras: this.processExtras(info.extras),\n                            levels: this.processLevels(info.levels, bld.id),\n                            loan_items: this.processExtras(info.loan_items),\n                            map: {\n                                zones: info.map_zones || [],\n                                searchables: info.neighbourhoods || {}\n                            },\n                            terms: info.terms,\n                            settings: info.settings || {},\n                            orgs: info.organisations,\n                            visitor_space: info.visitor_space\n                        };\n                        Object.defineProperty(this.data[bld.id], 'orgs', {\n                            get: () => {\n                                const contact_orgs = this.parent.Contacts.get('orgs') || [];\n                                const orgs = info.organisations && info.organisations.length > 1 ? [ ...info.organisations ] : [];\n                                contact_orgs.forEach(i => !orgs.find(o => i === o.name) ? orgs.push({\n                                    id: i.split('').reduce((a = 0, c: string) => a += c.charCodeAt(0)),\n                                    name: i\n                                }) : '');\n                                orgs.sort((a, n) => a.name.localeCompare(n.name));\n                                return orgs;\n                            }\n                        });\n                        if (this.data[bld.id] && this.data[bld.id].roles) {\n                            for (const grp in this.data[bld.id].roles) {\n                                if (this.data[bld.id].roles.hasOwnProperty(grp)) {\n                                    const group = this.data[bld.id].roles[grp];\n                                    for (const user of group) {\n                                        user.type = 'role';\n                                    }\n                                }\n                            }\n                        }\n                            // Set coordinates\n                        if (info.latitude || info.longitude || info.lat || info.long) {\n                            this.data[bld.id].coords = {\n                                longitude: info.longitude || info.long || 0,\n                                latitude: info.latitude || info.lat || 0\n                            };\n                        }\n                    }\n                }\n            }\n        }, (err) => {\n            this.parent.log('BLD(S)', 'Error loading buildings:', err, 'error');\n            setTimeout(() => this.loadBuildings(tries), 500 * ++tries);\n        }, () => {\n            const keys = Object.keys(this.data);\n            if ((!this.default || this.default === '' || !this.data[this.default]) && keys.length > 0) {\n                this.default = keys[0];\n            }\n            if (keys.indexOf(this.model.user_set_building) < 0) {\n                this.model.user_set_building = null;\n                if (localStorage) {\n                    localStorage.removeItem('STAFF.building');\n                }\n            }\n                // Check user's geolocation\n            if (keys.length > 1 && this.data[keys[0]].coords && 'geolocation' in navigator) {\n                navigator.geolocation.getCurrentPosition((loc) => {\n                    let bld = null;\n                    let dist = 999;\n                    for (const id in this.data) {\n                        if (this.data.hasOwnProperty(id)) {\n                            const coords = this.data[id].coords;\n                            const i_dist = Utils.geodistance(coords.latitude, coords.longitude, loc.coords.latitude, loc.coords.longitude);\n                            if (i_dist < dist) {\n                                bld = this.data[id];\n                                dist = i_dist;\n                            }\n                        }\n                    }\n                    if (bld) {\n                        this.parent.log('BLD][S', `Building set to \"${bld.name}\" based of geolocation`);\n                        this.set(bld.id, false);\n                    }\n                });\n            }\n            this.set(this.model.user_set_building || this.default, false);\n            this.parent.log('BLD(S)', 'Loaded building data');\n            setTimeout(() => this.loadLevels(), 300);\n        });\n    }\n\n    /**\n     * Load level data from the API\n     * @param tries Retry count. DON'T USE\n     */\n    private loadLevels(tries: number = 0) {\n        if (tries > 10) { return; }\n        const url = `${this.parent.endpoint}/control/api/zones?tags=level`;\n        let data = null;\n        this.http.get(url).subscribe(\n            (levels: any) => data = levels.results || levels,\n            (err) => {\n                this.parent.log('BLD(S)', 'Error loading levels:', err, 'error');\n                setTimeout(() => this.loadLevels(tries), 500 * ++tries);\n            },\n            () => {\n                this.parent.log('BLD(S)', 'Loaded level data');\n                for (const lvl of (data || [])) {\n                    const level = this.getLevel(lvl.id || lvl.level_id);\n                    if (level) {\n                        level.settings = lvl.settings || {};\n                        level.map.features = level.settings.map_features || [];\n                        level.map.poi = level.settings.map_poi || [];\n                    }\n                }\n            });\n    }\n\n\n    /**\n     * Covert building level data to local format\n     * @param list Array of Levels\n     * @param id ID of the associated building\n     */\n    private processLevels(list: any[], id: string = ''): ILevel[] {\n        const levels: ILevel[] = [];\n        if (list) {\n            for (const item of list) {\n                levels.push({\n                    id: item.level_id,\n                    bld_id: id,\n                    name: item.level_name,\n                    map_url: item.map_url,\n                    number: item.level_name.indexOf('Level') >= 0 ? item.level_name.replace('Level ', '') : item.level_name[0],\n                    type: item.floor_type || 'staff',\n                    book_type: item.book_type,\n                    map: {},\n                    defaults: item.defaults || {}\n                });\n            }\n        }\n        return levels;\n    }\n\n    /**\n     * Covert building extras data to local format\n     * @param list Array of Extras\n     */\n    private processExtras(list: any[]): IExtra[] {\n        const extras: IExtra[] = [];\n        if (list) {\n            for (const item of list) {\n                extras.push({\n                    id: item.extra_id,\n                    name: item.extra_name,\n                });\n            }\n        }\n        return extras;\n    }\n}\n","import { CommsService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\n\nimport { BehaviorSubject } from 'rxjs';\nimport { BaseService } from './base.service';\n\nexport interface ICaterer {\n    id: string;\n    name: string;\n    name_start?: string;\n    name_end?: string;\n    description: string;\n    hours: { open: number; close: number; };\n    cutoff: { fixed: number; relative: number; };\n    img_url: string;\n    min_cost: number;\n    opening_hours: { day: string; time: string }[];\n    phone: string;\n    options: ICateringCategory[];\n}\n\nexport interface ICateringCategory {\n    id: number | string;\n    name: string;\n    items: ICateringItem[];\n    minimum: number;\n    extra?: string;\n}\n\nexport interface ICateringItem {\n    id: string;\n    name: string;\n    description: string;\n    img_url: string;\n    minimum: number;\n    price: number;\n    cutoff: { fixed: number; relative: number; };\n    properties: ICateringItemProperty[];\n    quantity?: number;\n}\n\nexport interface ICateringItemProperty {\n    id: string;\n    name: string;\n    type: number;\n    values: ICateringItemPropertyValue[];\n}\n\nexport interface ICateringItemPropertyValue {\n    id: number | string;\n    name: string;\n    default?: boolean;\n    min?: number;\n    max?: number;\n    step?: number;\n    extra_price: number;\n}\n\nexport interface ICartItem {\n    id: string;\n    item: ICateringItem;\n    quantity: number;\n    unit_price: number;\n    details?: string;\n    extras: any[];\n}\n\nexport interface ICart {\n    id: string;\n    total: number;\n    total_price: number;\n    notes?: string;\n    items: ICartItem[];\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CateringService extends BaseService {\n\n    constructor(protected http: CommsService) {\n        super();\n        this.subjects.caterers = new BehaviorSubject<ICaterer[]>([]);\n        this.observers.caterers = this.subjects.caterers.asObservable();\n        this.subjects.general_catering = new BehaviorSubject<ICaterer>(null);\n        this.observers.general_catering = this.subjects.general_catering.asObservable();\n        this.subjects.locations = new BehaviorSubject<string[]>([]);\n        this.observers.locations = this.subjects.locations.asObservable();\n    }\n\n    protected load() {\n        if (!this.parent.Buildings || !this.parent.Buildings.current()) {\n            return this.timeout('load', () => this.load());\n        }\n        if (this.parent.Settings.get('app.catering.enabled')) {\n            this.loadCaterers();\n            this.loadLocations();\n        }\n    }\n\n    public list() {\n        const catering_list = (this.get('general_catering') || { options: [] }) as ICaterer;\n        const categories: any = {};\n        for (const cat of catering_list.options) {\n            categories[cat.name] = cat.items;\n        }\n        return categories;\n    }\n\n    /**\n     * Get list of caterers\n     */\n    public caterers(): ICaterer[] {\n        return this.subjects.caterers.getValue();\n    }\n\n    /**\n     * Get list of catering delivery locations\n     */\n    public locations(): string[] {\n        return this.subjects.locations.getValue();\n    }\n\n    /**\n     * Post new catering order\n     * @param id ID of the order\n     * @param items Array of catering items\n     * @param notes Additional notes to send caterer\n     * @param location Delivery location\n     * @param date Date and time of delivery\n     */\n    public order(id: string, items: any[], notes: string, location: string, date: any) {\n        return new Promise((resolve, reject) => {\n            if (items && items.length > 0) {\n                let confirming = false;\n                let cost = 0;\n                for (const i of items) { cost += i.quantity * i.price; }\n                this.parent.confirm({\n                    title: `Confirm order?`,\n                    message: `Your order will cost $${(cost / 100).toFixed(2)}`,\n                    icon: 'shopping_cart',\n                    accept: 'Ok',\n                    cancel: true,\n                }, (event) => {\n                    if (event.type === 'Accept') {\n                        confirming = true;\n                        event.data.loading = true;\n                        const request = {\n                            id, items, notes, location, date\n                        };\n                        this.http.post(`${this.parent.api_endpoint}/orders`, request)\n                            .subscribe((resp: any) => {\n                                event.data.loading = false;\n                                event.data.success = true;\n                                this.parent.Analytics.event('Catering', 'created_catering_order');\n                                setTimeout(() => {\n                                    event.close();\n                                    resolve(resp);\n                                }, 2000);\n                            }, (err: any) => {\n                                event.data.loading = false;\n                                event.data.error = true;\n                                event.data.errorData = 'Request Error!';\n                                this.parent.Analytics.event('Catering', 'create_catering_order_fail');\n                                setTimeout(() => event.close(), 2000);\n                                reject(err);\n                            },\n                        );\n                    } else if (!confirming) {\n                        reject();\n                        event.close();\n                    }\n                });\n            } else {\n                reject('Cart is empty');\n            }\n        });\n    }\n\n    /**\n     * Load caterer data from the API\n     */\n    public loadCaterers() {\n        if (!this.parent) {\n            return setTimeout(() => this.loadCaterers(), 500);\n        }\n        const url = `${this.parent.api_endpoint}/caterers`;\n        this.http.get(url).subscribe(\n            (caterers: any[]) => this.subjects.caterers.next(this.processCaterers(caterers)),\n            (err) => {\n                this.parent.log('CATERING(S)', 'Error loading caterings:', err, 'error');\n            }, () => this.parent.log('CATERING(S)', 'Loaded caterings data')\n        );\n    }\n\n    /**\n     * Load catering delivery locations from API\n     */\n    public loadLocations() {\n        if (!this.parent) {\n            return setTimeout(() => this.loadLocations(), 500);\n        }\n        const url = `${this.parent.api_endpoint}/caterers/locations`;\n        this.http.get(url).subscribe(\n            (locations: any[]) => this.subjects.locations.next(locations),\n            (err) => {\n                this.parent.log('CATERING(S)', 'Error loading location data:', err, 'error');\n            }, () => this.parent.log('CATERINGS(S)', 'Loaded locations data')\n        );\n    }\n\n    /**\n     * Convert caterer data into local format\n     * @param list Array of caterers\n     */\n    private processCaterers(list: any[]) {\n        const caterer_list: ICaterer[] = [];\n        for (const item of list) {\n            const hours: any[] = [];\n            for (const i of item.opening_hours) {\n                const time = i.split(':').slice(1).join(':');\n                hours.push({ day: i.split(':')[0], time });\n            }\n            const name = item.title.split(' ');\n            caterer_list.push({\n                id: item.id,\n                name: item.title,\n                name_end: ((name.length > 1 ? name.splice(name.length - 1, 1) : '') || ''),\n                name_start: name.join(' '),\n                description: item.description,\n                hours: {\n                    open: item.hour_open,\n                    close: item.hour_close\n                },\n                cutoff: {\n                    fixed: item.default_cutoff_fixed_seconds || item.default_cutoff_fixed,\n                    relative: item.default_cutoff_relative_seconds || item.default_relative_fixed,\n                },\n                img_url: item.img_url,\n                min_cost: item.minimum_cost,\n                opening_hours: hours,\n                phone: item.phone,\n                options: this.processCategories(item.options)\n            });\n        }\n        for (const caterer of caterer_list) {\n            if (caterer.id.indexOf('general') >= 0) {\n                this.subjects.general_catering.next(caterer_list.splice(caterer_list.indexOf(caterer), 1)[0]);\n                break;\n            }\n        }\n        return caterer_list;\n    }\n\n    /**\n     * Convert caterer item catergory data into local format\n     * @param categories Array of catering categories\n     */\n    private processCategories(categories: any[]) {\n        const category_list: ICateringCategory[] = [];\n        for (const item of categories) {\n            category_list.push({\n                id: item.id,\n                name: item.name,\n                extra: item.extra_information,\n                minimum: item.minimum_order || item.minimum || 0,\n                items: this.processCateringItems(item.items)\n            });\n        }\n        return category_list;\n    }\n\n    /**\n     * Convert caterer item data into local format\n     * @param list Array of catering items\n     */\n    private processCateringItems(list: any[]) {\n        const item_list: ICateringItem[] = [];\n        for (const item of list) {\n            item_list.push({\n                id: item.id,\n                name: item.name,\n                description: item.description,\n                img_url: item.img_url,\n                minimum: item.minimum_order || item.minimum || 0,\n                price: item.price,\n                cutoff: {\n                    fixed: item.cutoff_fixed_seconds || item.cutoff_fixed,\n                    relative: item.cutoff_relative_seconds || item.cutoff_relative,\n                },\n                properties: this.processCateringProperties(item.properties)\n            });\n        }\n        return item_list;\n    }\n\n    /**\n     * Convert caterer item property data into local format\n     * @param list Array of properties\n     */\n    private processCateringProperties(list: any) {\n        const properties: ICateringItemProperty[] = [];\n        for (const item of list) {\n            const out = {\n                id: item.id,\n                name: item.name,\n                type: item.type,\n                values: []\n            };\n            for (const value of item.values) {\n                out.values.push({\n                    id: value.id,\n                    name: value.name,\n                    default: value.selected,\n                    extra_price: value.extra_price,\n                    min: value.min,\n                    max: value.max,\n                    step: value.step\n                });\n            }\n            properties.push(out);\n        }\n        return properties;\n    }\n}\n","\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\nimport { IUser } from './users.service';\n\nexport interface IComment {\n    id: string;\n    channel_id: string;\n    user_id: string;    // ACA User ID\n    user: IUser;\n    master_id: string;  // ID of master object\n    reply_to_id: string;\n    replies: IComment[];\n    name: string;       // User Staff Code\n    description: string;\n    other: any;\n    likes: string[];\n    dislikes: string[];\n    created_at: number;\n    updated_at: number;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CommentsService {\n    public parent: any = null;\n\n    private model: any = {};\n    private timers: any = {};\n    private subjects: any = {};\n    private observers: any = {};\n\n    constructor(private http: CommsService) { }\n\n    public init() {\n        return;\n    }\n\n    /**\n     * Get a list of comments matching the given fields\n     * @param fields query fields for API\n     */\n    public list(fields: any = { offset: 0, limit: 500 }) {\n        return new Promise<IComment[]>((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment`;\n            let query = ``;\n            if (fields) {\n                for (const k in fields) {\n                    if (fields.hasOwnProperty(k)) {\n                        if (!query) { query += '&'; }\n                        query += `${k}=${fields[k]}`;\n                    }\n                }\n            }\n            const data: IComment[] = [];\n            this.http.get(`${url}${query ? '?'  + query : ''}`).subscribe((resp: any) => {\n                for (const item of resp.results) {\n                    data.push(this.processComment(item));\n                }\n                this.processReplies(data);\n            }, (err) => {\n                reject(err);\n            }, () => {\n                resolve(data);\n            });\n        });\n    }\n\n    /**\n     * Create new comment\n     * @param comment New comment\n     */\n    public new(comment: IComment) {\n        return new Promise((resolve, reject) => {\n            const cmt = JSON.parse(JSON.stringify(comment));\n            if (cmt.user) { delete cmt.user; }\n            if (cmt.other) {\n                const data = cmt.other;\n                data.comment = cmt.description;\n                cmt.description = JSON.stringify(data);\n                delete cmt.other;\n            }\n            const url = `${this.parent.api_endpoint}/comment`;\n            this.http.post(url, cmt).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Post update to comment\n     * @param id ID of comment\n     * @param comment Updated comment\n     */\n    public update(id: string, comment: IComment) {\n        return new Promise((resolve, reject) => {\n            const cmt = JSON.parse(JSON.stringify(comment));\n            if (cmt.user) { delete cmt.user; }\n            if (cmt.other) {\n                const data = cmt.other;\n                data.comment = cmt.description;\n                cmt.description = JSON.stringify(data);\n                delete cmt.other;\n            }\n            const url = `${this.parent.api_endpoint}/comment/${id}`;\n            this.http.put(url, cmt).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Delete comment with given ID\n     * @param id ID of comment\n     */\n    public delete(id: string) {\n        return new Promise((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment/${id}`;\n            this.http.delete(url).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Set like state to true for comment\n     * @param id ID of comment\n     * @param master_id ID of root comment\n     */\n    public like(id: string, master_id: string = '') {\n        return new Promise((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment/${id}/like`;\n            let query = `name=${this.parent.Users.current().staff_code}`;\n            if (master_id) {\n                query += `&master_id=${master_id}`;\n            }\n            this.http.post(`${url}${query ? '?'  + query : ''}`, {}).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Set like state to false for comment\n     * @param id ID of comment\n     * @param master_id ID of root comment\n     */\n    public dislike(id: string, master_id: string = '') {\n        return new Promise((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment/${id}/like`;\n            let query = `name=${this.parent.Users.current().staff_code}`;\n            if (master_id) {\n                query += `&master_id=${master_id}`;\n            }\n            this.http.post(`${url}${query ? '?'  + query : ''}`, {}).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Remove like/dislike state of comment\n     * @param id ID of comment\n     */\n    public remove_vote(id: string) {\n        return new Promise((resolve, reject) => {\n            const url = `${this.parent.api_endpoint}/comment/${id}/like`;\n            const query = `name=${this.parent.Users.current().staff_code}`;\n            this.http.post(`${url}${query ? '?'  + query : ''}`, {}).subscribe(\n                () => null,\n                (err) => { reject(err); },\n                () => { resolve('Success'); },\n            );\n        });\n    }\n\n    /**\n     * Convert raw comment dat into local format\n     * @param cmt Raw comment data\n     * @return\n     */\n    private processComment(cmt: any): IComment {\n        const comment: IComment = {\n            id: cmt.id,\n            channel_id: cmt.channel_id,\n            user_id: cmt.user_id,\n            user: null,\n            master_id: cmt.master_id,\n            reply_to_id: cmt.in_reply_to_id,\n            replies: [],\n            name: cmt.name,\n            description: cmt.description,\n            likes: cmt.likes,\n            other: {},\n            dislikes: cmt.dislikes,\n            created_at: cmt.created_at,\n            updated_at: cmt.updated_at,\n        };\n        if (comment.description[0] === '{') {\n            comment.other = JSON.parse(comment.description);\n            if (comment.other) {\n                comment.description = comment.other.comment;\n            }\n        }\n        comment.user = this.parent.Users.get(cmt.name);\n        return comment;\n    }\n\n    /**\n     * Link associated comments together\n     * @param cmt_list Array of comments\n     */\n    private processReplies(cmt_list: IComment[]) {\n        for (const i of cmt_list) {\n            if (i.reply_to_id) {\n                const id = i.reply_to_id;\n                for (const cmt of cmt_list) {\n                    if (cmt.id === id) {\n                        cmt.replies.push(i);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { BaseService } from './base.service';\nimport { IUser } from './users.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ContactsService extends BaseService {\n\n    constructor(protected http: CommsService) {\n        super();\n        this.model.name = 'contact';\n        this.model.route = '/contacts';\n        this.subjects.list = new BehaviorSubject<IUser[]>([]);\n        this.observers.list = this.subjects.list.asObservable();\n        this.subjects.orgs = new BehaviorSubject<string[]>([]);\n        this.observers.orgs = this.subjects.list.asObservable();\n    }\n\n    public load() {\n        if (this.parent && this.parent.Settings.get('app.contacts.enabled')) {\n            this.query();\n        }\n    }\n\n    /**\n     * Convert user data to local format\n     * @param user User data\n     */\n    protected processItem(item: any) {\n        item.type = 'external';\n        const user: IUser = this.parent.Users.processItem(item);\n        if (user.organisation_name) {\n            const orgs = this.get('orgs');\n            if (!orgs.find(i => i === user.organisation_name)) {\n                orgs.push(user.organisation_name);\n                orgs.sort((a, b) => a.localeCompare(b));\n            }\n            this.set('orgs', orgs);\n        }\n        return user;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { BaseService } from './base.service';\nimport { IBuilding, ILevel } from './buildings.service';\n\nimport * as moment from 'moment';\n\nexport interface ILocation {\n    x?: number;\n    y?: number;\n    name?: string;\n    map_id?: string;\n    building: string | IBuilding;\n    level: string | ILevel;\n    fixed: boolean;\n    loc_id?: string;\n    display?: any;\n    confidence?: number;\n    another_bld?: boolean;\n    at_desk?: boolean;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LocationService extends BaseService {\n\n    constructor(protected http: CommsService) {\n        super();\n        this.model.name = 'location';\n        this.model.route = '/people';\n        this.subjects.list = new BehaviorSubject<ILocation[]>([]);\n        this.observers.list = this.subjects.list.asObservable();\n    }\n\n    public add() {\n        return new Promise((rs, rj) => {\n            rj('No add method for this service');\n            throw Error('No add method for this service');\n        });\n    }\n\n    public update() {\n        return new Promise((rs, rj) => {\n            rj('No update method for this service');\n            throw Error('No update method for this service');\n        });\n    }\n\n    public delete() {\n        return new Promise((rs, rj) => {\n            rj('No delete method for this service');\n            throw Error('No delete method for this service');\n        });\n    }\n\n    protected processItem(raw_item: any, id?: string) {\n        if (raw_item instanceof Array) { raw_item = raw_item[0]; }\n        if (typeof raw_item === 'string') { raw_item = { name: raw_item }; }\n        const item: ILocation = {\n            name: raw_item.name,\n            level: raw_item.level,\n            building: raw_item.building,\n            display: {},\n            fixed: true,\n        };\n        const bld = this.parent.Buildings.get(item.building);\n        if (bld) {\n            item.display.building = bld.name;\n            item.another_bld = bld !== this.parent.Buildings.current();\n            for (const level of bld.levels) {\n                if (level.id === item.level) {\n                    item.display.level = level.name;\n                    break;\n                }\n            }\n        }\n        if (raw_item.x && raw_item.y) {\n            item.fixed = false;\n            item.x = (10000 / raw_item.x_max) * raw_item.x;\n            item.y = (10000 / raw_item.x_max) * raw_item.y;\n            item.confidence = Math.max(5, Math.min(15, raw_item.confidence));\n        } else {\n            item.map_id = `${raw_item.desk_id}`;\n            const is_room = raw_item.desk_id && raw_item.desk_id.indexOf('area-') >= 0;\n            item.display.name = `${raw_item.desk_id && !is_room ? 'Desk ' + raw_item.desk_id.split('-')[1] : 'In their office'}`;\n            item.map_id = raw_item.desk_id;\n            item.at_desk = raw_item.at_desk;\n        }\n        return item;\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { BaseService } from './base.service';\nimport { Utils } from '../../shared/utility.class';\n\nimport * as moment from 'moment';\n\nexport interface ILocker {\n    id: string;\n    serial: string;\n    available: boolean;\n    pin: string;\n    card: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LockersService extends BaseService {\n\n    constructor(protected http: CommsService) {\n        super();\n        this.model.name = 'locker';\n        this.model.route = '/lockers';\n        this.subjects.list = new BehaviorSubject<ILocker[]>([]);\n        this.observers.list = this.subjects.list.asObservable();\n    }\n\n    /**\n     * Book a locker\n     * @param id ID of the locker\n     * @param period Start and end date to book the locker for\n     * @param pin Pin number to apply to the locker\n     */\n    public book(id: string, period: { start: number, end: number }, pin?: string) {\n        if (!pin) { pin = Utils.padZero(Math.floor(Math.random() * 9999), 4); }\n        const key = `book|${id}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}`;\n                const time = moment(period.start).hours(12).minutes(0).seconds(0);\n                const end = moment(period.end).hours(12).minutes(0).seconds(0);\n                this.http.post(url, {\n                    locker_number: id,\n                    pin,\n                    from: time.unix(),\n                    until: end.unix()\n                }).subscribe(\n                    () => null,\n                    (err) => {\n                        reject(err);\n                        this.promises[key] = null;\n                    }, () => {\n                        resolve(pin);\n                        this.promises[key] = null;\n                    }\n                );\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Wrapper of task method for the task 'open'\n     * @param id ID of the locker\n     */\n    public open(id) {\n        return this.task(id, 'open');\n    }\n\n    protected processItem(raw_item: any, id?: string) {\n        const item: ILocker = {\n            id: raw_item.id || id,\n            serial: raw_item.serial,\n            available: raw_item.available,\n            pin: raw_item.pin,\n            card: raw_item.card\n        };\n        return item;\n    }\n}\n","\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nimport * as moment from 'moment';\n\nimport { ILevel } from './buildings.service';\nimport { IBooking } from './bookings.service';\nimport { Utils } from '../../shared/utility.class';\nimport { BaseService } from './base.service';\n\nexport interface IRoom {\n    id: string;\n    name: string;\n    long_name?: string;\n    email: string;\n    level: ILevel;\n    map_id: string;\n    available?: boolean;\n    bookable: boolean;\n    in_use: string | boolean;\n    raw_bookings: any[];\n    bookings: IBooking[];\n    searchable?: boolean;\n    today?: IBooking[];\n    zones?: string[];\n    timeline?: any;\n    rate?: number;\n    support_url?: string;\n    extras?: any[];\n    capacity?: number;\n    controllable?: boolean;\n    linked_rooms?: string[];\n    book_type?: string;\n    current?: IBooking;\n    order?: number;\n    next?: IBooking;\n    nextFree?: (d: number) => number;\n}\n\nexport interface IRoomAvailabilityRequest {\n    date: number;\n    duration: number;\n    id?: string;\n    bookable?: boolean;\n    desks?: boolean;\n    rooms?: string;\n    ignore?: string;\n    zone_id?: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RoomsService extends BaseService {\n\n    constructor(protected http: CommsService) {\n        super();\n        this.model.name = 'space';\n        this.model.route = '/rooms';\n        this.set('timelines', {});\n        this.set('search', []);\n        this.set('results', []);\n        this.set('capacities', []);\n        // Initialise state\n        this.set('state', 'loading');\n    }\n\n    protected load() {\n        this.query({}).then((rooms) => null, (e) => null);\n    }\n\n    /**\n     * Get list of rooms\n     * @param all All rooms for client\n     * @param zone_ids List of zones that the rooms must be in\n     */\n    public list(all: boolean = false, zone_ids?: string | string[]) {\n        const zones = zone_ids ? (zone_ids instanceof Array ? zone_ids || [] : [zone_ids]) : [];\n        const list = this.get('list') || [];\n        let rm_list = [];\n        if (all) {\n            rm_list = list;\n        } else {\n            const bld = this.parent && this.parent.Buildings.current() ? this.parent.Buildings.current() : null;\n            const bld_list = list.filter((i) => i.level && i.level.bld_id === bld.id);\n            rm_list = (bld ? bld_list : list);\n        }\n        return zones.length > 0 ? rm_list.filter((i) => {\n            let cnt = 0;\n            for (const id of zones) {\n                if (i.zones.indexOf(id) >= 0) { cnt++; }\n            }\n            return cnt >= zones.length;\n        }) : rm_list;\n    }\n\n    /**\n     * Get list of available rooms\n     * @param date Start time of availabilty block\n     * @param duration Length of availabiliy block. Defaults to 60\n     * @param id ID of room to check availability\n     * @param bookable Only check bookable rooms. Defaults to true\n     */\n    public available(options: IRoomAvailabilityRequest) {\n        if (!this.parent || !this.parent.Buildings.current()) {\n            return new Promise((rs, rj) =>\n                setTimeout(() => this.available(options).then((v) => rs(v), (e) => rj(e)), 500)\n            );\n        }\n        this.set('state', 'loading');\n        const id = options.id;\n        const start = moment(options.date);\n        const end = moment(start).add(options.duration, 'm');\n        const bld = this.parent.Buildings.current();\n        const key = `availiable|${start.unix()}|${options.duration}${id ? '|' + id : ''}|${bld.id}|${options.ignore}|${options.zone_id}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const query: any = {\n                    bookable: true,\n                    available_from: start.unix(),\n                    available_to: end.unix(),\n                    zone_id: options.zone_id /* || bld.id */,\n                    desks: options.desks\n                };\n                if (options.ignore) { query.ignore = options.ignore; }\n                if (options.rooms) { query.room_ids = options.rooms; }\n                const response = (list) => {\n                    // Remove unavailable rooms\n                    for (let index = 0; index < list.length; index++) {\n                        const i = list[index];\n                        if (!i.available) {\n                            list.splice(index--, 1);\n                        } else if (i.linked_rooms) {\n                            for (const item of list) {\n                                if (i.linked_rooms.indexOf(item.id) >= 0 && !item.available) {\n                                    list.splice(index--, 1);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    resolve(list);\n                    this.timeout(key, () => this.promises[key] = null, 1000);\n                    this.set('state', 'idle');\n                };\n                const error = (err) => {\n                    this.subjects.state.next('idle');\n                    this.promises[key] = null;\n                    reject(err);\n                };\n                if (id) {\n                    this.show(id, query).then(response, error);\n                } else {\n                    this.query(query).then(response, error);\n                }\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Check if room is available\n     * @param id ID of room\n     * @param date Start time of availabilty block\n     * @param duration Length of availabiliy block. Defaults to 60\n     */\n    public isAvailable(id: string, date: number, duration: number = 60, ignore?: string) {\n        const start = moment(date);\n        const key = `availiable|${id}|${start.unix()}|${duration}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                // Get availability of room\n                this.available({\n                    date,\n                    duration,\n                    id,\n                    bookable: false,\n                    ignore\n                }).then((result) => {\n                    const item = (result instanceof Array ? result[0] : result) || {};\n                    // Check availability status of room\n                    if (item.available && item.linked_rooms && item.linked_rooms.length > 0) {\n                        this.available({\n                            date,\n                            duration,\n                            bookable: false,\n                            rooms: item.linked_rooms.join(',')\n                        }).then((list) => {\n                            list.length === item.linked_rooms.length ? resolve() : reject('Linked rooms are not free');\n                        });\n                    } else {\n                        item.id === id && item.available ? resolve() : reject();\n                    }\n                    // Prevent new requests for 60 seconds\n                    setTimeout(() => this.promises[key] = null, 60 * 1000);\n                }, (err) => reject());\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Update room parameters\n     * @param room Room data\n     */\n    public processRoom(room: IRoom) {\n        if (room) {\n            if (room.raw_bookings) {\n                room.bookings = this.processRoomBookings(room.raw_bookings);\n                room.next = this.nextBooking(room.bookings);\n                room.current = this.currentBooking(room.bookings);\n                room.in_use = this.checkState(room.bookings);\n                this.timelineBookings(room.id, room.bookings);\n            }\n        }\n    }\n\n    protected processItem(raw_item) {\n        if (!raw_item.settings) { raw_item.settings = {}; }\n        const settings = raw_item.settings;\n        const lvl = this.parent.Buildings.getLevel(raw_item.zones) || {};\n        if (!lvl.settings) { lvl.settings = {}; }\n        const out: IRoom = {\n            id: raw_item.id,\n            name: raw_item.name,\n            long_name: settings.long_name || raw_item.long_name,\n            email: (raw_item.email || '').toLowerCase(),\n            level: lvl,\n            map_id: raw_item.settings ? raw_item.settings.map_id : raw_item.map_id,\n            available: raw_item.available || raw_item.settings.available,\n            bookable: raw_item.bookable,\n            raw_bookings: raw_item.settings.bookings || raw_item.bookings,\n            order: raw_item.settings.room_order || raw_item.room_order || 999,\n            bookings: [],\n            extras: this.parent.Buildings.getExtras(raw_item.settings.extra_features || raw_item.extra_features),\n            support_url: settings.support_url || raw_item.support_url,\n            capacity: raw_item.capacity,\n            zones: raw_item.zones,\n            book_type: settings.book_type || lvl.book_type || lvl.settings.book_type || '',\n            controllable: settings.controllable,\n            rate: settings.cost_hour || raw_item.cost_hour,\n            linked_rooms: raw_item.linked_rooms || raw_item.settings.linked_rooms,\n            in_use: false,\n            next: null,\n        };\n        if (out.controllable !== false) { out.controllable = lvl.settings.controllable; }\n        if (settings.bookable_by_request !== false && (settings.bookable_by_request || (lvl.settings.bookable_by_request))) {\n            out.book_type = 'Request';\n        }\n        if (raw_item.capacity) {\n            const cap_list = this.get('capacities') || [];\n            let found = false;\n            for (const item of cap_list) {\n                if (item.value === raw_item.capacity) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                cap_list.push({\n                    id: raw_item.capacity,\n                    value: raw_item.capacity,\n                    name: `Min. ${raw_item.capacity} ${raw_item.capacity === 1 ? 'Person' : 'People'}`\n                });\n                cap_list.sort((a, b) => a.value - b.value);\n                this.set('capacities', cap_list);\n            }\n        }\n        // Add getter for timelines\n        Object.defineProperty(out, 'timeline', {\n            get: () => {\n                const timeline = this.get('timelines') || {};\n                return timeline[out.id] || {};\n            }\n        });\n        if (!out.level.id) {\n            // Add getter for level\n            Object.defineProperty(out, 'level', {\n                get: () => {\n                    const level = this.parent.Buildings.getLevel(raw_item.zones) || { settings: {} };\n                    if (!level.settings) { level.settings = {}; }\n                    if (settings.bookable_by_request !== false && (settings.bookable_by_request || (level.settings.bookable_by_request))) {\n                        out.book_type = 'Request';\n                    }\n                    return level;\n                }\n            });\n        }\n        Object.defineProperty(out, 'today', {\n            get: () => {\n                const timelines = this.get('timelines') || {};\n                const timeline = timelines[out.id] || {};\n                const now = moment();\n                return timeline[now.format('DD MMM YYYY')] || [];\n            }\n        });\n        out.nextFree = (d) => this.nextFreeTimeForRoom(out, d);\n        this.processRoom(out);\n        return out;\n    }\n\n    /**\n     * Convert booking data into local format\n     * @param bookings Array of room bookings\n     */\n    private processRoomBookings(bookings: any[]): IBooking[] {\n        if (!bookings) { return []; }\n        bookings.forEach(b => b.visitors = false);\n        return this.parent.Bookings.processList(bookings) || [];\n    }\n\n    /**\n     * Get the next upcoming booking\n     * @param bookings Array of bookings\n     */\n    public nextBooking(bookings: any[]) {\n        if (!bookings || bookings.length <= 0) {\n            return null;\n        }\n        const now = moment();\n        let booking: any = null;\n        let booking_start: any = null;\n        for (const event of bookings) {\n            const start = moment(event.date);\n            if (now.isSame(start, 'd') && start.isAfter(now) && (!booking_start || booking_start.isAfter(start))) {\n                booking = event;\n                booking_start = start;\n            }\n        }\n        return booking;\n    }\n\n    /**\n     * Get booking in progress\n     * @param bookings Array of bookings\n     */\n    public currentBooking(bookings: any[]) {\n        if (!bookings || bookings.length <= 0) {\n            return null;\n        }\n        const now = moment();\n        for (const event of bookings) {\n            const start = moment(event.date);\n            const end = moment(start).add(event.duration, 'm');\n            if (now.isBetween(start, end, 'm', '[)')) {\n                return event;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Get end time of the current booking\n     * @param bookings Array of bookings\n     */\n    public checkState(bookings: any[]) {\n        if (!bookings || bookings.length <= 0) {\n            return false;\n        }\n        const now = moment();\n        let time = moment();\n        for (const event of bookings) {\n            const start = moment(event.date);\n            const end = moment(start).add(event.duration, 'm');\n            if (start.isSameOrBefore(time, 'm') && end.isAfter(time, 'm')) {\n                time = end;\n            }\n        }\n        return !time.isSame(now, 'm') ? time.format('h:mm A') : false;\n    }\n\n    /**\n     * Get bookings on the given date\n     * @param bookings Array of bookings\n     * @param date Date to check\n     */\n    public bookingsForDate(bookings: any[], date: any = moment()) {\n        const list: any[] = [];\n        for (const event of bookings) {\n            const start = moment(event.date);\n            if (start.isSame(date, 'd')) {\n                list.push(event);\n            }\n        }\n        return list;\n    }\n\n    /**\n     * Update booking with the given date\n     * @param booking Updated booking data\n     */\n    public replaceBooking(booking: IBooking) {\n        const timeline = this.get('timelines') || {};\n        if (booking.room && booking.room.id) {\n            if (timeline[booking.room.id] && Object.keys(timeline[booking.room.id]).length > 0) {\n                let found = false;\n                for (const date in timeline[booking.room.id]) {\n                    if (timeline[booking.room.id].hasOwnProperty(date)) {\n                        const list = timeline[booking.room.id][date];\n                        for (const bkn of list) {\n                            if (bkn.id === booking.id) {\n                                found = true;\n                                list[list.indexOf(bkn)] = this.parent.Bookings.processItem(booking);\n                                break;\n                            }\n                        }\n                        list.sort((a, b) => a.date - b.date);\n                        if (found) { break; }\n                    }\n                }\n                if (!found) {\n                    const bkn = this.parent.Bookings.processItem(booking);\n                    const date = moment(bkn.date).format('DD MMM YYYY');\n                    if (!timeline[booking.room.id][date]) { timeline[booking.room.id][date] = []; }\n                    timeline[booking.room.id][date].push(bkn);\n                }\n            } else if (timeline[booking.room.id]) {\n                this.timelineBookings(booking.room.id, [this.parent.Bookings.processItem(booking)]);\n            }\n        }\n    }\n\n    /**\n     * Remove booking from room's timeline\n     * @param room_id Room ID\n     * @param bkn_id Booking ID\n     * @param date Booking date\n     */\n    public removeFromTimeline(room_id: string, bkn_id: string, date: string = moment().format('DD MMM YYYY')) {\n        const timeline = this.get('timelines') || {};\n        if (timeline[room_id] && timeline[room_id][date]) {\n            for (const bkn of timeline[room_id][date]) {\n                if (bkn.id === bkn_id) {\n                    timeline[room_id][date].splice(timeline[room_id][date].indexOf(bkn), 1);\n                    break;\n                }\n            }\n        }\n        this.subjects.timelines.next(timeline);\n    }\n\n    public nextFreeTimeForRoom(room: IRoom, duration: number = 30) {\n        const now = moment();\n        const bookings = room.timeline[now.format('DD MMM YYYY')] || [];\n        const free_blocks = this.parent.Bookings.getFreeSlots(bookings);\n        for (const block of free_blocks) {\n            const start = moment(block.start > 0 ? block.start : '');\n            const end = moment(block.end > 0 ? block.end : '');\n            const time = start.isSameOrBefore(now, 'm') ? now : start;\n            const d = Math.round(moment.duration(end.diff(time)).asMinutes());\n            if (d >= duration) { return time.valueOf(); }\n        }\n        return now.valueOf();\n    }\n\n    /**\n     * Create a list of bookings for each day\n     * @param bookings Array of bookings\n     */\n    public timelineBookings(id: string, bookings: any[]) {\n        const timeline = this.get('timelines') || {};\n        if (!timeline[id]) { timeline[id] = {}; }\n        const now = moment();\n        // Add bookings to the timeline\n        for (const bkn of bookings) {\n            const date = moment(bkn.date).format('DD MMM YYYY');\n            if (!timeline[id][date]) { timeline[id][date] = []; }\n            // Remove matches\n            for (const event of timeline[id][date]) {\n                if (event.id === bkn.id) {\n                    timeline[id][date].splice(timeline[id][date].indexOf(event), 1);\n                    break;\n                }\n            }\n            timeline[id][date].push(bkn);\n        }\n        // Sort timeline\n        for (const i in timeline[id]) {\n            if (timeline[id][i]) {\n                timeline[id][i].sort((a, b) => a.date - b.date);\n            }\n        }\n        this.subjects.timelines.next(timeline);\n    }\n\n    public getRoom(id: string): IRoom {\n        return this.item(id);\n    }\n}\n","import { CommsService } from '@acaprojects/ngx-composer';\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { Utils } from '../../shared/utility.class';\nimport { BaseService } from './base.service';\nimport { ILocation } from './location.service';\n\nimport * as moment from 'moment';\n\nexport interface IUser {\n    id: string;\n    name: string;\n    first_name?: string;\n    last_name?: string;\n    email: string;\n    win_id?: string;\n    type?: 'partner' | 'internal' | 'external';\n    role?: string;\n    state?: string;\n    location?: ILocation | string | {};\n    image: string;\n    phone?: string;\n    lockers?: { id: string, expiry: number }[];\n    external?: boolean;\n    optional?: boolean;\n    staff_code?: string;\n    organisation_id?: string;\n    organisation_name?: string;\n    organisation?: { id: string, name: string } | string;\n    b_unit?: string;\n    timezone?: string;\n    title?: string;\n    purpose?: string;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class UsersService extends BaseService {\n\n    constructor(protected http: CommsService, private http_unauth: HttpClient) {\n        super();\n        this.model.name = 'user';\n        this.model.route = '/users';\n        this.subjects.list = new BehaviorSubject<IUser[]>([]);\n        this.observers.list = this.subjects.list.asObservable();\n        this.set('user', null);\n        this.set('state', 'loading');\n    }\n\n    public init() {\n        this.load();\n    }\n\n    protected load(tries: number = 0) {\n        if (tries > 3) { return this.set('state', 'invalid'); }\n        this.set('state', 'loading');\n        this.show('current', { control: true }).then((user) => {\n            if (user) {\n                this.messageParent();\n                this.set('user', user);\n                this.set('state', 'available');\n                // Locate the active user\n                if (this.parent.Settings.get('app.user.current_location')) {\n                    this.location(user.id, user.email).then(() => null, () => null);\n                    this.interval('active-location', () => {\n                        this.location(user.id, user.email).then(() => null, () => null);\n                    }, 30 * 1000);\n                }\n            } else {\n                this.timeout('load', () => this.load(tries), 300 * ++tries);\n            }\n        }, () => this.timeout('load', () => this.load(tries), 300 * ++tries));\n    }\n\n    /**\n     * Get current user\n     */\n    public current() {\n        return this.get('user');\n    }\n\n    /**\n     * Sets the access token and expiry for the user\n     * @param token OAuth bearer token\n     * @param expiry Expiry epoch timestamp in ms\n     */\n    public setToken(token: string, expiry?: number) {\n        if (!expiry) { expiry = moment().add(7, 'd').valueOf(); this.messageParent(); }\n        const path = `${location.origin}${this.parent.Settings.get('composer.route') || ''}/oauth-resp.html`;\n        const client_id = this.http.hash(path);\n        if (sessionStorage) {\n            sessionStorage.setItem(`${client_id}_access_token`, token);\n            sessionStorage.setItem(`${client_id}_expires_at`, `${expiry}`);\n            this.messageParent();\n        }\n        if (localStorage) {\n            localStorage.setItem(`${client_id}_access_token`, token);\n            localStorage.setItem(`${client_id}_expires_at`, `${expiry}`);\n            this.messageParent();\n            location.reload();\n        }\n        return path;\n    }\n\n    public getFilteredUsers(filter: string, items: IUser[] = this.list(), fields: string[] = ['name', 'email']) {\n        return this.filter(filter, fields, items);\n    }\n\n    public messageParent(){\n        console.log('MESSAGING PARENT!');\n        if(Office.context.ui.hasOwnProperty(\"messageParent\")){\n            let message = JSON.stringify(\n                {\n                    messageType: \"success\",\n                    localStorage: localStorage\n                }\n                );\n            Office.context.ui.messageParent(message);\n        }\n    }\n\n    /**\n     * Login with given credentials\n     * @param fields Key value pairs of post parameters\n     */\n    public login(fields: any = {}) {\n        this.subjects.state.next('loading');\n        const query = Utils.generateQueryString(fields);\n        let headers = new HttpHeaders();\n        headers = headers.append('Content-Type', 'application/x-www-form-urlencoded');\n        this.http_unauth.post('/auth/signin', query, { headers }).subscribe((res: any) => {\n            if (!res || (res.status >= 200 && res.status < 400)) {\n                if (sessionStorage) {\n                    const clientId = this.http.hash(`${location.origin}/oauth-resp.html`);\n                    sessionStorage.setItem(`${clientId}_login`, 'true');\n                }\n                this.http.tryLogin();\n            } else {\n                this.subjects.state.next('invalid');\n            }\n            return;\n        }, (err) => {\n            if (err.status >= 400) {\n                this.subjects.state.next('error');\n            } else {\n                if (sessionStorage) {\n                    const clientId = this.http.hash(`${location.origin}/oauth-resp.html`);\n                    sessionStorage.setItem(`${clientId}_login`, 'true');\n                }\n                this.http.tryLogin();\n            }\n        }, () => this.load());\n    }\n\n    /**\n     * Logout of user and redirect to logout URL\n     */\n    public logout() {\n        this.http.logout();\n    }\n\n    /**\n     * Open modal to view user details\n     * @param item User to view\n     */\n    public view(item: IUser) {\n        if (this.parent) {\n            this.parent.Overlay.openModal('user-details', { data: { user: item } })\n                .then((inst: any) => inst.subscribe((event) => {\n                    if (event.type === 'close') { event.close(); }\n                }));\n        }\n    }\n\n    /**\n     * Open modal to create new user\n     * @param next Callback for events on the modal\n     */\n    public new(next?: (event: any) => void) {\n        if (this.parent) {\n            this.parent.Overlay.openModal('user-details', { data: {} })\n                .then((inst: any) => inst.subscribe((event) => {\n                    if (event.type === 'close') { event.close(); }\n                    if (next && next instanceof Function) {\n                        next(event);\n                    }\n                }));\n        }\n    }\n\n    /**\n     * Add new user\n     * @param user User data\n     */\n    public add(user: any) {\n        return new Promise<any>((resolve, reject) => {\n            const data: any = {\n                first_name: user.first_name,\n                last_name: user.last_name,\n                phone: user.phone,\n                email: user.email,\n                organisation: user.organisation,\n                organisation_id: null,\n            };\n            if (user.organisation_id) {\n                data.organisation_id = user.organisation_id;\n            }\n            const url = `${this.endpoint}`;\n            this.http.post(url, data).subscribe(() => null, (err) => {\n                reject(err);\n                this.parent.Analytics.event('Users', 'add_user_fail');\n            }, () => {\n                resolve();\n                this.parent.Analytics.event('Users', 'added_user');\n            });\n        });\n    }\n\n    /**\n     * Get location data for user\n     * @param id ID of user to find\n     * @param email Email of user to find\n     */\n    public location(id: string, email: string = id) {\n        const key = `location|${id}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                if (!this.parent || !this.parent.ready()) {\n                    return setTimeout(() => {\n                        this.promises[key] = null;\n                        this.location(id, email).then((d) => resolve(d), (e) => reject(e));\n                    }, 300);\n                }\n                if (!this.parent.Settings.get('app.users.locate') || !this.parent.Location) {\n                    this.parent.log('USER(S)', 'Locate user is disabled', null, 'warn');\n                    return reject('Locate user is disabled');\n                }\n                this.parent.Location.show(id, { desk: email }).then((loc) => {\n                    if (!loc) {\n                        this.updateUserLocation(id, {});\n                        reject('User not found');\n                        this.promises[key] = null;\n                        this.parent.Analytics.event('Users', 'locate_user_failed');\n                    } else {\n                        const u = this.item(id) || {};\n                        u.location = loc;\n                        this.parent.Analytics.event('Users', 'locate_user_success');\n                        resolve(loc);\n                        this.timeout(`clear-loc-${key}`, () => this.promises[key] = null, 1000);\n                    }\n                }, (e) => {\n                    reject(e);\n                    this.promises[key] = null;\n                    this.parent.Analytics.event('Users', 'locate_user_failed');\n                });\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Store new location data for user\n     * @param id ID of user\n     * @param data New location data\n     */\n    public updateUserLocation(id, data) {\n        const list = this.list() || [];\n        for (const user of list) {\n            if (user.id === id) {\n                user.location = data;\n            }\n        }\n    }\n\n    public availability(email: string, start?: number, end?: number) {\n        const name = `availability|${email}|${start || 'now'}|${end || 'soon'}`;\n        if (!this.promises[name]) {\n            this.promises[name] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}/${email}`;\n                this.parent.Bookings.show(email, { start, end }).then((list) => {\n                    resolve(!list || list.length <= 0);\n                    this.promises[name] = null;\n                }, (err) => {\n                    reject(err);\n                    this.promises[name] = null;\n                });\n            });\n        }\n        return this.promises[name];\n    }\n\n    /**\n     * Convert user data to local format\n     * @param user User data\n     */\n    protected processItem(user: any) {\n        if (!user) { return null; }\n        const u_org = user.organisation;\n        const org = {\n            id: typeof u_org !== 'string' && u_org ? u_org.id : user.organisation_id,\n            name: typeof u_org !== 'string' && u_org ? u_org.name : user.organisation_name || user.organisation,\n        };\n        const member: IUser = {\n            id: user.id || user.email,\n            win_id: user.email,\n            name: user.name || `${user.first_name} ${user.last_name}`,\n            first_name: user.first_name,\n            last_name: user.last_name,\n            type: user.visitor ? 'external' : user.type || 'internal',\n            image: null,\n            email: (user.email || '').toLowerCase(),\n            phone: user.phone || user.mobile,\n            b_unit: user.department,\n            lockers: user.lockers,\n            organisation_id: org.id,\n            external: user.type === 'external' || user.visitor,\n            location: user.location ? this.parent.Location.processItem(user.location) : null,\n            organisation_name: org.name,\n            staff_code: user.staff_code\n        };\n        if (member.id) {\n            member.image = user.image || `${this.parent.endpoint}/assets/users/${member.id}.png`;\n        }\n        return member;\n    }\n\n}\n","\nimport { Injectable } from '@angular/core';\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { IUser } from './users.service';\nimport { BaseService } from './base.service';\nimport { IRoom } from './rooms.service';\n\nimport * as moment from 'moment';\n\nexport interface IVisitorGroup {\n    id: string;\n    name: string;\n    room_id: string;\n    group: boolean;\n    visitors: IUser[];\n    date: number;\n    host?: IUser;\n    room?: IRoom;\n    initials?: string;\n    arrival?: string;\n    display?: any;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class VisitorsService extends BaseService {\n\n    constructor(protected http: CommsService) {\n        super();\n        this.model.name = 'visitor';\n        this.model.route = '/visitors';\n        this.subjects.list = new BehaviorSubject<IVisitorGroup[]>([]);\n        this.observers.list = this.subjects.list.asObservable();\n        this.set('timeline', {});\n    }\n\n    public add(data: any) {\n        const booking = {\n            attendees: [...(data.visitors || [])],\n            date: data.date,\n            title: data.title || data.name,\n            duration: 60,\n            room: { id: this.parent.Buildings.current().visitor_space || '' }\n        };\n        return this.parent.Bookings.add(booking);\n    }\n\n    public updateItem(id: string, data: any) {\n        const booking = {\n            id,\n            attendees: [...(data.visitors || [])],\n            date: data.date,\n            duration: 60,\n            room: { id: this.parent.Buildings.current().visitor_space || '' }\n        };\n        return this.parent.Bookings.updateItem(booking);\n    }\n\n    protected format(data: any) {\n        for (const v of (data.visitors || [])) {\n            if (v.organisation && typeof v.organisation !== 'string') {\n                v.organisation_id = (v.organisation as any).id || v.organisation_id;\n                v.organisation_name = (v.organisation as any).name || v.organisation_name;\n            } else if (v.organisation) {\n                v.organisation_name = (v.organisation as string) || v.organisation_name;\n            }\n        }\n        const now = moment();\n        const id = `${now.unix().toString()}_${Math.floor(Math.random() * 89999 + 10000).toString()}`;\n        const formatted_data: any = {\n            id,\n            group: data.visitors.length > 1,\n            visitors: data.visitors,\n            group_name: data.visitors.length === 1 ? data.visitors[0].name : data.name,\n            date: Math.floor(data.date / 1000)\n        };\n        if (data.room_id) { formatted_data.room_id = data.room_id; }\n        return formatted_data;\n    }\n\n    /**\n     * Open modal to view visitor details\n     * @param item Visitor data\n     */\n    public view(item: IVisitorGroup) {\n        if (this.parent) {\n            this.parent.Overlay.openModal('visitor-details', { data: { visitor: item } })\n                .then((inst: any) => inst.subscribe((event) => {\n                    if (event.type === 'close') { event.close(); }\n                }));\n        }\n    }\n\n    /**\n     * Open modal to create new visitor\n     * @param next Callback for events post by modal\n     */\n    public new(next?: (event: any) => void) {\n        if (this.parent) {\n            this.parent.Overlay.openModal('visitor-details', { data: {} })\n                .then((inst: any) => inst.subscribe((event) => {\n                    if (event.type === 'close') { event.close(); }\n                    if (next && next instanceof Function) {\n                        next(event);\n                    }\n                }));\n        }\n    }\n\n    /**\n     * Checkin a visitor group or individual\n     * @param id Visitor Group ID\n     * @param fields Body of the request\n     */\n    public checkin(id: string, fields?: any) {\n        return this.task(id, 'checkin', fields);\n    }\n\n    /**\n     * Get the status of a visitor group or individual\n     * @param group Visitor group to check\n     * @param user_id ID of the individual to check\n     */\n    public status(group: IVisitorGroup, user_id?: string) {\n        const key = `checkin|${group.id}|${user_id}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                let url = `${this.endpoint}/${group.id}`;\n                if (user_id) { url += `?q=${user_id}`; }\n                let value = null;\n                this.http.get(url).subscribe((d) => value = d, (e) => {\n                    reject(e);\n                    this.promises[key] = null;\n                }, () => {\n                    resolve(value);\n                    this.promises[key] = null;\n                });\n            });\n        }\n        return this.promises[key];\n    }\n\n    protected updateList(list: IVisitorGroup[], clear: boolean = false) {\n        super.updateList(list, clear);\n        const timeline = this.get('timeline') || {};\n        // Add bookings to timeline\n        for (const item of list) {\n            if (item.host && item.host.email.toLowerCase() !== this.parent.Users.current().email.toLowerCase()) {\n                continue;\n            }\n            const date = moment(item.date);\n            const day = timeline[date.format('YYYY/MM/DD')] || [];\n            for (const event of day) {\n                if ((item.id && event.id === item.id) || item.date === event.date) {\n                    day.splice(day.indexOf(event), 1);\n                    break;\n                }\n            }\n            day.push(item);\n            timeline[date.format('YYYY/MM/DD')] = day;\n        }\n        // Sort events in the timeline\n        for (const key in timeline) {\n            if (timeline.hasOwnProperty(key)) {\n                timeline[key].sort((a, b) => a.date - b.date);\n            }\n        }\n        this.set('timeline', timeline);\n        this.set('last_update', moment().valueOf());\n    }\n\n    /**\n     * Convert visitor data to local format\n     * @param item Visitor data\n     */\n    protected processItem(item: any) {\n        const group = item.visitors && item.visitors.length > 1;\n        const date = moment(item.date || item.arrival_epoch * 1000);\n        const visitor: IVisitorGroup = {\n            id: item.id,\n            group,\n            room_id: item.room_id,\n            name: 'VISITOR',\n            initials: 'VISITOR',\n            date: item.date || item.arrival_epoch * 1000,\n            arrival: date.format('h:mma'),\n            visitors: [],\n            display: {\n                arrival: date.format('h:mma'),\n                date: date.format('ddd, MMM D'),\n            }\n        };\n        let host = null;\n        if (item.host_id || item.host_email || item.user_id || item.user_email) {\n            host = this.parent.Users.item(item.host_id || item.email || item.user_email || item.user_id);\n            if (!host) {\n                this.parent.Users.show(item.host_id || item.email || item.user_email || item.user_id)\n                    .then((user) => {\n                        if (user) {\n                            visitor.host = user;\n                            this.set('list', this.get('list'));\n                        }\n                    }, () => null);\n            }\n        }\n        Object.defineProperty(visitor, 'visitors', {\n            get: () => {\n                if (!this.model.group) { this.model.group = {}; }\n                if (this.model.group[item.id] && this.model.group[item.id].length === item.visitors.length) {\n                    return this.model.group[item.id];\n                } else {\n                    const list = [];\n                    let failed = false;\n                    for (const i of (item.visitors || [])) {\n                        const v = this.parent.Contacts.item(typeof i === 'string' ? i : i.email) || this.parent.Users.processItem(i);\n                        v && typeof v !== 'string' ? list.push(v) : failed = true;\n                    }\n                    if (list.length > 0 && !failed) {\n                        this.model.group[item.id] = list;\n                    }\n                    return list.length > 0 ? list : [{ name: 'VISITOR' }];\n                }\n            }\n        });\n        Object.defineProperty(visitor, 'name', {\n            get: () => {\n                const list = visitor.visitors;\n                const name = (list && list.length > 0 ? list[0].name : 'VISITOR');\n                return group ? item.group_name || name : name;\n            }\n        });\n\n        Object.defineProperty(visitor, 'room', {\n            get: () => {\n                const room = item.room_id ? this.parent.Rooms.item(item.room_id) : { name: item.room_name } as IRoom;\n                visitor.display.room = room ? room.name : '';\n                visitor.display.level = room && room.level ? room.level.name : '';\n                return room;\n            }\n        });\n\n        Object.defineProperty(visitor, 'initials', {\n            get: () => {\n                const list = visitor.visitors;\n                const name = (list && list.length === 1 ? visitor.name : `${list.length} ${list.length === 1 ? 'person' : 'people'}`);\n                let i = name;\n                if (list.length === 1) {\n                    const parts = name.split(' ');\n                    i = '';\n                    parts.forEach((itm: string) => i += (i.length > 0 ? ' ' : '') + (itm[0] || ''));\n                }\n                return i;\n            }\n        });\n        return visitor;\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CommsService } from '@acaprojects/ngx-composer';\nimport { BehaviorSubject } from 'rxjs';\n\nimport { BaseService } from './base.service';\nimport { Utils } from '../../shared/utility.class';\n\nimport * as moment from 'moment';\n\nexport interface IZoomMeetingRequest {\n    email: string;\n    start: number;\n    end: number;\n    topic?:string;\n    agenda?: string;\n    password?:string;\n    alternative_host?:string;\n    instant: boolean;\n}\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ZoomService extends BaseService {\n\n    constructor(protected http: CommsService) {\n        super();\n        this.model.name = 'zoom';\n        this.model.route = '/zoom';\n        this.observers.list = this.subjects.list.asObservable();\n    }\n\n    /**\n     * Get Zoom details\n     * @param email email fo current user\n     */\n    public getId(email: string){\n        const key = `getkey|${email}`;\n        if (!this.promises[key]) {\n            this.promises[key] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}/?email=${email}`;\n                this.http.get(url).subscribe(\n                    (resp:any) => {\n                        this.promises[key] = null;\n                        resolve(resp);\n                    },\n                    (err) => {\n                        this.promises[key] = null;\n                        reject(err);\n                    }\n                );\n            });\n        }\n        return this.promises[key];\n    }\n\n    /**\n     * Register Meeting\n     * @param options //email of user\n     */\n    public register(options: IZoomMeetingRequest){        \n        const key = `register|${options.email}`;\n        if (!this.promises[key]) {\n            console.log('hitting zoom api');\n            this.promises[key] = new Promise((resolve, reject) => {\n                const url = `${this.endpoint}`;\n                const time = moment(options.start).valueOf();\n                const duration = moment(options.end).diff(moment(options.start), 'minutes');\n                console.log()\n                this.http.post(url, {\n                    email:options.email,\n                    start: time,\n                    duration: duration,\n                    topic: options.topic,\n                    agenda: options.agenda,\n                    password: options.password,\n                    alternative_host: options.alternative_host,\n                    instant: options.instant\n                }).subscribe(\n                    (resp: any) => {\n                        console.log('MEETING RETURN: ', resp);\n                        // const resp = this.processItem(resp);\n                        resolve(resp);\n                        this.promises[key] = null;\n                    }, (err) => {\n                        this.promises[key] = null;\n                        reject(err);\n                    }\n                );\n            });\n        }\n        return this.promises[key];\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class HotkeyService {\n    private listeners: any = {};\n    private observers: any = {};\n    private timers: any = {};\n    private key_queue: string[] = [];\n    private ignore_combinations: string[] = ['control', 'shift', 'alt', 'meta', 'os'];\n\n    constructor() {\n        this.listeners.keydown = new Subject();\n        this.observers.keydown = this.listeners.keydown.asObservable();\n        window.addEventListener('keydown', (event) => {\n            if (event.key && this.key_queue.indexOf(event.key.toLowerCase()) < 0) {\n                this.key_queue.push(event.key.toLowerCase());\n                this.listeners.keydown.next(event);\n                this.clearQueue();\n            }\n        });\n        this.listeners.keyup = new Subject();\n        this.observers.keyup = this.listeners.keyup.asObservable();\n        window.addEventListener('keyup', (event) => {\n            if (event.key && this.key_queue.indexOf(event.key.toLowerCase()) >= 0) {\n                this.postCombination();\n                this.key_queue.splice(this.key_queue.indexOf(event.key.toLowerCase()), 1);\n            }\n            this.listeners.keyup.next(event);\n        });\n    }\n\n    public listen(combination: string[] | string, next: () => void) {\n        let combo = combination instanceof Array ? combination.join('+').toLowerCase() : (combination || '').toLowerCase();\n        combo = combo.replace(/ /g, 'space');\n        if (combo && !this.listeners[combo]) {\n            this.listeners[combo] = new Subject();\n            this.observers[combo] = this.listeners[combo].asObservable();\n        }\n        return combo && this.observers[combo] ? this.observers[combo].subscribe(next) : null;\n    }\n\n    private postCombination() {\n        if (this.key_queue.length <= 1 && document.activeElement && document.activeElement.tagName !== 'BODY') { return; }\n        let combo = this.key_queue.join('+');\n        combo = combo.replace(/ /g, 'space');\n        if (this.listeners[combo] && this.ignore_combinations.indexOf(combo) < 0) {\n            this.listeners[combo].next({});\n        }\n    }\n\n    private clearQueue() {\n        if (this.timers.clear) {\n            clearTimeout(this.timers.clear);\n        }\n        this.timers.clear = setTimeout(() => {\n            this.key_queue = [];\n            this.timers.clear = false;\n        }, 1000);\n    }\n}\n","/**\n * @Author: Alex Sorafumo <Yuion>\n * @Date:   09/12/2016 3:33 PM\n * @Email:  alex@yuion.net\n * @Filename: settings.service.ts\n * @Last modified by:   Alex Sorafumo\n * @Last modified time: 03/02/2017 9:52 AM\n */\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { BehaviorSubject } from 'rxjs';\n\nimport * as moment from 'moment';\n\nconst APP_NAME = 'ACA_APP';\nconst RESERVED_KEYS = ['route', 'query', 'store'];\nconst OBSERVABLES: any[] = [\n    { name: 'loading', default: false },\n    { name: 'loading_text', default: 'Loading' },\n];\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SettingsService {\n    public parent: any = null;\n    public setup = false;\n    private store: Storage = localStorage;\n    private model: any = {\n        loading: {\n            prefix: 'Loading',\n            text: ['', '.', '..', '...'],\n            state: 0,\n        },\n        app: { name: '' },\n        subjects: {},\n        observers: {},\n        settings: {},\n    };\n    private timers: any = {};\n    private promises: any = {};\n\n    constructor(private http: HttpClient, private route: ActivatedRoute) {\n        this.model.app.name = APP_NAME;\n        for (const n of OBSERVABLES) {\n            this.model.subjects[n.name] = new BehaviorSubject(n.default);\n            this.model.observers[n.name] = this.model.subjects[n.name].asObservable();\n        }\n        this.loadStore();\n        this.init();\n    }\n\n    public init() {\n        // Load settings file\n        this.log('SYSTEM', 'Initialising Settings');\n        this.loadSettings().then((s: any) => {\n            const win = window as any;\n            if (s.app && s.app.code) {\n                this.model.app.name = s.app.code;\n            }\n            if (s.debug) {\n                win.debug = true;\n                if (!win.debug_module) {\n                    win.debug_module = [];\n                }\n                if (s.debug_module) {\n                    win.debug_module = (win.debug_module || []).concat(s.debug_module);\n                }\n                if (win.debug_module.indexOf(this.model.app.name) < 0) {\n                    win.debug_module.push(this.model.app.name);\n                }\n            }\n            this.printVersion();\n            this.setup = true;\n        }, (err: any) => setTimeout(() => this.init(), 500));\n    }\n\n    /**\n     * Prints message to the console\n     * @param  {string} type [description]\n     * @param  {string} msg    Message to print to the console\n     * @param  {string} stream IO Stream to print message to.\n     */\n    public log(type: string, msg: string, args?: any, stream: string = 'debug', force: boolean = false) {\n        const win = window as any;\n        if (win.debug || force) {\n            const colors: string[] = ['color: #E91E63', 'color: #3F51B5', 'color: rgba(#000, 0.87'];\n            if (args) {\n                console[stream](`%c[${this.model.app.name}]%c[${type}] %c${msg}`, ...colors, args);\n            } else {\n                console[stream](`%c[${this.model.app.name}]%c[${type}] %c${msg}`, ...colors);\n            }\n        }\n    }\n\n    /**\n     * Loads settings from a given JSON file\n     * @param file Name of a JSON file to load settings from\n     * @return Returns a promise which returns the settings loaded from the given file\n     */\n    public loadSettings(file: string = 'assets/settings.json') {\n        if (!this.promises[`setting(${file})`]) {\n            this.promises[`setting(${file})`] = new Promise((resolve, reject) => {\n                this.http.get(file)\n                    .subscribe(\n                        (data) => {\n                            for (const i in data) {\n                                if (data[i]) {\n                                    this.model.settings[i] = data[i];\n                                }\n                            }\n                            const win = window as any;\n                            if (win.debug && win.debug_module.indexOf(this.model.app.name) >= 0) {\n                                this.log('Settings', `Loaded settings for application`);\n                            }\n                        }, (err) => {\n                            reject(err);\n                            console.log('REJECTED', err);\n                            this.promises[`setting(${file})`] = null;\n                        }, () => {\n                            resolve(this.model.settings);\n                            this.promises[`setting(${file})`] = null;\n                        }\n                    );\n            });\n        }\n        return this.promises[`setting(${file})`];\n    }\n\n    /**\n     * Saves the given value in local storage and add it to the settings.\n     * @param  {string} key   Reference to store the item as\n     * @param  {string} value Value to store in the give key\n     * @return none\n     */\n    public save(key: string, value: string) {\n        if (this.store && RESERVED_KEYS.indexOf(key) < 0) {\n            this.store.setItem(`APP.${key}`, value);\n            this.model.settings[key] = value;\n            if (!this.model.settings.store) {\n                this.model.settings.store = {};\n            }\n            this.model.settings.store[key] = value;\n        }\n    }\n\n    /**\n     * Gets the setting value for the give key\n     * @param key Name of the setting to get\n     * @return Returns the value stored in the settings or null\n     */\n    public get(key: string) {\n        return this.getSetting(key);\n    }\n\n    public getSetting(key: string) {\n        const keys = key.split('.');\n        if (keys.length === 1) {\n            return this.model.settings[key];\n        } else {\n            const use_keys = keys.splice(1, keys.length - 1);\n            let item = this.getItemFromKeys(use_keys, this.model.settings[keys[0]]);\n                // Check that item exists under the reserved keys\n            if (item === undefined || item === null) {\n                for (const r of RESERVED_KEYS) {\n                    if (this.model.settings.hasOwnProperty(r) && this.model.settings[r] !== undefined && this.model.settings[r] !== null) {\n                        item = this.getItemFromKeys(use_keys, this.model.settings[r]);\n                        if (item === undefined && item === null) {\n                            break;\n                        }\n                    }\n                }\n            }\n            return item;\n        }\n    }\n\n    /**\n     * Gets nested setting value\n     * @param keys List of keys to iterate down the object\n     * @param root Root element of the search\n     * @return Returns the value a the end of the iteration or null\n     */\n    public getItemFromKeys(keys: string[], root: any) {\n        if (keys.length <= 0) {\n            return root;\n        }\n        if (typeof root !== 'object') {\n            return null;\n        }\n        let item = root;\n        // Iterate through keys to traverse object tree\n        for (const k of keys) {\n            // Make sure key has a value\n            if (k !== '') {\n                if (item !== undefined && item !== null && item.hasOwnProperty(k)) {\n                    item = item[k];\n                } else {\n                    return null;\n                }\n            }\n        }\n        return item;\n    }\n\n    /**\n     * Wrapper function for get()\n     * @param key Name of the setting to get\n     * @return Returns the value stored in the settings or null\n     */\n    public setting(key: string) {\n        return this.get(key);\n    }\n\n    public setProperty(name: string, value: any) {\n        if (this.model.subjects[name]) {\n            this.model.subjects[name].next(value);\n        }\n    }\n\n    public getProperty(name: string) {\n        if (this.model.subjects[name]) {\n            return this.model.subjects[name].getValue();\n        }\n        return null;\n    }\n\n    public listen(name: string, next: (value: any) => void) {\n        if (this.model.observers[name]) {\n            return this.model.observers[name].subscribe(next);\n        }\n        return null;\n    }\n    /**\n     * Sets the loading state of the application\n     * @param state Loading state of the application\n     * @return none\n     */\n    public loading(state: boolean) {\n        this.setProperty('loading', state);\n    }\n    /**\n     * Returns an object to observe the loading state of the application\n     * @return Observer which updates on the changes to the application's loading state\n     */\n    public loadingState(next: (value: any) => void) {\n        return this.listen('loading', next);\n    }\n\n    public loadingText(next: (value: any) => void) {\n        if (this.timers.loading) {\n            clearInterval(this.timers.loading);\n            this.model.loading.state = 0;\n            const state = `${this.model.loading.prefix}${this.model.loading.text[this.model.loading.state]}`;\n            this.setProperty('loading_text', state);\n        }\n        this.timers.loading = setInterval(() => {\n            const state = `${this.model.loading.prefix}${this.model.loading.text[this.model.loading.state]}`;\n            this.setProperty('loading_text', state);\n        }, 1 * 60 * 1000);\n        return this.listen('loading_text', next);\n    }\n\n    private printVersion() {\n        const now = moment();\n        const built = moment(1560497880000);\n        const build =  now.isSame(built, 'd') ? `Today at ${built.format('h:mma')}` : built.format('MMM Do, YYYY | h:mma');\n        this.log('SYSTEM', 'Version: 0.1.0', null, 'debug', true);\n        this.log('SYSTEM', `Build: ${build}`, null, 'debug', true);\n    }\n\n    /**\n     * Loads all the keys from local storage into the settings.\n     * @return none\n     */\n    private loadStore() {\n        // Load local store settings\n        if (this.store) {\n            for (let i = 0; i < this.store.length; i++) {\n                let key = this.store.key(i);\n                const item = this.store.getItem(key);\n                if (item !== undefined && item !== null && item !== '') {\n                    if (key.indexOf(`STAFF.`) === 0) {\n                        key = key.replace(`STAFF.`, '');\n                    }\n                    if (!this.model.settings.store) {\n                        this.model.settings.store = {};\n                    }\n                    this.model.settings.store[key] = item;\n                }\n            }\n        }\n    }\n}\n","<div class=\"avatar\" [style.background-color]=\"model.colour\">\n    <div class=\"initials\" *ngIf=\"user\">{{model.initials}}</div>\n    <!-- <div class=\"icon\" *ngIf=\"user.type\">\n        <div center [class]=\"'user-type ' + user?.type\"></div>\n    </div> -->\n    <!-- <div class=\"image\" *ngIf=\"user && user.id && user.image\" [style.background-image]=\"'url(' + user.image + ')'\"></div> -->\n</div>","\nimport { Component, Input, OnChanges } from '@angular/core';\n\n@Component({\n    selector: 'avatar',\n    templateUrl: './avatar.template.html',\n    styleUrls: ['./avatar.styles.scss'],\n})\nexport class AvatarComponent implements OnChanges {\n    @Input() public user: any;\n\n    public model: any = {};\n\n    constructor() {\n        this.model.colour_list = [\n            '#F44336',\n            '#E91E63',\n            '#9C27B0',\n            '#673AB7',\n            '#3F51B5',\n            '#2196F3',\n            '#03A9F4',\n            '#00BCD4',\n            '#009688',\n            '#4CAF50',\n            '#8BC34A',\n            '#CDDC39',\n            '#FDD835',\n            '#FFC107',\n            '#FF9800',\n            '#FF5722',\n            '#795548',\n            '#9E9E9E',\n            '#607D8B'\n        ];\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.user && this.user) {\n            const parts = this.user.name.split(' ');\n            let initials = '';\n            for (const p of parts) {\n                // if (initials) { initials += ' '; }\n                initials += p[0];\n            }\n            this.model.initials = initials;\n            let char_value = 0;\n            for (let i = 0; i < this.model.initials.length; i++) {\n                char_value += this.model.initials.charCodeAt(i);\n            }\n            this.model.colour = this.model.colour_list[char_value % this.model.colour_list.length];\n        }\n    }\n}\n","\nimport { Component, OnDestroy } from '@angular/core';\n\n@Component({\n    selector: 'app-base-cmp',\n    template: '',\n    styles: ['']\n})\nexport class BaseComponent implements OnDestroy {\n\n    protected subs: any = {\n        timers: {},     // Store for timers\n        intervals: {},  // Store for intervals\n        obs: {}         // Store for observables\n    };\n\n    public ngOnDestroy() {\n            // Cleanup timers\n        for (const k in this.subs.timers) {\n            if (this.subs.timers.hasOwnProperty(k)) {\n                this.clearTimer(this.subs.timers[k]);\n            }\n        }\n            // Cleanup intervals\n        for (const k in this.subs.intervals) {\n            if (this.subs.intervals.hasOwnProperty(k)) {\n                this.clearInterval(this.subs.intervals[k]);\n            }\n        }\n            // Cleanup observables\n        for (const k in this.subs.obs) {\n            if (this.subs.obs.hasOwnProperty(k) && this.subs.obs[k]) {\n                if (this.subs.obs[k] instanceof Function) {\n                    this.subs.obs[k] = null;\n                } else {\n                    this.subs.obs[k].unsubscribe();\n                }\n                this.subs.obs[k] = null;\n            }\n        }\n    }\n\n    public timeout(name: string, fn: () => void, delay: number = 300) {\n        this.clearTimer(name);\n        if (!(fn instanceof Function)) { return; }\n        this.subs.timers[name] = setTimeout(() => fn(), delay);\n    }\n\n    public clearTimer(name: string) {\n        if (this.subs.timers[name]) {\n            clearTimeout(this.subs.timers[name]);\n            this.subs.timers[name] = null;\n        }\n    }\n\n    public interval(name: string, fn: () => void, delay: number = 300) {\n        this.clearInterval(name);\n        if (!(fn instanceof Function)) { return; }\n        this.subs.intervals[name] = setInterval(() => fn(), delay);\n    }\n\n    public clearInterval(name: string) {\n        if (this.subs.intervals[name]) {\n            clearInterval(this.subs.intervals[name]);\n            this.subs.intervals[name] = null;\n        }\n    }\n}\n","<div class=\"container\" [class.edit]=\"settings?.edit\" *ngIf=\"model.initialised\">\n    <ng-container *ngFor=\"let field of model.fields\">\n        <div *ngIf=\"field.show && (!field.hide || (model.form[field.hide]))\" class=\"field\" [class.select]=\"field.type === 'select'\"\n            [class.txt]=\"field.type === 'text'\" [class.toggle]=\"field.type === 'toggle' || field.type === 'slider'\"\n            [class.error]=\"model.error[field.id]\" [class.warn]=\"(model.error[field.id] && model.error[field.id].warn)\"\n            [class.focus]=\"model.focus[field.id]\" [class.fixed]=\"field.fixed\" [class.disabled]=\"field.edit === false && settings.edit\"\n            [class.readonly]=\"field.readonly\">\n\n            <div class=\"icon\" *ngIf=\"field.icon || field.img\">\n                <i *ngIf=\"field.icon && !field.img\" [class]=\"field.icon.class\">{{field.icon.value}}</i>\n                <img *ngIf=\"field.img\" [src]=\"field.img\">\n            </div>\n            <div class=\"display\" (tap)=\"field.type === 'select' && events[field.id] ? evnt(field.id) : ''\">\n                <div class=\"label\">{{field.name}}</div>\n                <div class=\"icon\" [style.opacity]=\"model.initialised && field.type !== 'toggle' ? 1 : 0\" [class.set]=\"model.form[field.id]\"\n                    [class.required]=\"!model.error[field.id]&&(!model.form[field.id] || model.form[field.id].length === 0) && field.required\">\n                    <i class=\"material-icons\">\n                        {{model.error[field.id] ? (model.error[field.id].warn ? 'warning' : 'error') :\n                        (model.form[field.id] && model.form[field.id].length\n                        !== 0 ? 'done' : (field.required ? '*' : '')) }}\n                    </i>\n                </div>\n                <div [class]=\"'value field-' + field.type\">\n                    <div class=\"text\" *ngIf=\"field.type === 'select'\">{{model.display[field.id] ?\n                        model.display[field.id] : 'No ' + field.name + ' selected' }}</div>\n                    <div class=\"text\" *ngIf=\"field.type === 'text'\">\n                        <input-field name=\"basic\" [(model)]=\"model.form[field.id]\" [limit]=\"field.limit\" (modelChange)=\"model.error[field.id] = null; storeForm()\"\n                            [placeholder]=\"field.name\" (focus)=\"model.focus[field.id] = true\" (blur)=\"model.focus[field.id] = false\">\n                        </input-field>\n                    </div>\n                    <div class=\"text\" *ngIf=\"field.type === 'toggle'\">\n                        <toggle [options]=\"{ on_text: 'Yes', off_text: 'No' }\" [(model)]=\"model.form[field.id]\"\n                            (modelChange)=\"model.error[field.id] = null; storeForm()\"></toggle>\n                    </div>\n                    <div class=\"text\" *ngIf=\"field.type === 'slider'\">\n                        <slider [(model)]=\"model.form[field.id]\" [min]=\"field.min\" [max]=\"field.max\" [step]=\"field.step || 1\"\n                            (modelChange)=\"model.error[field.id] = null; storeForm()\"></slider>\n                        <div class=\"info\">{{model.form[field.id] || '0'}} {{field.suffix || ''}}</div>\n                    </div>\n                    <div class=\"multi\" *ngIf=\"field.type === 'multi'\">\n                        <div class=\"subfield\" *ngFor=\"let f of field.subfields\">\n                            <input-field name=\"basic\" [(model)]=\"model.form[field.id + '.' + f.id]\" [limit]=\"f.limit\"\n                                (modelChange)=\"model.error[field.id + '.' + f.id] = null; storeForm()\" [placeholder]=\"f.name\"\n                                (focus)=\"model.focus[field.id] = true\" (blur)=\"model.focus[field.id] = false\"></input-field>\n                        </div>\n                    </div>\n                    <div class=\"list\" *ngIf=\"field.type === 'list'\">\n                        <div class=\"search\" *ngIf=\"field.search\" tooltip [(show)]=\"model.show_tooltip[field.id]\" [template]=\"user_list\" [triangle]=\"false\" position=\"bottom\" offset=\"middle\">\n                            <div class=\"icon\">\n                                <i class=\"material-icons\">search</i>\n                            </div>\n                            <input [(ngModel)]=\"model.search[field.id]\" (ngModelChange)=\"search(field)\" [placeholder]=\"'Search...'\">\n                            <ng-template #user_list>\n                                <div class=\"user-list\">\n                                    <div class=\"item\" *ngFor=\"let item of (model.search_results[field.id] || []) | slice:0:5\" (touchrelease)=\"add(field, item)\">\n                                        <user-tag [model]=\"item\" [email]=\"true\"></user-tag>\n                                    </div>\n                                    <div class=\"no-item\" *ngIf=\"!model.search_results[field.id] || model.search_results[field.id].length <= 0\">\n                                        <div class=\"icon\">\n                                            <i class=\"material-icons\" *ngIf=\"!model.loading || !model.loading['searching_' + field.id]\">close</i>\n                                            <spinner *ngIf=\"model.loading && model.loading['searching_' + field.id]\" type=\"circle-ring\"></spinner>\n                                        </div>\n                                        <div class=\"text\">\n                                            {{ model.loading && model.loading['searching_' + field.id] ? 'Searching...' : 'No matches\n                                            found' }}\n                                        </div>\n                                    </div>\n                                </div>\n                            </ng-template>\n                        </div>\n                        <div class=\"item host\" *ngIf=\"field.list_type === 'users' && model.user\">\n                            <div class=\"text\">\n                                <div class=\"text\"><user-tag [model]=\"model.user\" [email]=\"true\"></user-tag></div>\n                                <div class=\"other\">\n                                    <div class=\"type\">Host</div>\n                                </div>\n                            </div>\n                            <div class=\"remove\">\n\n                            </div>\n                        </div>\n                        <div class=\"item\" *ngFor=\"let item of model.form[field.id]\">\n                            <ng-container *ngIf=\"field.list_type !== 'users'\">\n                                <div class=\"text\">{{item.name}}</div>\n                            </ng-container>\n                            <ng-container *ngIf=\"field.list_type === 'users'\">\n                                <div class=\"text\">\n                                    <div class=\"text\"><user-tag [model]=\"item\" [email]=\"true\"></user-tag></div>\n                                    <div class=\"other\">\n                                        <div class=\"type\">{{item.external ? 'External' : 'Staff'}}</div>\n                                        <div class=\"optional\"><checkbox [(model)]=\"item.optional\" label=\"Optional\"></checkbox></div>\n                                    </div>\n                                </div>\n                            </ng-container>\n                            <div class=\"remove\" (touchrelease)=\"remove(field, item)\">\n                                <i class=\"material-icons\">close</i>\n                            </div>\n                        </div>\n                        <div class=\"item new\" (touchrelease)=\"new(field)\">\n                            <div class=\"icon\">\n                                <i class=\"material-icons\">add</i>\n                            </div>\n                            <div class=\"text\">Add {{field.new_text || field.name}}</div>\n                        </div>\n                        <div class=\"item info\" *ngIf=\"field.list_type === 'users'\" (touchrelease)=\"selectAvailability()\">\n                            Find available time\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"error-info\" *ngIf=\"field.show && model.error[field.id] && model.error[field.id].message && model.initialised\">\n            {{model.error[field.id].message}}\n        </div>\n    </ng-container>\n    <ng-container *ngIf=\"model.settings && model.settings.charge\">\n        <div class=\"field disabled\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">attach_money</i>\n            </div>\n            <div class=\"display show\">\n                <div class=\"label\">Rate</div>\n                <div class=\"value\">{{ ((model.form?.room?.rate || 0) / 100) | currency }} per hour</div>\n            </div>\n        </div>\n        <div class=\"field disabled\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">attach_money</i>\n            </div>\n            <div class=\"display show\">\n                <div class=\"label\">GST</div>\n                <div class=\"value\">{{ ((model.form?.cost || 0) / 100 / 11) | currency }}</div>\n            </div>\n        </div>\n        <div class=\"field disabled\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">attach_money</i>\n            </div>\n            <div class=\"display show\">\n                <div class=\"label\">Total</div>\n                <div class=\"value\">{{ ((model.form?.cost || 0) / 100) | currency }}</div>\n            </div>\n        </div>\n    </ng-container>\n    <div class=\"week\" *ngIf=\"settings && settings.week && !model.simple\">\n        <div class=\"day\" *ngFor=\"let day of model.week\" [class.past]=\"day.past\" [class.active]=\"day.active\" (tap)=\"selectDay(day)\">\n            <div class=\"date\">{{day.date}}</div>\n            <div class=\"name\" [class.weekend]=\"day.weekend\">{{day.day}}</div>\n        </div>\n    </div>\n    <div class=\"block\" *ngIf=\"model.loan_items && model.loan_items.length > 0 && model.show && !model.simple\"\n        [class.show]=\"model.show.loan_items\">\n        <div class=\"header\">\n            <div class=\"bar\"></div>\n            <div class=\"details\" (tap)=\"toggleBlock('loan_items')\">\n                <div class=\"text\">Preferences</div>\n                <div class=\"icon\">\n                    <i class=\"material-icons\">{{model.show.loan_items ? 'keyboard_arrow_down' : 'keyboard_arrow_up'}}</i>\n                </div>\n            </div>\n            <div class=\"bar\"></div>\n        </div>\n        <div class=\"list\">\n            <checkbox *ngFor=\"let item of model.loan_items\" [(model)]=\"item.active\" (modelChange)=\"updateLoanItems()\"\n                [label]=\"item.name\"></checkbox>\n        </div>\n    </div>\n    <div class=\"block\" *ngIf=\"model.enable && model.enable.recurrence && model.show && !model.simple\" [class.show]=\"model.show.recurrence\">\n        <div class=\"header\">\n            <div class=\"bar\"></div>\n            <div class=\"details\" (tap)=\"toggleBlock('recurrence')\">\n                <div class=\"text\">Recurrence</div>\n                <div class=\"icon\">\n                    <i class=\"material-icons\">{{model.show.recurrence ? 'keyboard_arrow_down' : 'keyboard_arrow_up'}}</i>\n                </div>\n            </div>\n            <div class=\"bar\"></div>\n        </div>\n        <div class=\"list\">\n            <radioset [(model)]=\"model.form.recurr\" [list]=\"['None', 'Day', 'Week', 'Month']\" [inline]=\"true\"></radioset>\n        </div>\n        <div class=\"field\" *ngIf=\"model.form.recurr\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">event_busy</i>\n            </div>\n            <div class=\"display\">\n                <div class=\"label\" (tap)=\"selectDate('recurr_end')\">Recurrence ending:</div>\n                <div class=\"value\" (tap)=\"selectDate('recurr_end')\">\n                    <div class=\"text\">\n                        {{ model.display.recurr_end || 'Never' }}\n                    </div>\n                </div>\n                <div class=\"icon\">\n                    <i *ngIf=\"model.form.recurr_end\" (tap)=\"clearField('recurr_end')\" class=\"material-icons black\">close</i>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"block middle\" *ngIf=\"model.settings.privacy && !model.simple\">\n        <div class=\"checkbox\">\n            <checkbox class=\"n m\" [(model)]=\"model.form.private\" label=\"Private meeting?\"></checkbox>\n        </div>\n    </div>\n    <div class=\"terms\" *ngIf=\"model.settings.terms\">\n        <div class=\"details\">\n            <div class=\"label\">I accept the terms &amp; conditions*</div>\n            <div class=\"info\" (tap)=\"viewTerms()\">View terms &amp; conditions</div>\n        </div>\n        <div class=\"checkbox\">\n            <checkbox class=\"n m\" [(model)]=\"model.form.terms\"></checkbox>\n        </div>\n    </div>\n    <div class=\"error-info\" *ngIf=\"model.error.terms && model.error.terms.message\">{{model.error.terms.message}}</div>\n</div>\n","\nimport { Component, OnInit, Input, Output, EventEmitter, OnChanges } from '@angular/core';\n\nimport { FormChecks } from './form-checks.class';\nimport { AppService } from '../../../services/app.service';\n\nimport * as moment from 'moment';\nimport { BaseComponent } from '../base.component';\nimport { Utils } from '../../utility.class';\n\nexport interface IBookingFormSettings {\n    edit?: boolean;\n    week?: boolean;\n    recurrence?: boolean;\n    attendees?: number;\n    fixed?: string[];\n    hide_errors?: boolean;\n}\n\n@Component({\n    selector: 'booking-form',\n    templateUrl: './booking-form.template.html',\n    styleUrls: ['./booking-form.styles.scss']\n})\nexport class BookingFormComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public form: any = {};\n    @Input() public check: boolean;\n    @Input() public valid: boolean;\n    @Input() public settings: IBookingFormSettings = {};\n    @Input() public error: any = {};\n    @Output() public errorChange = new EventEmitter();\n    @Output() public formChange = new EventEmitter();\n    @Output() public validChange = new EventEmitter();\n    @Output() public event = new EventEmitter();\n\n    public model: any = { form: {}, error: {}, display: {} };\n\n    public events = {\n        room: () => this.event.emit('Space'),\n        attendees: () => this.event.emit('Attendees'),\n        date: () => this.selectDate(),\n        time: () => this.selectTime(true),\n        duration: () => this.selectTime(),\n        availability: () => this.selectAvailability(),\n        catering: () => this.selectCatering()\n    };\n\n    private timers: any = {};\n    private checklist: any = {};\n\n    constructor(private service: AppService) {\n        super();\n        this.model.fields = [];\n    }\n\n    public ngOnInit() {\n        this.model.focus = {};\n        this.model.search = {};\n        this.model.search_results = {};\n        this.model.show_tooltip = {};\n        this.model.form_checked = false;\n        if (!this.model.form || !this.model.form.room) {\n            this.loadForm();\n        }\n        if (!this.model.form) { this.model.form = {}; }\n        if (!this.model.show) { this.model.show = {}; }\n        if (!this.model.enable) { this.model.enable = {}; }\n        if (!this.model.form.date) {\n            const now = moment();\n            now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n            this.model.form.date = now.valueOf();\n        } else {\n            const date = moment(this.model.form.date);\n            if (date.isBefore(moment(), 'm')) {\n                const now = moment();\n                now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n                this.model.form.date = now.valueOf();\n            }\n        }\n        if (!this.model.form.duration) {\n            this.model.form.duration = this.service.Settings.get('app.booking.default_length') || 60;\n            console.log('Duration:', this.model.form.duration);\n        }\n        if (!this.model.form.recurr) { this.model.form.recurr = 0; }\n        this.model.show.recurrence = true;\n        this.subs.obs.loan_items = this.service.Buildings.listen((bld) => {\n            if (bld) {\n                this.model.loan_items = JSON.parse(JSON.stringify(bld.loan_items));\n                if (this.model.form.loan_items) {\n                    for (const i of this.model.loan_items) {\n                        i.active = this.model.form.loan_items.indexOf(i.id) >= 0;\n                    }\n                }\n            }\n        });\n        this.updateSettings();\n        this.generateWeek();\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.user = this.service.Users.current() || {};\n        this.model.settings = this.service.Settings.get('app.booking') || {};\n        this.model.field_list = this.service.Settings.get('app.booking.fields') || [];\n        this.model.fields = this.model.field_list;\n        this.model.simple = false;\n        if (this.model.form && this.model.form.room && this.model.form.room.capacity === 1) {\n            this.model.fields = [];\n            this.model.simple = true;\n            for (const f of this.model.field_list) {\n                if (f.simple) {\n                    this.model.fields.push(f);\n                }\n            }\n        }\n        this.timeout('defaults', () => {\n            for (const f of this.model.fields) {\n                if (f.default) {\n                    this.model.form[f.id] = f.default;\n                }\n            }\n        });\n        for (const f of this.model.fields) {\n            if (f.type === 'multi') {\n                this.model.form[f.id] = this.model.form[f.id] || {};\n            }\n        }\n        this.model.enable.recurrence = this.model.settings.recurrence && (!this.settings || this.settings.recurrence !== false);\n        this.model.error = {};\n        this.checklist = {\n            attendees: (list: any[]) => FormChecks.checkAttendees(\n                this.model.form.room ? this.model.form.room.capacity : 0, list,\n                this.settings.attendees || (this.model.settings ? this.model.settings.min_attendees : 1)\n            ),\n            date: (date: number) => FormChecks.checkDate(date),\n            duration: (duration: number) => FormChecks.checkTime(this.model.form.date) || FormChecks.checkDuration(duration),\n        };\n        this.storeForm();\n        this.updateDisplay();\n        setTimeout(() => this.model.initialised = true, 200);\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.form) {\n            setTimeout(() => {\n                this.model.simple = false;\n                if (this.form.room) {\n                    this.form.room = {\n                        id: this.form.room.id || '',\n                        name: this.form.room.name || '',\n                        capacity: this.form.room.capacity || 0,\n                        level: this.form.room.level || {},\n                        email: this.form.room.email || '',\n                        book_type: this.form.room.book_type || '',\n                        rate: this.form.room.rate || 0\n                    };\n                }\n                this.model.form = JSON.parse(JSON.stringify(this.form || {}));\n                if (this.model.loan_items && this.model.form.loan_items) {\n                    for (const i of this.model.loan_items) {\n                        i.active = this.model.form.loan_items.indexOf(i.id) >= 0;\n                    }\n                }\n                if (this.model.form && this.model.form.room && this.model.form.room.capacity === 1) {\n                    this.model.simple = true;\n                    this.model.fields = [];\n                    for (const f of this.model.field_list) {\n                        if (f.simple) {\n                            this.model.fields.push(f);\n                        }\n                    }\n                }\n                this.checkFields();\n                this.updateDisplay(false);\n                this.storeForm(false);\n            }, 50);\n        }\n        if (changes.check) {\n            setTimeout(() => this.checkFields(), 50);\n        }\n        if (changes.error && this.error) {\n            setTimeout(() => this.model.error = this.error, 100);\n        }\n        if (changes.settings) {\n            setTimeout(() => this.updateSettings(), 110);\n        }\n    }\n\n    public generateWeek() {\n        this.model.week = [];\n        if (!this.model.form.date) {\n            const today = moment().hours(0).minutes(0).seconds(0).milliseconds(1);\n            today.minutes(Math.ceil(today.minutes() / 5) * 5).seconds(0).milliseconds(0);\n            this.model.form.date = today.valueOf();\n        }\n        const selected = moment(this.model.form.date);\n        const date = moment(this.model.form.date);\n        const now = moment();\n        for (let i = 0; i < 7; i++) {\n            date.day(i);\n            this.model.week.push({\n                day: date.format('ddd'),\n                date: date.date(),\n                value: date.valueOf(),\n                past: date.isBefore(now, 'd'),\n                active: date.isSame(selected, 'd'),\n                weekend: i === 0 || i === 6\n            });\n        }\n    }\n\n    public selectDay(day: any) {\n        const now = moment();\n        now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n        const current = moment(this.model.form.date);\n        const new_date = moment(day.value);\n        new_date.hours(current.hours()).minutes(current.minutes());\n        if (new_date.isBefore(now)) {\n            new_date.hours(now.hours()).minutes(now.minutes());\n        }\n        this.model.form.date = new_date.valueOf();\n        this.model.error.date = null;\n        this.model.old_form = true;\n        this.generateWeek();\n        this.storeForm();\n        this.updateDisplay();\n    }\n\n    public selectDate(name: string = 'date') {\n        const now = moment();\n        now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n        if (!this.model.form[name]) {\n            this.model.form[name] = now.valueOf();\n        }\n        const date = moment(this.model.form[name]);\n        this.service.Overlay.openModal('calendar', { data: { date: this.model.form[name] } }, (event) => {\n            if (event.type === 'Accept') {\n                if (event.data.form && event.data.form.date) {\n                    const new_date = moment(event.data.form.date).hours(date.hours()).minutes(date.minutes())\n                        .seconds(0).milliseconds(0);\n                    this.model.form[name] = new_date.valueOf();\n                    this.model.error[name] = null;\n                    this.model.old_form = true;\n                }\n                this.generateWeek();\n                this.storeForm();\n                this.updateDisplay();\n            }\n            event.close();\n        });\n    }\n\n    public selectAvailability() {\n        const now = moment();\n        now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n        const date = moment(this.model.form.date);\n        this.service.Overlay.openModal('availability', { data: {\n            date: this.model.form.date,\n            duration: this.model.form.duration,\n            users: this.model.form.attendees\n        } }, (event) => {\n            if (event.type === 'Accept') {\n                if (event.data && event.data.date) {\n                    const new_date = moment(event.data.date);\n                    this.model.form.date = new_date.valueOf();\n                    this.model.form.duration = event.data.duration;\n                    this.model.form.attendees = event.data.users;\n                    this.model.error.availability = null;\n                    this.model.old_form = true;\n                }\n                this.generateWeek();\n                this.storeForm();\n                this.updateDisplay();\n            }\n            event.close();\n        });\n    }\n\n    public selectTime(simple: boolean = false) {\n        if (!this.model.form.date) {\n            const now = moment();\n            now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n            this.model.form.date = now.valueOf();\n        }\n        if (!this.model.form.duration) {\n            this.model.form.duration = this.service.Settings.get('app.booking.default_length') || 60;\n        }\n        const bkn_date = moment(this.model.form.date);\n        const bkn_end = moment(bkn_date).add(this.model.form.duration, 'm');\n        const start_time = bkn_date.format('HH:mm');\n        const end_time = bkn_end.format('HH:mm');\n        this.service.Overlay.openModal('time-period', { data: { start: start_time, end: end_time, simple } })\n            .then((inst: any) => inst.subscribe((event) => {\n                if (event.type === 'Accept') {\n                    const form = event.data.form;\n                    const new_start = form.start.split(':');\n                    const new_end = form.end.split(':');\n                    const start = moment(bkn_date);\n                    start.hours(new_start[0]).minutes(new_start[1]);\n                    if (!simple) {\n                        const end = moment(bkn_date);\n                        end.hours(new_end[0]).minutes(new_end[1]);\n                        this.model.form.duration = Math.floor(Math.abs(moment.duration(start.diff(end)).asMinutes()));\n                        this.model.error.duration = null;\n                    }\n                    this.model.form.date = start.valueOf();\n                    this.model.old_form = true;\n                    this.storeForm();\n                    this.updateDisplay();\n                }\n                event.close();\n            }));\n    }\n\n    public selectCatering() {\n        this.service.Overlay.openModal('catering', { data: { catering: this.model.form.catering } }, (event) => {\n            if (event.type === 'Accept') {\n                this.model.form.catering = event.data.cart;\n                this.updateDisplay();\n            }\n            event.close();\n        });\n    }\n\n    public checkFields() {\n        let valid = true;\n        this.model.error = {};\n        for (const f of this.model.fields) {\n            if (f.show && (!f.hide || f.hide && this.model.form[f.hide])) {\n                if (f.required && !this.model.form[f.id] && f.type !== 'multi') {\n                    this.model.error[f.id] = { message: `${f.name} ${f.name[f.name.length - 1] === 's' ? 'are' : 'is'} required` };\n                } else if (f.required && f.type === 'multi') {\n                    for (const field of f.subfields) {\n                        if (!this.model.form[`${f.id}.${field.id}`]) {\n                            this.model.error[f.id] = { message: `${f.name} ${f.name[f.name.length - 1] === 's' ? 'are' : 'is'} required` };\n                            break;\n                        }\n                    }\n                } else if (this.checklist[f.id] instanceof Function) {\n                    this.model.error[f.id] = this.checklist[f.id](this.model.form[f.id]);\n                }\n            }\n            valid = valid && !this.model.error[f.id];\n        }\n            // Check terms\n        if (this.model.settings && this.model.settings.terms && !this.model.form.terms) {\n            this.model.error.terms = { message: 'You are required to accept the terms and conditions' };\n            valid = false;\n        }\n        this.valid = valid;\n        if (this.settings && this.settings.hide_errors) {\n            this.model.error = {};\n        }\n        this.validChange.emit(this.valid);\n    }\n\n    public toggleBlock(name: string) {\n        if (!this.model.show) { this.model.show = {}; }\n        this.model.show[name] = !this.model.show[name];\n    }\n\n    public updateSettings() {\n        this.model.key = `STAFF.${this.settings && this.settings.edit ? 'edit_' : ''}booking_form`;\n    }\n\n    public clearStore() {\n        if (localStorage) { localStorage.removeItem(this.model.key); }\n    }\n\n    public storeForm(emit: boolean = true, force: boolean = false) {\n        if (this.timers.store) {\n            clearTimeout(this.timers.store);\n            this.timers.store = null;\n        }\n        if (!force) {\n            this.timers.store = setTimeout(() => this.saveForm(emit), 300);\n        } else {\n            this.saveForm(emit);\n        }\n    }\n\n    public saveForm(emit: boolean) {\n        if (!this.model.form) { return; }\n        if (localStorage && (!this.model.page || this.model.page.indexOf('result') < 0)) {\n            localStorage.setItem(this.model.key, JSON.stringify(this.model.form));\n        }\n        if (emit) {\n            this.form = JSON.parse(JSON.stringify(this.model.form));\n            this.formChange.emit(this.form);\n        }\n        this.timers.store = null;\n    }\n\n    public loadForm() {\n        if (localStorage) {\n            this.model.form = JSON.parse(localStorage.getItem(this.model.key) || '{}');\n            if (this.model.form.date) { this.model.old_form = true; }\n            if (this.model.form.loan_items) {\n                for (const i of this.model.loan_items) {\n                    i.active = this.model.form.loan_items.indexOf(i.id) >= 0;\n                }\n            }\n        }\n        this.checkAttendees();\n    }\n\n    public loadOldBooking() {\n        if (localStorage) {\n            this.model.form = JSON.parse(localStorage.getItem(this.model.key) || '{}');\n            if (this.model.form.date) { this.model.old_form = true; }\n        }\n        this.checkAttendees();\n    }\n\n    public checkAttendees() {\n        if (!this.model.error) { this.model.error = {}; }\n        if (this.checklist.attendees) {\n            this.model.error.attendees = this.checklist.attendees(this.model.form.attendees);\n        }\n    }\n\n    public clearForm() {\n        this.clearStore();\n        this.model.form = {};\n        for (const f of this.model.field_list) {\n            if (f.type === 'multi') {\n                this.model.form[f.id] = {};\n            }\n        }\n        if (!this.model.form.duration) {\n            this.model.form.duration = this.service.Settings.get('app.booking.default_length') || 60;\n        }\n        if (!this.model.form.recurr) { this.model.form.recurr = 0; }\n        const now = moment().seconds(0).milliseconds(0);\n        now.minutes(Math.ceil(now.minutes() / 5) * 5);\n        this.model.form.date = now.valueOf();\n        this.model.form_checked = false;\n        this.model.old_form = false;\n        if (this.model.loan_items) {\n            for (const i of this.model.loan_items) {\n                i.active = false;\n            }\n        }\n        this.storeForm();\n        this.updateDisplay();\n    }\n\n    public back() {\n        this.service.navigate(this.model.back || '');\n    }\n\n    public viewTerms() {\n        this.service.viewTerms();\n    }\n\n    public search(field) {\n        if (field.list_type === 'users') {\n            this.searchUsers(field.id);\n        }\n    }\n\n    public searchUsers(id: string = 'attendees') {\n        this.timeout(`search_users_${id}`, () => {\n            this.model.show_tooltip[id] = true;\n            if (!this.model.loading) { this.model.loading = {}; }\n            this.model.loading[`searching_${id}`] = true;\n            this.model.search_results = [];\n            this.service.Users.query({ q: this.model.search[id], limit: 10 }).then((list) => {\n                const fields = ['name', 'email'];\n                const user_list = list.concat(this.service.Contacts.list() || []);\n                this.model.search_results[id] = Utils.filter(this.model.search[id], user_list, fields);\n                for (const user of this.model.search_results[id]) {\n                    for (const f of fields) {\n                        if (user[`match_${f}`]) {\n                            // Format match name\n                            user[`match_${f}`] = user[`match_${f}`].replace(/\\`[a-zA-Z0-9\\@\\.\\_]*\\`/g, '<span class=\"highlight\">$&</span>');\n                            user[`match_${f}`] = user[`match_${f}`].replace(/\\`/g, '');\n                        }\n                    }\n                }\n                this.model.loading[`searching_${id}`] = false;\n            }, () => this.model.loading[`searching_${id}`] = false);\n        });\n    }\n\n    public add(field, item) {\n        if (!item) { return; }\n        if (!this.model.form[field.id]) { this.model.form[field.id] = []; }\n        if (item.match_name) { delete item.match_name; }\n        if (item.match_email) { delete item.match_email; }\n        this.model.form[field.id].push(item);\n        this.model.show_tooltip[field.id] = false;\n    }\n\n    public remove(field, item) {\n        if (!item) { return; }\n        if (this.model.form[field.id]) {\n            for (const itm of this.model.form[field.id]) {\n                if (itm.id === item.id || (item.email && item.email.toLowerCase() === (itm.email || '').toLowerCase())) {\n                    this.model.form[field.id].splice(this.model.form[field.id].indexOf(itm), 1);\n                }\n            }\n        }\n    }\n\n    public new(field) {\n        if (field.list_type === 'users') {\n            this.newUser(field.id);\n        }\n    }\n\n    public newUser(id: string) {\n        this.service.Overlay.openModal('user-details', { data: { } })\n            .then((inst: any) => inst.subscribe((event) => {\n                if (event.type === 'Success') {\n                    const form = event.data.form;\n                    const user = form.users ? form.users[0] || form : form;\n                    user.external = true;\n                    if (!this.model.form[id]) {\n                        this.model.form[id] = [];\n                    } else {\n                        for (const u of this.model.form[id]) {\n                            if (u.email === user.email) {\n                                return;\n                            }\n                        }\n                    }\n                    this.model.form[id].push(user);\n                } else {\n                    event.close();\n                }\n            }));\n    }\n\n\n    public updateFilters(filters: any) {\n        if (filters) {\n            for (const k in filters) {\n                if (filters.hasOwnProperty(k) && k !== 'room') {\n                    this.model.form[k] = filters[k];\n                }\n            }\n            this.storeForm();\n            this.updateDisplay();\n        }\n    }\n\n    public updateLoanItems() {\n        if (this.model.loan_items) {\n            this.model.form.loan_items = '';\n            for (const i of this.model.loan_items) {\n                if (i.active) {\n                    if (this.model.form.loan_items) { this.model.form.loan_items += ','; }\n                    this.model.form.loan_items += i.id;\n                }\n            }\n            this.storeForm();\n            this.updateDisplay();\n        }\n    }\n\n    public evnt(id: string) {\n        this.saveForm(true);\n        if (this.events[id] instanceof Function) { this.events[id](); }\n    }\n\n    private checkFieldConditions() {\n        for (const f of this.model.fields) {\n            f.show = true;\n            if (f.conditions) {\n                for (const key in f.conditions) {\n                    if (f.conditions.hasOwnProperty(key)) {\n                        f.show = (f.conditions[key] === this.model.settings[key] || (this.settings.edit && f.view_edit)) && f.show;\n                    }\n                }\n            }\n        }\n    }\n\n    private updateDisplay(store: boolean = true) {\n        if (this.timers.display) {\n            clearTimeout(this.timers.display);\n            this.timers.display = null;\n        }\n        this.timers.display = setTimeout(() => {\n            this.checkFieldConditions();\n            if (!this.model.user || Object.keys(this.model.user || {}).length <= 0) {\n                this.model.user = this.service.Users.current() || {};\n            }\n            const form = this.model.form || {};\n            this.model.display = {};\n            if (form.date) {\n                const date = moment(form.date);\n                this.model.display.date = date.format('dddd, Do MMMM, YYYY');\n                this.model.display.time = `${date.format('h:mma')}`;\n                if (form.duration) {\n                    const end = moment(date).add(form.duration, 'm');\n                    console.log('Duration:', form.duration);\n                    const d = Utils.humaniseDuration(form.duration);\n                    this.model.display.duration = `${date.format('h:mma')} – ${end.format('h:mma')}(${d})`;\n                }\n            }\n            if (form.recurr_end) {\n                const end = moment(form.recurr_end);\n                this.model.display.recurr_end = end.format('dddd, Do MMMM, YYYY');\n            }\n            if (form.room) {\n                this.model.display.room = form.room.long_name || form.room.name;\n                if (form.room.capacity) {\n                    this.model.display.room += `(${form.room.capacity} ${form.room.capacity === 1 ? 'Person' : 'People'})`;\n                }\n                form.cost = form.room.rate * (form.duration / 60);\n                this.storeForm(store);\n            }\n            if (this.model.user) {\n                this.model.display.organiser = this.model.user.name;\n            }\n            if (form.attendees) {\n                if (form.attendees.length > 0) {\n                    for (const u of this.model.form.attendees) {\n                        if (this.model.user && this.model.user.email === u.email) {\n                            this.model.form.attendees.splice(this.model.form.attendees.indexOf(u), 1);\n                            break;\n                        }\n                    }\n                    this.model.form.attendees.unshift(this.model.user);\n                    this.model.display.attendees = `${form.attendees.length} Attendee${form.attendees.length === 1 ? '' : 's'}; `;\n                    let start = false;\n                    for (const user of form.attendees) {\n                        if (start) {\n                            this.model.display.attendees += ', ';\n                        } else {\n                            start = true;\n                        }\n                        this.model.display.attendees += user ? user.name : 'You';\n                    }\n                    this.model.form.attendees.shift(this.model.user);\n                } else {\n                    this.model.display.attendees = `1 Attendee; ${this.model.user ? this.model.user.name || 'You' : 'You'}`;\n                }\n            } else {\n                this.model.display.attendees = `1 Attendee; ${this.model.user ? this.model.user.name || 'You' : 'You'}`;\n            }\n            if (form.catering) {\n                this.model.display.catering = `${form.catering.total} item${form.catering.total > 1 ? 's' : ''}`;\n                this.model.display.catering += `; $${(form.catering.total_price / 100).toFixed(2)}`;\n                if (form.catering.details) {\n                    this.model.display.catering += `; Dietary information included`;\n                }\n            }\n            this.timers.display = null;\n        }, 100);\n    }\n}\n","\nimport * as moment from 'moment';\n\nexport class FormChecks {\n\n    public static checkDate(d: number) {\n        const now = moment();\n        const date = moment(d);\n        if (date.isBefore(now, 'd')) {\n            return { message: 'Booking needs to be made in the future' };\n        }\n        return null;\n    }\n\n    public static checkTime(d: number) {\n        const now = moment();\n        const date = moment(d);\n        if (date.isBefore(now, 'm')) {\n            return { message: 'Booking time needs to be made in the future' };\n        }\n        return null;\n    }\n\n    public static checkDuration(len: number, min: number = 15, max: number = 480) {\n        if (len < (min || 15)) {\n            return { message: `Minimum booking duration is ${min} minute${min === 1 ? 's' : ''}` };\n        } else if (len > (max || 480)) {\n            return { message: `Maximum booking duration is ${max} minute${max === 1 ? 's' : ''}` };\n        }\n        return null;\n    }\n\n    public static checkAttendees(capacity: number, attendees: any[], min: number = 0) {\n        if (attendees) {\n            if (capacity > 0) {\n                const peeps = attendees;\n                const warn = capacity && capacity <= peeps.length;\n                if (warn) {\n                    const error = {\n                        warn,\n                        message: 'There are more attendess than the capacity of the space',\n                    };\n                    return error;\n                }\n            }\n            if (attendees.length < min) {\n                return { message: `Minimum of ${min} attendee${min > 1 ? 's' : ''} other than you is required` };\n            }\n        } else if (min > 0) {\n            return { message: `Minimum of ${min} attendee${min > 1 ? 's' : ''} other than you is required` };\n        }\n    }\n\n    constructor() {\n        throw new Error('This is a static class');\n    }\n}\n","\nimport { Component, Output, EventEmitter, OnInit } from '@angular/core';\n\nimport { AppService } from '../../../services/app.service';\nimport { IBuilding } from '../../../services/data/buildings.service';\n\n@Component({\n    selector: 'building-select',\n    templateUrl: './building-select.template.html',\n    styleUrls: ['./building-select.styles.scss']\n})\nexport class BuildingSelectComponent implements OnInit {\n    @Output() public event = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {  }\n\n    public ngOnInit() {\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.current = this.service.Buildings.current();\n        this.model.active = this.model.current;\n        this.model.buildings = this.service.Buildings.list();\n        if (!this.model.buildings || this.model.buildings.length <= 0) {\n            return setTimeout(() => this.init(), 500);\n        } else if (this.model.buildings.length === 1) {\n            this.set(this.model.buildings[0]);\n            this.select();\n        }\n        this.model.buildings.sort((a, b) => a.name.localeCompare(b.name));\n    }\n\n    public set(item: IBuilding) {\n        this.model.active = item;\n    }\n\n    public select() {\n        if (this.model.active) {\n            this.service.Buildings.set(this.model.active.id);\n            this.event.emit();\n        }\n    }\n}\n","\nimport { Component, Input, OnChanges } from '@angular/core';\n\n@Component({\n    selector: 'payment-card',\n    templateUrl: './card.template.html',\n    styleUrls: ['./card.styles.scss'],\n})\nexport class CardComponent implements OnChanges {\n    @Input() public number = '';\n    @Input() public name = '';\n    @Input() public brand = '';\n    @Input() public expiry = '';\n    @Input() public cvv = '';\n    @Input() public type = 'visa';\n    @Input() public back = false;\n\n    public number_parts: string[] = [];\n    public flip = false;\n    public show_back = false;\n\n    public ngOnChanges(changes: any) {\n        if (changes.number) {\n            this.updateNumber();\n        }\n        if (changes.back) {\n            this.flipCard();\n        }\n    }\n\n    public updateNumber() {\n        if (this.number) {\n            this.number_parts = this.number.split('-');\n        }\n    }\n\n    private flipCard() {\n        this.flip = true;\n        setTimeout(() => {\n            this.show_back = this.back;\n            setTimeout(() => this.flip = false, 250);\n        }, 250);\n    }\n}\n","<div class=\"container\" *ngIf=\"model.center\" [style.left]=\"model.center?.x + '%'\" [style.top]=\"model.center?.y + '%'\">\n    <div class=\"content\" [class.top]=\"model.center && model.center.y >= 50\" [class.bottom]=\"model.center && model.center.y < 50\"\n        [class.left]=\"model.center && model.center.x >= 50\" [class.right]=\"model.center && model.center.x < 50\">\n        <div class=\"name\" *ngIf=\"!model.loading\">\n            <span class=\"capitalise\">{{model.desk?.name || 'Unidentifed user'}}</span> is here\n        </div>\n        <div class=\"loading\" *ngIf=\"model.loading\">\n            <spinner type=\"circle-ring\"></spinner>\n        </div>\n        <div class=\"corner\"></div>\n    </div>\n</div>\n","\nimport { Component } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\n\n@Component({\n    selector: 'desk-info',\n    templateUrl: './desk-info.template.html',\n    styleUrls: ['./desk-info.styles.scss']\n})\nexport class DeskInfoComponent extends OverlayContentComponent {\n    public init() {\n        this.model.loading = true;\n        if (this.service) {\n            const mod = this.service.Systems.getModule(this.model.system, 'DeskManagement');\n            if (mod) {\n                mod.exec('desk_details', [this.model.desk_id]).then((result) => {\n                    this.model.desk = result[0];\n                    if (this.model.desk) {\n                        const name = (this.model.desk.username || this.model.desk.reserved_by || '').split('_');\n                        const username = name[name.length - 1];\n                        if (username) {\n                            this.model.desk.name = username.split('.').join(' ');\n                        }\n                    }\n                    this.model.loading = false;\n                }, () => this.close());\n            }\n        } else {\n            this.close();\n        }\n    }\n}\n","\nimport { Component, OnInit, Input, Type, SimpleChanges, OnChanges } from '@angular/core';\nimport { ViewChild, ViewContainerRef, ComponentFactoryResolver } from '@angular/core';\nimport { FormControl } from '@angular/forms';\n\nimport { BaseComponent } from '../../base.component';\nimport { BehaviorSubject } from 'rxjs';\nimport { AppService } from '../../../../services/app.service';\nimport { DynamicField } from '../dynamic-field.class';\n\nexport interface ICustomField<T> {\n    field: FormControl;\n    value: BehaviorSubject<T>;\n    set: (v: FormControl) => void;\n}\n\n@Component({\n    selector: 'custom-field',\n    templateUrl: './custom-field.template.html',\n    styleUrls: ['./custom-field.styles.scss']\n})\nexport class CustomFieldComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public field: DynamicField<any>;\n    @Input() public control: FormControl;\n    @Input() public cmp: Type<any>;\n\n    public model: any = {};\n\n    public onChange: Function;\n    public onTouch: Function;\n    public data: any = {};\n\n    @ViewChild('content', { read: ViewContainerRef }) private _content: ViewContainerRef;\n\n    constructor(private _cfr: ComponentFactoryResolver, private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() { }\n\n    public ngOnChanges(change: SimpleChanges) {\n\n    }\n\n    public render() {\n        if (!this._cfr || !this._content) {\n            return this.timeout('render', () => this.render(), 200);\n        }\n        if (this.cmp) {\n            setTimeout(() => {\n                const factory = this._cfr.resolveComponentFactory(this.model.cmp);\n                if (factory) {\n                    if (this.model.cmp) {\n                        this.model.cmp.destroy();\n                    }\n                    this.model.cmp = this._content.createComponent(factory);\n\n                    // Inject data into component instance\n                    const inst = this.model.cmp.instance;\n                    inst.set(this.control);\n                    inst.parent = this;\n                    inst.service = this.service;\n                    this.timeout('init_cmp', () => { if (inst.init) { inst.init(); } }, 50);\n                }\n            }, 10);\n        }\n    }\n}\n","\nimport { AbstractControl } from '@angular/forms';\nimport { Type } from '@angular/core';\n\nexport interface IDynamicFieldOptions<T> {\n    value?: T;\n    key?: string;\n    label?: string;\n    required?: boolean;\n    order?: number;\n    width?: string;\n    type?: string;\n    dirty?: boolean;\n    icon?: IDynamicFieldIcon;\n    validators?: ((AbstractControl) => any)[];\n    control_type?: string;\n    error_message?: string;\n    options?: any[];\n    cmp?: Type<any>;\n    children?: IDynamicFieldOptions<any>[];\n    format?: (value: T) => string;\n    action?: (value: T) => Promise<T>;\n}\n\nexport interface IDynamicFieldIcon {\n    type: 'image' | 'img' | 'icon';\n    class: string;\n    value: string;\n    src: string;\n}\n\nexport class DynamicField<T> {\n    public value: T;\n    public key: string;\n    public label: string;\n    public icon: IDynamicFieldIcon;\n    public required: boolean;\n    public order: number;\n    public width: string;\n    public type: string;\n    public dirty: boolean;\n    public options: any[];\n    public control_type: string;\n    public validators: ((AbstractControl) => any)[];\n    public error_message: string;\n    public children: IDynamicFieldOptions<any>[];\n    public cmp: Type<any>;\n    public format: (value: T) => string;\n    public action: (value: T) => Promise<T>;\n\n    constructor(options: IDynamicFieldOptions<T> = {}) {\n        this.value = options.value;\n        this.key = options.key || '';\n        this.label = options.label || '';\n        this.required = !!options.required;\n        this.order = options.order === undefined ? 1 : options.order;\n        this.width = options.width;\n        this.type = options.type || '';\n        this.control_type = options.control_type || '';\n        this.icon = options.icon;\n        this.validators = options.validators;\n        this.format = options.format;\n        this.action = options.action;\n        this.options = options.options;\n        this.children = options.children;\n        this.dirty = options.dirty;\n        this.cmp = options.cmp;\n    }\n}\n\nexport class StringValueField extends DynamicField<string> { }\nexport class NumberValueField extends DynamicField<number> { }\nexport class ArrayValueField extends DynamicField<any[]> { }\n","import { Component, Input } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\n\nimport { DynamicField } from '../dynamic-field.class';\n\n@Component({\n    selector: 'dynamic-field',\n    templateUrl: './dynamic-field.template.html',\n    styleUrls: ['./dynamic-field.styles.scss']\n})\nexport class DynamicFormFieldComponent {\n    @Input() field: DynamicField<any>;\n    @Input() form: FormGroup;\n\n    get isValid() {\n        const control = this.form && this.form.controls ? this.form.controls[this.field.key] : null;\n        return control ? control.valid : false;\n    }\n\n    get errors() {\n        const control = this.form && this.form.controls ? this.form.controls[this.field.key] : null;\n        return control ? control.errors : false;\n    }\n\n    get dirty() {\n        const control = this.form && this.form.controls ? this.form.controls[this.field.key] : null;\n        return control ? control.dirty : false;\n    }\n\n    get format() {\n        const control = this.form && this.form.controls ? this.form.controls[this.field.key] || { value: null } : { value: null };\n        return this.field.format ? this.field.format(control.value) : control.value;\n    }\n\n    get value() {\n        const control = this.form && this.form.controls ? this.form.controls[this.field.key] || { value: null } : { value: null };\n        return control.value;\n    }\n\n    public performAction() {\n        const control = this.form && this.form.controls ? this.form.controls[this.field.key] : { value: null };\n        if (this.field.action) {\n            this.field.action(control.value)\n                .then((new_value) => this.form.controls[this.field.key].setValue(new_value));\n        }\n    }\n}\n","\nimport { Component, Input, Output, OnChanges, EventEmitter, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\nimport { BaseComponent } from '../base.component';\nimport { DynamicField } from './dynamic-field.class';\nimport { Subscription } from 'rxjs';\n\n@Component({\n    selector: 'dynamic-form',\n    templateUrl: './dynamic-form.template.html',\n    styleUrls: ['./dynamic-form.styles.scss']\n})\nexport class DynamicFormComponent extends BaseComponent implements OnChanges, OnInit {\n    @Input() public fields: DynamicField<any>[] = [];\n    @Input() public validate: boolean;\n    @Output() public form = new EventEmitter();\n    @Output() public valid = new EventEmitter();\n\n    public form_group: FormGroup;\n    public changes: Subscription;\n\n    public ngOnInit() {\n        this.form_group = this.makeFormGroup();\n        this.subChanges();\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.fields) {\n            this.form_group = this.makeFormGroup();\n            this.subChanges();\n        }\n        if (changes.validate) {\n            this.checkValid(true);\n        }\n    }\n\n    public makeFormGroup() {\n        const group: any = {};\n\n        const handleItem = item => {\n            let validators = [];\n            if (item.required) { validators.push(Validators.required); }\n            if (item.validators && item.validators.length > 0) {\n                validators = [...validators, ...item.validators];\n            }\n            if (item.children) {\n                item.children.forEach(handleItem);\n            }\n            group[item.key] = validators && validators.length > 0 ? new FormControl(item.value || '', validators)\n                : new FormControl(item.value || '');\n            if (item.dirty) { group[item.key].setDirty(); }\n        };\n\n        if (this.fields && this.fields instanceof Array) {\n            this.fields.forEach(handleItem);\n        }\n        return new FormGroup(group);\n    }\n\n    public subChanges() {\n        if (this.changes) {\n            this.changes.unsubscribe();\n            this.changes = null;\n        }\n        this.changes = this.form_group.valueChanges.subscribe(() => this.checkValid());\n    }\n\n    public checkValid(mark: boolean = false) {\n        let valid = true;\n        if (this.form_group) {\n            Object.keys(this.form_group.controls).forEach(key => {\n                const item = this.form_group.controls[key];\n                if (item.invalid) { valid = false; }\n                if (mark) { item.markAsTouched(); }\n            });\n        }\n        if (valid) { this.emitForm(); }\n        this.valid.emit(valid);\n    }\n\n    public emitForm() {\n        const form_data: any = {};\n        if (this.form_group) {\n            Object.keys(this.form_group.controls).forEach(key => {\n                const item = this.form_group.controls[key];\n                form_data[key] = item.value;\n            });\n        }\n        this.form.emit(form_data);\n    }\n}\n","\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { WidgetsModule } from '@acaprojects/ngx-widgets';\n\nimport { DynamicFormComponent } from './dynamic-form.component';\nimport { DynamicFormFieldComponent } from './dynamic-field/dynamic-field.component';\nimport { CustomFieldComponent } from './custom-field/custom-field.component';\n\nconst COMPONENTS: any[] = [\n    DynamicFormComponent,\n    DynamicFormFieldComponent,\n    CustomFieldComponent\n];\n\nconst ENTRY_COMPONENTS: any[] = [];\n\n@NgModule({\n    declarations: [\n        ...COMPONENTS,\n        // ...ENTRY_COMPONENTS\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        WidgetsModule\n    ],\n    exports: [\n        ...COMPONENTS,\n        // ...ENTRY_COMPONENTS\n    ],\n    entryComponents: [\n        // ...ENTRY_COMPONENTS\n    ]\n})\nexport class DynamicFormComponentModule { }\n","\nimport { Component } from '@angular/core';\n\n@Component({\n    selector: 'forgot-pass-form',\n    templateUrl: './forgot-pass-form.template.html',\n    styleUrls: ['./forgot-pass-form.styles.scss']\n})\nexport class ForgotPassFormComponent {\n\n}\n\n","\nimport { LoginComponent } from './login.component';\nimport { ForgotPassFormComponent } from './forgot-pass-form/forgot-pass-form.component';\nimport { RegisterFormComponent } from './register-form/register-form.component';\nimport { LoginFormComponent } from './login-form/login-form.component';\n\nexport const LOGIN_COMPONENTS: any[] = [\n    LoginComponent,\n    LoginFormComponent,\n    RegisterFormComponent,\n    ForgotPassFormComponent\n];\n","<div class=\"container\">\n    <form name=\"login\">\n        <div class=\"field\">\n            <input-field [(model)]=\"form.user\" [placeholder]=\"model.user_field || 'Email'\"></input-field>\n        </div>\n        <div class=\"field\">\n            <input-field [type]=\"model.show_pass ? 'text' : 'password'\" [(model)]=\"form.pass\" [placeholder]=\"model.user_field || 'Password'\"></input-field>\n        </div>\n        <div class=\"forgot\" *ngIf=\"!model.settings || model.settings.forgot !== false\" (tap)=\"forgot()\">Forgot?</div>\n        <div class=\"options\">\n            <btn type=\"submit\" (tapped)=\"login()\">Login</btn>\n        </div>\n    </form>\n</div>","\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { AppService } from '../../../../services/app.service';\n\n@Component({\n    selector: 'login-form',\n    templateUrl: './login-form.template.html',\n    styleUrls: ['./login-form.styles.scss']\n})\nexport class LoginFormComponent {\n    @Input() public form: any = {};\n    @Output() public event = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) { }\n\n    public ngOnInit() {\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.settings = this.service.Settings.get('app.login') || {};\n    }\n\n    public login() {\n        this.event.emit({ type: 'login', form: this.form });\n    }\n\n    public forgot() {\n        this.event.emit({ type: 'forgot' });\n    }\n}\n\n","<div class=\"container\">\n    <div class=\"login-container\">\n        <div class=\"logo\" [style.background]=\"(model.logo ? model.logo.background : '') | safestyle\">\n            <img *ngIf=\"model.logo && (model.logo.type==='image' || model.logo.type==='img')\" [src]=\"model.logo.src\" alt=\"Logo\">\n            <i *ngIf=\"model.logo && (model.logo.type!=='image' && model.logo.type!=='img')\" [class]=\"model.logo.src\"></i>\n            \n        </div>\n        <div class=\"form\" *ngIf=\"!model.loading && !model.external_prompt\">\n            <login-form *ngIf=\"model.show === 'login'\" (event)=\"processLogin($event)\"></login-form>\n            <register-form *ngIf=\"model.show === 'register'\"></register-form>\n            <forgot-pass-form *ngIf=\"model.show === 'forgot'\"></forgot-pass-form>\n        </div>\n        <div class=\"loader\" *ngIf=\"!model.loading && model.external_prompt\">\n        <div class=\"icon\">\n            <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .54)\"></spinner>\n            </div>\n            <div class=\"text\">\n                Waiting for external Auth...\n            </div>  \n        </div>\n        <div class=\"loader\" *ngIf=\"model.loading\">\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .54)\"></spinner>\n            </div>\n            <div class=\"text\">\n                Loading user data...\n            </div>\n        </div>\n    </div>\n</div>","\nimport { Component, OnInit } from '@angular/core';\nimport { AppService } from '../../../services/app.service';\n\n@Component({\n    selector: 'login-display',\n    templateUrl: './login.template.html',\n    styleUrls: ['./login.styles.scss']\n})\nexport class LoginComponent implements OnInit {\n    public model: any = {};\n\n    constructor(private service: AppService) {}\n\n    public ngOnInit() {\n        this.model.show = 'login';\n        this.model.loading = true;\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 200);\n        }\n        this.model.logo = this.service.Settings.get('app.logo');\n        this.service.Users.listen('state', (state) => {\n            this.model.loading = false;\n            if (state === 'invalid') {\n                this.model.show = 'login';\n            } else if (state === 'loading') {\n                this.model.loading = true;\n            }\n\n            //check if prompting for external auth\n            if (!this.service.Settings.get('mock') && !this.service.Settings.get('composer.local_login')){\n                this.model.external_prompt = true;\n            }\n\n        });\n    }\n\n    public processLogin(e: any) {\n        if (e.type === 'login') {\n            this.service.Users.login({\n                username: e.form.user,\n                password: e.form.pass\n            });\n        } else if (e.type === 'forgot') {\n            this.model.show = 'forgot';\n        } else {\n            this.model.show = 'login';\n        }\n    }\n}\n\n","\nimport { Component } from '@angular/core';\n\n@Component({\n    selector: 'register-form',\n    templateUrl: './register-form.template.html',\n    styleUrls: ['./register-form.styles.scss']\n})\nexport class RegisterFormComponent {\n\n}\n\n","<div class=\"container\" *ngIf=\"model.center\" [style.left]=\"model.center?.x + '%'\" [style.top]=\"model.center?.y + '%'\">\n    <div class=\"content\" [class.top]=\"model.center && model.center.y >= 50\" [class.bottom]=\"model.center && model.center.y < 50\"\n        [class.left]=\"model.center && model.center.x >= 50\" [class.right]=\"model.center && model.center.x < 50\">\n        <div class=\"name\">{{model.room?.name}}</div>\n        <div class=\"capacity\" *ngIf=\"model.room && model.room.capacity\">Capacity: {{model.room?.capacity}} {{model.room?.capacity === 1 ? 'Person' : 'People'}}</div>\n        <div class=\"free\" [class.available]=\"model.available\" [class.non-bookable]=\"model.room && !model.room.bookable\">\n            {{ model.room && !model.room.bookable ? 'Not Bookable' : model.display.time }}\n        </div>\n        <div class=\"equipment\" *ngIf=\"model.room && model.room.extras && model.room.extras.length > 0\">\n            <div class=\"header\">Equipment:</div>\n            <ul>\n                <li *ngFor=\"let item of model.room.extras\">{{item.name}}</li>\n            </ul>\n        </div>\n        <div class=\"corner\"></div>\n    </div>\n</div>","\nimport { Component } from '@angular/core';\nimport { OverlayContentComponent } from '@acaprojects/ngx-widgets';\n\n@Component({\n    selector: 'room-info',\n    templateUrl: './room-info.template.html',\n    styleUrls: ['./room-info.styles.scss']\n})\nexport class RoomInfoComponent extends OverlayContentComponent {\n\n}\n","<div class=\"searchbar\" widget>\n    <div class=\"field\">\n        <div class=\"icon\">\n            <i class=\"material-icons\">search</i>\n        </div>\n        <div class=\"input\">\n            <input #input [(ngModel)]=\"filter\" (ngModelChange)=\"post()\"\n                (focus)=\"model.focus = true; focus.emit($event)\"\n                (blur)=\"model.focus = false; blur.emit($event)\"\n                [placeholder]=\"placeholder\">\n        </div>\n        <div class=\"icon\" *ngIf=\"model.speech && dictation\" [class.active]=\"model.dictate\" (tap)=\"startDictation()\">\n            <i class=\"material-icons\">mic</i>\n        </div>\n        <div class=\"icon close\" *ngIf=\"filter && clearable\" (tap)=\"clear()\">\n            <i class=\"material-icons\">close</i>\n        </div>\n        <ng-content></ng-content>\n    </div>\n</div>\n","\nimport { Component, Input, Output, EventEmitter, OnInit, ViewChild, ElementRef } from '@angular/core';\n\nimport { BaseComponent } from '../base.component';\n\n@Component({\n    selector: 'searchbar',\n    templateUrl: './searchbar.template.html',\n    styleUrls: ['./searchbar.styles.scss']\n})\nexport class SearchbarComponent extends BaseComponent {\n    @Input() public filter: string;\n    @Input() public limit: string;\n    @Input() public dictation = true;\n    @Input() public clearable = true;\n    @Input() public placeholder = 'Search...';\n    @Output() public filterChange = new EventEmitter();\n    @Output() public focus = new EventEmitter();\n    @Output() public blur = new EventEmitter();\n\n    public model: any = {};\n\n    @ViewChild('input') private input: ElementRef;\n\n    constructor() {\n        super();\n        const win = window as any;\n        this.model.speech = !!(win.SpeechRecognition || win.webkitSpeechRecognition);\n    }\n\n    /**\n     * Activate dictation search\n     */\n    public startDictation() {\n        if (!this.input) { return; }\n        if (this.model.recognition) {\n            this.model.recognition.stop();\n            this.model.dictate = false;\n            this.model.recognition = null;\n            return;\n        }\n        const win = self as any;\n        const Speech: any = win.SpeechRecognition || win.webkitSpeechRecognition;\n        if (Speech) {\n            this.model.recognition = new Speech();\n\n            this.model.recognition.continuous = false;\n            this.model.recognition.interimResults = false;\n\n            this.model.recognition.lang = 'en-US';\n            this.model.recognition.start();\n            this.model.dictate = true;\n\n            this.model.recognition.onresult = (e: any) => {\n                    // Update search field with dictation result\n                this.input.nativeElement.value = e.results[0][0].transcript;\n                this.model.search = e.results[0][0].transcript;\n                this.model.recognition.stop();\n                this.post();\n                this.model.dictate = false;\n            };\n\n            this.model.recognition.onerror = (e: any) => {\n                this.model.recognition.stop();\n                this.model.dictate = false;\n            };\n        }\n    }\n\n    public clear() {\n        this.filter = '';\n        this.post();\n    }\n\n    public post() {\n        this.checkLimitations();\n        this.timeout('post', () => {\n            this.filterChange.emit(this.filter);\n        });\n    }\n\n    public checkLimitations() {\n        if (!this.limit) { return; }\n        for (let i = 0; i < (this.filter || '').length; i++) {\n            if (this.limit.indexOf(this.filter[i]) >= 0) {\n                this.filter = this.filter.substr(0, i) + this.filter.substr(i + 1);\n                i--;\n            }\n        }\n    }\n}\n","\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { WidgetsModule } from '@acaprojects/ngx-widgets';\n\nimport { BaseComponent } from './base.component';\nimport { BookingFormComponent } from './booking-form/booking-form.component';\nimport { BuildingSelectComponent } from './building-select/building-select.component';\nimport { CardComponent } from './card/card.component';\nimport { LOGIN_COMPONENTS } from './login';\nimport { RoomInfoComponent } from './room-info/room-info.component';\nimport { TimelineComponent } from './timeline/timeline.component';\nimport { UserFormComponent } from './user-form/user-form.component';\nimport { USER_SEARCH_COMPONENTS } from './user-search';\nimport { VisitorFormComponent } from './visitor-form/visitor-form.component';\nimport { SearchbarComponent } from './searchbar/searchbar.component';\nimport { DeskInfoComponent } from './desk-info/desk-info.component';\nimport { UserAvailabilityComponent } from './user-availability/user-availability.component';\nimport { AvatarComponent } from './avatar/avatar.component';\nimport { UserTagComponent } from './user-tag/user-tag.component';\nimport { TermsDisplayComponent } from './terms-display/terms-display.component';\n\nimport { DynamicFormComponentModule } from './dynamic-form/dynamic-form.module';\n\nconst COMPONENTS: any[] = [\n    BaseComponent,\n    AvatarComponent,\n    BookingFormComponent,\n    BuildingSelectComponent,\n    CardComponent,\n    ...LOGIN_COMPONENTS,\n    SearchbarComponent,\n    TimelineComponent,\n    UserFormComponent,\n    ...USER_SEARCH_COMPONENTS,\n    VisitorFormComponent,\n    UserAvailabilityComponent,\n    UserTagComponent,\n    TermsDisplayComponent\n];\n\nconst ENTRY_COMPONENTS: any[] = [\n    RoomInfoComponent,\n    DeskInfoComponent,\n];\n\n@NgModule({\n    declarations: [\n        ...COMPONENTS,\n        ...ENTRY_COMPONENTS\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        WidgetsModule,\n        DynamicFormComponentModule\n    ],\n    exports: [\n        ...COMPONENTS,\n        ...ENTRY_COMPONENTS,\n        DynamicFormComponentModule\n    ],\n    entryComponents: [\n        ...ENTRY_COMPONENTS\n    ]\n})\nexport class SharedComponentModule { }\n","<div class=\"container\">\n    <div class=\"logo\" [style.background]=\"(model.logo ? model.logo.background : '') | safestyle\">\n        <img *ngIf=\"model.logo && (model.logo.type==='image' || model.logo.type==='img')\" alt=\"Logo\" [src]=\"model.logo.src\">\n        <i *ngIf=\"model.logo && (model.logo.type!=='image' && model.logo.type!=='img')\" [class]=\"model.logo.src\"></i>\n    </div>\n    <div class=\"header\">\n        Terms &amp; Conditions\n    </div>\n    <div class=\"body\">\n        <ng-container>\n            <div class=\"item\" *ngFor=\"let item of model.terms\">\n                <div class=\"heading\">{{item.title}}</div>\n                <div class=\"content\">{{item.details}}</div>\n            </div>\n        </ng-container>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\nimport { BaseComponent } from '../base.component';\nimport { AppService } from '../../../services/app.service';\n\n@Component({\n    selector: 'terms-display',\n    templateUrl: './terms-display.template.html',\n    styleUrls: ['./terms-display.styles.scss']\n})\nexport class TermsDisplayComponent extends BaseComponent implements OnInit {\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init());\n        }\n        this.model.logo = this.service.Settings.get('app.logo');\n        this.subs.obs.bld = this.service.Buildings.listen((bld) => {\n            if (bld) {\n                this.model.terms = bld.terms;\n            }\n        });\n    }\n}\n","<div class=\"timeline\">\n    <div class=\"events\">\n        <div class=\"event\" *ngFor=\"let e of events\" [style.left]=\" (100 / (block_count / blocks) * (e.start_hours - start)) + '%'\"\n            [style.width]=\"(100 / (block_count / blocks) * e.duration / 60) + '%'\">\n        </div>\n    </div>\n    <div class=\"event booking\" [class.move]=\"moving\" *ngIf=\"booking\" [style.left]=\" (100 / (block_count / blocks) * (booking.start_hours - start)) + '%'\"\n        [style.width]=\"(100 / (block_count / blocks) * booking.duration) + '%'\" (panstart)=\"startMove($event)\"\n        (panmove)=\"move($event)\" (panend)=\"endMove($event)\">\n    </div>\n    <div class=\"blocks\">\n        <div class=\"block\" *ngFor=\"let b of block_list; let i = index\" [style.left]=\"(100 / (block_count) * (i)) + '%'\">\n            <div class=\"bar\" [class.hour]=\"b.is_hour\"></div>\n            <div class=\"hour-display\" *ngIf=\"b.is_hour&&b.h!==start&&b.h!==end\">{{b.h}}</div>\n        </div>\n    </div>\n    <div class=\"now\" *ngIf=\"now\" [style.left]=\" (100 / (block_count / blocks) * (now_time - start)) + '%'\">\n        <div class=\"triangle\"></div>\n        <div class=\"line\"></div>\n    </div>\n</div>\n","\nimport { Component, ElementRef, EventEmitter, Input, Output, OnInit, OnDestroy, OnChanges, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\n\nimport * as moment from 'moment';\nimport { BaseComponent } from '../base.component';\n\n@Component({\n    selector: 'timeline',\n    templateUrl: './timeline.template.html',\n    styleUrls: ['./timeline.styles.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TimelineComponent extends BaseComponent implements OnInit, OnDestroy, OnChanges {\n    @Input() public events: any[] = [];\n    @Input() public booking: any = null;\n    @Input() public start = 7;\n    @Input() public end = 19;\n    @Input() public now = true;\n    @Input() public blocks = 2; // Number of blocks display for each hour e.g. 2 would display as 2 30 minute blocks per hour\n    @Output() public overlap: any = new EventEmitter();\n    @Output() public update: any = new EventEmitter();\n\n    public block_count = 24;\n    public block_list: any[] = [];\n    public now_time = 8;\n    public now_timer: any = null;\n    public moving = false;\n\n    private rect: any = {};\n    private event_sig: string = '';\n\n    constructor(private el: ElementRef, private cdr: ChangeDetectorRef) {\n        super();\n        this.start = moment().hours();\n        if (this.start >= 12) {\n            this.start = 11;\n        }\n        if (this.end <= this.start || this.end > 23) {\n            this.end = this.start + 12;\n        }\n    }\n\n    public ngOnInit() {\n        this.updateTime();\n        this.initBlocks();\n        this.interval('time', () => this.updateTime(), 60 * 1000);\n    }\n\n    public ngOnDestroy() {\n        if (this.now_timer) {\n            clearInterval(this.now_timer);\n            this.now_timer = null;\n        }\n    }\n\n    public updateTime() {\n        const now = moment();\n        this.now_time = now.hour() + (now.minute() / 60);\n        this.cdr.markForCheck();\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.start || changes.end || changes.blocks) {\n            if (this.start >= 12) {\n                this.start = 11.5;\n            }\n            if (this.end <= this.start || this.end > 23) {\n                this.end = this.start + 12;\n            }\n            this.block_count = (this.end - this.start) * this.blocks + 1;\n            this.initBlocks();\n        }\n    }\n\n    public startMove(event: any) {\n        this.rect = this.el.nativeElement.getBoundingClientRect();\n        this.moving = true;\n    }\n\n    public move(event: any) {\n        const c = event.center;\n        const pos = { x: c.x - this.rect.left, y: c.y - this.rect.top };\n        const time = this.end - this.start;\n        if (pos.x < 0) {\n            pos.x = 0;\n        } else if (pos.x > this.rect.width) {\n            pos.x = this.rect.width;\n        }\n        const ratio = pos.x / this.rect.width;\n        const start = Math.floor((this.start + (ratio * time)) * (this.blocks * 2)) / (this.blocks * 2);\n        this.booking.start_hours = start;\n    }\n\n    public endMove(event: any) {\n        this.moving = false;\n        this.update.emit(this.booking);\n    }\n\n    private initBlocks() {\n        this.timeout('blocks', () => {\n            console.log('Init:');\n            this.block_list = [];\n            for (let i = 0; i <= this.block_count; i++) {\n                const pos = i / this.blocks;\n                let time = (this.start + pos) % 12;\n                if (time === 0) {\n                    time = 12;\n                }\n                this.block_list.push({\n                    i: pos,\n                    h: time,\n                    is_hour: time === Math.floor(time),\n                });\n            }\n            this.cdr.markForCheck();\n        }, 10);\n    }\n}\n","<div class=\"container\" (window:resize)=\"checkSize()\" (window:mouseup)=\"model.move = ''\" (window:touchend)=\"model.move = ''\">\n    <div class=\"topbar\">\n        <div class=\"actions\">\n            <div class=\"back\" (touchrelease)=\"back()\">\n                <i class=\"material-icons\">keyboard_arrow_left</i>\n                <div class=\"text\">Back</div>\n            </div>\n            <div class=\"flex\"></div>\n            <div class=\"accept\" (touchrelease)=\"accept()\">\n                <div class=\"text\">Accept</div>\n                <i class=\"material-icons\">done</i>\n            </div>\n        </div>\n        <div class=\"search\" tooltip [(show)]=\"model.show\" [template]=\"user_list\" [triangle]=\"false\" position=\"bottom\"\n            offset=\"middle\">\n            <searchbar [dictation]=\"false\" [(filter)]=\"model.search\" (filterChange)=\"search()\" placeholder=\"Search for a person here...\"\n                (focus)=\"show()\" (blur)=\"hide()\"></searchbar>\n            <ng-template #user_list>\n                <div class=\"user-list\">\n                    <div class=\"item\" *ngFor=\"let item of (model.search_results || [])\" (touchrelease)=\"add(item)\">\n                        <user-tag [model]=\"item\" [email]=\"true\"></user-tag>\n                    </div>\n                    <div class=\"no-item\" *ngIf=\"!model.search_results || model.search_results.length <= 0\">\n                        <div class=\"icon\">\n                            <i class=\"material-icons\" *ngIf=\"!model.loading || !model.loading.searching\">close</i>\n                            <spinner *ngIf=\"model.loading && model.loading.searching\" type=\"circle-ring\"></spinner>\n                        </div>\n                        <div class=\"text\">\n                            {{ model.loading && model.loading.searching ? 'Searching...' : 'No matches found' }}\n                        </div>\n                    </div>\n                </div>\n            </ng-template>\n        </div>\n    </div>\n    <div class=\"date-select\">\n        <div class=\"zone\">\n            <btn class=\"min-reduce\" (tapped)=\"selectTimezone()\"><span>Add zone</span></btn>\n        </div>\n        <div class=\"date-group\" tooltip [template]=\"calendar\" [(show)]=\"model.show_calendar\" position=\"bottom\">\n            <div class=\"date\" (touchrelease)=\"model.show_calendar = true\">{{model.date}}</div>\n            <div class=\"icon\" (touchrelease)=\"model.show_calendar = true\" >\n                <i class=\"material-icons\">event</i>\n                <ng-template #calendar>\n                    <calendar name=\"themed\" [(date)]=\"date\" (dateChange)=\"changeDate()\"></calendar>\n                </ng-template>\n            </div>\n        </div>\n        <div class=\"change-date\">\n            <btn klass=\"min-reduce group-item n1\" [disabled]=\"model.today\" (tapped)=\"changeDay(-1)\">Prev</btn>\n            <btn klass=\"min-reduce group-item nl\" (tapped)=\"changeDay(1)\">Next</btn>\n        </div>\n    </div>\n    <div class=\"body\" [class.vertical]=\"model.vertical\" (mousemove)=\"move($event)\" (touchmove)=\"move($event)\">\n        <div class=\"calendar\">\n            <div class=\"header-block\">\n                <div class=\"timeblocks\">\n                    <div class=\"text not-mobile\">{{model.current_timezone}}</div>\n                    <div class=\"text mobile\">{{model.short_timezone}}</div>\n                </div>\n                <div class=\"event-block\" #header (scroll)=\"updateContent()\">\n                    <div class=\"header host\" *ngIf=\"host\">\n                        <div class=\"text\" [title]=\"host.email\">{{host.name}}</div>\n                        <div class=\"info\">Host</div>\n                        <div class=\"remove\">\n                            <spinner *ngIf=\"model.loading && model.loading[host.id]\" type=\"circle-ring\"></spinner>\n                        </div>\n                    </div>\n                    <div class=\"group\" *ngFor=\"let grp of model.groups\">\n                        <div class=\"blk\" *ngIf=\"grp !== 'None'\">\n                            <div class=\"text not-mobile\">{{this.model.tz_data[grp].name}}</div>\n                            <div class=\"text mobile\">{{this.model.tz_data[grp].short_name}}</div>\n                            <div class=\"remove\" (touchrelease)=\"removeTimezone(grp)\">\n                                <i class=\"material-icons\">close</i>\n                            </div>\n                        </div>\n                        <div class=\"header\" *ngFor=\"let usr of model.group_list[grp]\">\n                            <div class=\"text\" [title]=\"usr.email\">{{usr.name}}</div>\n                            <div class=\"info\">\n                                <!-- <checkbox *ngIf=\"!host || usr.email !== host.email\" [(model)]=\"usr.optional\"\n                                    (modelChange)=\"updateState(usr)\" label=\"Optional\"></checkbox> -->\n                                <span *ngIf=\"host && usr.email === model.user.email\">Requester</span>\n                            </div>\n                            <div class=\"remove\" (touchrelease)=\"!model.loading || !model.loading[usr.id] ? remove(usr) : ''\">\n                                <i class=\"material-icons\" *ngIf=\"!model.loading || !model.loading[usr.id]\">close</i>\n                                <spinner *ngIf=\"model.loading && model.loading[usr.id]\" type=\"circle-ring\"></spinner>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"calendar\" #cal>\n                <div class=\"content\">\n                    <div class=\"lines\">\n                        <div class=\"block\" *ngFor=\"let item of model.blocks\"\n                            [style.width]=\"model.vertical ? (100 / model.blocks.length) + '%' : ''\"\n                            [style.height]=\"!model.vertical ? (100 / model.blocks.length) + '%' : ''\"\n                            [class.hour]=\"item.hour\"></div>\n                    </div>\n                    <div class=\"event-group filler\" *ngIf=\"model.user\">\n                        <div class=\"block\" *ngFor=\"let item of (model.events[model.user.id] || [])\" [style.z-index]=\"item['z-index']\"\n                            [class.in-use]=\"model.user_blocks[item.time]\" (touchpress)=\"!model.user_blocks[item.time] ? setTime(item, true) : ''\">\n                        </div>\n                    </div>\n                    <div class=\"overlap\">\n                        <div class=\"current-time\" *ngIf=\"model.today\"\n                            [style.left]=\"model.vertical ? (model.time * 100) + '%' : ''\"\n                            [style.top]=\"!model.vertical ? (model.time * 100) + '%': ''\">\n                            <div class=\"line\"></div>\n                            <div class=\"dot\"></div>\n                        </div>\n                        <div class=\"selected-block\" *ngIf=\"model.block\"\n                            [style.left]=\"model.vertical ? (model.block.start * 100) + '%' : ''\"\n                            [style.width]=\"model.vertical ? (model.block.length * 100) + '%' : ''\"\n                            [style.top]=\"!model.vertical ? (model.block.start * 100) + '%' : ''\"\n                            [style.height]=\"!model.vertical ? (model.block.length * 100) + '%' : ''\">\n                            <div class=\"inner\" (touchpress)=\"model.move = 'top'\"></div>\n                            <div class=\"handle top\" (touchpress)=\"model.move = 'top'\">{{model.block.start_time}}</div>\n                            <div class=\"handle bottom\" (touchpress)=\"model.move = 'bottom'\">{{model.block.end_time}}</div>\n                        </div>\n                    </div>\n                    <div class=\"timeblocks\">\n                        <div class=\"block\" *ngFor=\"let item of model.blocks\"\n                            [style.width]=\"model.vertical ? (1 / (model.blocks.length || 1)) * model.height + 'px' : ''\"\n                            [style.height]=\"!model.vertical ? (1 / (model.blocks.length || 1)) * model.height + 'px' : ''\">\n\n                            <div class=\"text not-mobile\">{{item.hour ? (model.vertical ? item.short_display : item.display) : ''}}</div>\n                            <div class=\"text mobile-only\">{{item.hour ? item.short_display : ''}}</div>\n                        </div>\n                    </div>\n                    <div class=\"event-block\" #content (scroll)=\"updateHeader()\">\n                        <div class=\"event-group host\" *ngIf=\"model.user\">\n                            <div class=\"block\" *ngFor=\"let item of (model.events[model.user.id] || [])\" [style.z-index]=\"item['z-index']\">\n                                <div class=\"event\" *ngFor=\"let bkn of item.bookings\"\n                                    [style.width]=\"model.vertical ? (bkn.length * 100) + '%' : ''\"\n                                    [style.height]=\"!model.vertical ? (bkn.length * 100) + '%' : ''\">\n                                    Unavailable\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"group\" *ngFor=\"let grp of model.groups\">\n                            <div class=\"blk time\" *ngIf=\"grp !== 'None'\">\n                                <div class=\"block\" *ngFor=\"let item of model.blocks\"\n                                    [style.width]=\"model.vertical ? (1 / (model.blocks.length || 1)) * model.height + 'px' : ''\"\n                                    [style.height]=\"!model.vertical ? (1 / (model.blocks.length || 1)) * model.height + 'px' : ''\"\n                                    [style.opacity]=\"item.timezones[grp] && item.timezones[grp].raw_hour % 6 === 0 ? 1 : 0\">\n\n                                    <div class=\"text not-mobile\">{{item.hour ? (model.vertical ? item.timezones[grp]?.short_display : item.timezones[grp]?.display) : ''}}</div>\n                                    <div class=\"text mobile-only\">{{item.hour ? item.timezones[grp]?.short_display : ''}}</div>\n                                </div>\n                            </div>\n                            <div class=\"event-group\" *ngFor=\"let usr of model.group_list[grp]\">\n                                <div class=\"block\" *ngFor=\"let item of (model.events[usr.id] || [])\" [style.z-index]=\"item['z-index']\">\n                                    <div class=\"event\" *ngFor=\"let bkn of item.bookings\" [class.optional]=\"usr.optional\"\n                                    [style.width]=\"model.vertical ? (bkn.length * 100) + '%' : ''\"\n                                    [style.height]=\"!model.vertical ? (bkn.length * 100) + '%' : ''\">\n                                        Unavailable\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","\nimport { Component, Input, Output, EventEmitter, OnChanges, OnInit, ElementRef, ViewChild } from '@angular/core';\n\nimport { BaseComponent } from '../base.component';\nimport { AppService } from '../../../services/app.service';\n\nimport * as moment from 'moment-timezone';\nimport { IUser } from '../../../services/data/users.service';\nimport { Utils } from '../../utility.class';\nimport { IBooking } from '../../../services/data/bookings.service';\n\n@Component({\n    selector: 'user-availability',\n    templateUrl: './user-availability.template.html',\n    styleUrls: ['./user-availability.styles.scss']\n})\nexport class UserAvailabilityComponent extends BaseComponent implements OnChanges, OnInit {\n    @Input() public date = moment().valueOf();\n    @Input() public duration = 30;\n    @Input() public host: IUser;\n    @Input() public users: IUser[] = [];\n    @Output() public dateChange = new EventEmitter();\n    @Output() public durationChange = new EventEmitter();\n    @Output() public usersChange = new EventEmitter();\n    @Output() public event = new EventEmitter();\n\n    public model: any = {};\n\n    @ViewChild('cal') private calendar: ElementRef;\n    @ViewChild('header') private header: ElementRef;\n    @ViewChild('content') private content: ElementRef;\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.model.events = {};\n        this.model.bookings = {};\n        this.model.loading = {};\n        this.model.tz_data = {};\n        this.model.timezones = [];\n        this.model.vertical = true;\n        (window as any).moment = moment;\n        if (!this.model.settings) { this.model.settings = {}; }\n        this.updateTime();\n        this.interval('time', () => this.updateTime(), 60 * 1000);\n        this.generateBlocks();\n        this.checkSize();\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init());\n        }\n        this.model.user = this.service.Users.current();\n        this.model.current_timezone = moment.tz.guess().split('_').join(' ');\n        this.model.short_timezone = this.model.current_timezone.split('/').map(v => v.slice(0, 3)).join('/').toUpperCase();\n        const date = moment(this.date);\n        const now = moment();\n        this.model.today = now.isSame(date, 'd');\n        this.updateAvailability(this.model.user);\n        this.interval('normalise', () => this.updateContent(), 200);\n        this.groupUsers();\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.date || changes.users) {\n            const user = this.service.Users.current();\n            if (!this.model.settings) { this.model.settings = {}; }\n            const block_size = this.model.settings.block_size || 15;\n            const date = moment(this.date);\n            date.minutes(Math.round(date.minutes() / block_size) * block_size);\n            this.duration = (Math.round(this.duration / block_size) * block_size) || 15;\n            if (changes.users) { this.loadAvailability(); }\n            this.updateBlock();\n        }\n    }\n\n    public loadAvailability() {\n        this.model.user_blocks = {};\n        this.model.user = this.service.Users.current();\n        for (const user of (this.users || [])) {\n            this.updateAvailability(user);\n        }\n    }\n\n    public generateBlocks() {\n        if (!this.model.settings) { this.model.settings = {}; }\n        // Get settings\n        const start = this.model.settings.start_hour || 6.5;\n        const end = this.model.settings.end_hour || 21;\n        const block_size = this.model.settings.block_size || 30;\n        // Generate times\n        const start_time = moment(this.date || moment()).hours(start % 24).minutes((start % 1) * 60).seconds(0);\n        const time = moment(start_time);\n        const end_time = moment(start_time).hours(end % 24).minutes((end % 1) * 60);\n        const length = Math.abs(moment.duration(start_time.diff(end_time)).asMinutes());\n        // Generate time blocks\n        this.model.blocks = [];\n        for (; time.isSameOrBefore(end_time, 'm'); time.add(block_size, 'm')) {\n            const timezones = {};\n            for (const k of this.model.timezones) {\n                const tz_time = time.clone().tz(k);\n                timezones[k] = {\n                    display: tz_time.format('h:00 A'),\n                    short_display: tz_time.format('hA'),\n                    raw_hour: +tz_time.format('h')\n                };\n            }\n            this.model.blocks.push({\n                id: time.format('H:00'),\n                display: time.format('h:00 A'),\n                short_display: time.format('hA'),\n                offset: Math.abs(moment.duration(start_time.diff(time)).asMinutes()) / length,\n                length: block_size / length,\n                timezones,\n                hour: time.minutes() === 0,\n                raw: time.valueOf()\n            });\n        }\n        this.loadAvailability();\n    }\n\n    public selectTimezone() {\n        this.service.Overlay.openModal('timezone-search', { data: {} }, (event) => {\n            if (event.type === 'Accept') {\n                if (event.data.selected && this.model.timezones.indexOf(event.data.selected.id)) {\n                    this.model.timezones.push(event.data.selected.id);\n                    this.model.tz_data[event.data.selected.id] = event.data.selected;\n                    this.generateBlocks();\n                }\n                this.groupUsers();\n            }\n            event.close();\n        });\n    }\n\n    public removeTimezone(name) {\n        this.model.timezones.splice(this.model.timezones.indexOf(name), 1);\n        this.groupUsers();\n    }\n\n    public updateAvailability(user: IUser) {\n        if (!this.model.loading) { this.model.loading = {}; }\n        if (user && user.email) {\n            this.timeout(`available_${user.id}`, () => {\n                const date = moment(this.date);\n                this.model.loading[user.id] = true;\n                this.service.Bookings.show(user.email, {\n                    from: date.hours(0).minutes(0).seconds(0).unix(),\n                    to: date.hours(23).minutes(59).seconds(59).unix()\n                }).then((list) => {\n                    if (!this.model.events) { this.model.events = {}; }\n                    this.model.events[user.id] = this.fillBlocks(list, (user as any).optional);\n                    this.model.bookings[user.id] = user.optional ? [] : list;\n                    this.model.loading[user.id] = false;\n                    this.updateFree();\n                }, () => this.model.loading[user.id] = false);\n            });\n        }\n    }\n\n    public groupUsers() {\n        this.model.groups = ['None'];\n        this.model.group_list = {};\n        for (const user of this.users) {\n            let index = 0;\n            if (user.timezone && user.timezone !== this.model.current_timezone) {\n                if (this.model.groups.indexOf(user.timezone) < 0 && this.model.timezones.indexOf(user.timezone) >= 0) {\n                    this.model.groups.push(user.timezone);\n                }\n                index = this.model.groups.indexOf(user.timezone);\n            }\n            if (index < 0) { index = 0; }\n            if (!this.model.group_list[this.model.groups[index]]) {\n                this.model.group_list[this.model.groups[index]] = [];\n            }\n            this.model.group_list[this.model.groups[index]].push(user);\n        }\n    }\n\n    private fillBlocks(list: any[], optional: boolean = false) {\n        const start_time = this.model.settings.start_hour || 6.5;\n        const end_time = this.model.settings.end_hour || 21;\n        const blocks: any = [];\n        let index = 999;\n        const block_size = this.model.settings.block_size || 15;\n        const start = moment(this.date).hours(Math.floor(start_time)).minutes(Math.floor((start_time * 60) % 60)).seconds(0);\n        const end = moment(this.date).hours(Math.floor(end_time)).minutes(Math.floor((end_time * 60) % 60) + 30).seconds(0);\n        while (start.isBefore(end)) {\n            const bookings = [];\n            const time = start.format('HH:mm');\n            for (const item of list) {\n                const date = moment(item.date);\n                const bkn_end = moment(date).add(item.duration, 'm');\n                if (date.isSame(start, 'h') && Math.floor(date.minutes() / block_size) === Math.floor(start.minutes() / block_size)) {\n                    item.length = item.duration / block_size;\n                    bookings.push(item);\n                }\n            }\n            blocks.push({ time, date: start.valueOf(), bookings, 'z-index': --index });\n            start.add(block_size, 'm');\n        }\n        return blocks;\n    }\n\n    public updateState(user) {\n        this.remove(user, user.optional);\n        this.timeout('state_add', () => this.add(user), 100);\n    }\n\n    public remove(user: any, change: boolean = false) {\n        this.model.bookings[user.id] = [];\n        this.users.splice(this.users.indexOf(user), 1);\n        this.post();\n    }\n\n    public updateFree() {\n        if (!this.model.bookings) { return; }\n        this.model.user_blocks = {};\n        const block_size = this.model.settings.block_size || 15;\n        for (const id in this.model.bookings) {\n            if (this.model.bookings.hasOwnProperty(id)) {\n                const list = this.model.bookings[id];\n                for (const bkn of list) {\n                    const bkn_start = moment(bkn.date);\n                    bkn_start.minutes(Math.floor(bkn_start.minutes() / block_size) * block_size);\n                    const bkn_end = moment(bkn_start).add(bkn.duration, 'm');\n                    for (; bkn_start.isBefore(bkn_end, 'm'); bkn_start.add(5, 'm')) {\n                        const time = bkn_start.format('HH:mm');\n                        if (!this.model.user_blocks[time]) { this.model.user_blocks[time] = 0; }\n                        this.model.user_blocks[time]++;\n                    }\n                }\n            }\n        }\n    }\n\n    public accept() {\n        if (!this.hasConflicts()) {\n            this.post();\n            this.event.emit({ type: 'Accept' });\n        } else {\n            this.service.confirm({\n                title: `Accept time?`,\n                message: `There are scheduling conflicts with the selected time.<br>Are you sure you want to continue with the selected date and time?`,\n                icon: 'event_busy',\n                accept: 'Ok',\n                cancel: true,\n            }, (e) => {\n                if (e.type === 'Accept') {\n                    this.post();\n                    this.event.emit({ type: 'Accept' });\n                }\n                e.close();\n            });\n        }\n    }\n\n    public hasConflicts() {\n        const start = moment(this.date);\n        const end = moment(start).add(this.duration, 'm');\n        for (; start.isBefore(end); start.add(5, 'm')) {\n            const time = start.format('HH:mm');\n            if (this.model.user_blocks[time] && this.model.user_blocks[time] > 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public search() {\n        this.timeout('search', () => {\n            this.model.show = true;\n            if (!this.model.loading) { this.model.loading = {}; }\n            this.model.loading['searching'] = true;\n            this.model.search_results = [];\n            this.service.Users.query({ q: this.model.search, limit: 10 }).then((list) => {\n                const fields = ['name', 'email'];\n                this.model.search_results = Utils.filter(this.model.search, list, fields);\n                for (const user of this.model.search_results) {\n                    for (const f of fields) {\n                        if (user[`match_${f}`]) {\n                            // Format match name\n                            user[`match_${f}`] = user[`match_${f}`].replace(/\\`[a-zA-Z0-9\\@\\.\\_]*\\`/g, '<span class=\"highlight\">$&</span>');\n                            user[`match_${f}`] = user[`match_${f}`].replace(/\\`/g, '');\n                        }\n                    }\n                }\n                this.model.loading['searching'] = false;\n            }, () => this.model.loading['searching'] = false);\n        });\n    }\n\n    public back() {\n        this.event.emit({ type: 'back' });\n    }\n\n    public updateHeader() {\n        if (this.content && this.header) {\n            const scroll = this.model.vertical ? 'scrollTop' : 'scrollLeft';\n            this.header.nativeElement[scroll] = this.content.nativeElement[scroll];\n        }\n    }\n\n    public updateContent(tries: number = 0) {\n        if (this.content && this.header) {\n            const scroll = this.model.vertical ? 'scrollTop' : 'scrollLeft';\n            this.content.nativeElement[scroll] = this.header.nativeElement[scroll];\n            this.interval('normalise', () => this.updateContent(), 200);\n        }\n    }\n\n    public show() {\n        this.model.show = true;\n    }\n\n    public hide() {\n        this.timeout('hide', () => this.model.show = false);\n    }\n\n    public move(e) {\n        this.timeout('move', () => {\n            if (this.model.move && this.content) {\n                const center = {\n                    x: e.touches && e.touches.length > 0 ? e.touches[0].clientX || e.clientX : e.clientX,\n                    y: e.touches && e.touches.length > 0 ? e.touches[0].clientY || e.clientY : e.clientY\n                };\n                const content_box = this.content.nativeElement.getBoundingClientRect();\n                const percent_w = (center.x - content_box.left) / content_box.width;\n                const percent_h = (center.y - content_box.top) / content_box.height;\n                const percent = this.model.vertical ? percent_w : percent_h;\n\n                const start_time = this.model.settings.start_hour || 6.5;\n                const end_time = (this.model.settings.end_hour || 21) + .5;\n                const diff_time = end_time - start_time;\n                const block_size = this.model.settings.block_size || 15;\n                const hour = Math.ceil((diff_time * percent + start_time) * (60 / block_size)) / (60 / block_size);\n                if (this.model.move === 'bottom') {\n                    let date = moment(this.date);\n                    const end = moment(this.date).hours(Math.floor(hour)).minutes(Math.floor((hour * 60) % 60));\n                    if (end.isSameOrBefore(date, 'm')) {\n                        date = moment(end).add(-this.duration, 'm');\n                        this.date = date.valueOf();\n                    } else {\n                        const duration = Math.floor(moment.duration(end.diff(date)).asMinutes());\n                        this.duration = duration || block_size;\n                    }\n                } else if (this.model.move === 'top') {\n                    const date = moment(this.date).hours(Math.floor(hour)).minutes(Math.floor((hour * 60) % 60));\n                    this.date = date.valueOf();\n                }\n                this.updateBlock();\n                this.post();\n            }\n        }, 10);\n    }\n\n    public add(item: IUser) {\n        if (item && item !== this.model.user && item.email !== this.model.user.email) {\n            let found = false;\n            if (!this.users) { this.users = []; }\n            for (const user of this.users) {\n                if (item.id === user.id) {\n                    found = true;\n                    break;\n                }\n            }\n            if (!found) {\n                this.users.push(item);\n                this.post();\n            }\n            this.updateAvailability(item);\n        }\n        this.groupUsers();\n    }\n\n    public changeDate() {\n        this.model.show_calendar = false;\n        const date = moment(this.date);\n        const now = moment();\n        this.model.today = now.isSame(date, 'd');\n        this.loadAvailability();\n        this.updateBlock();\n        this.post();\n    }\n\n    public changeDay(change: number) {\n        const date = moment(this.date).add(change, 'd');\n        const now = moment();\n        if (now.isSameOrBefore(date, 'd')) {\n            this.date = date.valueOf();\n            this.changeDate();\n        }\n    }\n\n    public post() {\n        this.usersChange.emit(this.users);\n        this.dateChange.emit(this.date);\n        this.durationChange.emit(this.duration);\n    }\n\n    public updateBlock() {\n        const block_size = this.model.settings.block_size || 15;\n        const date = moment(this.date);\n        date.minutes(Math.round(date.minutes() / block_size) * block_size);\n        this.model.date = date.format('DD MMMM YYYY');\n        const end = moment(date).add(this.duration || 15, 'm');\n        const start_time = this.model.settings.start_hour || 6.5;\n        const end_time = (this.model.settings.end_hour || 21) + .5;\n        const diff_time = end_time - start_time;\n        const date_time = date.hours() + date.minutes() / 60;\n        this.model.block = {\n            start: (date_time - start_time) / diff_time,\n            length: ((this.duration || 60) / 60) / diff_time,\n            start_time: date.format('hh:mm A'),\n            end_time: end.format('hh:mm A')\n        };\n    }\n\n    public updateTime() {\n        const now = moment();\n        const date = moment(this.date);\n        const start_time = this.model.settings.start_hour || 6.5;\n        const end_time = (this.model.settings.end_hour || 21) + .5;\n        const now_time = now.hours() + now.minutes() / 60;\n        this.model.today = now.isSame(date, 'd');\n        this.model.time = (now_time - start_time) / (end_time - start_time);\n    }\n\n    public setTime(block, move: boolean = false) {\n        if (move) {\n            this.model.move = 'bottom';\n        }\n        if (block && block.date) {\n            this.date = block.date;\n            this.updateBlock();\n            this.post();\n        }\n    }\n\n    public checkSize() {\n        const w = document.body.clientWidth;\n        const h = document.body.clientHeight;\n        this.model.vertical = w > 480 && h > 480;\n    }\n}\n","<div class=\"container\">\n    <div class=\"search\" *ngIf=\"model.external && !model.edit && search\">\n        <div class=\"input\">\n            <input [(ngModel)]=\"model.search\" (ngModelChange)=\"find()\" placeholder=\"Search for existing user by name or email\" (focus)=\"model.focus = true\" (blur)=\"model.focus = false\">\n        </div>\n        <div class=\"list\" [class.show]=\"model.search || model.focus || model.selected_user\">\n            <ng-container *ngIf=\"model.results && !model.searching\">\n                <div class=\"item\" *ngFor=\"let item of model.results\" [class.fade]=\"model.selected_user && !item.selected\" (tap)=\"selectUser(item)\">\n                    <div class=\"details\">\n                        <div class=\"grp\">\n                            <div class=\"name\">{{item.name}}</div>\n                            <div class=\"minor\">{{item.org}}</div>\n                        </div>\n                        <div class=\"minor\" *ngIf=\"item.phone\">{{item.phone}}</div>\n                        <div class=\"minor\" *ngIf=\"item.email\">{{item.email}}</div>\n                    </div>\n                    <div class=\"options\">\n                        <i class=\"material-icons\" *ngIf=\"item.selected\">done</i>\n                    </div>\n                </div>\n            </ng-container>\n            <div class=\"no-item\" center *ngIf=\"!model.results || model.results.length <= 0 || model.searching\">\n                <div class=\"icon\">\n                    <i class=\"material-icons\" *ngIf=\"!model.searching\">people</i>\n                    <spinner type=\"circle-ring\" *ngIf=\"model.searching\" color=\"rgba(0,0,0, .2)\"></spinner>\n                </div>\n                <div class=\"text\">{{ model.searching ? 'Searching for user...' : 'No users matching query'}}</div>\n            </div>\n        </div>\n    </div>\n    <div class=\"form\"  [class.hide]=\"model.search || model.focus || model.selected_user\">\n        <div class=\"field\" *ngIf=\"model.org && model.org.list && (model.org.list.length > 0 || model.can_add_org)\">\n            <div class=\"label\">Organisation<span>*</span></div>\n            <div class=\"value no-border\">\n                <btn format=\"mini-action\" *ngIf=\"model.can_add_org\" (tapped)=\"model.org.active = model.org.list.length; updateOrg()\">\n                    <i class=\"material-icons\">add</i>\n                </btn>\n                <div class=\"input\">\n                    <dropdown [list]=\"model.org.name\" [(model)]=\"model.org.active\" [filter]=\"true\" (modelChange)=\"updateOrg()\" [placeholder]=\"model.org.active === model.org.list.length ? 'New Organisation' : 'Select Organisation'\"></dropdown>\n                </div>\n            </div>\n        </div>\n        <div class=\"error\" *ngIf=\"model.error && model.error.org\">{{model.error.org.msg}}</div>\n        <div class=\"field\" *ngIf=\"model.org && model.org.list && model.org.active === model.org.list.length\">\n            <div class=\"label\">Org. Name<span>*</span></div>\n            <div class=\"value\">\n                <input name=\"organisation\" type=\"text\" [(ngModel)]=\"model.form.organisation_name\" (ngModelChange)=\"post()\" placeholder=\"Organistation name\">\n            </div>\n        </div>\n        <div class=\"error\" *ngIf=\"model.error && model.error.org_name\">{{model.error.org_name.msg}}</div>\n        <div class=\"field\">\n            <div class=\"label\">Title</div>\n            <div class=\"input\">\n                <dropdown [list]=\"model.titles\" [(model)]=\"model.title_id\" (modelChange)=\"updateTitle()\" [placeholder]=\"'Select Title'\"></dropdown>\n            </div>\n        </div>\n        <div class=\"field\">\n            <div class=\"label\">First name<span>*</span></div>\n            <div class=\"value\">\n                <input name=\"given_name\" type=\"text\" [(ngModel)]=\"model.form.first_name\" (ngModelChange)=\"post()\" placeholder=\"First name\" autocomplete='given-name'>\n            </div>\n        </div>\n        <div class=\"error\" *ngIf=\"model.error && model.error.first_name\">{{model.error.first_name.msg}}</div>\n        <div class=\"field\">\n            <div class=\"label\">Last name<span>*</span></div>\n            <div class=\"value\">\n                <input name=\"family_name\" type=\"text\" [(ngModel)]=\"model.form.last_name\" (ngModelChange)=\"post()\" placeholder=\"Last name\" autocomplete='family-name'>\n            </div>\n        </div>\n        <div class=\"error\" *ngIf=\"model.error && model.error.last_name\">{{model.error.last_name.msg}}</div>\n        <div class=\"field\">\n            <div class=\"label\">Email<span>*</span></div>\n            <div class=\"value\">\n                <input name=\"email\" type=\"email\" [(ngModel)]=\"model.form.email\" (ngModelChange)=\"checkEmail(); post()\" placeholder=\"Email\" autocomplete='email'>\n                <spinner *ngIf=\"model.checking_email\" type=\"circle-ring\"></spinner>\n            </div>\n        </div>\n        <div class=\"error\" *ngIf=\"model.error && model.error.email\">{{model.error.email.msg}}</div>\n        <div class=\"field\">\n            <div class=\"label\">Mobile</div>\n            <div class=\"value\">\n                <input name=\"mobile\" type=\"tel\" [(ngModel)]=\"model.form.phone\" (ngModelChange)=\"post()\" placeholder=\"Mobile number\" autocomplete='tel'>\n            </div>\n        </div>\n        <div class=\"field\">\n            <div class=\"label\">Purpose of visit</div>\n            <div class=\"input\">\n                <dropdown [list]=\"model.purposes\" [(model)]=\"model.purpose_id\" (modelChange)=\"updatePurpose()\" [placeholder]=\"'Select purpose'\"></dropdown>\n            </div>\n        </div>\n    </div>\n</div>","\nimport { Component, Input, Output, EventEmitter, OnInit, OnChanges } from '@angular/core';\n\nimport { AppService } from '../../../services/app.service';\nimport { BaseComponent } from '../base.component';\nimport { IUser } from '../../../services/data/users.service';\n\n@Component({\n    selector: 'user-form',\n    templateUrl: './user-form.template.html',\n    styleUrls: ['./user-form.styles.scss']\n})\nexport class UserFormComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public form: any = {};\n    @Input() public select = false;\n    @Input() public clear = false;\n    @Input() public search = true;\n    @Input() public visitors = false;\n    @Input() public edit = false;\n    @Output() public formChange = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n        this.model.purposes = ['Business', 'Project', 'Delivery', 'Interview', 'Maintenance ', 'Social', 'Training', 'Other'];\n    }\n\n    public ngOnInit() {\n        this.model.form = {};\n        this.subs.obs.bld = this.service.Buildings.listen((bld) => {\n            if (bld) { this.processOrganisations(); }\n        });\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.external = this.service.Settings.get('app.users.external');\n        this.model.can_add_org = this.service.Settings.get('app.users.custom_orgs');\n        this.model.min_char = Math.max(this.service.Settings.get('app.users.people_min_char') || 0, 3);\n        this.model.selected_user = false;\n        this.model.titles = ['Mr', 'Ms', 'Mrs'];\n        this.processOrganisations();\n        this.find(false);\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.form && this.form) {\n            this.timeout('form-change', () => {\n                if (!this.model.form) { this.model.form = {}; }\n                for (const k in this.form) {\n                    if (this.form.hasOwnProperty(k)) {\n                        this.model.form[k] = this.form[k];\n                    }\n                }\n                if ((this.model.form.organisation || this.model.form.organisation_id) && this.model.org && this.model.org.list) {\n                    for (const org of this.model.org.list) {\n                        if ((this.model.form.organisation && org.name === this.model.form.organisation.name) ||\n                            (this.model.form.organisation_id && org.id === this.model.form.organisation_id)) {\n                            this.model.org.active = this.model.org.list.indexOf(org);\n                            break;\n                        }\n                    }\n                }\n            }, 50);\n        }\n        if (changes.clear) {\n            this.model.search = '';\n            this.model.form = {};\n            if (this.model.org) {\n                this.model.org.active = -1;\n            }\n            this.find(false);\n        }\n    }\n\n    public find(post: boolean = true) {\n        this.timeout('find', () => {\n            this.model.results = [];\n            this.model.form.users = [];\n            if (post) { this.post(); }\n            if (this.model.search && this.model.search.length >= this.model.min_char) {\n                this.model.searching = true;\n                const search = this.model.search.toLowerCase();\n                if (!this.visitors) {\n                    this.service.Users.query({ q: search }).then((list) => {\n                        this.model.results = list;\n                        this.model.searching = false;\n                    }, (e) => this.model.searching = false);\n                } else {\n                    this.model.results = this.service.Contacts.list().filter((a) => {\n                        const name = a.name.toLowerCase();\n                        const email = a.email.toLowerCase();\n                        return name.indexOf(search) >= 0 || email.indexOf(search) >= 0;\n                    }) || [];\n                    this.model.searching = false;\n                }\n            } else if (this.visitors) {\n                this.model.results = this.service.Contacts.list();\n            }\n        }, 300);\n    }\n\n    public post() {\n        this.validate();\n        if (this.model.valid) {\n            const form = this.model.form ? { ...this.model.form } : {};\n            console.log('Form:', form);\n            this.formChange.emit(form);\n        } else {\n            this.formChange.emit({});\n        }\n    }\n\n    public selectUser(item: any) {\n        const user_list = this.model.results;\n        this.model.form.users = [];\n        for (const i of user_list) {\n            if (i === item) {\n                i.selected = !i.selected;\n            } else if (!this.select) {\n                i.selected = false;\n            }\n            if (i.selected) { this.model.form.users.push(i); }\n        }\n        this.model.selected_user = item.selected || this.model.form.users.length > 0;\n        this.post();\n    }\n\n    public validate() {\n        this.model.error = {};\n        this.model.valid = true;\n        if (!this.model.form.users || this.model.form.users.length <= 0 || !this.model.search) {\n            if (!this.model.form.email) {\n                this.model.error.email = { msg: 'Email is required' };\n                this.model.valid = false;\n            }\n            if (!this.model.form.first_name) {\n                this.model.error.first_name = { msg: 'First name is required'};\n                this.model.valid = false;\n            }\n            if (!this.model.form.last_name) {\n                this.model.error.last_name = { msg: 'Last name is required'};\n                this.model.valid = false;\n            }\n            const regex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            if (!regex.test(this.model.form.email)) {\n                this.model.error.email = { msg: 'A valid email is required' };\n                this.model.valid = false;\n            }\n            if (this.model.org && this.model.org.list) {\n                if (this.model.org.active < 0) {\n                    this.model.error.org = { msg: 'Organisation is required' };\n                    this.model.valid = false;\n                } else if (this.model.org.active === this.model.org.list.length && !this.model.form.organisation_name) {\n                    this.model.error.org_name = { msg: 'A valid organisation name is required' };\n                    this.model.valid = false;\n                }\n            }\n        }\n    }\n\n    public checkEmail() {\n        const regex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (this.model.form && this.model.form.email && regex.test(this.model.form.email) && !this.model.checking_email) {\n            this.timeout('check-email', () => {\n                this.model.checking_email = true;\n                if (!this.visitors) {\n                    this.service.Users.query({ q: this.model.form.email }).then((list) => {\n                        const user = list ? list[0] || null : null;\n                        if (user && user.email === this.model.form.email) { this.setUser(user); }\n                        this.model.checking_email = false;\n                    }, (e) => this.model.checking_email = false);\n                } else {\n                    this.service.Contacts.query({ q: this.model.form.email, limit: 50 }).then((list) => {\n                        const user = list ? list[0] || null : null;\n                        if (user && user.email === this.model.form.email) { this.setUser(user); }\n                        this.model.checking_email = false;\n                    }, (e) => this.model.checking_email = false);\n                }\n            }, 500);\n        }\n    }\n\n    private setUser(user: IUser) {\n        if (user) {\n            this.service.info(`Found user with matching email address`);\n            for (const k in user) {\n                if (user.hasOwnProperty(k) && user[k]) {\n                    this.model.form[k] = user[k];\n                }\n            }\n            if (this.model.organisation_name || this.model.form.organisation_id) {\n                for (const org of this.model.org.list) {\n                    if (org.name === this.model.form.organisation_name || org.id === this.model.form.organisation_id) {\n                        this.model.org.active = this.model.org.list.indexOf(org);\n                        break;\n                    }\n                }\n            }\n            this.post();\n        }\n    }\n\n    public updateTitle() {\n        this.model.form.title = this.model.titles[this.model.title_id];\n        this.post();\n    }\n\n    public updatePurpose() {\n        this.model.form.purpose = this.model.purposes[this.model.purpose_id];\n        this.post();\n    }\n\n    public updateOrg() {\n        this.validate();\n        if (this.model.org && this.model.org.list) {\n            const org = this.model.org.list[this.model.org.active];\n            if (org) {\n                this.model.form.organisation_id = org.id;\n                this.model.form.organisation_name = org.name;\n            } else {\n                this.model.form.organisation_id = null;\n                this.model.form.organisation_name = '';\n            }\n            this.post();\n        }\n    }\n\n    private processOrganisations(tries: number = 0) {\n        if (tries > 5) { return; }\n        const bld = this.service.Buildings.current();\n        const org = this.service.Buildings.organisation();\n        if (!bld || !org || !org.orgs) {\n            return setTimeout(() => this.processOrganisations(tries), 300 * ++tries);\n        }\n        this.model.org = {\n            list: JSON.parse(JSON.stringify(bld.orgs || org.orgs || [])),\n            name: []\n        };\n        if (this.model.org.list.length <= 0) {\n            return setTimeout(() => this.processOrganisations(tries), 300 * ++tries);\n        }\n        this.model.org.name = [];\n        for (const o of this.model.org.list) {\n            this.model.org.name.push(o.name || o);\n        }\n        if ((!this.model.org.active && this.model.org.active !== 0) || this.model.org.active >= this.model.org.list.length) {\n            this.model.org.active = -1;\n        }\n    }\n}\n","\n\n/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-17 12:46:47\n* @Last Modified by:   Alex Sorafumo\n* @Last Modified time: 2017-05-17 12:54:11\n*/\n\nimport { UserSearchComponent } from './user-search.component';\nimport { UserSearchListComponent } from './user-list/user-list.component';\nimport { UserSearchDisplayComponent } from './user-display/user-display.component';\n\nexport * from './user-search.component';\n\nexport const USER_SEARCH_COMPONENTS: any[] = [\n    UserSearchComponent,\n    UserSearchDisplayComponent,\n    UserSearchListComponent\n];\n","\n<div class=\"container\">\n    <div class=\"list\" *ngIf=\"users && users.length > 0\">\n        <ng-container *ngFor=\"let item of users\">\n        <div class=\"item\" *ngIf=\"item\">\n            <div class=\"status\" [style.opacity]=\"item.free === undefined ? 0 : 1\" [class.free]=\"item.free\"></div>\n            <div class=\"details\">\n                <div class=\"name\">{{item.name}}</div>\n                <div class=\"role\">{{item.email}}</div>\n                <div class=\"role\" *ngIf=\"item.select\"><checkbox [(model)]=\"item.optional\" label=\"Optional\"></checkbox></div>\n            </div>\n            <div class=\"add\" *ngIf=\"!active_user || item.email !== active_user.email\">\n                <btn *ngIf=\"item.select\" name=\"error\" format=\"mini-action\" (tap)=\"setState(item, false)\">\n                    <i class=\"material-icons\">close</i>\n                </btn>\n                <div class=\"added\" *ngIf=\"!item.select\">\n                    Removed<br><span class=\"undo\" (tap)=\"setState(item, true)\">UNDO</span>\n                </div>\n            </div>\n        </div>\n        </ng-container>\n    </div>\n    <div class=\"list mid\" *ngIf=\"!users || users.length <= 0\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">close</i>\n            </div>\n            <div class=\"text\">No participants</div>\n        </div>\n    </div>\n</div>\n","/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-17 12:49:52\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-03-21 14:20:46\n*/\n\nimport { Component, ElementRef, EventEmitter, Input, Output, Renderer2, ViewChild } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\n\nimport * as faker from 'faker';\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'user-search-display',\n    templateUrl: './user-display.template.html',\n    styleUrls: ['./user-display.styles.scss'],\n})\nexport class UserSearchDisplayComponent {\n    @Input() public users: any[] = [];\n    @Output() public usersChange = new EventEmitter();\n\n    public setState(user: any, state: boolean) {\n        user.select = state;\n        this.usersChange.emit(this.users);\n    }\n}\n","\n<div class=\"container\" [class.route]=\"!modal && model.route\">\n    <div class=\"list\" #list (scroll)=\"updateScroll()\" *ngIf=\"model.user_list && model.user_list.length > 0\">\n        <div class=\"group\" *ngFor=\"let group of model.user_groups\">\n            <div class=\"start\" [id]=\"'user-letter-start-' + group.letter\"></div>\n            <div class=\"header\" *ngIf=\"group.users.length\">{{group.letter}}</div>\n            <ng-container *ngFor=\"let item of group.users\">\n                <div class=\"item\" *ngIf=\"!model.user || item.id !== model.user.id\">\n                    <div class=\"status\" [style.opacity]=\"item.free === undefined ? 0 : 1\" [class.free]=\"item.free\"></div>\n                    <div class=\"details\">\n                        <div class=\"name\">{{item.name}} <span class=\"org\">{{item.organisation_name}}</span></div>\n                        <div class=\"role\">{{item.role || item.email}}</div>\n                        <div class=\"role\" *ngIf=\"item.select\"><checkbox [(model)]=\"item.optional\" label=\"Optional\"></checkbox></div>\n                    </div>\n                    <div class=\"add\">\n                        <div class=\"added-circle\" *ngIf=\"item.select\">\n                            <i center class=\"material-icons\">done</i>\n                        </div>\n                        <a [href]=\"'tel:' + item.clean_phone\">\n                            <btn name=\"black inverse\" format=\"mini-action\" *ngIf=\"item.phone\">\n                                <i class=\"material-icons\">phone</i>\n                            </btn>\n                        </a>\n                        <btn [name]=\"item.select ? 'error' : 'success'\" format=\"mini-action\" [class.error]=\"item.select\"\n                            (tap)=\"item.select ? remove(item, true) : add(item)\">\n                            <i class=\"material-icons\">{{item.select ? 'close' : 'add'}}</i>\n                        </btn>\n                    </div>\n                </div>\n            </ng-container>\n            <div class=\"end\" [id]=\"'user-letter-end-' + group.letter\"></div>\n        </div>\n    </div>\n    <div class=\"list mid\" *ngIf=\"model.loading || (!model.user_list || model.user_list.length <= 0)\">\n        <div class=\"external\" *ngIf=\"model.is_email && !model.can_add && model.external\">\n            <btn (tapped)=\"add({ id: search, name: model.name, email: search }, false, true)\">Add external user</btn>\n        </div>\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <spinner *ngIf=\"model.loading\" type=\"circle-ring\" color=\"#999\"></spinner>\n                <i *ngIf=\"!model.loading\" class=\"material-icons\">{{search && search.length >= (model.min_search || 0) ? 'close' : 'keyboard'}}</i>\n            </div>\n            <div class=\"text\">\n                {{model.loading ? 'Searching...' : (search && search.length >= (model.min_search || 0) ? 'No matches found' : 'Type above to search for users')}}\n            </div>\n        </div>\n    </div>\n    <div class=\"letter-list\">\n        <div class=\"letter\" *ngFor=\"let group of model.user_groups\"\n            [class.disabled]=\"group.users.length <= 0\" [class.active]=\"group.letter === model.location\"\n            (tap)=\"scrollTo(group.letter)\">\n            {{group.letter}}\n        </div>\n    </div>\n</div>\n","/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-17 12:49:52\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-03-21 14:20:46\n*/\n\nimport { Component, ElementRef, EventEmitter, Input, Output, ViewChild, OnChanges } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { IUser } from '../../../../services/data/users.service';\n\nimport * as moment from 'moment';\nimport { Utils } from '../../../utility.class';\n\n@Component({\n    selector: 'user-search-list',\n    templateUrl: './user-list.template.html',\n    styleUrls: ['./user-list.styles.scss'],\n})\nexport class UserSearchListComponent implements OnChanges {\n    @Input() public users: any[] = [];\n    @Input() public search: string;\n    @Input() public modal: boolean;\n    @Output() public usersChange = new EventEmitter();\n    @Output() public searchChange = new EventEmitter();\n\n    public model: any = {};\n\n    private timers: any = {};\n    @ViewChild('list') private list: ElementRef;\n\n    constructor(private service: AppService) {\n        this.model.groups = '#ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\n        this.service.Users.listen('list', (list) => {\n            this.model.users = this.service.Users.list();\n            this.model.users.sort((a, b) => a.name.localeCompare(b.name));\n            this.filter();\n            this.model.loading = false;\n        });\n        this.service.Contacts.listen('list', (list) => {\n            this.model.users = this.service.Users.list();\n            this.model.users.sort((a, b) => a.name.localeCompare(b.name));\n            this.filter();\n            this.model.loading = false;\n        });\n        this.processUsers([]);\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.route = this.service.Settings.get('app.style.popout');\n        this.model.min_search = this.service.Settings.get('app.people_min_char') || 0;\n        this.model.can_add = this.service.Settings.get('app.users.can_add');\n        this.model.external = this.service.Settings.get('app.users.external');\n        this.model.check = this.service.Settings.get('app.users.check') !== false;\n        this.model.loading = false;\n        this.model.user = this.service.Users.current();\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.search) {\n            this.model.is_email = Utils.validateEmail(this.search);\n            if (this.model.is_email) {\n                this.model.email = this.search.split('@')[0] + '@...';\n                this.model.name = this.search.split('@')[0].toUpperCase();\n            }\n            this.filter();\n        }\n        if (changes.users) {\n            for (const u of this.users) {\n                let found = false;\n                for (const usr of this.model.users) {\n                    if (usr.email === u.email) {\n                        usr.optional = u.optional;\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) { this.model.users.push(u); }\n\n            }\n            this.filter();\n        }\n    }\n\n    public add(user: any, check: boolean = true, new_user: boolean = false) {\n        for (const i of this.users) {\n            if (i.id === user.id) { return; }\n        }\n        if (!this.users) { this.users = []; }\n        if (check && !user.external && this.model.check) {\n            this.service.Users.availability(user.email).then((free) => {\n                user.free = free;\n            }, (err) => console.error(err));\n        } else {\n            user.free = true;\n        }\n        user.select = true;\n        this.users.push(user);\n        this.users.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n        this.usersChange.emit(this.users);\n        if (new_user) {\n            for (const u of this.users) {\n                let found = false;\n                for (const usr of this.model.users) {\n                    if (usr.email === u.email) {\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) { this.model.users.push(u); }\n\n            }\n            this.service.success(`Added user '${this.search}'`);\n            this.search = '';\n            this.searchChange.emit(this.search);\n            this.filter();\n        }\n    }\n\n    public remove(user: any) {\n        if (this.users) {\n            for (const i of this.users) {\n                if (i.id === user.id || i.email === user.email) {\n                    this.users.splice(this.users.indexOf(user), 1);\n                    user.select = false;\n                    this.usersChange.emit(this.users);\n                    break;\n                }\n            }\n        }\n    }\n\n    public processUsers(list: any[]) {\n        this.model.loading = true;\n        if (!list || list.length <= 0) {\n            this.model.user_groups = [];\n            for (const letter of this.model.groups) {\n                this.model.user_groups.push({ letter, users: [] });\n            }\n            return [];\n        }\n        if (!this.users) { this.users = []; }\n        const users: IUser[] = [];\n        for (const item of list) {\n            if (this.model.me && item.id === this.model.me.id) {\n                continue;\n            }\n            const usr = JSON.parse(JSON.stringify(item));\n            usr.select = !!this.users.find((itm) => (itm.id === item.id || itm.email === item.email) && itm.select);\n            users.push(usr);\n        }\n        users.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n        this.model.user_groups = [];\n        for (const letter of this.model.groups) {\n            const u_list = [];\n            for (const user of users) {\n                const n = (user.name || '').toUpperCase();\n                if ((letter === '#' && (!n || this.model.groups.indexOf(n[0]) < 0)) || n[0].toLowerCase() === letter.toLowerCase() ) {\n                    u_list.push(user);\n                }\n            }\n            this.model.user_groups.push({\n                letter,\n                users: u_list\n            });\n        }\n        return users;\n    }\n\n    public filter() {\n        if (this.timers.search) {\n            clearTimeout(this.timers.search);\n            this.timers.search = null;\n        }\n        this.timers.search = setTimeout(() => {\n            const search = (this.search || '').toLowerCase();\n            if ((search && search.length >= this.model.min_search) || !this.model.min_search) {\n                    this.model.loading = true;\n                    this.model.user_list = [];\n                    if (!this.model.min_search && this.model.users && this.model.users.length > (this.users.length || 0)) {\n                        const user_list = this.model.users.concat(this.service.Contacts.list());\n                        this.model.user_list = this.processUsers(\n                            user_list.filter((item) =>\n                                (item.name || '').toLowerCase().indexOf(search) >= 0 ||\n                                (item.email || '').toLowerCase().indexOf(search) >= 0\n                            )\n                        );\n                        this.updateScroll();\n                        this.model.loading = false;\n                    } else {\n                        const request_id = Math.floor(Math.random() * 899999 + 100000);\n                        this.model.request_id = request_id;\n                        this.service.Users.query({ q: search, limit: 50 })\n                            .then((list) => {\n                                if (request_id === this.model.request_id) {\n                                    const user_list = list.concat(this.service.Contacts.list());\n                                    user_list.sort((a, b) => (a.name || '').localeCompare(b.name || ''));\n                                    this.model.user_list = this.processUsers(Utils.filter(search, user_list, ['name', 'email']));\n                                    this.updateScroll();\n                                    this.model.loading = false;\n                                }\n                            }, () => this.model.loading = false);\n                    }\n            } else {\n                this.model.user_list = null;\n                this.model.loading = false;\n            }\n        }, 300);\n    }\n\n    public scrollTo(key: string) {\n        if (this.list) {\n            const el = this.list.nativeElement.querySelector(`#user-letter-start-${key}`);\n            if (el) {\n                el.scrollIntoView();\n                this.model.location = key;\n                setTimeout(() => this.list.nativeElement.scrollTop += 5, 10);\n            }\n        }\n    }\n\n    private updateScroll() {\n        if (this.list && this.list.nativeElement) {\n            const groups_start = this.list.nativeElement.querySelectorAll('.start');\n            const groups_end = this.list.nativeElement.querySelectorAll('.end');\n            const pbb = this.list.nativeElement.getBoundingClientRect();\n            for (let i = 0; i < groups_start.length; i++) {\n                const start_el = groups_start[i];\n                const end_el = groups_end[i];\n                const sbb = start_el.getBoundingClientRect();\n                const ebb = end_el.getBoundingClientRect();\n                if (pbb.top >= sbb.top && pbb.top < ebb.top + ebb.height) {\n                    this.model.location = start_el.id.replace('user-letter-start-', '');\n                    break;\n                }\n            }\n        } else {\n            setTimeout(() => this.updateScroll(), 300);\n        }\n    }\n}\n","\n<div class=\"container\" [class.modal]=\"modal\" [class.route]=\"!modal && model.route\">\n    <div class=\"header\" *ngIf=\"model.state !== 'select'\">\n        <div class=\"text\">Participants</div>\n    </div>\n    <searchbar [(filter)]=\"model.search\" *ngIf=\"model.state === 'select'\"></searchbar>\n    <div class=\"body\">\n        <div class=\"page\" *ngIf=\"model.state !== 'select'\">\n            <user-search-display [(users)]=\"model.users\"></user-search-display>\n        </div>\n        <div class=\"page\" *ngIf=\"model.state === 'select' && !model.hide\">\n            <user-search-list [modal]=\"modal\" [(users)]=\"model.users\" [(search)]=\"model.search\"></user-search-list>\n        </div>\n    </div>\n    <div class=\"footer\">\n        <div class=\"buttons\" *ngIf=\"model.state !== 'select'\">\n            <btn [name]=\"modal ? 'full-width' : ''\" (tap)=\"setState('select')\">Add People</btn>\n            <btn [name]=\"modal ? 'full-width normal' : ''\" (tapped)=\"confirm()\">Finish</btn>\n        </div>\n        <div class=\"buttons\" *ngIf=\"model.state === 'select'\">\n            <btn [name]=\"modal ? 'full-width' : ''\" (tapped)=\"closeSearch()\">Cancel</btn>\n            <btn [name]=\"modal ? 'full-width normal' : ''\" (tapped)=\"confirm()\">Confirm</btn>\n        </div>\n    </div>\n</div>\n","/*\n* @Author: Alex Sorafumo\n* @Date:   2017-05-17 12:49:52\n * @Last Modified by: Alex Sorafumo\n * @Last Modified time: 2018-03-21 14:20:46\n*/\n\nimport { Component, EventEmitter, Input, Output, OnInit, OnChanges } from '@angular/core';\n\nimport { AppService } from '../../../services/app.service';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'user-search',\n    templateUrl: './user-search.template.html',\n    styleUrls: ['./user-search.styles.scss'],\n})\nexport class UserSearchComponent implements OnInit, OnChanges {\n    @Input() public users: any[] = [];\n    @Input() public modal = false;\n    @Input() public add = false;\n    @Output() public usersChange: any = new EventEmitter();\n    @Output() public close: any = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) { }\n\n    public ngOnInit() {\n        this.model.init = false;\n        this.model.users = this.users || [];\n        this.model.state = !this.users || this.users.length <= 0 ? 'select' : 'display';\n        setTimeout(() => this.init(), 100);\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.users) {\n            setTimeout(() => {\n                this.model.users = JSON.parse(JSON.stringify(this.users)) || [];\n                for (let i = 0; i < this.model.users.length; i++) {\n                    if (!this.model.users[i]) { this.model.users.splice(i--, 1); }\n                }\n                this.model.state = !this.users || this.users.length <= 0 ? 'select' : 'display';\n            }, 100);\n        }\n        if (changes.add && this.model.init) {\n            this.newUser();\n        }\n    }\n\n    public init() {\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 500);\n        }\n        this.model.route = this.service.Settings.get('app.style.popout');\n        this.model.can_add = this.service.Settings.get('app.users.can_add');\n        this.model.init = true;\n    }\n\n    public setState(state: string) {\n        setTimeout(() => this.model.state = 'select', 300);\n    }\n\n    public closeSearch() {\n        setTimeout(() => this.close.emit(), 300);\n    }\n\n    public newUser() {\n        const search = this.service.Settings.get('app.booking.external_search');\n        const store = this.service.Settings.get('app.users.store');\n        this.model.hide = true;\n        this.service.Overlay.openModal('user-details', { data: { search, search_field: this.model.search, backend: store } })\n            .then((inst: any) => inst.subscribe((event) => {\n                if (event.type === 'Success') {\n                    const form = event.data.form;\n                    const user = form.users ? form.users[0] || form : form;\n                    user.external = true;\n                    user.select = true;\n                    if (!this.model.users) {\n                        this.model.users = [];\n                    } else {\n                        for (const u of this.model.users) {\n                            if (u.email === user.email) {\n                                return;\n                            }\n                        }\n                    }\n                    this.model.users.push(user);\n                } else {\n                    event.close();\n                    this.model.hide = false;\n                }\n            }));\n    }\n\n    public confirm() {\n        const list: any[] = [];\n        if (this.model.users) {\n            for (const item of this.model.users) {\n                if (item.select) { list.push(item); }\n            }\n        }\n        this.users = list;\n        this.usersChange.emit(list);\n        this.closeSearch();\n    }\n\n}\n","<div override [class]=\"'user-tag ' + name\" (touchstart)=\"tap()\" (mousedown)=\"tap()\">\n    <div class=\"avatar\">\n        <avatar [user]=\"model\"></avatar>\n    </div>\n    <div class=\"details\" *ngIf=\"details\">\n        <ng-container *ngIf=\"model && (model.match_index === undefined || model.match_index < 0)\">\n            <div class=\"name\">{{model.name || model.email || 'null'}}</div>\n        </ng-container>\n        <ng-container *ngIf=\"model && model.match_index >= 0\">\n            <div class=\"name\"\n            [innerHTML]=\"(model.match_name || model.name || model.match_email || model.email || 'null') | safe\"></div>\n        </ng-container>\n        <div class=\"role\" *ngIf=\"model && !email && model.type !== 'external'\">\n            {{model?.b_unit }}\n            <span *ngIf=\"model.job && job\">| {{model.job}}</span>\n        </div>\n        <div class=\"role\" *ngIf=\"model && email && model\">\n            <ng-container *ngIf=\"(model.match_index === undefined || model.match_index < 0)\">{{model.email}}</ng-container>\n            <ng-container *ngIf=\"model.match_index >= 0\">\n                <div [innerHTML]=\"(model.match_email || model.email) | safe\"></div>\n            </ng-container>\n        </div>\n        <div *ngIf=\"model && model.state\" [class]=\"'state ' + (model.state | lowercase)\">\n            {{ model.state }}\n        </div>\n    </div>\n    <div class=\"action\" *ngIf=\"model && model.action\" (touchstart)=\"actionEvent()\" (mousedown)=\"actionEvent()\">\n        <div center class=\"host\" *ngIf=\"model.action === 'host'\">Host</div>\n        <i center class=\"pwc-close\" *ngIf=\"model.action !== 'host'\"></i>\n    </div>\n</div>","import { Component, EventEmitter, Input, Output } from '@angular/core';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'user-tag',\n    templateUrl: './user-tag.template.html',\n    styleUrls: ['./user-tag.styles.scss'],\n})\nexport class UserTagComponent {\n    @Input() public name: string = '';\n    @Input() public job: boolean = false;\n    @Input() public email: boolean = false;\n    @Input() public details: boolean = true;\n    @Input() public model: any = { action: false };\n    @Output() public tapped: any = new EventEmitter();\n    @Output() public action: any = new EventEmitter();\n\n    public state: any = {};\n    public display: any = {};\n\n    public ngOnChanges(changes) {\n    }\n\n    public tap() {\n        setTimeout(() => {\n            if (this.state.action) { return; }\n            this.tapped.emit();\n        }, 10);\n    }\n\n    public actionEvent() {\n        this.state.action = true;\n        this.action.emit();\n        setTimeout(() => {\n            this.state.action = false;\n        }, 30);\n    }\n}\n","<div class=\"container\">\n    <div class=\"header\">\n        {{model.edit ? 'Edit Visitor' : (model.visitor ? model.visitor.name + ' details' : 'New Visitor') }} {{!model.visitor &&\n        model.group ? 'Group' : ''}}\n    </div>\n    <form #visitor_details *ngIf=\"!model.loading\">\n        <div class=\"body\">\n            <div class=\"details\" *ngIf=\"model.visitor && !model.edit\">\n                <div class=\"field\">\n                    <div class=\"label\">Name:</div>\n                    <div class=\"value\">{{model.visitor.name || model.visitor.visitors[0]?.name}}</div>\n                </div>\n                <div class=\"field top\" *ngIf=\"model.visitor.group\">\n                    <div class=\"label\">Visitors:</div>\n                    <div class=\"value\">\n                        <div class=\"list variable\">\n                            <ng-container *ngIf=\"model.visitor.visitors\">\n                                <div class=\"item\" *ngFor=\"let item of model.visitor.visitors\">\n                                    <div class=\"details\">\n                                        <div class=\"grp\">\n                                            <div class=\"name\">{{item.name}}</div>\n                                            <div class=\"minor\">{{item.organisation?.name || item.organisation}}</div>\n                                        </div>\n                                        <div class=\"minor\" *ngIf=\"item.email\">{{item.email}}</div>\n                                    </div>\n                                </div>\n                            </ng-container>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"fields\" *ngIf=\"!model.visitor.group && model.visitor.visitors\">\n                    <div class=\"field\" *ngIf=\"model.visitor.visitors[0].organisation\">\n                        <div class=\"label\">Organisation:</div>\n                        <div class=\"value\">{{model.visitor.visitors[0].organisation?.name || model.visitor.visitors[0].organisation}}</div>\n                    </div>\n                    <div class=\"field\">\n                        <div class=\"label\">Email:</div>\n                        <div class=\"value\">{{model.visitor.visitors[0].email}}</div>\n                    </div>\n                    <div class=\"field\" *ngIf=\"model.visitor.visitors[0].phone || model.visitor.visitors[0].mobile\">\n                        <div class=\"label\">Mobile:</div>\n                        <div class=\"value\">{{model.visitor.visitors[0].phone || model.visitor.visitors[0].mobile}}</div>\n                    </div>\n                </div>\n                <div class=\"field\">\n                    <div class=\"label\">Arrival:</div>\n                    <div class=\"value\">{{model.visitor.arrival}}</div>\n                </div>\n            </div>\n            <div class=\"form\" *ngIf=\"!model.visitor || model.edit\">\n                <div class=\"group\" *ngIf=\"!model.edit\">\n                    <radioset [list]=\"['Individual', 'Group']\" [(model)]=\"model.group\" [inline]=\"true\"></radioset>\n                </div>\n                <div class=\"field\" *ngIf=\"model.group\">\n                    <div class=\"label\">Group name:</div>\n                    <div class=\"value\">\n                        <input name=\"group_name\" [(ngModel)]=\"model.group_name\" placeholder=\"Group name\">\n                    </div>\n                </div>\n                <user-form [(form)]=\"model.form\" [visitors]=\"model.contacts\" [clear]=\"model.clear\" [edit]=\"model.edit && (!model.visitor || !model.visitor.group)\" [select]=\"!!model.group\"></user-form>\n                <ng-container *ngIf=\"!!model.group\">\n                    <div class=\"options\">\n                        <btn name=\"inverse\" [disabled]=\"(!model.form.users || model.form.users.length <= 0) && !model.form.email\" (tapped)=\"addToGroup()\">\n                            Add selected user{{model.form.users && model.form.users.length > 1 ? 's' : ''}}\n                        </btn>\n                    </div>\n                    <div class=\"heading\">\n                        Visitor Group ({{model.visitor_list && model.visitor_list.length > 0 ? model.visitor_list.length : 'No people'}})\n                    </div>\n                    <div class=\"list\">\n                        <ng-container *ngIf=\"model.visitor_list\">\n                            <div class=\"item\" *ngFor=\"let item of model.visitor_list\">\n                                <div class=\"details\">\n                                    <div class=\"grp\">\n                                        <div class=\"name\">{{item.name}}</div>\n                                        <div class=\"minor\">{{item.org}}</div>\n                                    </div>\n                                    <div class=\"minor\" *ngIf=\"item.phone\">{{item.phone}}</div>\n                                    <div class=\"minor\" *ngIf=\"item.email\">{{item.email}}</div>\n                                </div>\n                                <div class=\"btn\" (tap)=\"removeFromGroup(item)\">\n                                    <i class=\"material-icons\">close</i>\n                                </div>\n                            </div>\n                        </ng-container>\n                        <div class=\"no-item\" center *ngIf=\"!model.visitor_list || model.visitor_list.length <= 0\">\n                            <div class=\"icon\">\n                                <i class=\"material-icons\">people</i>\n                            </div>\n                            <div class=\"text\">No visitors in group</div>\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"fieldset\">\n                    <div class=\"field\">\n                        <div class=\"label\">Arrival Date:</div>\n                        <div class=\"value ul\" (tap)=\"selectDate()\">{{model.display?.date}}</div>\n                    </div>\n                    <div class=\"field\">\n                        <div class=\"label\">Arrival Time:</div>\n                        <div class=\"value ul\" (tap)=\"selectTime()\">{{model.display?.time}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"footer\">\n            <btn name=\"black inverse\" *ngIf=\"model.visitor && !model.edit && model.editable && canEdit\" (tapped)=\"edit()\">Edit</btn>\n            <btn name=\"red inverse\" *ngIf=\"model.visitor && !model.edit && model.editable && canEdit\" (tapped)=\"delete()\">Delete</btn>\n            <btn name=\"inverse\" *ngIf=\"model.visitor && model.edit\" [disabled]=\"!model.form || (!model.form.email && (!model.visitor_list || model.visitor_list.length <= 0))\"\n                (tapped)=\"update()\">\n                Save\n            </btn>\n            <btn name=\"inverse\" *ngIf=\"!model.visitor && !model.edit && model.csv\">\n                Upload CSV <input type=\"file\" #file_input (change)=\"upload($event)\">\n            </btn>\n            <btn name=\"inverse\" *ngIf=\"!model.visitor && !model.edit\" [disabled]=\"(!model.form || (!model.form.email && (!model.form.users || model.form.users.length <= 0))) && (!model.visitor_list || model.visitor_list.length <= 0)\"\n                (tapped)=\"add(false)\">\n                Add\n            </btn>\n            <btn name=\"inverse\" *ngIf=\"!model.visitor && !model.edit\" [disabled]=\"(!model.form || (!model.form.email && (!model.form.users || model.form.users.length <= 0))) && (!model.visitor_list || model.visitor_list.length <= 0)\"\n                (tapped)=\"add()\">\n                Add &amp; Finish\n            </btn>\n        </div>\n    </form>\n    <div class=\"no-item\" center *ngIf=\"model.loading\">\n        <div class=\"icon\">\n            <i class=\"material-icons success\" *ngIf=\"!model.processing\">done</i>\n            <spinner type=\"circle-ring\" color=\"rgba(0,0,0, .87)\" *ngIf=\"model.processing\"></spinner>\n        </div>\n        <div class=\"text\">\n            {{model.processing ? 'Processing request...' : (model.deleting ? 'Successfully deleted visitor' : (model.edit ? 'Updated visitor' : 'Successfully added visitor'))}}\n        </div>\n    </div>\n</div>\n","\nimport { Component, Input, Output, EventEmitter, OnInit, OnChanges, ViewChild, ElementRef } from '@angular/core';\n\nimport { BaseComponent } from '../base.component';\nimport { AppService } from '../../../services/app.service';\nimport { IVisitorGroup } from '../../../services/data/visitors.service';\n\nimport * as moment from 'moment';\nimport { Utils } from '../../utility.class';\n\n@Component({\n    selector: 'visitor-form',\n    templateUrl: './visitor-form.template.html',\n    styleUrls: ['./visitor-form.styles.scss']\n})\nexport class VisitorFormComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() visitor: IVisitorGroup;\n    @Input() canEdit = true;\n    @Output() group = new EventEmitter();\n    @Output() close = new EventEmitter();\n\n    public model: any = {};\n\n    @ViewChild('file_input') private file_input: ElementRef;\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.init();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init());\n        }\n        this.model.form = {};\n        if (!this.model.form.date) {\n            const date = moment().seconds(0).milliseconds(0);\n            date.minutes(Math.ceil(date.minutes() / 5) * 5);\n            this.model.form.date = date.valueOf();\n        }\n        this.model.group = 0;\n        if (this.model.visitor) {\n            this.model.form.date = this.model.visitor.date || this.model.visitor.time;\n        }\n        this.model.editable = this.service.Settings.get('app.schedule.edit_visitors') !== false;\n        this.model.contacts = this.service.Settings.get('app.schedule.edit_visitors');\n        this.model.csv = this.service.Settings.get('app.users.from_csv');\n        this.updateDisplay();\n    }\n\n    public ngOnChanges(changes: any) {\n        if (changes.visitor) {\n            this.model.visitor = this.visitor;\n        }\n    }\n\n    public addToGroup() {\n        if (!this.model.visitor_list) { this.model.visitor_list = []; }\n        if (this.model.form.users && this.model.form.users.length > 0) {\n            this.model.visitor_list = this.model.visitor_list.concat(this.model.form.users);\n            this.model.form = { date: this.model.form.date };\n        } else {\n            const user = {\n                name: (this.model.form.first_name || '') + ' ' + (this.model.form.last_name || ''),\n                first_name: this.model.form.first_name,\n                last_name: this.model.form.last_name,\n                organisation_id: this.model.form.organisation_id,\n                organisation_name: this.model.form.organisation_name,\n                organisation: this.model.form.organisation_name,\n                email: this.model.form.email,\n                phone: this.model.form.mobile\n            };\n            this.model.visitor_list.push(user);\n            this.model.form = { date: this.model.form.date };\n        }\n        this.model.clear = !this.model.clear;\n    }\n\n    public removeFromGroup(item: any) {\n        if (this.model.visitor_list) {\n            for (const i of this.model.visitor_list) {\n                if (item === i || item.email === i.email) {\n                    this.model.visitor_list.splice(this.model.visitor_list.indexOf(i), 1);\n                    break;\n                }\n            }\n        }\n    }\n\n    public add(finish: boolean = true) {\n        if (this.service) {\n            this.model.loading = true;\n            this.model.processing = true;\n            if (!this.model.group) {\n                this.addToGroup();\n            }\n            this.service.Visitors.add({\n                visitors: this.model.visitor_list,\n                date: this.model.form.date,\n                name: this.model.group_name\n            }).then(() => {\n                this.model.processing = false;\n                this.model.visitor_list = [];\n                this.model.finish = finish;\n                if (finish) {\n                    setTimeout(() => this.home(), 3000);\n                } else {\n                    this.timeout('close', () => {\n                        this.model.form = {};\n                        this.model.loading = false;\n                    }, 3000);\n                }\n            }, () => this.model.loading = false);\n        }\n    }\n\n    public update() {\n        if (this.service) {\n            this.model.loading = true;\n            this.model.processing = true;\n            if (!this.model.group) {\n                this.addToGroup();\n            }\n            const vs = this.model.visitor;\n            this.service.Visitors.update(vs.id, {\n                visitors: this.model.visitor_list,\n                date: this.model.form.date,\n                name: this.model.group_name\n            }).then(() => {\n                this.model.processing = false;\n                this.model.visitor_list = [];\n                setTimeout(() => this.home(), 3000);\n            }, () => this.model.loading = false);\n        }\n    }\n\n    public edit() {\n        this.model.edit = true;\n        this.model.group = this.model.visitor.group ? 1 : 0;\n        if (this.model.group) {\n            this.model.visitor_list = this.model.visitor.visitors;\n        } else {\n            this.model.form = {\n                first_name: this.model.visitor.visitors[0].name.split(' ')[0],\n                last_name: this.model.visitor.visitors[0].name.split(' ')[1],\n                organisation: this.model.visitor.visitors[0].organisation,\n                email: this.model.visitor.visitors[0].email,\n                mobile: this.model.visitor.visitors[0].phone || this.model.visitor.visitors[0].mobile,\n                phone: this.model.visitor.visitors[0].phone || this.model.visitor.visitors[0].mobile\n            };\n        }\n    }\n\n    public delete() {\n        if (this.service) {\n            this.model.loading = true;\n            this.model.processing = true;\n            this.model.deleting = true;\n            this.service.Visitors.delete(this.model.visitor.id).then(() => {\n                this.model.processing = false;\n                this.model.visitor_list = [];\n                setTimeout(() => this.home(), 3000);\n            }, () => {\n                this.model.loading = false;\n                this.model.deleting = false;\n            });\n        }\n    }\n\n    public upload(e) {\n        if (this.file_input) {\n            const file = this.file_input.nativeElement.files[0];\n            if (file) {\n                const reader = new FileReader();\n                reader.readAsText(file, 'UTF-8');\n                reader.onload = (evt) => this.loadVisitorsFromCSV((evt.srcElement as any).result);\n                reader.onerror = (evt) => this.service.error('Error reading file.');\n            }\n        }\n    }\n\n    private loadVisitorsFromCSV(data) {\n        const list = Utils.loadCSV(data) || [];\n        this.model.form.users = list;\n        for (const u of list) {\n            u.name = u.name || `${u.first_name} ${u.last_name}`;\n        }\n        if (!this.model.group) { this.model.group = true; }\n        this.addToGroup();\n    }\n\n    public updateDisplay() {\n        if (!this.model.form) { this.model.form = {}; }\n        if (!this.model.form.date) { this.model.form.date = moment().seconds(0).milliseconds(0).valueOf(); }\n        this.model.display = {};\n        const date = moment(this.model.form.date);\n        this.model.display.date = date.format('dddd, Do MMMM YYYY');\n        this.model.display.time = date.format('h:mm a');\n    }\n\n    public home() {\n        this.service.navigate(this.service.Settings.get('app.booking.return_id') || '');\n        this.close.emit();\n    }\n\n    public selectDate(field: string = 'date') {\n        const now = moment();\n        now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n        if (!this.model.form[field]) {\n            this.model.form[field] = now.valueOf();\n        }\n        const date = moment(this.model.form[field]);\n        this.service.Overlay.openModal('calendar', { data: { date: this.model.form[field] } })\n            .then((inst: any) => inst.subscribe((event) => {\n                if (event.type === 'Accept') {\n                    if (event.data.form && event.data.form[field]) {\n                        const new_date = moment(event.data.form[field]).hours(date.hours()).minutes(date.minutes())\n                            .seconds(0).milliseconds(0);\n                        this.model.form[field] = new_date.valueOf();\n                    }\n                    this.updateDisplay();\n                }\n                event.close();\n            }));\n    }\n\n    public selectTime() {\n        if (!this.model.form.date) {\n            const now = moment();\n            now.minutes(Math.ceil(now.minutes() / 5) * 5).seconds(0).milliseconds(0);\n            this.model.form.date = now.valueOf();\n        }\n        if (!this.model.form.duration) {\n            this.model.form.duration = 60;\n        }\n        const bkn_date = moment(this.model.form.date);\n        const start_time = bkn_date.format('HH:mm');\n        this.service.Overlay.openModal('time-period', { data: { start: start_time} })\n            .then((inst: any) => inst.subscribe((event) => {\n                if (event.type === 'Accept') {\n                    const form = event.data.form;\n                    const new_start = form.start.split(':');\n                    const start = moment(bkn_date);\n                    start.hours(new_start[0]).minutes(new_start[1]);\n                    this.model.form.date = start.valueOf();\n                    this.updateDisplay();\n                }\n                event.close();\n            }));\n    }\n\n}\n","/**\n * The static class that defines utility methods.\n *\n * @class Utils\n */\n\ndeclare let require: any;\ndeclare let process: any;\n\nexport class Utils {\n    /**\n     * Checks whether the platform is NW.js.\n     *\n     * @static\n     * @method isNwjs\n     * @return {Boolean} True if the platform is NW.js\n     */\n    public static isNwjs() {\n        return typeof require === 'function' && typeof process === 'object';\n    }\n    /**\n     * Checks whether the platform is a mobile device.\n     *\n     * @static\n     * @method isMobileDevice\n     * @return {Boolean} True if the platform is a mobile device\n     */\n    public static isMobileDevice() {\n        const r = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;\n        return !!navigator.userAgent.match(r);\n    }\n\n    /**\n     * Checks whether the browser is Mobile Safari.\n     *\n     * @static\n     * @method isMobileSafari\n     * @return {Boolean} True if the browser is Mobile Safari\n     */\n    public static isMobileSafari() {\n        const agent = navigator.userAgent;\n        return !!(agent.match(/iPhone|iPad|iPod/) && agent.match(/AppleWebKit/) &&\n            !agent.match('CriOS'));\n    }\n\n    /**\n     * Checks whether the browser is Android Chrome.\n     *\n     * @static\n     * @method isAndroidChrome\n     * @return {Boolean} True if the browser is Android Chrome\n     */\n    public static isAndroidChrome() {\n        const agent = navigator.userAgent;\n        return !!(agent.match(/Android/) && agent.match(/Chrome/));\n    }\n\n    /**\n     * Makes a CSS color string from RGB values.\n     *\n     * @static\n     * @method rgbToCssColor\n     * @param {Number} r The red value in the range (0, 255)\n     * @param {Number} g The green value in the range (0, 255)\n     * @param {Number} b The blue value in the range (0, 255)\n     * @return {String} CSS color string\n     */\n    public static rgbToCssColor(r, g, b) {\n        r = Math.round(r);\n        g = Math.round(g);\n        b = Math.round(b);\n        return 'rgb(' + r + ',' + g + ',' + b + ')';\n    }\n\n    public static padZero(num: number, length: number) {\n        let value = num.toString();\n        for (let i = 0; value.length < length; i++) {\n            value = '0' + value;\n        }\n        return value;\n    }\n\n    public static generateQueryString(fields: any) {\n        let query = '';\n        if (fields) {\n            for (const f in fields) {\n                if (fields[f] && fields[f] !== '') {\n                    if (query !== '') {\n                        query += '&';\n                    }\n                    query += `${f}=${fields[f]}`;\n                }\n            }\n        }\n        return query;\n    }\n\n    public static removeChars(str: string, char_list: string) {\n        if (!str) { return ''; }\n        for (let char of char_list) {\n            char = char.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n            str = str.replace(new RegExp(char, 'g'), '');\n        }\n        return str;\n    }\n\n\n    public static validateEmail(email: string) {\n        const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test((email || '').toLowerCase());\n    }\n\n    public static parseXML(data) {\n        const items: any[] = [];\n        // request outages.xml from the server and then you can extract the information like this\n        const parser = new DOMParser();\n        const xmlDoc: any = parser.parseFromString(data, 'text/xml');\n\n        // getElementsByTagName returns a sudo-array\n        const entries = Array.prototype.slice.call(\n            xmlDoc.getElementsByTagName('entry'),\n        );\n\n        entries.forEach((entry) => {\n            // <content> <properties> ==> <id></id><title></title> etc\n            const content = entry.getElementsByTagName('content')[0]\n                .childNodes[0].childNodes;\n            const obj = {};\n\n            content.forEach((field) => {\n                // looks like d:Id, d:Title etc\n                const name = field.nodeName.slice(2).toLowerCase();\n                const c = field.textContent;\n\n                obj[name] = c;\n            });\n            items.push(obj);\n        });\n        return items;\n    }\n\n    /**\n     * Converts a list of objects into a CSV string\n     * @param list List of objects\n     */\n    public static generateCSV(list: any[]) {\n        // Get all the available fields from the list\n        const field_list: string[] = [];\n        for (const item of list) {\n            for (const key in item) {\n                if (key && item.hasOwnProperty(key) && field_list.indexOf(key) < 0) {\n                    field_list.push(key);\n                }\n            }\n        }\n        field_list.sort((a, b) => a.localeCompare(b));\n        // Create CSV of fields\n        let fields = '';\n        for (const field of field_list) {\n            if (fields) { fields += ','; }\n            fields += field;\n        }\n        // Create CSV for each item in the list\n        let csv = '';\n        for (const item of list) {\n            if (csv) { csv += '\\n'; }\n            let line = '';\n            for (const f of field_list) {\n                if (line) { line += ','; }\n                line += item[f] ? (typeof item[f] === 'object' ? JSON.stringify(item[f]) : item[f]) : '';\n            }\n            csv += line;\n        }\n        return `${fields}\\n${csv}`;\n    }\n\n    /**\n     * Conver duration in minutes to human readable string\n     * @static\n     * @param duration Duration in minutes\n     */\n    public static humaniseDuration(duration: number, short: boolean = false) {\n        if (!duration || duration < 0) { return ''; }\n        const h = Math.floor(duration / 60);\n        let d = `${h >= 1 ? (h + (short ? 'h' : (' hour' + (h === 1 ? '' : 's')))) : '' }`;\n        if (duration % 60 !== 0) {\n            if (d) { d += short ? ' ' : ', '; }\n            const m = duration % 60;\n            d += `${m >= 1 ? (m + (short ? 'm' : (' minute' + (m === 1 ? '' : 's')))) : '' }`;\n        }\n        return d;\n    }\n\n    /**\n     * Get list of objects based off passed in CSV\n     * @static\n     * @param csv CSV to parse\n     */\n    public static loadCSV(csv: string) {\n        const lines = csv.split('\\n');\n        const fields = lines.splice(0, 1)[0].split(',');\n        const list: any[] = [];\n        for (const line of lines) {\n            const parts = line.split(',');\n            const item: any = {};\n            for (let i = 0; i < parts.length; i++) {\n                let part = null;\n                part = parts[i];\n                if (part !== undefined) { item[fields[i]] = part; }\n            }\n            list.push(item);\n        }\n        return list;\n    }\n\n\n    /**\n     * Get a filtered list of items\n     * @param filter Value to filter on\n     * @param items List of results to filter\n     * @param fields Fields to check for matches on each item\n     */\n    public static filter(filter: string, items?: any[], fields: string[] = ['id']) {\n        let results: any[];\n            // Tokenise filter string\n        const filters = filter.toLowerCase().split(' ');\n        const list = {};\n        for (const f of filters) {\n            if (f) {\n                if (!list[f]) { list[f] = 0; }\n                list[f]++;\n            }\n        }\n            // Group similar tokens\n        const parts = [];\n        for (const f in list) {\n            if (list.hasOwnProperty(f)) {\n                parts.push({ word: f, count: list[f], regex: new RegExp(f, 'gi') });\n            }\n        }\n        parts.sort((a, b) => b.word.length - a.word.length || a.word.localeCompare(b.word));\n        const item_list = JSON.parse(JSON.stringify(items || []));\n        if (filter) {\n            results = item_list.filter(\n                (item) => {\n                    let match_count = 0;\n                    item.match_index = 65535;\n                    item.match = '';\n                    const field_list = {};\n                        // Initialise field match variables\n                    for (const f of fields) {\n                        field_list[f] = {\n                            value: (item[f] || '').toLowerCase(),\n                            index: 65536,\n                            matched: 0\n                        };\n                    }\n                        // Search for matches with the tokenised filter string\n                    for (const i of parts) {\n                        if (i.word) {\n                            // Check fields for matches\n                            for (const f of fields) {\n                                const field = field_list[f];\n                                const index = field.value.indexOf(i.word);\n                                field.index = index < field.index ? index : field.index;\n                                field.matches = (field.value.match(i.regex) || []).length;\n                                field.value = field.value.replace(i.regex, ' ');\n                            }\n                            // Update token match count\n                            for (const f of fields) {\n                                const field = field_list[f];\n                                if (field.matches >= i.count) {\n                                    match_count++;\n                                        // Update field matches\n                                    let changed = 0;\n                                    const tokens = (item[`match_${f}`] || item[f] || '').split(' ');\n                                    for (const k of tokens) {\n                                        if (changed >= i.count) {\n                                            break;\n                                        }\n                                        if (k.toLowerCase().indexOf(i.word) >= 0 && k.indexOf('`') < 0) {\n                                            tokens[tokens.indexOf(k)] = k.replace(i.regex, '`$&`');\n                                            changed++;\n                                        }\n                                    }\n                                    item[`match_${f}`] = tokens.join(' ');\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                    // Get field with the most relevent match\n                    for (const f of fields) {\n                        const field = field_list[f];\n                        if (field.index < item.match_index && field.index >= 0) {\n                            item.match_index = field.index;\n                            item.match = f;\n                        }\n                    }\n                    return item.match_index >= 0 && item.match && (match_count >= parts.length);\n                });\n        } else {\n            results = item_list;\n        }\n        // Sort by order of relevence then name\n        results.sort((a, b) => {\n            const diff = a.match_index - b.match_index;\n            return diff === 0 ? a.name.localeCompare(b.name) : diff;\n        });\n        return results;\n    }\n\n    /**\n     * Calculate the distance between two geolocations\n     * @param latitudeA Latitude of the first point\n     * @param longitudeA Longitude of the first point\n     * @param latitudeB Latitude of the second point\n     * @param longitudeB Longitude of the second point\n     */\n    public static geodistance(latitudeA: number, longitudeA: number, latitudeB: number, longitudeB: number) {\n        const R = 6371; // Radius of the earth in km\n        const dLat = this.deg2rad(latitudeB - latitudeA);  // deg2rad below\n        const dLon = this.deg2rad(longitudeB - longitudeA);\n        const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n            Math.cos(this.deg2rad(latitudeA)) * Math.cos(this.deg2rad(latitudeB)) *\n            Math.sin(dLon / 2) * Math.sin(dLon / 2);\n\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        const d = R * c; // Distance in km\n        return d;\n    }\n\n    public static deg2rad(deg) {\n        return deg * (Math.PI / 180);\n    }\n\n    public static copyToClipboard(value: string) {\n        const el = document.createElement('textarea');  // Create a <textarea> element\n        el.value = value;                               // Set its value to the string that you want copied\n        el.setAttribute('readonly', '');                // Make it readonly to be tamper-proof\n        el.style.position = 'absolute';\n        el.style.left = '-9999px';                      // Move outside the screen to make it invisible\n        document.body.appendChild(el);                  // Append the <textarea> element to the HTML document\n        const selected =\n            document.getSelection().rangeCount > 0        // Check if there is any content selected previously\n                ? document.getSelection().getRangeAt(0)     // Store selection if found\n                : false;                                    // Mark as false to know no selection existed before\n        el.select();                                    // Select the <textarea> content\n        document.execCommand('copy');                   // Copy - only works as a result of a user action (e.g. click events)\n        document.body.removeChild(el);                  // Remove the <textarea> element\n        if (selected) {                                 // If a selection existed before copying\n            document.getSelection().removeAllRanges();    // Unselect everything on the HTML document\n            document.getSelection().addRange(selected);   // Restore the original selection\n        }\n    }\n\n    public static validate(type: string, value: any) {\n        switch (type) {\n            case 'email':\n            case 'Email':\n            case 'e-mail':\n            case 'E-mail':\n                return this.validateEmail(value);\n            case 'Number':\n            case 'number':\n                try {\n                    JSON.parse(`[${value}]`);\n                    return /^[0-9.-]*$/g.test(`${value}`);\n                } catch (e) {\n                    return false;\n                }\n            case 'integer':\n            case 'Integer':\n            case 'int':\n            case 'Int':\n                try {\n                    JSON.parse(`[${value}]`);\n                    return /^[0-9-]*$/g.test(`${value}`);\n                } catch (e) {\n                    return false;\n                }\n            case 'url':\n            case 'URL':\n                return /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$/g.test(`${value}`);\n            case 'ip':\n            case 'ipv4':\n            case 'IP':\n                return /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/g.test(`${value}`);\n        }\n    }\n\n    constructor() {\n        throw new Error('This is a static class');\n    }\n}\n","\n<div class=\"wrapper\">\n\n    <!-- <div class=\"header\">\n      <h2>Add Conferencing</h2>\n    </div>\n\n  <section>\n      <label><strong>Zoom Meeting ID</strong></label>\n      <radioset name=\"zoom_id\" [(model)]=\"model.meetingId\" [list]=\"meetingList\" [inline]=\"false\"></radioset>\n      \n      <div class=\"action-toggle\" (tap)=\"toggleAdvancedOptions($event)\"><label>Advanced Options <span class=\"side-toggle\">{{display?.show_advanced ? \"Hide\" : \"Show\"}}</span></label></div>\n      <div class=\"advanced-options\" [class.hide]=\"!display.show_advanced\">\n          <label>Alternative Host</label><br/>\n          <input type=\"email\" name=\"alternativehost\" [(ngModel)]=\"model.alternativeHost\" email placeholder=\"email@mckinsey.com\">\n          \n          <label>Require Password</label><br/>\n          <input type=\"string\" name=\"password\" [(ngModel)]=\"model.password\">\n      </div>\n      <hr/>\n  </section>\n\n  <section>\n      <strong>Dial In Options</strong>\n      <br/><br/>\n      <label>Location Search</label>\n      <div class=\"search-wrapper\">\n          <input type=\"string\" name=\"filter\" [(ngModel)]=\"model.filter\" (ngModelChange)=\"filterChange($event)\" placeholder=\"Filter\">\n          <div class=\"search-icon\"><i class=\"ms-Icon ms-Icon--Search\"></i></div>\n          <div class=\"close-icon\" (tap)=\"model.filter = ''; filterChange($event)\"><i class=\"ms-Icon ms-Icon--ChromeClose\"></i></div>\n      </div>\n      <div class=\"locations-wrapper\">\n          <div class=\"location-select\" *ngFor=\"let location of model.filteredLocations\" (mouseup)=\"checkboxChange($event)\">\n                  <span class=\"side-toggle\" *ngIf=\"location.selected\" (tap)=\"setPrimaryLocation(location, $event)\">Display first</span>\n                  <checkbox \n                        (ngModelChange)=\"checkboxChange($event, location)\"\n                        name=\"{{location.name}}\"\n                        [(model)]=\"location.selected\"\n                        label=\"{{location.name}}\">\n                  </checkbox>\n                  \n          </div>\n      </div>\n      <div class=\"selected-locations\">\n          <ng-container *ngFor=\"let location of model.selectedLocations\">\n                  <div class=\"location-bean\">\n                      {{location.code}} <i (tap)=\"location.selected = false; checkboxChange($event) \" class=\"ms-Icon ms-Icon--ChromeClose\"></i>\n                  </div>\n          </ng-container>\n          <div class=\"location-bean muted\" *ngIf=\"model.selectedLocations?.length >= 5\">\n            Max 5\n          </div>\n      </div>\n      \n      <hr/>\n\n  </section>\n  <section class=\"centered\">\n      <button (tap)=\"run()\" [class.inactive]=\"model.processing\">\n        <span *ngIf=\"model.processing == false\"> Confirm </span>\n        <span *ngIf=\"model.processing\"> <div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div> </span> \n      </button>\n  </section> \n\n  <div class=\"version\">\n    Version: {{version}}\n  </div>\n-->\n\n\n  <section class=\"cut-down\">\n    <div class=\"hero-icon external\">\n        \n    </div>\n    <p>\n        Converge is your new destination for scheduling meeting rooms and resources at Mckinsey\n    </p>\n\n    <button class=\"large\" (click)=\"goToConverge($event)\">\n        Visit Converge\n    </button>\n\n  \n\n    <div class=\"hero-icon download\">\n        \n    </div>\n\n\n        <span>Download the mobile app from Mckinsey App Store</span>\n\n        <a class=\"feedback\" href=\"mailto:mailto:converge_feedback@mckinsey.com?subject=Feedback for Outlook Add in\"> <i class=\"material-icons\">\n            feedback\n            </i> Feedback?</a>\n  </section>\n\n\n    \n  \n</div>","\nimport { Component, OnInit, NgZone } from '@angular/core';\nimport { AppService } from '../../services/app.service';\nimport { BaseComponent } from '../../shared/components/base.component';\nimport {\n    trigger,\n    state,\n    style,\n    animate,\n    transition,\n} from '@angular/animations';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'app-home',\n    templateUrl: './home.template.html',\n    styleUrls: ['./home.styles.scss'],\n    animations: [\n        trigger('EnterLeave', [\n            state('flyIn', style({ transform: 'translateX(0)', boxShadow: '100px 0px 0px 1000px rgba(0,0,0,0.0)' })),\n            transition(':enter', [\n              style({ transform: 'translateX(-100%)', boxShadow: '100px 0px 0px 1000px rgba(0,0,0,0.3)' }),\n              animate('0.2s 0.2s ease-out')\n            ]),\n            transition(':leave', [\n              animate('0.2s ease-out', style({ transform: 'translateX(-100%)', boxShadow: '100px 0px 0px 1000px rgba(0,0,0,0.0)' }))\n            ])\n          ])\n    ],\n})\nexport class HomeComponent extends BaseComponent implements OnInit {\n\n    public model: any = {};\n    public display: any = {};\n    public timers: any = {};\n\n    public Office:any;\n\n    public mailbox;\n    public item;\n    public regions;\n    public version;\n\n    public meetingList = [\n        \"One-Time Meeting ID\",\n        \"Personal Meeting ID (PMI) \"\n    ]\n\n    constructor (\n        private zone: NgZone,\n        private service: AppService\n    ) \n    {\n        super();\n        this.model.routing = {};\n        this.model.meetingId = 1;\n        this.display.show_advanced = false;\n        \n    }\n\n\n    async run() {\n       if(this.model.processing){\n           return;\n       }\n        let isInstant = (this.model.meetingId === 0);\n        this.model.processing = true;\n        if(!this.service.Settings.get('mock')){\n            this.service.Zoom.register({\n                email: this.model.user,\n                start: this.model.start,\n                end: this.model.end,\n                alternative_host: this.model.alternativeHost,\n                password: this.model.password,\n                instant: isInstant\n            }).then((resp: any)=>{\n                console.log('this should return some kind of url maybe?', resp);\n                this.model.join_url = resp.join_url;\n                this.model.meeting_id = resp.id;\n                this.setLocation();\n            });\n        }else{\n            this.model.join_url = \"https://join.zoom.com/f/12345678\";\n            this.model.meeting_id = 987654321;\n            this.setLocation();\n        }\n    }\n\n    public ngOnInit() {\n        console.log('ON INIT');\n\n        //break;\n        return;\n\n        this.item = Office.context.mailbox.item;\n        this.Office = Office;\n        this.model.filter = \"\";\n\n        this.model.processing = false;\n        \n        this.getStartTime();\n        this.getEndTime();\n\n        this.getAttendees(); \n        this.getOptionalAttendees(); \n\n        this.getUserProfile();\n\n        console.log('localstorage?', this.isLocalStorageNameSupported() );\n\n        this.init();\n    }\n\n    public init() {\n        console.log('INIT');\n        if (!this.service.ready()) {\n            return setTimeout(() => this.init(), 200);\n        }\n        this.regions = this.service.Settings.get('regions');\n        this.model.locations = Object.keys(this.regions).map((key, index) => {\n            return {\n                name: this.regions[key].name,\n                code: key,\n                phone: this.regions[key].phone\n            }\n        });\n        this.model.filteredLocations = this.model.locations;\n        this.model.selectedLocations = [];\n\n        if(!this.service.Settings.get('mock')){\n            this.service.Zoom.getId(this.model.user).then((resp: any)=>{\n                console.log('this should be pmi?', resp);\n                let pmi = resp.pmi;\n                this.model.pmi = pmi;\n                this.model.user_name = resp.first_name + \" \" + resp.last_name;\n                this.meetingList[1] += pmi.toString().substring(0, 3) + '-' + pmi.toString().substring(3, 6) + \"-\" + pmi.toString().substring(6);\n            });\n        }else{\n                let pmi = 1234567890;\n                this.model.pmi = pmi;\n                this.model.user_name = \"Ben Hoad\";\n                this.meetingList[1] += pmi.toString().substring(0, 3) + '-' + pmi.toString().substring(3, 6) + \"-\" + pmi.toString().substring(6);\n            \n        }\n        console.log('old settings');\n        this.version = this.service.Settings.get('version');\n        this.loadOldSettings();\n    }\n\n    public filterChange(event){\n        console.log(this.model.filter);\n\n        if(this.model.filter.length == 0){\n            this.model.filteredLocations = this.model.locations;\n        }else{\n            this.model.filteredLocations = this.model.locations.filter((location)=>{return (location.name.toLowerCase().indexOf(this.model.filter.toLowerCase()) > -1 || location.code.toLowerCase().indexOf(this.model.filter.toLowerCase()) > -1)});\n        }\n    }\n\n    public checkboxChange(event){\n        console.log('event: ', event);\n        setTimeout(()=> {\n            this.updateSelectionList();\n        }, 50)\n    }\n\n    public updateSelectionList(){\n        this.model.selectedLocations = [];\n        //go through locations\n        for(let location of this.model.locations){\n            //find checked and add them to a list\n            if(location.selected){\n                if(this.model.primaryLocation && location.code === this.model.primaryLocation.code){\n                    this.model.selectedLocations.unshift(location);\n                }else{\n                    this.model.selectedLocations.push(location);\n                }\n            }\n        }\n        //if list too long pop the last one\n        \n        if(this.model.selectedLocations.length > 5){\n            this.model.selectedLocations[5].selected = false;\n            this.model.selectedLocations.pop();\n        }\n    }\n\n    public initBuilding() {\n        console.log('getting buildings');\n        const list = this.service.Buildings.list();\n        if (!list || list.length <= 0) {\n            return setTimeout(() => this.initBuilding(), 500);\n        }\n        this.model.bld_count = list.length;\n        let bld = '';\n        if (localStorage) {\n            bld = localStorage.getItem('STAFF.building');\n        }\n        this.model.show_building = !bld && this.model.bld_count > 1;\n        this.service.Buildings.listen((building) => this.model.bld = building);\n    }\n\n   \n    public setPrimaryLocation(location, event){\n        this.model.primaryLocation = location;\n        console.log('updated primary:', location);\n        this.updateSelectionList();\n    }\n    \n\n    // Get the start time of the item that the user is composing.\n    public getStartTime() {\n        this.item.start.getAsync(\n            (asyncResult:any) =>  {\n                if (asyncResult.status == Office.AsyncResultStatus.Failed){\n                    console.log (asyncResult.error.message);\n                }\n                else {\n                    console.log('start time', asyncResult);\n                    if(asyncResult && asyncResult.value){\n                        this.model.start = asyncResult.value;\n                        this.zone.run(() => { })\n                    }\n                }\n            });\n    }\n\n    public getEndTime() {\n        this.item.end.getAsync(\n            (asyncResult:any) =>{\n                if (asyncResult.status == Office.AsyncResultStatus.Failed){\n                    console.log (asyncResult.error.message);\n                }\n                else {\n                    console.log('end time', asyncResult);\n                    if(asyncResult && asyncResult.value){\n                        this.model.end = asyncResult.value;\n                        this.zone.run(() => { })\n                    }             \n                }\n            });\n    }\n\n    public getAttendees() {\n        this.item.requiredAttendees.getAsync(\n            (asyncResult:any) => {\n                if (asyncResult.status == Office.AsyncResultStatus.Failed){\n                    console.log (asyncResult.error.message);\n                }\n                else {\n                    console.log('async result required',asyncResult);\n                    if(asyncResult && asyncResult.value){\n                        this.model.requiredAttendees = asyncResult.value;\n                        this.zone.run(() => { })\n                    }\n                  \n                }\n            });\n\n        \n    }\n\n    public getOptionalAttendees() {\n        this.item.optionalAttendees.getAsync(\n            (asyncResult:any) =>{\n                if (asyncResult.status == Office.AsyncResultStatus.Failed){\n                    console.log (asyncResult.error.message);\n                }\n                else {\n                    console.log('async result optional',asyncResult);\n                    this.model.optionalAttendees = asyncResult.value;\n                    this.zone.run(() => { })\n             \n                }\n            });\n    }\n\n    public getUserProfile(){\n        this.model.user = Office.context.mailbox.userProfile.emailAddress;\n        console.log('user 01',this.model.user);\n    }\n\n    public setLocation(){\n        let details = \" || \";\n        let pin = this.model.pmi;\n\n        if(this.model.meetingId == 0){\n            pin = this.model.meeting_id;\n        }\n\n\n        //add Zoom Join URL\n        details += this.model.join_url;\n\n        //add list of countries\n        console.log('selected locations: ', this.model.selectedLocations);\n        if(this.model.selectedLocations){\n            for(let location of this.model.selectedLocations){\n                details += \" || \" + location.code.toUpperCase() + \" \"+ location.phone.replace(/\\s/g , \"-\") +\",,\"+pin+\"#\";\n            }\n        }\n        \n\n        //add to location field\n        this.item.location.getAsync((result)=>{\n            result = result.value;\n            let insertedDetails = \"\";\n            console.log('result: ',result);\n\n            \n            if(result.indexOf(' || ') < 0){\n\n                //doesn't exist\n                insertedDetails = result + details;\n\n            }else{\n\n                //does exist\n                let endIndex = result.indexOf(' || ');\n                insertedDetails = result.substring(0, endIndex) + details;\n                \n\n            }\n\n            this.item.location.setAsync(insertedDetails);\n        });\n\n\n\n\n\n        let splitChar = \"_______________________________________________________________\";\n        \n        //construct the body;\n\n        let html = \"\\\n            <div style='padding:20px;'>\\\n            <p>Hi there,</p>\\\n            <p>\"+ this.model.user_name +\" is inviting you to scheduled Zoom meeting.</p>\\\n            <a style='display:inline-block; margin-left:10px; color: #5491E9' href='\"+ this.model.join_url +\"'><h1 style='font-weight:300;'>Join Zoom Meeting</h1></a>\\\n            <table style='padding:10px'>\\\n                <tr style='vertical-align:top'>\\\n                    <td style=' vertical-align:top'>Phone One-Tap:</td>\\\n                    <td style='line-height:1.2em;'>\";\n                    //add dial-ins\n                    if(this.model.selectedLocations){\n                        for(let location of this.model.selectedLocations){\n                            html += \"<a style='color: #5491E9; margin-bottom:8px;' href=tel:\"+ location.phone.replace(/\\s/g , \"-\") +\",,\"+pin +\">\" + location.code.toUpperCase() + \" \"+ location.phone.replace(/\\s/g , \"-\") +\",,\"+pin+\"#</a> <br/>\";\n                        }\n                    }\n                    \n                html +=\"</td>\\\n                </tr>\\\n                <tr  style=''>\\\n                    <td style=''>Meeting URL:</td>\\\n                    <td style=''><a style='color: #5491E9;' href=\"+ this.model.join_url  +\">\"+ this.model.join_url  +\"</a></td>\\\n                </tr> \\\n            </table>\\\n            </div>\\\n        \";\n        \n                    console.log('getting body');\n        this.item.body.getAsync(\"html\",((result)=>{\n            result = result.value;\n            let insertedHtml = \"\";\n\n            console.log('getting body: ', result);\n            console.log(result);\n\n            if(result.indexOf(splitChar) < 0){\n                //doesn't exist\n                console.log('does not exist');\n\n                //lazily split at </body> tag\n                let resultA = result.split('</body>');\n                result = resultA[0];\n\n                result += splitChar;\n                result += html;\n                result += splitChar;\n\n                result += \"</body>\" + resultA[1];\n\n                insertedHtml = result;\n                console.log(insertedHtml);\n\n            }else{\n                //does exist\n                console.log('does exist');\n                let regexQuery = new RegExp( splitChar + \"([\\\\s\\\\S]*?)\" + splitChar, \"g\");\n                html = splitChar + html + splitChar;\n\n                result = result.replace(regexQuery, html);\n\n                insertedHtml = result;\n            }\n\n            console.log(insertedHtml);\n            console.log(insertedHtml);\n\n            this.item.body.setAsync(insertedHtml, { coercionType: \"html\"}, ()=>{\n                console.log('body set!!!!!!');\n                this.model.processing = false;\n                \n                //close drawer\n                this.Office.context.ui.closeContainer();\n            });\n            this.saveCurrentSettings();\n            \n            \n\n        }));\n        \n        \n    }    \n\n    public isLocalStorageNameSupported() {\n        var testKey = 'test', storage = window.localStorage;\n        try {\n          storage.setItem(testKey, '1');\n          storage.removeItem(testKey);\n          return true;\n        } catch (error) {\n          return false;\n        }\n      }\n\n      public saveCurrentSettings(){\n        let settings = {\n            selectedLocations: this.model.selectedLocations,\n            meetingId: this.model.meetingId,\n            alternativeHost: this.model.alternativeHost,\n            primaryLocation: this.model.primaryLocation\n        }\n\n        window.localStorage.setItem('settings', JSON.stringify(settings));\n      }\n\n      public loadOldSettings(){\n        let settings = JSON.parse(window.localStorage.getItem('settings'));\n\n        if(settings){\n            this.model.meetingId = settings.meetingId;\n            this.model.alternativeHost = settings.alternativeHost;\n            this.model.primaryLocation = settings.primaryLocation;\n\n            if(this.model.alternativeHost && this.model.alternativeHost !== ''){\n                this.display.show_advanced = true;\n            }\n\n            let codeString = \"\";\n\n            for(let location of settings.selectedLocations){\n                codeString += location.code+\"-\";\n            }\n\n            for(let location of this.model.locations){\n                if(codeString.indexOf(location.code) >= 0){\n                    location.selected = true;\n                }\n            }\n\n            this.updateSelectionList();\n        }\n      }\n\n\n      public toggleAdvancedOptions(e){\n        this.display.show_advanced = !this.display.show_advanced;\n      }\n\n      public goToConverge(e){\n        window.open(\"https://roombooking.intranet.mckinsey.com/\")\n      }\n}","<div class=\"container\" *ngIf=\"model.user && !model.loading\" [style.background-image]=\"model.background ? 'url(' + model.background + ')' : ''\">\n    <div class=\"disclaimer\" *ngIf=\"model.unlicensed\">{{model.msg}}</div>\n    <!-- <div class=\"header\">\n        <topbar-header></topbar-header>\n    </div> -->\n    <div class=\"content\">\n        <router-outlet></router-outlet>\n    </div>\n    <!-- <div class=\"footer\">\n        <footer-menu></footer-menu>\n    </div> -->\n    <div class=\"debug-input\" [class.enabled]=\"model.debugging\" (press)=\"startDebug()\" (pressup)=\"cancelDebug()\" (contextmenu)=\"$event.preventDefault()\"></div>\n</div>\n<div class=\"container loader\" *ngIf=\"model.loading\">\n    <div class=\"no-item\">\n        <div class=\"icon\">\n            <spinner type=\"circle-ring\" color=\"#fff\"></spinner>\n        </div>\n        <div class=\"text\">Loading application data...</div>\n    </div>\n</div>\n<div class=\"container login\" *ngIf=\"!model.user\">\n    <login-display></login-display>\n</div>\n\n","import { Component, OnInit, AfterViewInit, NgZone } from '@angular/core';\nimport { ViewEncapsulation } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Observable} from 'rxjs';\n\nimport { BaseComponent } from '../shared/components/base.component';\nimport { AppService } from '../services/app.service';\n\nimport * as moment from 'moment';\n\n\nimport { CommsService, SystemsService } from '@acaprojects/ngx-composer';\n\n\n\n@Component({\n    selector: 'app-shell',\n    templateUrl: './shell.template.html',\n    encapsulation: ViewEncapsulation.None,\n    styles: ['./shell.styles.scss']\n})\nexport class AppShellComponent extends BaseComponent implements OnInit {\n    \n    public model: any = {};\n    public display: any = {};\n    public timers: any = {};\n\n    public Office:any;\n    \n    public mailbox;\n    public item;\n\n    constructor (\n        private zone: NgZone,\n        private http: CommsService,\n        private service: AppService,\n        private router: Router\n    ) \n    {\n        super();\n        this.model.routing = {};\n        this.model.meetingId = 1;\n\n        \n        \n    }\n\n\n    public ngOnInit() {\n        this.item = Office.context.mailbox.item;\n        this.Office = Office;\n\n        this.subs.obs.router = this.router.events.subscribe((e) => {\n            if (e instanceof NavigationEnd) {\n                this.checkRoute();\n                if (e.url.indexOf('book') < 0) {\n                }\n            }\n        });\n        this.model.year = moment().format('YYYY');\n        this.subs.obs.user = this.service.Users.listen('user', (user) => this.model.user = user);\n        this.init();\n    }\n\n    public init() {\n        console.log('INIT-F');\n\n        if (!this.service.Settings.setup) {\n            return setTimeout(() => this.init(), 500);\n        }\n\n        console.log('checked for existing token');\n        \n       \n        this.checkRoute();\n    }\n\n    public initBuilding() {\n        console.log('getting buildings');\n        const list = this.service.Buildings.list();\n        if (!list || list.length <= 0) {\n            return setTimeout(() => this.initBuilding(), 500);\n        }\n        this.model.bld_count = list.length;\n        let bld = '';\n        if (localStorage) {\n            bld = localStorage.getItem('STAFF.building');\n        }\n        this.model.show_building = !bld && this.model.bld_count > 1;\n        this.service.Buildings.listen((building) => this.model.bld = building);\n    }\n\n    public checkRoute() {\n        if (this.router.url.indexOf('logout') >= 0) {\n            this.service.logout();\n        }\n        const route = this.router.url.split('?')[0];\n        if (this.model.menu) {\n            this.model.menu.show_footer = this.model.hide_routes.indexOf(route) < 0;\n        }\n        if (this.model.banner) {\n            this.model.banner.show = this.model.hide_routes.indexOf(route) < 0;\n        }\n        if (this.model.tiles) {\n            for (const tile of this.model.tiles) {\n                tile.active = route.indexOf(`/${tile.id}`) === 0;\n                if (tile.active && this.model.banner) {\n                    this.model.explore = tile.id.indexOf('explore') >= 0 || route.indexOf('book/room') >= 0;\n                    this.model.banner.color = this.model.banner.color || tile.color !== '#fff' ? tile.color : '';\n                    this.model.banner.page = {\n                        links: this.service.Settings.get(`app.${tile.settings}.banner.links`) || this.model.banner.links || []\n                    };\n                }\n            }\n        }\n    }\n\n\n     \n}","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n    production: false\n  };\n  ","import 'zone.js'; // Required for Angular\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\nconsole.log('office pre init');\r\nif(window.location.search.indexOf(\"displayDialog\") === -1){\r\nconsole.log('normal outlook side panel');\r\nOffice.initialize = reason => {\r\n  init();\r\n};\r\n}else{\r\nif(typeof Office === \"undefined\"){\r\n  console.log(Office);\r\n  console.log('dialog with office not already loaded');\r\n  Office.initialize = reason => {\r\n    init();\r\n  };\r\n}else{\r\n  console.log('dialog with office already loaded');\r\n  init();\r\n}\r\n}\r\n\r\nfunction init (){\r\nconsole.log('init');\r\nconst isMac = !!navigator.platform && \r\nnavigator.platform.toUpperCase().indexOf('MAC') >= 0;\r\nlet ext:any;\r\next = window.external;\r\nif (isMac && window.external && !ext.RegisterEvent) {\r\n  ext.RegisterEvent = () => { };\r\n}\r\n\r\ndocument.getElementById('sideload-msg').style.display = 'none';\r\n// Bootstrap the app\r\nplatformBrowserDynamic().bootstrapModule(AppModule).catch(error => console.error(error));\r\n}"],"sourceRoot":""}