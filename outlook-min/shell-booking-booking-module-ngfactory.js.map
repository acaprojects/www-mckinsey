{"version":3,"sources":["webpack:///./src/app/shell/booking/booking.template.html","webpack:///./src/app/shell/booking/booking.component.ts","webpack:///./src/app/shell/booking/booking.module.ts","webpack:///./src/app/shell/booking/desk-flow/desk-flow.component.html","webpack:///./src/app/shell/booking/desk-flow/desk-flow.component.ts","webpack:///./src/app/shell/booking/desk-flow/index.ts","webpack:///./src/app/shell/booking/desk-flow/options/options.component.html","webpack:///./src/app/shell/booking/desk-flow/options/options.component.ts","webpack:///./src/app/shell/booking/desk-flow/result/result.component.html","webpack:///./src/app/shell/booking/desk-flow/result/result.component.ts","webpack:///./src/app/shell/booking/desk-flow/search/search.template.html","webpack:///./src/app/shell/booking/desk-flow/search/search.component.ts","webpack:///./src/app/shell/booking/feedback/feedback.template.html","webpack:///./src/app/shell/booking/feedback/feedback.component.ts","webpack:///./src/app/shell/booking/phone-booth-flow/confirm-details/confirm-details.component.html","webpack:///./src/app/shell/booking/phone-booth-flow/confirm-details/confirm-details.component.ts","webpack:///./src/app/shell/booking/phone-booth-flow/filters/filters.component.html","webpack:///./src/app/shell/booking/phone-booth-flow/filters/filters.component.ts","webpack:///./src/app/shell/booking/phone-booth-flow/index.ts","webpack:///./src/app/shell/booking/phone-booth-flow/phone-booth-flow.component.html","webpack:///./src/app/shell/booking/phone-booth-flow/phone-booth-flow.component.ts","webpack:///./src/app/shell/booking/phone-booth-flow/result/result.component.html","webpack:///./src/app/shell/booking/phone-booth-flow/result/result.component.ts","webpack:///./src/app/shell/booking/phone-booth-flow/select-booth/select-booth.component.html","webpack:///./src/app/shell/booking/phone-booth-flow/select-booth/select-booth.component.ts","webpack:///./src/app/shell/booking/select-flow/select-flow.component.html","webpack:///./src/app/shell/booking/select-flow/select-flow.component.ts","webpack:///./src/app/shell/booking/space-flow/attendees/attendees.template.html","webpack:///./src/app/shell/booking/space-flow/attendees/attendees.component.ts","webpack:///./src/app/shell/booking/space-flow/confirm-attendees/confirm-attendees.template.html","webpack:///./src/app/shell/booking/space-flow/confirm-attendees/confirm-attendees.component.ts","webpack:///./src/app/shell/booking/space-flow/confirm-details/confirm-details.template.html","webpack:///./src/app/shell/booking/space-flow/confirm-details/confirm-details.component.ts","webpack:///./src/app/shell/booking/space-flow/filters/filters.template.html","webpack:///./src/app/shell/booking/space-flow/filters/filters.component.ts","webpack:///./src/app/shell/booking/space-flow/index.ts","webpack:///./src/app/shell/booking/space-flow/result/result.template.html","webpack:///./src/app/shell/booking/space-flow/result/result.component.ts","webpack:///./src/app/shell/booking/space-flow/search-options/search-options.template.html","webpack:///./src/app/shell/booking/space-flow/search-options/search-options.component.ts","webpack:///./src/app/shell/booking/space-flow/select-space/select-space.template.html","webpack:///./src/app/shell/booking/space-flow/select-space/select-space.component.ts","webpack:///./src/app/shell/booking/space-flow/select-time/select-time.template.html","webpack:///./src/app/shell/booking/space-flow/select-time/select-time.component.ts","webpack:///./src/app/shell/booking/space-flow/space-flow.template.html","webpack:///./src/app/shell/booking/space-flow/space-flow.component.ts","webpack:///./src/app/shell/booking/space-flow/view-space/view-space.template.html","webpack:///./src/app/shell/booking/space-flow/view-space/view-space.component.ts","webpack:///./src/app/shell/booking/visitor-flow/index.ts","webpack:///./src/app/shell/booking/visitor-flow/invite/invite.component.html","webpack:///./src/app/shell/booking/visitor-flow/invite/invite.component.ts","webpack:///./src/app/shell/booking/visitor-flow/new-contact/new-contact.component.html","webpack:///./src/app/shell/booking/visitor-flow/new-contact/new-contact.component.ts","webpack:///./src/app/shell/booking/visitor-flow/options/options.component.html","webpack:///./src/app/shell/booking/visitor-flow/options/options.component.ts","webpack:///./src/app/shell/booking/visitor-flow/result/result.component.html","webpack:///./src/app/shell/booking/visitor-flow/result/result.component.ts","webpack:///./src/app/shell/booking/visitor-flow/visitor-flow.component.html","webpack:///./src/app/shell/booking/visitor-flow/visitor-flow.component.ts","webpack:///./src/app/shell/booking/visitor-flow/visitor-list/visitor-list.component.html","webpack:///./src/app/shell/booking/visitor-flow/visitor-list/visitor-list.component.ts"],"names":[],"mappings":"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","file":"shell-booking-booking-module-ngfactory.js","sourcesContent":["<div class=\"container\">\n    <select-booking-flow *ngIf=\"!model.flow\"></select-booking-flow>\n    <space-booking-flow *ngIf=\"model.flow === 'space' || model.flow === 'main'\"></space-booking-flow>\n    <phone-booth-booking-flow *ngIf=\"model.flow === 'phone-booth'\"></phone-booth-booking-flow>\n    <visitor-booking-flow *ngIf=\"model.flow === 'visitor'\"></visitor-booking-flow>\n    <desk-booking-flow *ngIf=\"model.flow === 'desk'\"></desk-booking-flow>\n</div>","\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\n\nimport { AppService } from '../../services/app.service';\nimport { BaseComponent } from '../../shared/components/base.component';\n\n@Component({\n    selector: 'app-booking',\n    templateUrl: './booking.template.html',\n    styleUrls: ['./booking.styles.scss']\n})\nexport class BookingComponent extends BaseComponent implements OnInit {\n    public model: any = {};\n\n    constructor(private service: AppService, private route: ActivatedRoute, private router: Router) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subs.obs.route = this.route.paramMap.subscribe((params) => {\n            this.model.flow = '';\n            if (params.has('flow')) {\n                this.model.flow = params.get('flow');\n            }\n        });\n        this.subs.obs.route = this.router.events.subscribe((e) => {\n            if (e instanceof NavigationEnd && e.url.indexOf('book') < 0) {\n                this.clearForm();\n            }\n        });\n        this.service.set('BANNER.block_height', 0);\n    }\n\n    public clearForm() {\n        ['visitor', 'space', 'phone-booth', 'desks'].forEach(n =>\n            ['filters', 'space', 'attendees', 'breadcrumbs'].forEach(i => this.clear(n, i))\n        );\n    }\n\n    public clear(flow: string, name: string) {\n        if (localStorage) {\n            localStorage.removeItem(`STAFF.${flow}.${name}`);\n        }\n    }\n}\n","\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ScrollingModule } from '@angular/cdk/scrolling';\n\nimport { WidgetsModule } from '@acaprojects/ngx-widgets';\nimport { RouterModule } from '@angular/router';\n\nimport { ROUTES } from './booking.routes';\nimport { BookingComponent } from './booking.component';\n\nimport { SharedComponentModule } from '../../shared/components/shared.module';\n\nimport { SelectBookingFlowComponent } from './select-flow/select-flow.component';\n\nimport { SPACE_FLOW_COMPONENTS } from './space-flow';\nimport { PHONE_BOOTH_FLOW_COMPONENTS } from './phone-booth-flow';\nimport { VISITOR_FLOW_COMPONENTS } from './visitor-flow';\nimport { BookingFlowFeedbackComponent } from './feedback/feedback.component';\nimport { DESK_FLOW_COMPONENT } from './desk-flow';\n\nconst COMPONENTS: any = [\n    BookingComponent,\n\n    SelectBookingFlowComponent,\n    BookingFlowFeedbackComponent,\n\n    ...SPACE_FLOW_COMPONENTS,\n    ...PHONE_BOOTH_FLOW_COMPONENTS,\n    ...VISITOR_FLOW_COMPONENTS,\n    ...DESK_FLOW_COMPONENT\n];\n\n@NgModule({\n    declarations: [\n        ...COMPONENTS\n    ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        WidgetsModule,\n        RouterModule.forChild(ROUTES),\n        SharedComponentModule,\n        ScrollingModule\n    ],\n    exports: [\n        ...COMPONENTS\n    ]\n})\nexport class AppBookingModule { }\n","<div class=\"container\">\n    <div class=\"topbar\">\n        <div class=\"icon back\" (touchrelease)=\"back()\">\n            <i class=\"material-icons\">arrow_back</i>\n        </div>\n        <div class=\"text to-upper\" [ngSwitch]=\"model.page\">\n            <ng-container *ngSwitchCase=\"'search'\">Desk search</ng-container>\n            <ng-container *ngSwitchDefault>Desks</ng-container>\n        </div>\n    </div>\n    <div class=\"flow-step\" [ngSwitch]=\"model.page\">\n        <ng-container *ngSwitchCase=\"'search'\">\n            <desk-flow-search [(filters)]=\"model.filters\" (filtersChange)=\"store('filters')\"></desk-flow-search>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'results'\">\n            <desk-flow-result></desk-flow-result>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'result'\">\n            <desk-flow-result></desk-flow-result>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'map'\">\n            <space-flow-view-space (level)=\"model.level = $event\" (back)=\"back()\"></space-flow-view-space>\n        </ng-container>\n        <ng-container *ngSwitchDefault>\n            <desk-flow-options [(filters)]=\"model.filters\" (filtersChange)=\"store('filters')\"></desk-flow-options>\n        </ng-container>\n    </div>\n    <div class=\"loader\" *ngIf=\"model.loading\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\" color=\"#000\"></spinner>\n            </div>\n            <div class=\"text\">{{model.loading === true ? 'Waiting...' : model.loading}}</div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\n\nimport { AppService } from '../../../services/app.service';\nimport { BaseComponent } from '../../../shared/components/base.component';\n\n@Component({\n    selector: 'desk-booking-flow',\n    templateUrl: './desk-flow.component.html',\n    styleUrls: ['./desk-flow.component.scss']\n})\nexport class DeskFlowComponent extends BaseComponent implements OnInit {\n\n    public model: any = {};\n\n    constructor(private service: AppService, private route: ActivatedRoute, private router: Router) {\n        super();\n        this.model.breadcrumbs = [];\n    }\n\n    public ngOnInit(): void {\n        this.model.flow = 'desks';\n        this.load('breadcrumbs');\n        this.subs.obs.params = this.route.paramMap.subscribe((params) => {\n            if (this.model.page && !this.model.ignore) {\n                this.model.breadcrumbs.push(this.model.page);\n                this.store('breadcrumbs');\n            }\n            this.model.ignore = false;\n            this.model.page = '';\n            if (params.has('page')) {\n                this.model.page = params.get('page');\n            }\n            if (!this.model.page) { this.clearForm(); }\n        });\n        this.subs.obs.route = this.router.events.subscribe((e) => {\n            if (e instanceof NavigationEnd && e.url.indexOf('book/desk') < 0) {\n                this.clearForm();\n            }\n        });\n        this.load('attendees');\n    }\n\n    public store(name: string) {\n        if (localStorage) {\n            const d = this.model[name];\n            const value = typeof d === 'object' ? JSON.stringify(d) : d;\n            localStorage.setItem(`STAFF.${this.model.flow}.${name}`, value);\n        }\n    }\n\n    public load(name: string) {\n        if (localStorage) {\n            const item = localStorage.getItem(`STAFF.${this.model.flow}.${name}`);\n            if (item) {\n                try {\n                    this.model[name] = JSON.parse(item);\n                } catch (e) {\n                    this.model[name] = item;\n                }\n            }\n        }\n    }\n\n    public clear(name: string) {\n        if (localStorage) {\n            localStorage.removeItem(`STAFF.${this.model.flow}.${name}`);\n        }\n    }\n\n    public storeFilters() { this.store('filters'); }\n    public loadFilters() { this.load('filters'); }\n\n    public storeSpace() { this.store('space'); }\n    public loadSpace() { this.load('space'); }\n\n    public clearForm() {\n        ['filters', 'space', 'breadcrumbs'].forEach(i => this.clear(i));\n    }\n\n    set loading(value: any) {\n        this.timeout('loading', () => this.model.loading = value, 10);\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'desk', name], query);\n    }\n\n    public back() {\n        const previous = this.model.breadcrumbs.pop();\n        if (previous) {\n            this.to(previous);\n            this.model.ignore = true;\n            this.store('breadcrumbs');\n        } else {\n            this.service.navigate(['book']);\n        }\n    }\n}\n","\nimport { DeskFlowComponent } from './desk-flow.component';\nimport { DeskFlowResultComponent } from './result/result.component';\nimport { DeskFlowOptionsComponent } from './options/options.component';\nimport { DeskFlowSearchComponent } from './search/search.component';\n\nexport const DESK_FLOW_COMPONENT: any[] = [\n    DeskFlowComponent,\n    DeskFlowResultComponent,\n    DeskFlowOptionsComponent,\n    DeskFlowSearchComponent\n];\n","<div class=\"block search\">\n    <div class=\"content\">\n        <div class=\"header to-upper\">Search desks</div>\n        <div class=\"form\">\n            <div class=\"field\">\n                <label for=\"level\">Level</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"level\" [list]=\"model.levels\" [(model)]=\"model.level_index\" (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"date\">Start Date</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"date\" [list]=\"model.dates\" [(model)]=\"model.date_index\" (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"date\">End Date</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"date\" [list]=\"model.end_dates\" [(model)]=\"model.duration_index\" (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <hr />\n            <div class=\"options\">\n                <btn (tapped)=\"to('search')\">Search</btn>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { Utils } from '../../../../shared/utility.class';\n\nimport { IUser } from '../../../../services/data/users.service';\nimport { ISpaceFilters } from '../../space-flow/filters/filters.component';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'desk-flow-options',\n    templateUrl: './options.component.html',\n    styleUrls: ['./options.component.scss']\n})\nexport class DeskFlowOptionsComponent extends BaseComponent implements OnInit {\n    @Input() public filters: ISpaceFilters;\n    @Output() public filtersChange = new EventEmitter<ISpaceFilters>();\n\n    public model: any = {\n        date_index: 0,\n        duration_index: 0,\n        level_index: 0\n    };\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        if (!this.filters) {\n            this.filters = {\n                date: moment().valueOf(),\n                duration: 30\n            };\n        }\n        this.subs.obs.building = this.service.Buildings.listen((bld) => {\n            if (bld) {\n                this.model.levels = [{ id: null, name: 'Any' }, ...bld.levels];\n                const exists = this.model.levels.find(i => this.filters.level && i.id === this.filters.level);\n                if (exists) {\n                    this.model.level_index = this.model.levels.indexOf(exists);\n                    if (this.model.level_index < 0) { this.model.level_index = 0; }\n                }\n                this.updateForm();\n            }\n        });\n        this.loadDates();\n        this.loadEndDates();\n        this.updateForm();\n    }\n\n    public updateForm() {\n        this.timeout('update', () => {\n            // Prevent pre-initialisation errors\n            if (!this.model.dates) { this.model.dates = [{ id: moment().seconds(0).milliseconds(0).valueOf() }]; }\n            if (!this.model.end_dates) { this.model.end_dates = [{ id: moment().format('HH:mm') }]; }\n            // Update filter fields\n            const date = moment(this.model.dates[this.model.date_index].id);\n            this.filters = {\n                date: date.valueOf(),\n                duration: this.model.end_dates[this.model.duration_index].id\n            };\n            this.filtersChange.emit(this.filters);\n            this.loadEndDates();\n        }, 100);\n    }\n\n    public loadDates() {\n        this.model.dates = [];\n        const date = moment().startOf('day');\n        const end = moment(date).add(2, 'M');\n        let offset = 0;\n        for (; date.isBefore(end); date.add(1, 'd')) {\n            this.model.dates.push({\n                id: date.valueOf(),\n                name: date.format('ddd MMMM DD, YYYY'),\n                offset\n            });\n            offset++;\n        }\n    }\n\n    public loadEndDates() {\n        this.model.end_dates = [];\n        const date = moment(this.filters.date).endOf('day');\n        const end = moment(date).add(14, 'd');\n        let offset = 0;\n        for (; date.isBefore(end); date.add(1, 'd')) {\n            const id = Math.round(moment.duration(date.diff(this.filters.date)).asMinutes());\n            if (id === this.filters.duration) {\n                this.model.duration_index = this.model.end_dates.length;\n            }\n            this.model.end_dates.push({\n                id,\n                name: date.format('ddd MMMM DD, YYYY'),\n                offset\n            });\n            offset++;\n        }\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'desk', name], query);\n    }\n\n}\n","<div class=\"container\">\n    <div class=\"circle\"></div>\n    <div class=\"content\">\n        <div class=\"icon top\">\n            <img src=\"assets/img/book_desk.svg\">\n        </div>\n        <div class=\"title\">Booking created</div>\n        <div class=\"info\">Are you happy with your experience?</div>\n        <div class=\"options\">\n            <div class=\"option icon\" (touchrelease)=\"toHome()\">\n                <i class=\"material-icons\">done</i>\n            </div>\n            <div class=\"option icon\" (touchrelease)=\"toFeedback()\">\n                <i class=\"material-icons\">close</i>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\n\n@Component({\n    selector: 'desk-flow-result',\n    templateUrl: './result.component.html',\n    styleUrls: ['./result.component.scss']\n})\nexport class DeskFlowResultComponent extends BaseComponent implements OnInit {\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.clearForm();\n    }\n\n    public clear(name: string) {\n        if (localStorage) {\n            localStorage.removeItem(`STAFF.desk.${name}`);\n        }\n    }\n\n    public clearForm() {\n        this.clear('filters');\n        this.clear('space');\n        this.clear('attendees');\n    }\n\n    public toHome() { this.service.navigate('home'); }\n    public toFeedback() { this.service.navigate(['book', 'feedback']); }\n}\n","<div class=\"container\">\n    <div class=\"block header\">\n        <div class=\"content\">\n            <div class=\"header to-upper\">Available Desks: <span>{{model.filtered_items ? model.filtered_items.length || '0' : '0'}}</span></div>\n            <div class=\"filters\">\n                {{ model.start_date }} &ndash; {{ model.end_date }}\n            </div>\n        </div>\n    </div>\n    <div class=\"block list\">\n        <div class=\"content\">\n            <div class=\"item\" *ngFor=\"let item of (model.filtered_items || [])\">\n                <div class=\"details\">\n                    <div class=\"detail\">\n                        <div class=\"icon\">\n                            <img src=\"assets/img/location.svg\">\n                        </div>\n                        <div class=\"text\">{{item.level?.name}}, {{item.name}}</div>\n                    </div>\n                </div>\n                <div class=\"options\">\n                    <btn (tapped)=\"toBook(item)\">Book</btn>\n                    <btn (tapped)=\"toMap(item)\">Map</btn>\n                </div>\n            </div>\n        </div>\n        <div class=\"no-item\" center *ngIf=\"!model.filtered_items || model.filtered_items.length <= 0\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">close</i>\n            </div>\n            <div class=\"text\">No desks found</div>\n        </div>\n    </div>\n</div>","import { Component, OnInit, Input, EventEmitter, Output, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { IRoom } from '../../../../services/data/rooms.service';\nimport { Utils } from '../../../../shared/utility.class';\nimport { ISpaceFilters } from '../../space-flow/filters/filters.component';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'desk-flow-search',\n    templateUrl: './search.template.html',\n    styleUrls: ['./search.styles.scss']\n})\nexport class DeskFlowSearchComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public filters: ISpaceFilters;\n    @Output() public desk = new EventEmitter();\n    @Output() public loading = new EventEmitter();\n    @Input() public filtersChange = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subs.obs.rooms = this.service.Rooms.listen('list', (rooms) => this.search());\n        if (!this.filters) { this.filters = {} as any; }\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.filters) {\n            if (!this.filters) { this.filters = {} as any; }\n            const date = moment(this.filters.date);\n            this.model.start_date = date.format('DD/MM/YYYY');\n            this.model.end_date = date.add(this.filters.duration - 1, 'm').format('DD/MM/YYYY');\n            this.search();\n            this.updateFilterList();\n        }\n    }\n\n    public search() {\n        if (!this.service.Buildings.current()) {\n            setTimeout(() => this.search(), 300);\n        }\n        this.updateDate();\n        this.loading.emit('Searching...');\n        if (!this.filters) { this.filters = {} as any; }\n        this.service.Rooms.available({\n            date: this.filters.date,\n            duration: this.filters.duration\n        }).then((list) => {\n            this.loading.emit(false);\n            this.model.rooms = this.service.Rooms.list();\n            this.model.items = list;\n            this.model.search_results = list;\n            for (const rm of this.model.items) {\n                rm.in_use_at_time = true;\n                for (const i of this.model.search_results) {\n                    if (rm.id === i.id) {\n                        rm.in_use_at_time = false;\n                        break;\n                    }\n                }\n            }\n            this.filter();\n        }, (err) => this.loading.emit(false));\n    }\n\n    public filter() {\n        this.loading.emit('Filtering...');\n        this.model.filtered_items = [];\n        if (this.filters) {\n            // Set level\n            const level = this.service.Buildings.getLevel(this.filters.level);\n            // Set Capacity\n            const capacity = this.filters.capacity || -1;\n            if (this.model.items) {\n                const item_list = this.model.search_results;\n                for (const rm of item_list) {\n                    rm.in_use_at_time = true;\n                    for (const i of this.model.search_results) {\n                        if (rm.id === i.id) {\n                            rm.in_use_at_time = false;\n                            break;\n                        }\n                    }\n                }\n                for (const item of item_list) {\n                    let match = true;\n                    // Check levels\n                    match = match && (!level || (level.id === -1 || item.level.id === level.id));\n                    // Check client floor when external users present\n                    match = match && (!this.model.has_external || !this.model.external_floors || this.model.external_floors.length <= 0 || (this.model.external_floors.indexOf(item.level.type.toLowerCase()) >= 0));\n                    // Check level type\n                    match = match && (!this.model.floor || (item.level.type.toLowerCase() === this.model.floor.toLowerCase()));\n                    // Check capacity\n                    match = match && (capacity <= 0 || item.capacity >= capacity);\n                    let count = 0;\n                    let found = 0;\n                    for (const e of (this.filters.extras || [])) {\n                        if (e.filter) { count++; }\n                        for (const r_e of item.extras) {\n                            if (r_e.id === e.id && e.filter) { found++; }\n                        }\n                    }\n                    match = match && (found >= count);\n                    if (match) { this.model.filtered_items.push(item); }\n                }\n            }\n        } else {\n            this.model.filtered_items = this.model.filtered_items.concat(this.model.items || []);\n        }\n        this.model.filtered_items.sort((a, b) => {\n            const da = {\n                lvl: (a.level ? a.level.name : '') || '',\n                name: a.name\n            };\n            const db = {\n                lvl: (a.level ? b.level.name : b.name) || '',\n                name: b.name\n            };\n            return a.order - b.order || da.lvl.localeCompare(db.lvl) || da.name.localeCompare(db.name);\n        });\n        if (!this.model.searching) {\n            this.loading.emit(false);\n        }\n    }\n\n    public updateDate() {\n        this.model.date = moment(this.filters.date).format('dddd D/MM/YYYY');\n    }\n\n    public changeDate(offset: number) {\n        const date = moment(this.filters.date);\n        date.add(offset, 'd');\n        const now = moment();\n        while (date.isBefore(now, 'm')) {\n            date.add(1, 'd');\n        }\n        this.filters.date = date.valueOf();\n        this.post();\n        this.search();\n    }\n\n    public post() {\n        this.timeout('post', () => {\n            this.updateFilterList();\n            this.filtersChange.emit(this.filters);\n        });\n    }\n\n    public updateFilterList() {\n        this.model.filter_list = [];\n        const level = this.service.Buildings.getLevel(this.filters.level);\n        this.model.filter_list.push({\n            id: 'level',\n            type: level && level.name ? level.id : -1,\n            value: level ? level.name || 'Any Level' : 'Any Level'\n        });\n        const cap = this.filters.capacity;\n        this.model.filter_list.push({\n            id: 'capacity',\n            type: cap && cap > 0 ? 1 : -1,\n            value: cap && cap > 0 ? `${cap} ${cap === 1 ? 'person' : 'people'}` : 'Any capacity'\n        });\n        const date = moment(this.filters.date);\n        this.model.filter_list.push({\n            id: 'date',\n            type: date.isValid() && date.isSameOrAfter(moment(), 'm') ? 1 : -1,\n            value: date.format('hh:mm A')\n        });\n        this.model.filter_list.push({\n            id: 'duration',\n            type: this.filters.duration && this.filters.duration > 30 ? 1 : -1,\n            value: Utils.humaniseDuration(this.filters.duration || 30, true)\n        });\n        for (const item of (this.filters.extras || [])) {\n            if (item.filter) {\n                this.model.filter_list.push({\n                    id: 'extras',\n                    type: item.id,\n                    value: item.name\n                });\n            }\n        }\n    }\n\n    public clearFilter(filter: any) {\n        let change = false;\n        if (filter.type !== -1) {\n            if (filter.id === 'extras') {\n                for (const item of (this.filters.extras || [])) {\n                    if (item.filter && item.id === filter.type) {\n                        item.filter = false;\n                        change = true;\n                    }\n                }\n            } else {\n                switch (filter.id) {\n                    case 'level':\n                        this.filters.level = null;\n                        change = true;\n                        break;\n                    case 'capacity':\n                        this.filters.capacity = -1;\n                        change = true;\n                        break;\n                    case 'duration':\n                        this.filters.duration = 30;\n                        change = true;\n                        break;\n                    case 'date':\n                        const now = moment();\n                        const date = moment(this.filters.date);\n                        date.hours(now.hours()).minutes(Math.ceil(now.minutes() / 5) * 5);\n                        this.filters.date = date.valueOf();\n                        change = true;\n                        break;\n                }\n            }\n        }\n        if (change) {\n            this.post();\n            this.search();\n        }\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'desk', name], query);\n    }\n\n    public toBook(rm: IRoom) {\n        this.loading.emit('Checking room is still available...');\n        const user = this.service.Users.current();\n        this.service.Bookings.add({\n            attendees: [user],\n            title: `Desks booking from App`,\n            date: this.filters.date,\n            duration: this.filters.duration,\n            room: rm\n        }).then(() => {\n            this.loading.emit(false);\n            this.to('results');\n        }, () => {\n            this.loading.emit(false);\n            this.service.error(`Error creating booking for desk ${rm.name}`);\n        });\n    }\n\n    public toMap(rm: IRoom) { this.to('map', { room_id: rm.id }); }\n    public toFilters() { this.to('filters'); }\n}\n","<div class=\"container\">\n    <div class=\"circle\"></div>\n    <div class=\"content\">\n        <div class=\"icon top\">\n            <img src=\"assets/img/book_confirmed.svg\">\n        </div>\n        <div class=\"title\">We value your feedback!</div>\n        <div class=\"info\">Help us make this app event better</div>\n        <div class=\"description\">\n            <div contenteditable=\"true\" class=\"textarea\" (input)=\"change($event)\">\n\n            </div>\n            <div class=\"placeholder\" *ngIf=\"!model.description\">Enter description</div>\n        </div>\n        <div class=\"options\">\n            <btn klass=\"full-width\" (tapped)=\"toHome()\">\n                <div class=\"text\">Cancel</div>\n            </btn>\n            <btn klass=\"full-width\" [disabled]=\"!model.description\" (tapped)=\"submit()\">\n                <div class=\"text\">Submit!</div>\n            </btn>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, EventEmitter, Output } from '@angular/core';\n\nimport { AppService } from '../../../services/app.service';\nimport { BaseComponent } from '../../../shared/components/base.component';\n\n@Component({\n    selector: 'booking-flow-feedback',\n    templateUrl: './feedback.template.html',\n    styleUrls: ['./feedback.styles.scss']\n})\nexport class BookingFlowFeedbackComponent extends BaseComponent {\n    @Output() public loading = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public change($event) {\n        this.model.description = $event.target.textContent;\n    }\n\n    public toHome() { this.service.navigate('home'); }\n\n    public submit() {\n        this.loading.emit('Sending feedback...');\n        this.timeout('feedback', () => {\n            this.loading.emit(false);\n            this.service.success('Thank you for your feedback');\n            this.toHome();\n        }, 2 * 1000);\n    }\n\n}\n","<div class=\"container\">\n    <div class=\"circle\"></div>\n    <div class=\"content\">\n        <div class=\"title\">\n            <input [(ngModel)]=\"model.title\" placeholder=\"Enter title\">\n        </div>\n        <div class=\"item space\">\n            <div class=\"icon\"><img src=\"assets/img/location.svg\"></div>\n            <div class=\"text ul\" (touchrelease)=\"toSpaces()\">{{space ? space.name : 'Any free room'}}</div>\n        </div>\n        <div class=\"details\">\n            at {{model.period}}<br>\n            on {{model.date}}\n        </div>\n        <div class=\"description\">\n            <div contenteditable=\"true\" class=\"textarea\" (input)=\"change($event)\">\n\n            </div>\n            <div class=\"placeholder\" *ngIf=\"!model.description\">Enter description</div>\n        </div>\n        <div class=\"options\">\n            <btn klass=\"full-width\" (tapped)=\"cancel()\">\n                <div class=\"text\">Back</div>\n            </btn>\n            <btn klass=\"full-width\" [disabled]=\"!model.title\" (tapped)=\"book()\">\n                <div class=\"text\">Create!</div>\n            </btn>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, EventEmitter, Output, SimpleChanges, OnChanges } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { ISpaceFilters } from '../../space-flow/filters/filters.component';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { IUser } from '../../../../services/data/users.service';\nimport { IRoom } from '../../../../services/data/rooms.service';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'phone-booth-flow-confirm-details',\n    templateUrl: './confirm-details.component.html',\n    styleUrls: ['./confirm-details.component.scss']\n})\nexport class PhoneBoothFlowConfirmDetailsComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public form: ISpaceFilters;\n    @Input() public attendees: IUser[];\n    @Input() public space: IRoom;\n    @Input() public from: string;\n    @Output() public attendeesChange: IUser[];\n    @Output() public loading = new EventEmitter();\n    @Output() public back = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.updateDisplay();\n        this.init();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        this.updateDisplay();\n        console.log('Space:', this.model.space);\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init());\n        }\n        this.model.settings = this.service.Settings.get('app.booking') || {};\n    }\n\n    public change($event) {\n        this.model.description = $event.target.textContent;\n    }\n\n    public updateDisplay() {\n        if (!this.form) { this.form = {} as any; }\n        const date = moment(this.form.date);\n        this.model.date = date.format('dddd D MMM YYYY');\n        const start = date.format('hh:mm A');\n        const end = date.add(this.form.duration || 30, 'm').format('hh:mm A');\n        this.model.period = `${start} - ${end}`;\n    }\n\n    public book() {\n        if (this.space) {\n            this.loading.emit('Checking room status...');\n            this.service.Rooms.isAvailable(this.space.id, this.form.date, this.form.duration)\n                .then(() => {\n                    this.createBooking();\n                }, (e) => {\n                    this.loading.emit(false);\n                    const start = moment(this.form.date);\n                    const date = start.format('MMM Do, YYYY');\n                    const end = moment(start).add(this.form.duration, 'm');\n                    this.service.error('Room is not available at the selected time anymore');\n                    this.model.error = JSON.parse(JSON.stringify(this.model.error));\n                });\n        } else {\n            this.loading.emit('Finding available room...');\n            this.service.Rooms.available({\n                date: this.form.date,\n                duration: this.form.duration\n            }).then((list: IRoom[]) => {\n                const rm_list = list.filter(item => item.capacity >= (this.attendees || []).length || 1);\n                if (rm_list && rm_list.length > 0) {\n                    this.space = rm_list[Math.floor(Math.random() * rm_list.length)];\n                    this.createBooking();\n                } else {\n                    this.service.error('No rooms found at the specified time with the required capacity');\n                    this.loading.emit(false);\n                }\n            });\n        }\n    }\n\n    private createBooking() {\n        const title = this.model.title;\n        if (!this.model.title) {\n            this.model.title = `From Staff App by ${this.model.user.name}`;\n        }\n        if (this.model.settings.title_prefix) {\n            this.model.title = this.model.settings.title_prefix + this.model.form.title;\n        }\n        this.loading.emit('Requesting meeting...');\n        const form = {\n            ...this.form,\n            title: this.model.title,\n            description: this.model.description,\n            attendees: this.attendees,\n            room: this.space\n        };\n        this.service.Bookings.add(form).then(() => {\n            this.loading.emit(false);\n            this.to('result');\n        }, (err) => {\n            this.loading.emit(false);\n            if (this.model.settings && this.model.settings.title_prefix) {\n                this.model.title = this.model.title.replace(this.model.settings.title_prefix, '');\n            }\n            this.model.title = title;\n            if (!err || (typeof err === 'string' && err.indexOf('user') < 0)) {\n                this.service.error('An error occurred while making your booking');\n            }\n        });\n    }\n\n    public cancel() {\n        this.back.emit();\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'phone-booth', name], query);\n    }\n\n    public toSpaces() { this.to('select-booth'); }\n}\n","<div class=\"block search\">\n    <div class=\"content\">\n        <div class=\"header to-upper\">Search phone booths</div>\n        <div class=\"form\">\n            <div class=\"field\">\n                <label for=\"level\">Level</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"level\" [list]=\"model.levels\" [(model)]=\"model.level_index\"\n                        (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"date\">Date</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"date\" [list]=\"model.dates\" [(model)]=\"model.date_index\" (modelChange)=\"updateForm(); loadTimes()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"time\">Time</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"time\" [list]=\"model.times\" [(model)]=\"model.time_index\" (modelChange)=\"updateForm(); loadDurations()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"duration\">Duration</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"duration\" [list]=\"model.durations\" [(model)]=\"model.duration_index\"\n                        (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <hr />\n            <div class=\"options\">\n                <btn klass=\"wide\" (tapped)=\"toSpaces()\">\n                    <div class=\"icon\"><i class=\"material-icons\">search</i></div>\n                    <div class=\"text\">Search</div>\n                </btn>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { Utils } from '../../../../shared/utility.class';\nimport { ISpaceFilters } from '../../space-flow/filters/filters.component';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'phone-booth-flow-filters',\n    templateUrl: './filters.component.html',\n    styleUrls: ['./filters.component.scss']\n})\nexport class PhoneBoothFlowFiltersComponent extends BaseComponent implements OnInit {\n    @Input() public filters: ISpaceFilters;\n    @Output() public filtersChange = new EventEmitter<ISpaceFilters>();\n    @Output() public back = new EventEmitter();\n\n    public model: any = {\n        date_index: 0,\n        time_index: 0,\n        duration_index: 0,\n        level_index: 0,\n        capacity_index: 0\n    };\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        if (!this.model.form) { this.model.form = {}; }\n        if (!this.filters) { this.filters = {} as any; }\n        this.subs.obs.capacity = this.service.Rooms.listen('capacities', (list) => {\n            this.model.capacity = list || [];\n            const exists = this.model.capacity.find(i => i.id === this.filters.capacity);\n            if (exists) {\n                this.model.capacity_index = this.model.capacity.indexOf(exists);\n                if (this.model.capacity_index < 0) { this.model.capacity_index = 0; }\n            }\n            this.updateForm();\n        });\n        this.subs.obs.building = this.service.Buildings.listen((bld) => {\n            if (bld) {\n                this.model.levels = [{ id: null, name: 'Any' }, ...bld.levels];\n                const exists = this.model.levels.find(i => this.filters.level && i.id === this.filters.level);\n                if (exists) {\n                    this.model.level_index = this.model.levels.indexOf(exists);\n                    if (this.model.level_index < 0) { this.model.level_index = 0; }\n                }\n                this.model.extras = [...bld.extras];\n                this.model.extras.forEach(item => (this.filters.extras || []).forEach(old => {\n                    if (old.id === item.id) { item.filter = old.filter; }\n                }));\n                this.updateForm();\n            }\n        });\n        this.loadDates();\n        this.updateForm();\n    }\n\n    public updateForm() {\n        this.timeout('update', () => {\n            // Prevent pre-initialisation errors\n            if (!this.model.dates) { this.model.dates = [{ id: moment().seconds(0).milliseconds(0).valueOf() }]; }\n            if (!this.model.times) { this.model.times = [{ id: moment().format('HH:mm') }]; }\n            if (!this.model.durations) { this.model.durations = [{ id: 30 }]; }\n            if (!this.model.capacity) { this.model.capacity = [{ id: -1 }]; }\n            if (!this.model.levels) { this.model.levels = [{ id: null }]; }\n            // Update filter fields\n            const date = moment(this.model.dates[this.model.date_index].id);\n            const time = this.model.times[this.model.time_index].id.split(':');\n            this.filters = {\n                date: date.hours(+time[0]).minutes(+time[1]).valueOf(),\n                duration: this.model.durations[Math.min(this.model.durations.length - 1, this.model.duration_index)].id,\n                capacity: 1,\n                level: this.model.levels[Math.min(this.model.levels.length - 1, this.model.level_index)].id,\n                extras: this.model.extras && this.model.extras.length > 0 ? [...this.model.extras] : []\n            };\n            this.loadDurations();\n            this.filtersChange.emit(this.filters);\n        }, 100);\n    }\n\n    public loadDates() {\n        this.model.dates = [];\n        if (!this.model.form.date) { this.model.form.date = moment().valueOf(); }\n        const date = moment().hour(0).minutes(0).seconds(0).milliseconds(0);\n        const end = moment(date).add(2, 'M');\n        let offset = 0;\n        for (; date.isBefore(end); date.add(1, 'd')) {\n            this.model.dates.push({\n                id: date.valueOf(),\n                name: date.format('ddd MMMM DD, YYYY'),\n                offset\n            });\n            offset++;\n        }\n        this.loadTimes();\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'phone-booth', name], query);\n    }\n\n    public toSpaces() { this.to('select-booth'); }\n    public cancel() { this.back.emit(); }\n\n\n    public loadTimes() {\n        // Clean up time\n        this.filters.date = this.cleanTime(this.filters.date);\n        this.model.times = [];\n        const date = moment(this.filters.date);\n        const now = moment();\n        now.minutes(Math.ceil(now.minutes() / 5) * 5);\n        if (now.minutes() % 15 !== 0) {\n            this.model.times.push({\n                id: now.format('HH:mm'),\n                name: now.format('hh:mm A')\n            });\n            now.minutes(Math.ceil(now.minutes() / 15) * 15);\n        }\n        if (date.isAfter(now, 'd')) {\n            now.hours(0).minutes(0);\n        }\n        const end = moment(now).hours(23).minutes(59);\n        for (; now.isBefore(end, 'm'); now.add(15, 'm')) {\n            this.model.times.push({\n                id: now.format('HH:mm'),\n                name: now.format('hh:mm A')\n            });\n        }\n        const time = date.format('HH:mm');\n        let exists = this.model.times.find(a => a.id === time);\n        if (exists) {\n            this.model.times.sort((a, b) => a.id.localeCompare(b.id));\n            this.model.time_index = this.model.times.indexOf(exists);\n        } else {\n            this.model.times.push({\n                id: date.format('HH:mm'),\n                name: date.format('hh:mm A')\n            });\n            this.model.times.sort((a, b) => a.id.localeCompare(b.id));\n            exists = this.model.times.find(a => a.id === time);\n            this.model.time_index = this.model.times.indexOf(exists);\n        }\n        this.loadDurations(true);\n    }\n\n    public cleanTime(datestamp, block_size: number = 5) {\n        if (!datestamp) { datestamp = moment().valueOf(); }\n        const now = moment().seconds(0).milliseconds(0);\n        now.minutes(Math.ceil(now.minutes() / block_size) * block_size);\n        let date = moment(datestamp).seconds(0).milliseconds(0);\n        if (date.isBefore(now, 'm')) {\n            date = moment(now);\n        } else {\n            date.minutes(Math.ceil(date.minutes() / block_size) * block_size);\n        }\n        return date.valueOf();\n    }\n\n    public loadDurations(init: boolean = false) {\n        this.filters.date = this.cleanTime(this.filters.date);\n        const date = moment(this.filters.date);\n        const end = moment(this.filters.date).add(240, 'm');\n        date.add(30, 'm');\n        let duration = 30;\n        this.model.durations = [];\n        for (; date.isBefore(end, 'm'); date.add(15, 'm')) {\n            if (init && this.filters.duration && duration === this.filters.duration) {\n                this.model.duration_index = this.model.durations.length;\n            }\n            this.model.durations.push({\n                id: duration,\n                name: `${date.format('hh:mm A')} (${Utils.humaniseDuration(duration)})`\n            });\n            duration += 15;\n        }\n    }\n}\n","import { PhoneBoothBookingFlowComponent } from './phone-booth-flow.component';\nimport { PhoneBoothFlowConfirmDetailsComponent } from './confirm-details/confirm-details.component';\nimport { PhoneBoothFlowSelectBoothComponent } from './select-booth/select-booth.component';\nimport { PhoneBoothFlowFiltersComponent } from './filters/filters.component';\nimport { PhoneBoothFlowResultComponent } from './result/result.component';\n\nexport const PHONE_BOOTH_FLOW_COMPONENTS: any[] = [\n    PhoneBoothBookingFlowComponent,\n    PhoneBoothFlowConfirmDetailsComponent,\n    PhoneBoothFlowSelectBoothComponent,\n    PhoneBoothFlowFiltersComponent,\n    PhoneBoothFlowResultComponent\n];\n","<div class=\"container\">\n    <div class=\"topbar\">\n        <div class=\"icon back\" (touchrelease)=\"back()\">\n            <i class=\"material-icons\">arrow_back</i>\n        </div>\n        <div class=\"text to-upper\" [ngSwitch]=\"model.page\">\n            <ng-container *ngSwitchCase=\"'select-booth'\">Phone booth results</ng-container>\n            <ng-container *ngSwitchCase=\"'confirm-details'\">Let's make your booking</ng-container>\n            <ng-container *ngSwitchDefault>Phone Booths</ng-container>\n        </div>\n    </div>\n    <div class=\"flow-step\" [ngSwitch]=\"model.page\">\n        <ng-container *ngSwitchCase=\"'select-booth'\">\n            <phone-booth-flow-select-booth (space)=\"model.space = $event; storeSpace()\" [(filters)]=\"model.filters\"\n                (filtersChange)=\"storeFilters()\" (loading)=\"loading = $event\"></phone-booth-flow-select-booth>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'confirm-details'\">\n            <phone-booth-flow-confirm-details [from]=\"model.from\" [form]=\"model.filters\" [attendees]=\"model.attendees\"\n                [space]=\"model.room\" (back)=\"back()\" (loading)=\"loading = $event\"></phone-booth-flow-confirm-details>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'results'\">\n            <phone-booth-flow-result></phone-booth-flow-result>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'result'\">\n            <phone-booth-flow-result></phone-booth-flow-result>\n        </ng-container>\n        <ng-container *ngSwitchDefault>\n            <phone-booth-flow-filters [(filters)]=\"model.filters\" (filtersChange)=\"storeFilters()\"></phone-booth-flow-filters>\n        </ng-container>\n    </div>\n    <div class=\"loader\" *ngIf=\"model.loading\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\" color=\"#000\"></spinner>\n            </div>\n            <div class=\"text\">{{model.loading === true ? 'Waiting...' : model.loading}}</div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\n\nimport { AppService } from '../../../services/app.service';\nimport { BaseComponent } from '../../../shared/components/base.component';\n\n@Component({\n    selector: 'phone-booth-booking-flow',\n    templateUrl: './phone-booth-flow.component.html',\n    styleUrls: ['./phone-booth-flow.component.scss']\n})\nexport class PhoneBoothBookingFlowComponent extends BaseComponent implements OnInit {\n\n    public model: any = {};\n\n    constructor(private service: AppService, private route: ActivatedRoute, private router: Router) {\n        super();\n        this.model.breadcrumbs = [];\n    }\n\n    public ngOnInit(): void {\n        this.model.flow = 'phone-booth';\n        this.load('breadcrumbs');\n        this.subs.obs.params = this.route.paramMap.subscribe((params) => {\n            if (this.model.page && !this.model.ignore) {\n                this.model.breadcrumbs.push(this.model.page);\n                this.store('breadcrumbs');\n            }\n            this.model.ignore = false;\n            this.model.page = '';\n            if (params.has('page')) {\n                this.model.page = params.get('page');\n            }\n            if (!this.model.page) { this.clearForm(); }\n        });\n        this.subs.obs.route = this.router.events.subscribe((e) => {\n            if (e instanceof NavigationEnd && e.url.indexOf('book/phone-booth') < 0) {\n                this.clearForm();\n            }\n        });\n        this.loadFilters();\n        this.loadSpace();\n        this.loadAttendees();\n        if (this.model.space) {\n            this.model.room = this.service.Rooms.item(this.model.space);\n        }\n    }\n\n    public store(name: string) {\n        if (localStorage) {\n            const d = this.model[name];\n            const value = typeof d === 'object' ? JSON.stringify(d) : d;\n            localStorage.setItem(`STAFF.${this.model.flow}.${name}`, value);\n        }\n    }\n\n    public load(name: string) {\n        if (localStorage) {\n            const item = localStorage.getItem(`STAFF.${this.model.flow}.${name}`);\n            if (item) {\n                try {\n                    this.model[name] = JSON.parse(item);\n                } catch (e) {\n                    this.model[name] = item;\n                }\n            }\n        }\n    }\n\n    public clear(name: string) {\n        if (localStorage) {\n            localStorage.removeItem(`STAFF.${this.model.flow}.${name}`);\n        }\n    }\n\n    public storeFilters() { this.store('filters'); }\n    public loadFilters() { this.load('filters'); }\n\n    public storeSpace() {\n        this.store('space');\n        if (this.model.space) {\n            this.model.room = this.service.Rooms.item(this.model.space);\n        }\n    }\n    public loadSpace() { this.load('space'); }\n\n    public storeAttendees() { this.store('attendees'); }\n    public loadAttendees() { this.load('attendees'); }\n\n    public clearForm() {\n        ['filters', 'space', 'attendees', 'breadcrumbs'].forEach(i => this.clear(i));\n    }\n\n    set loading(value: any) {\n        this.timeout('loading', () => this.model.loading = value, 10);\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'phone-booth', name], query);\n    }\n\n    public back() {\n        const previous = this.model.breadcrumbs.pop();\n        if (previous) {\n            this.to(previous);\n            this.model.ignore = true;\n            this.store('breadcrumbs');\n        } else {\n            this.service.navigate(['book']);\n        }\n    }\n}\n","<div class=\"container\">\n    <div class=\"circle\"></div>\n    <div class=\"content\">\n        <div class=\"icon top\">\n            <img src=\"assets/img/book_booth.svg\">\n        </div>\n        <div class=\"title\">Booking created</div>\n        <div class=\"info\">Are you happy with your experience?</div>\n        <div class=\"options\">\n            <div class=\"option icon\" (touchrelease)=\"toHome()\">\n                <i class=\"material-icons\">done</i>\n            </div>\n            <div class=\"option icon\" (touchrelease)=\"toFeedback()\">\n                <i class=\"material-icons\">close</i>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\n\n@Component({\n    selector: 'phone-booth-flow-result',\n    templateUrl: './result.component.html',\n    styleUrls: ['./result.component.scss']\n})\nexport class PhoneBoothFlowResultComponent extends BaseComponent implements OnInit {\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.clearForm();\n    }\n\n    public clear(name: string) {\n        if (localStorage) {\n            localStorage.removeItem(`STAFF.phone-booth.${name}`);\n        }\n    }\n\n    public clearForm() {\n        this.clear('filters');\n        this.clear('space');\n        this.clear('attendees');\n    }\n\n    public toHome() { this.service.navigate('home'); }\n    public toFeedback() { this.service.navigate(['book', 'feedback']); }\n}\n","<div class=\"container\">\n    <div class=\"block header\">\n        <div class=\"content\">\n            <div class=\"header to-upper\">Available phone booths</div>\n            <div class=\"filters\">\n                <btn klass=\"no-margin secondary\" (tapped)=\"toFilters()\">\n                    <div class=\"icon\"><i class=\"material-icons\">filter_list</i></div>\n                    <div class=\"text\">Add filters</div>\n                </btn>\n            </div>\n            <div class=\"filter-list\" *ngIf=\"model.filter_list\">\n                <div class=\"filter\" *ngFor=\"let item of model.filter_list\">\n                    <div class=\"text\">{{item.value}}</div>\n                    <div class=\"icon\" *ngIf=\"item.type !== -1\" (touchrelease)=\"clearFilter(item)\">\n                        <i class=\"material-icons\">close</i>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"block list\">\n        <div class=\"content\">\n            <div class=\"item\" *ngFor=\"let item of (model.filtered_items || [])\">\n                <div class=\"details\">\n                    <div class=\"detail\">\n                        <div class=\"icon\">\n                            <img src=\"assets/img/location.svg\">\n                        </div>\n                        <div class=\"text\">{{item.level?.name}}, {{item.name}}</div>\n                    </div>\n                    <div class=\"detail\">\n                        <div class=\"icon\">\n                            <img src=\"assets/img/persona.svg\">\n                        </div>\n                        <div class=\"text\">{{item.capacity}} {{item.capacity === 1 ? 'person' : 'people'}}</div>\n                    </div>\n                </div>\n                <div class=\"options\">\n                    <btn (tapped)=\"toBook(item)\">Book</btn>\n                    <btn (tapped)=\"toMap(item)\">Map</btn>\n                </div>\n            </div>\n        </div>\n        <div class=\"no-item\" center *ngIf=\"!model.filtered_items || model.filtered_items.length <= 0\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">close</i>\n            </div>\n            <div class=\"text\">No spaces found</div>\n        </div>\n    </div>\n    <div class=\"block date\">\n        <div class=\"content\">\n            <div class=\"date-toggle\">\n                <div class=\"arrow prev\" (touchrelease)=\"changeDate(-1)\">\n                    <i class=\"material-icons\">keyboard_arrow_left</i>\n                </div>\n                <div class=\"day\">{{model.date}}</div>\n                <div class=\"arrow next\" (touchrelease)=\"changeDate(1)\">\n                    <i class=\"material-icons\">keyboard_arrow_right</i>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit, Input, EventEmitter, Output, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { IRoom } from '../../../../services/data/rooms.service';\nimport { Utils } from '../../../../shared/utility.class';\nimport { ISpaceFilters } from '../../space-flow/filters/filters.component';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'phone-booth-flow-select-booth',\n    templateUrl: './select-booth.component.html',\n    styleUrls: ['./select-booth.component.scss']\n})\nexport class PhoneBoothFlowSelectBoothComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public filters: ISpaceFilters;\n    @Output() public space = new EventEmitter();\n    @Output() public loading = new EventEmitter();\n    @Input() public filtersChange = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subs.obs.rooms = this.service.Rooms.listen('list', (rooms) => this.search());\n        if (!this.filters) { this.filters = {} as any; }\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.filters) {\n            this.search();\n            this.updateFilterList();\n        }\n    }\n\n    public search() {\n        if (!this.service.Buildings.current()) {\n            setTimeout(() => this.search(), 300);\n        }\n        this.updateDate();\n        this.loading.emit('Searching...');\n        if (!this.filters) { this.filters = {} as any; }\n        this.service.Rooms.available({\n            date: this.filters.date,\n            duration: this.filters.duration\n        }).then((list) => {\n            this.loading.emit(false);\n            this.model.rooms = this.service.Rooms.list();\n            this.model.items = list;\n            this.model.search_results = list;\n            for (const rm of this.model.items) {\n                rm.in_use_at_time = true;\n                for (const i of this.model.search_results) {\n                    if (rm.id === i.id) {\n                        rm.in_use_at_time = false;\n                        break;\n                    }\n                }\n            }\n            this.filter();\n        }, (err) => this.loading.emit(false));\n    }\n\n    public filter() {\n        this.loading.emit('Filtering...');\n        this.model.filtered_items = [];\n        if (this.filters) {\n            // Set level\n            const level = this.service.Buildings.getLevel(this.filters.level);\n            // Set Capacity\n            const capacity = 1;\n            if (this.model.items) {\n                const item_list = this.model.search_results;\n                for (const rm of item_list) {\n                    rm.in_use_at_time = true;\n                    for (const i of this.model.search_results) {\n                        if (rm.id === i.id) {\n                            rm.in_use_at_time = false;\n                            break;\n                        }\n                    }\n                }\n                for (const item of item_list) {\n                    let match = true;\n                    // Check levels\n                    match = match && (!level || (level.id === -1 || item.level.id === level.id));\n                    // Check client floor when external users present\n                    match = match && (!this.model.has_external || !this.model.external_floors || this.model.external_floors.length <= 0 || (this.model.external_floors.indexOf(item.level.type.toLowerCase()) >= 0));\n                    // Check level type\n                    match = match && (!this.model.floor || (item.level.type.toLowerCase() === this.model.floor.toLowerCase()));\n                    // Check capacity\n                    match = match && (capacity <= 0 || item.capacity === capacity);\n                    let count = 0;\n                    let found = 0;\n                    for (const e of (this.filters.extras || [])) {\n                        if (e.filter) { count++; }\n                        for (const r_e of item.extras) {\n                            if (r_e.id === e.id && e.filter) { found++; }\n                        }\n                    }\n                    match = match && (found >= count);\n                    if (match) { this.model.filtered_items.push(item); }\n                }\n            }\n        } else {\n            this.model.filtered_items = this.model.filtered_items.concat(this.model.items || []);\n        }\n        this.model.filtered_items.sort((a, b) => {\n            const da = {\n                lvl: (a.level ? a.level.name : '') || '',\n                name: a.name\n            };\n            const db = {\n                lvl: (a.level ? b.level.name : b.name) || '',\n                name: b.name\n            };\n            return a.order - b.order || da.lvl.localeCompare(db.lvl) || da.name.localeCompare(db.name);\n        });\n        if (!this.model.searching) {\n            this.loading.emit(false);\n        }\n    }\n\n    public updateDate() {\n        this.model.date = moment(this.filters.date).format('dddd D/MM/YYYY');\n    }\n\n    public changeDate(offset: number) {\n        const date = moment(this.filters.date);\n        date.add(offset, 'd');\n        const now = moment();\n        while (date.isBefore(now, 'm')) {\n            date.add(1, 'd');\n        }\n        this.filters.date = date.valueOf();\n        this.post();\n        this.search();\n    }\n\n    public post() {\n        this.timeout('post', () => {\n            this.updateFilterList();\n            this.filtersChange.emit(this.filters);\n        });\n    }\n\n    public updateFilterList() {\n        this.model.filter_list = [];\n        const level = this.service.Buildings.getLevel(this.filters.level);\n        this.model.filter_list.push({\n            id: 'level',\n            type: level && level.name ? level.id : -1,\n            value: level ? level.name || 'Any Level' : 'Any Level'\n        });\n        const date = moment(this.filters.date);\n        this.model.filter_list.push({\n            id: 'date',\n            type: date.isValid() && date.isSameOrAfter(moment(), 'm') ? 1 : -1,\n            value: date.format('hh:mm A')\n        });\n        this.model.filter_list.push({\n            id: 'duration',\n            type: this.filters.duration && this.filters.duration > 30 ? 1 : -1,\n            value: Utils.humaniseDuration(this.filters.duration || 30, true)\n        });\n        for (const item of (this.filters.extras || [])) {\n            if (item.filter) {\n                this.model.filter_list.push({\n                    id: 'extras',\n                    type: item.id,\n                    value: item.name\n                });\n            }\n        }\n    }\n\n    public clearFilter(filter: any) {\n        let change = false;\n        if (filter.type !== -1) {\n            if (filter.id === 'extras') {\n                for (const item of (this.filters.extras || [])) {\n                    if (item.filter && item.id === filter.type) {\n                        item.filter = false;\n                        change = true;\n                    }\n                }\n            } else {\n                switch (filter.id) {\n                    case 'level':\n                        this.filters.level = null;\n                        change = true;\n                        break;\n                    case 'capacity':\n                        this.filters.capacity = -1;\n                        change = true;\n                        break;\n                    case 'duration':\n                        this.filters.duration = 30;\n                        change = true;\n                        break;\n                    case 'date':\n                        const now = moment();\n                        const date = moment(this.filters.date);\n                        date.hours(now.hours()).minutes(Math.ceil(now.minutes() / 5) * 5);\n                        this.filters.date = date.valueOf();\n                        change = true;\n                        break;\n                }\n            }\n        }\n        if (change) {\n            this.post();\n            this.search();\n        }\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'phone-booth', name], query);\n    }\n\n\n    public toBook(rm: IRoom) {\n        this.loading.emit('Checking room is still available...');\n        this.service.Rooms.isAvailable(rm.id, this.filters.date, this.filters.duration)\n            .then(() => {\n                this.loading.emit(false);\n                this.space.emit(rm.id);\n                this.to('confirm-details');\n            }, () => {\n                this.service.error(`Room \"${rm.name}\" is now unavailable`);\n                this.search();\n            });\n    }\n\n    public toMap(rm: IRoom) {\n        this.to('confirm-details', { room_id: rm.id });\n    }\n    public toFilters() { this.to('main'); }\n}\n","<div class=\"container\">\n    <div class=\"topbar\">\n        <div class=\"text to-upper\">\n            Booking Types\n        </div>\n    </div>\n    <div class=\"flow-step\">\n        <div class=\"content\">\n            <div class=\"item\" (touchrelease)=\"to('space')\">\n                <div class=\"icon\">\n                    <img src=\"assets/img/book_room.svg\">\n                </div>\n                <div class=\"text\">Book a meeting room</div>\n            </div>\n            <div class=\"item\" (touchrelease)=\"to('phone-booth')\">\n                <div class=\"icon\">\n                    <img src=\"assets/img/book_booth.svg\">\n                </div>\n                <div class=\"text\">Book a phone booth</div>\n            </div>\n            <div class=\"item\" (touchrelease)=\"to('visitor')\">\n                <div class=\"icon\">\n                    <img src=\"assets/img/external.svg\">\n                </div>\n                <div class=\"text\">Invite external visitor</div>\n            </div>\n            <div class=\"item\" (touchrelease)=\"to('desk')\">\n                <div class=\"icon\">\n                    <img src=\"assets/img/book_desk.svg\">\n                </div>\n                <div class=\"text\">Book a desk</div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\n\nimport { AppService } from '../../../services/app.service';\nimport { BaseComponent } from '../../../shared/components/base.component';\n\n@Component({\n    selector: 'select-booking-flow',\n    templateUrl: './select-flow.component.html',\n    styleUrls: ['./select-flow.component.scss']\n})\nexport class SelectBookingFlowComponent extends BaseComponent implements OnInit {\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n\n    }\n\n    public to(name: string) {\n        this.service.navigate(['book', name, 'main']);\n    }\n}\n","<div class=\"container\">\n    <div class=\"block header\">\n        <div class=\"content\">\n            <div class=\"header to-upper\">Add person</div>\n            <div class=\"filters\">\n                <div class=\"toggle\" [class.active]=\"!model.external\" (touchrelease)=\"model.external = false; search()\">\n                    <div class=\"icon\" *ngIf=\"!model.external\">\n                        <i class=\"material-icons\">done</i>\n                    </div>\n                    <div class=\"text\">AIA Staff</div>\n                </div>\n                <div class=\"toggle\" [class.active]=\"model.external\" (touchrelease)=\"model.external = true; search()\">\n                    <div class=\"icon\" *ngIf=\"model.external\">\n                        <i class=\"material-icons\">done</i>\n                    </div>\n                    <div class=\"text\">My Contacts</div>\n                </div>\n                <div class=\"toggle active action\" *ngIf=\"model.external\" (touchrelease)=\"new()\">\n                    <div class=\"icon\">\n                        <i class=\"material-icons\">add</i>\n                    </div>\n                </div>\n            </div>\n            <div class=\"filter-list\">\n                <label >Search by name:</label>\n                <div class=\"search-field\">\n                    <searchbar [(filter)]=\"model.search\" (filterChange)=\"search()\"></searchbar>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"block list\">\n        <div class=\"content\">\n            <div class=\"item\" *ngFor=\"let item of (model.filtered_items || [])\">\n                <div class=\"details\">\n                    <div class=\"detail\">\n                        <div class=\"text\"><span *ngIf=\"item.title\">{{item.title}} </span>{{item.name}} - {{item.organisation?.name || item.organisation}}</div>\n                    </div>\n                    <div class=\"detail\">\n                        <div class=\"text\">{{item.email}}</div>\n                    </div>\n                </div>\n                <div class=\"options\">\n                    <div class=\"button\" [class.active]=\"item.optional\" (touchrelease)=\"item.optional = !item.optional\">\n                        <i class=\"material-icons\">{{item.optional ? 'done' : '' }}</i>\n                    </div>\n                    <div class=\"text\">Optional</div>\n                </div>\n                <div class=\"options\">\n                    <div class=\"button\" [class.active]=\"item.added\" (touchrelease)=\"add(item)\">\n                        <i class=\"material-icons\">{{item.added ? 'done' : 'add'}}</i>\n                    </div>\n                    <div class=\"text\">Add</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"no-item\" center *ngIf=\"!model.filtered_items || model.filtered_items.length <= 0\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">close</i>\n            </div>\n            <div class=\"text\">No users found</div>\n        </div>\n    </div>\n    <div class=\"block footer\">\n        <div class=\"content\">\n            <btn klass=\"full-width\" (tapped)=\"cancel()\">\n                <div class=\"text\">Cancel</div>\n            </btn>\n            <btn klass=\"full-width\" (tapped)=\"toConfirm()\">\n                <div class=\"text\">Add{{model.attendees && model.attendees.length > 0 ? '(' + model.attendees.length + ')' : '' }}</div>\n            </btn>\n        </div>\n    </div>\n</div>","import { Component, OnInit, Input, EventEmitter, Output, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { IUser } from '../../../../services/data/users.service';\nimport { Utils } from '../../../../shared/utility.class';\n\n@Component({\n    selector: 'space-flow-attendees',\n    templateUrl: './attendees.template.html',\n    styleUrls: ['./attendees.styles.scss']\n})\nexport class SpaceFlowAttendeesComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public attendees: IUser[];\n    @Output() public attendeesChange = new EventEmitter();\n    @Output() public loading = new EventEmitter();\n    @Output() public back = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        if (!this.attendees) { this.attendees = []; }\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.filters) {\n            this.search();\n        }\n    }\n\n    public search() {\n        this.loading.emit('Searching...');\n        if (!this.attendees) { this.attendees = []; }\n        if (!this.model.external) {\n            this.service.Users.query({ q: this.model.search }).then((list: IUser[]) => {\n                    this.loading.emit(false);\n                    this.model.users = list;\n                    this.filter();\n                }, (err) => this.loading.emit(false));\n        } else {\n            this.loading.emit(false);\n            this.model.users = Utils.filter((this.model.search || ''), this.service.Contacts.list(), ['name', 'email']);\n            this.filter();\n        }\n    }\n\n    public filter() {\n        (this.model.users || []).forEach(item => {\n            const exists = this.attendees.find(a  => a.email === item.email);\n            if (exists) { item = exists; }\n        });\n        this.loading.emit('Filtering...');\n        this.model.filtered_items = this.model.users;\n        this.loading.emit(false);\n    }\n\n    public add(user: IUser) {\n        if (!this.model.attendees) { this.model.attendees = []; }\n        const exists = this.model.attendees.find(a => a.email === user.email);\n        if (exists) {\n            (user as any).added = false;\n            this.model.attendees.splice(this.model.attendees.indexOf(exists), 1);\n        } else {\n            (user as any).added = true;\n            this.model.attendees.push(user);\n        }\n    }\n\n    public new() {\n        this.to('new-contact');\n    }\n\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'space', name], query);\n    }\n\n    public cancel() { this.back.emit(); }\n\n    public toConfirm() {\n        if (!this.attendees) { this.attendees = []; }\n        if (this.model.attendees) {\n            this.model.attendees.forEach(item => {\n                const exists = this.attendees.find(a => a.email === item.email);\n                if (!exists) {\n                    this.attendees.push(item);\n                }\n            });\n            this.attendeesChange.emit(this.attendees);\n        }\n        this.to('confirm-attendees');\n    }\n}\n","<div class=\"container\">\n    <div class=\"block header\">\n        <div class=\"content\">\n            <div class=\"header to-upper\">Confirm {{(attendees || []).length}} attendee{{(attendees || []).length === 1\n                ? '' : 's'}}</div>\n        </div>\n    </div>\n    <div class=\"block list\">\n        <div class=\"content\">\n            <div class=\"item\" *ngFor=\"let item of (attendees || [])\">\n                <div class=\"avatar\">\n                    <div class=\"icon\" [class.external]=\"item.external\"><img src=\"assets/img/persona.svg\"></div>\n                    <div class=\"optional\" *ngIf=\"item.optional\">Optional</div>\n                </div>\n                <div class=\"details\">\n                    <div class=\"detail\">\n                        <div class=\"text\"><span *ngIf=\"item.title\">{{item.title}} </span>{{item.name}} - {{item.organisation?.name || item.organisation}}</div>\n                    </div>\n                    <div class=\"detail\">\n                        <div class=\"text\">{{item.email}}</div>\n                    </div>\n                </div>\n                <div class=\"icon remove\" (touchrelease)=\"remove(item)\">\n                    <i class=\"material-icons\">close</i>\n                </div>\n            </div>\n            <div class=\"options\">\n                <btn klass=\"full-width\" (tapped)=\"cancel()\">\n                    <div class=\"text\">Back</div>\n                </btn>\n                <btn klass=\"full-width\" *ngIf=\"model.flow === 'space'\" (tapped)=\"toConfirm()\">\n                    <div class=\"text\">Confirm</div>\n                </btn>\n                <btn klass=\"full-width\" (tapped)=\"findTime()\">\n                    <div class=\"text\">Find time</div>\n                </btn>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, EventEmitter, Output, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { IUser } from '../../../../services/data/users.service';\n\n@Component({\n    selector: 'space-flow-confirm-attendees',\n    templateUrl: './confirm-attendees.template.html',\n    styleUrls: ['./confirm-attendees.styles.scss']\n})\nexport class SpaceFlowConfirmAttendeesComponent extends BaseComponent implements OnInit {\n    @Input() public attendees: IUser[];\n    @Output() public attendeesChange = new EventEmitter();\n    @Output() public loading = new EventEmitter();\n    @Output() public back = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.model.flow = this.service.get('SPACE.flow');\n    }\n\n    public remove(item: IUser) {\n        const exists = this.attendees.find(u => u.email === item.email);\n        if (exists) {\n            this.attendees.splice(this.attendees.indexOf(exists), 1);\n            this.attendeesChange.emit(this.attendees);\n        }\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'space', name], query);\n    }\n\n    public cancel() { this.back.emit(); }\n    public findTime() { this.to('find-time'); }\n    public toConfirm() { this.to('confirm-details'); }\n}\n","<div class=\"container\">\n    <div class=\"circle\"></div>\n    <div class=\"content\">\n        <div class=\"title\">\n            <input [(ngModel)]=\"model.title\" (ngModelChange)=\"store()\" placeholder=\"Enter title\">\n        </div>\n        <div class=\"item space\">\n            <div class=\"icon\"><img src=\"assets/img/location.svg\"></div>\n            <div class=\"text ul\" (touchrelease)=\"toSpaces()\">{{space ? space.name : 'Any free room'}}</div>\n        </div>\n        <div class=\"details\">\n            at {{model.period}}<br>\n            on {{model.date}}\n        </div>\n        <div class=\"description\">\n            <div #desc contenteditable=\"true\" class=\"textarea\" (input)=\"change($event)\">\n\n            </div>\n            <div class=\"placeholder\" *ngIf=\"!model.description\">Enter description</div>\n        </div>\n        <div class=\"attendees\">\n            <div class=\"header\">Attendees ({{attendees?.length || 0}}):</div>\n            <div class=\"list\">\n                <div class=\"item\" *ngFor=\"let item of (attendees || [])\">\n                    <div class=\"icon\" [class.external]=\"item.external\"><img src=\"assets/img/persona.svg\"></div>\n                    <div class=\"text\">{{item.name}} - {{item.organisation?.name || item.organisation}}</div>\n                    <div class=\"icon close\" (touchrelease)=\"removeAttendee(item)\"><i class=\"material-icons\">close</i></div>\n                </div>\n                <div class=\"item add\" *ngIf=\"from !== 'find-time'\" (touchrelease)=\"toAttendees()\">\n                    <div class=\"icon\"><img src=\"assets/img/add.svg\"></div>\n                    <div class=\"text\">Add</div>\n                </div>\n            </div>\n        </div>\n        <div class=\"options\">\n            <btn klass=\"full-width\" (tapped)=\"cancel()\">\n                <div class=\"text\">Back</div>\n            </btn>\n            <btn klass=\"full-width\" [disabled]=\"!model.title\" (tapped)=\"book()\">\n                <div class=\"text\">Create!</div>\n            </btn>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, EventEmitter, Output, SimpleChanges, OnChanges, ViewChild, Renderer2, ElementRef } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { ISpaceFilters } from '../filters/filters.component';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { IUser } from '../../../../services/data/users.service';\nimport { IRoom } from '../../../../services/data/rooms.service';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'space-flow-confirm-details',\n    templateUrl: './confirm-details.template.html',\n    styleUrls: ['./confirm-details.styles.scss']\n})\nexport class SpaceFlowConfirmDetailsComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public form: ISpaceFilters;\n    @Input() public attendees: IUser[];\n    @Input() public space: IRoom;\n    @Input() public from: string;\n    @Output() public formChange = new EventEmitter();\n    @Output() public attendeesChange = new EventEmitter();\n    @Output() public loading = new EventEmitter();\n    @Output() public back = new EventEmitter();\n\n    public model: any = {};\n\n    @ViewChild('desc') private description: ElementRef;\n\n    constructor(private service: AppService, private renderer: Renderer2) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.updateDisplay();\n        this.init();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.form) {\n            this.model.title = this.form.title || this.model.title;\n            this.model.description = this.form.description || this.model.description;\n            console.log('Description:', this.model.description);\n            this.updateDescription();\n        }\n        this.updateDisplay();\n    }\n\n    public init() {\n        if (!this.service.ready()) {\n            return this.timeout('init', () => this.init());\n        }\n        this.model.settings = this.service.Settings.get('app.booking') || {};\n    }\n\n    public change($event) {\n        this.model.description = $event.target.textContent;\n        this.store();\n    }\n\n    public updateDescription() {\n        if (!this.description) {\n            return this.timeout('desc', () => this.updateDescription());\n        }\n        const div = this.description.nativeElement;\n        this.renderer.setProperty(div, 'textContent', this.model.description);\n    }\n\n    public store() {\n        this.form.title = this.model.title;\n        this.form.description = this.model.description;\n        this.formChange.emit(this.form);\n    }\n\n    public removeAttendee(item: IUser) {\n        const exists = (this.attendees || []).find(i => i.email === item.email);\n        if (exists) {\n            this.attendees.splice(this.attendees.indexOf(exists), 1);\n            this.attendeesChange.emit(this.attendees);\n        }\n    }\n\n    public updateDisplay() {\n        if (!this.form) { this.form = {} as any; }\n        const date = moment(this.form.date);\n        this.model.date = date.format('dddd D MMM YYYY');\n        const start = date.format('hh:mm A');\n        const end = date.add(this.form.duration || 30, 'm').format('hh:mm A');\n        this.model.period = `${start} - ${end}`;\n    }\n\n    public book() {\n        if (this.space) {\n            this.loading.emit('Checking room status...');\n            this.service.Rooms.isAvailable(this.space.id, this.form.date, this.form.duration)\n                .then(() => {\n                    this.createBooking();\n                }, (e) => {\n                    this.loading.emit(false);\n                    const start = moment(this.form.date);\n                    const date = start.format('MMM Do, YYYY');\n                    const end = moment(start).add(this.form.duration, 'm');\n                    this.service.error('Room is not available at the selected time anymore');\n                    this.model.error = JSON.parse(JSON.stringify(this.model.error));\n                });\n        } else {\n            this.loading.emit('Finding available room...');\n                this.service.Rooms.available({\n                date: this.form.date,\n                duration: this.form.duration\n            }).then((list: IRoom[]) => {\n                const rm_list = list.filter(item  => item.capacity >= (this.attendees || []).length || 1);\n                if (rm_list && rm_list.length > 0) {\n                    this.space = rm_list[Math.floor(Math.random() * rm_list.length)];\n                    this.createBooking();\n                } else {\n                    this.service.error('No rooms found at the specified time with the required capacity');\n                    this.loading.emit(false);\n                }\n            });\n        }\n    }\n\n    private createBooking() {\n        const title = this.model.title;\n        if (!this.model.title) {\n            this.model.title = `From Staff App by ${this.model.user.name}`;\n        }\n        if (this.model.settings.title_prefix) {\n            this.model.title = this.model.settings.title_prefix + this.model.form.title;\n        }\n        this.loading.emit('Requesting meeting...');\n        const form = {\n            ...this.form,\n            title: this.model.title,\n            description: this.model.description,\n            attendees: this.attendees,\n            room: this.space\n        };\n        this.service.Bookings.add(form).then(() => {\n            this.loading.emit(false);\n            this.to('result');\n        }, (err) => {\n            this.loading.emit(false);\n            if (this.model.settings && this.model.settings.title_prefix) {\n                this.model.title = this.model.title.replace(this.model.settings.title_prefix, '');\n            }\n            this.model.title = title;\n            if (!err || err.indexOf('user') < 0) {\n                this.service.error('An error occurred while making your booking');\n            }\n        });\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'space', name], query);\n    }\n\n    public cancel() { this.back.emit(); }\n    public toAttendees() { this.to('attendees'); }\n    public toSpaces() { this.to('spaces'); }\n}\n","<div class=\"block search\">\n    <div class=\"content\">\n        <div class=\"header to-upper\">Add filters</div>\n        <div class=\"form\">\n            <div class=\"field\">\n                <label for=\"date\">Date</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"date\" [list]=\"model.dates\" [(model)]=\"model.date_index\" (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"time\">Time</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"time\" [list]=\"model.times\" [(model)]=\"model.time_index\" (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"duration\">Duration</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"duration\" [list]=\"model.durations\" [(model)]=\"model.duration_index\"\n                        (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"level\">Level</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"level\" [list]=\"model.levels\" [(model)]=\"model.level_index\"\n                        (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"count\">Paticipants</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"count\" [list]=\"model.capacity\" [(model)]=\"model.capacity_index\"\n                        (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"extras\">Options</label>\n                <div class=\"value\">\n                    <div class=\"item\" *ngFor=\"let item of (model.extras || [])\">\n                        <checkbox id=\"extras\" [(model)]=\"item.filter\" [label]=\"item.name\"></checkbox>\n                    </div>\n                </div>\n            </div>\n            <hr />\n            <div class=\"options\">\n                <btn klass=\"full-width\" (tapped)=\"cancel()\">\n                    <div class=\"text\">Cancel</div>\n                </btn>\n                <btn klass=\"full-width\" (tapped)=\"toSpaces()\">\n                    <div class=\"text\">Apply</div>\n                </btn>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { Utils } from '../../../../shared/utility.class';\n\nimport * as moment from 'moment';\n\nexport interface ISpaceFilters {\n    date: number;\n    duration: number;\n    capacity?: number;\n    level?: string;\n    title?: string;\n    description?: string;\n    extras?: {\n        id: string,\n        name: string,\n        filter: boolean\n    }[];\n}\n\n@Component({\n    selector: 'space-flow-filters',\n    templateUrl: './filters.template.html',\n    styleUrls: ['./filters.styles.scss']\n})\nexport class SpaceFlowFiltersComponent extends BaseComponent implements OnInit {\n    @Input() public filters: ISpaceFilters;\n    @Output() public filtersChange = new EventEmitter<ISpaceFilters>();\n    @Output() public back = new EventEmitter();\n\n    public model: any = {\n        date_index: 0,\n        time_index: 0,\n        duration_index: 0,\n        level_index: 0,\n        capacity_index: 0\n    };\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        if (!this.model.form) {\n            this.model.form = {};\n        }\n        this.subs.obs.capacity = this.service.Rooms.listen('capacities', (list) => {\n            this.model.capacity = list || [];\n            const exists = this.model.capacity.find(i => i.id === this.filters.capacity);\n            if (exists) {\n                this.model.capacity_index = this.model.capacity.indexOf(exists);\n                if (this.model.capacity_index < 0) { this.model.capacity_index = 0; }\n            }\n            this.updateForm();\n        });\n        this.subs.obs.building = this.service.Buildings.listen((bld) => {\n            if (bld) {\n                this.model.levels = [{ id: null, name: 'Any' }, ...bld.levels];\n                const exists = this.model.levels.find(i => this.filters.level && i.id === this.filters.level);\n                if (exists) {\n                    this.model.level_index = this.model.levels.indexOf(exists);\n                    if (this.model.level_index < 0) { this.model.level_index = 0; }\n                }\n                this.model.extras = [...bld.extras];\n                this.model.extras.forEach(item => this.filters.extras.forEach(old => {\n                    if (old.id === item.id) { item.filter = old.filter; }\n                }));\n                this.updateForm();\n            }\n        });\n        this.loadDates();\n        this.updateForm();\n    }\n\n    public updateForm() {\n        this.timeout('update', () => {\n            // Prevent pre-initialisation errors\n            if (!this.model.dates) { this.model.dates = [{ id: moment().seconds(0).milliseconds(0).valueOf() }]; }\n            if (!this.model.times) { this.model.times = [{ id: moment().format('HH:mm') }]; }\n            if (!this.model.durations) { this.model.durations = [{ id: 30 }]; }\n            if (!this.model.capacity) { this.model.capacity = [{ id: -1 }]; }\n            if (!this.model.levels) { this.model.levels = [{ id: null }]; }\n            // Update filter fields\n            const date = moment(this.model.dates[this.model.date_index].id);\n            const time = this.model.times[this.model.time_index].id.split(':');\n            this.filters = {\n                date: date.hours(+time[0]).minutes(+time[1]).valueOf(),\n                duration: this.model.durations[Math.min(this.model.durations.length - 1, this.model.duration_index)].id,\n                capacity: this.model.capacity[Math.min(this.model.capacity.length - 1, this.model.capacity_index)].id,\n                level: this.model.levels[Math.min(this.model.levels.length - 1, this.model.level_index)].id,\n                extras: this.model.extras && this.model.extras.length > 0 ? [...this.model.extras] : []\n            };\n            this.loadTimes();\n            this.loadDurations();\n            this.filtersChange.emit(this.filters);\n        }, 100);\n    }\n\n    public loadDates() {\n        this.model.dates = [];\n        if (!this.model.form.date) { this.model.form.date = moment().valueOf(); }\n        const date = moment().hour(0).minutes(0).seconds(0).milliseconds(0);\n        const end = moment(date).add(2, 'M');\n        let offset = 0;\n        for (; date.isBefore(end); date.add(1, 'd')) {\n            this.model.dates.push({\n                id: date.valueOf(),\n                name: date.format('ddd MMMM DD, YYYY'),\n                offset\n            });\n            offset++;\n        }\n        this.loadTimes();\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'space', name], query);\n    }\n\n    public toSpaces() { this.to('spaces'); }\n    public cancel() { this.back.emit(); }\n\n\n    public loadTimes() {\n        // Clean up time\n        this.filters.date = this.cleanTime(this.filters.date);\n        this.model.times = [];\n        const date = moment(this.filters.date);\n        const now = moment();\n        now.minutes(Math.ceil(now.minutes() / 5) * 5);\n        if (now.minutes() % 15 !== 0) {\n            this.model.times.push({\n                id: now.format('HH:mm'),\n                name: now.format('hh:mm A')\n            });\n            now.minutes(Math.ceil(now.minutes() / 15) * 15);\n        }\n        if (date.isAfter(now, 'd')) {\n            now.hours(0).minutes(0);\n        }\n        const end = moment(now).hours(23).minutes(59);\n        for (; now.isBefore(end, 'm'); now.add(15, 'm')) {\n            this.model.times.push({\n                id: now.format('HH:mm'),\n                name: now.format('hh:mm A')\n            });\n        }\n        const time = date.format('HH:mm');\n        let exists = this.model.times.find(a => a.id === time);\n        if (exists) {\n            this.model.times.sort((a, b) => a.id.localeCompare(b.id));\n            this.model.time_index = this.model.times.indexOf(exists);\n        } else {\n            this.model.times.push({\n                id: date.format('HH:mm'),\n                name: date.format('hh:mm A')\n            });\n            this.model.times.sort((a, b) => a.id.localeCompare(b.id));\n            exists = this.model.times.find(a => a.id === time);\n            this.model.time_index = this.model.times.indexOf(exists);\n        }\n        this.loadDurations(true);\n    }\n\n    public cleanTime(datestamp, block_size: number = 5) {\n        if (!datestamp) { datestamp = moment().valueOf(); }\n        const now = moment().seconds(0).milliseconds(0);\n        now.minutes(Math.ceil(now.minutes() / block_size) * block_size);\n        let date = moment(datestamp).seconds(0).milliseconds(0);\n        if (date.isBefore(now, 'm')) {\n            date = moment(now);\n        } else {\n            date.minutes(Math.ceil(date.minutes() / block_size) * block_size);\n        }\n        return date.valueOf();\n    }\n\n    public loadDurations(init: boolean = false) {\n        this.filters.date = this.cleanTime(this.filters.date);\n        const date = moment(this.filters.date);\n        const end = moment(this.filters.date).add(240, 'm');\n        date.add(30, 'm');\n        let duration = 30;\n        this.model.durations = [];\n        for (; date.isBefore(end, 'm'); date.add(15, 'm')) {\n            if (init && this.filters.duration && duration === this.filters.duration) {\n                this.model.duration_index = this.model.durations.length;\n            }\n            this.model.durations.push({\n                id: duration,\n                name: `${date.format('hh:mm A')} (${Utils.humaniseDuration(duration)})`\n            });\n            duration += 15;\n        }\n    }\n}\n","import { SpaceBookingFlowComponent } from './space-flow.component';\nimport { SpaceFlowAttendeesComponent } from './attendees/attendees.component';\nimport { SpaceFlowConfirmAttendeesComponent } from './confirm-attendees/confirm-attendees.component';\nimport { SpaceFlowConfirmDetailsComponent } from './confirm-details/confirm-details.component';\nimport { SpaceFlowFiltersComponent } from './filters/filters.component';\nimport { SpaceFlowResultComponent } from './result/result.component';\nimport { SpaceFlowSearchOptionsComponent } from './search-options/search-options.component';\nimport { SpaceFlowSelectSpaceComponent } from './select-space/select-space.component';\nimport { SpaceFlowSelectTimeComponent } from './select-time/select-time.component';\nimport { SpaceFlowViewSpaceComponent } from './view-space/view-space.component';\n\nexport const SPACE_FLOW_COMPONENTS: any[] = [\n    SpaceBookingFlowComponent,\n    SpaceFlowAttendeesComponent,\n    SpaceFlowConfirmAttendeesComponent,\n    SpaceFlowConfirmDetailsComponent,\n    SpaceFlowFiltersComponent,\n    SpaceFlowResultComponent,\n    SpaceFlowSearchOptionsComponent,\n    SpaceFlowSelectSpaceComponent,\n    SpaceFlowSelectTimeComponent,\n    SpaceFlowViewSpaceComponent\n];\n","<div class=\"container\">\n    <div class=\"circle\"></div>\n    <div class=\"content\">\n        <div class=\"icon top\">\n            <img src=\"assets/img/book_confirmed.svg\">\n        </div>\n        <div class=\"title\">Booking created</div>\n        <div class=\"info\">Are you happy with your experience?</div>\n        <div class=\"options\">\n            <div class=\"option icon\" (touchrelease)=\"toHome()\">\n                <i class=\"material-icons\">done</i>\n            </div>\n            <div class=\"option icon\" (touchrelease)=\"toFeedback()\">\n                <i class=\"material-icons\">close</i>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\n\n@Component({\n    selector: 'space-flow-result',\n    templateUrl: './result.template.html',\n    styleUrls: ['./result.styles.scss']\n})\nexport class SpaceFlowResultComponent extends BaseComponent implements OnInit {\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.clearForm();\n    }\n\n    public clear(name: string) {\n        if (localStorage) {\n            localStorage.removeItem(`STAFF.space.${name}`);\n        }\n    }\n\n    public clearForm() {\n        this.clear('filters');\n        this.clear('space');\n        this.clear('attendees');\n    }\n\n    public toHome() { this.service.navigate('home'); }\n    public toFeedback() { this.service.navigate(['book', 'feedback']); }\n}\n","<div class=\"block header\">\n    <div class=\"content to-upper\">\n        How would you like<br>\n        to search?\n    </div>\n</div>\n<div class=\"block option\" [style.background-image]=\"'url(assets/img/attendee.png)'\">\n    <div class=\"content\">\n        <btn klass=\"full-width banner\" (tapped)=\"toAttendees()\">\n            <div class=\"icon\"><img src=\"assets/img/time.svg\"></div>\n            <div class=\"text\">Find time suitable for all attendees</div>\n        </btn>\n    </div>\n</div>\n<div class=\"block break\">\n    <div class=\"content to-upper\">Or</div>\n</div>\n<div class=\"block search\">\n    <div class=\"content\">\n        <div class=\"header to-upper\">Search rooms</div>\n        <div class=\"form\">\n            <div class=\"field\">\n                <label for=\"date\">Date</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"date\" [list]=\"model.dates\" [(model)]=\"model.date_index\" (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"time\">Time</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"time\" [list]=\"model.times\" [(model)]=\"model.time_index\" (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"duration\">Duration</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"duration\" [list]=\"model.durations\" [(model)]=\"model.duration_index\"\n                        (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"level\">Level</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"level\" [list]=\"model.levels\" [(model)]=\"model.level_index\"\n                        (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"count\">Paticipants</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"count\" [list]=\"model.capacity\" [(model)]=\"model.capacity_index\"\n                        (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <hr />\n            <div class=\"options\">\n                <btn klass=\"full-width secondary\" (tapped)=\"toFilters()\">\n                    <div class=\"icon\"><i class=\"material-icons\">filter_list</i></div>\n                    <div class=\"text\">Add filters</div>\n                </btn>\n                <btn klass=\"full-width\" (tapped)=\"toSpaces()\">\n                    <div class=\"icon\"><i class=\"material-icons\">search</i></div>\n                    <div class=\"text\">Search</div>\n                </btn>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { AppService } from '../../../../services/app.service';\nimport { Utils } from '../../../../shared/utility.class';\nimport { ISpaceFilters } from '../filters/filters.component';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'space-flow-search-options',\n    templateUrl: './search-options.template.html',\n    styleUrls: ['./search-options.styles.scss']\n})\nexport class SpaceFlowSearchOptionsComponent extends BaseComponent implements OnInit {\n    @Input() public filters: ISpaceFilters;\n    @Output() public filtersChange = new EventEmitter<ISpaceFilters>();\n\n    public model: any = {\n        date_index: 0,\n        time_index: 0,\n        duration_index: 0,\n        level_index: 0,\n        capacity_index: 0\n    };\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        if (!this.filters) { this.filters = {} as any; }\n        this.subs.obs.capacity = this.service.Rooms.listen('capacities', (list) => {\n            this.model.capacity = list || [];\n            const exists = this.model.capacity.find(i => i.id === this.filters.capacity);\n            if (exists) { this.model.capacity_index = this.model.capacity.indexOf(exists); }\n            this.updateForm();\n        });\n        this.subs.obs.building = this.service.Buildings.listen((bld) => {\n            if (bld) {\n                this.model.levels = [{ id: null, name: 'Any' }, ...bld.levels];\n                const exists = this.model.levels.find(i => this.filters.level && i.id === this.filters.level);\n                if (exists) { this.model.level_index = this.model.levels.indexOf(exists); }\n                this.model.extras = [...bld.extras];\n                this.model.extras.forEach(item => this.filters.extras.forEach(old => {\n                    if (old.id === item.id) { item.filter = old.filter; }\n                }));\n                this.updateForm();\n            }\n        });\n        this.loadDates();\n        this.updateForm();\n    }\n\n    public updateForm() {\n        this.timeout('update', () => {\n            // Prevent pre-initialisation errors\n            if (!this.model.dates) { this.model.dates = [{ id: moment().seconds(0).milliseconds(0).valueOf() }]; }\n            if (!this.model.times) { this.model.times = [{ id: moment().format('HH:mm') }]; }\n            if (!this.model.durations) { this.model.durations = [{ id: 30 }]; }\n            if (!this.model.capacity) { this.model.capacity = [{ id: -1 }]; }\n            if (!this.model.levels) { this.model.levels = [{ id: null }]; }\n            if (this.model.level_index < 0) { this.model.level_index = 0; }\n            if (this.model.capacity_index < 0) { this.model.capacity_index = 0; }\n            // Update filter fields\n            console.log('Model:', this.model);\n            const date = moment(this.model.dates[this.model.date_index].id);\n            const time = this.model.times[this.model.time_index].id.split(':');\n            this.filters = {\n                date: date.hours(+time[0]).minutes(+time[1]).valueOf(),\n                duration: this.model.durations[Math.min(this.model.durations.length - 1, this.model.duration_index)].id,\n                capacity: this.model.capacity[Math.min(this.model.capacity.length - 1, this.model.capacity_index)].id,\n                level: this.model.levels[Math.min(this.model.levels.length - 1, this.model.level_index)].id,\n                extras: this.model.extras && this.model.extras.length > 0 ? [...this.model.extras] : []\n            };\n            this.loadTimes();\n            this.loadDurations();\n            this.filtersChange.emit(this.filters);\n        }, 100);\n    }\n\n    public loadDates() {\n        this.model.dates = [];\n        const date = moment().hour(0).minutes(0).seconds(0).milliseconds(0);\n        const end = moment(date).add(2, 'M');\n        let offset = 0;\n        for (; date.isBefore(end); date.add(1, 'd')) {\n            this.model.dates.push({\n                id: date.valueOf(),\n                name: date.format('ddd MMMM DD, YYYY'),\n                offset\n            });\n            offset++;\n        }\n        this.loadTimes();\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'space', name], query);\n    }\n\n    public toSpaces() {\n        this.service.set('SPACE.flow', 'space');\n        this.to('spaces');\n    }\n    public toAttendees() {\n        this.service.set('SPACE.flow', 'attendees');\n        this.to('attendees');\n    }\n    public toFilters() {\n        this.service.set('SPACE.flow', 'space');\n        this.to('filters');\n    }\n\n    public loadTimes() {\n        // Clean up time\n        this.filters.date = this.cleanTime(this.filters.date);\n        this.model.times = [];\n        const date = moment(this.filters.date);\n        const now = moment();\n        now.minutes(Math.ceil(now.minutes() / 5) * 5);\n        if (now.minutes() % 15 !== 0) {\n            this.model.times.push({\n                id: now.format('HH:mm'),\n                name: now.format('hh:mm A')\n            });\n            now.minutes(Math.ceil(now.minutes() / 15) * 15);\n        }\n        if (date.isAfter(now, 'd')) {\n            now.hours(0).minutes(0);\n        }\n        const end = moment(now).hours(23).minutes(59);\n        for (; now.isBefore(end, 'm'); now.add(15, 'm')) {\n            this.model.times.push({\n                id: now.format('HH:mm'),\n                name: now.format('hh:mm A')\n            });\n        }\n        const time = date.format('HH:mm');\n        let exists = this.model.times.find(a => a.id === time);\n        if (exists) {\n            this.model.times.sort((a, b) => a.id.localeCompare(b.id));\n            this.model.time_index = this.model.times.indexOf(exists);\n        } else {\n            this.model.times.push({\n                id: date.format('HH:mm'),\n                name: date.format('hh:mm A')\n            });\n            this.model.times.sort((a, b) => a.id.localeCompare(b.id));\n            exists = this.model.times.find(a => a.id === time);\n            this.model.time_index = this.model.times.indexOf(exists);\n        }\n        this.loadDurations(true);\n    }\n\n    public cleanTime(datestamp, block_size: number = 5) {\n        if (!datestamp) { datestamp = moment().valueOf(); }\n        const now = moment().seconds(0).milliseconds(0);\n        now.minutes(Math.ceil(now.minutes() / block_size) * block_size);\n        let date = moment(datestamp).seconds(0).milliseconds(0);\n        if (date.isBefore(now, 'm')) {\n            date = moment(now);\n        } else {\n            date.minutes(Math.ceil(date.minutes() / block_size) * block_size);\n        }\n        return date.valueOf();\n    }\n\n    public loadDurations(init: boolean = false) {\n        this.filters.date = this.cleanTime(this.filters.date);\n        const date = moment(this.filters.date);\n        const end = moment(this.filters.date).add(240, 'm');\n        date.add(30, 'm');\n        let duration = 30;\n        this.model.durations = [];\n        for (; date.isBefore(end, 'm'); date.add(15, 'm')) {\n            if (init && this.filters.duration && duration === this.filters.duration) {\n                this.model.duration_index = this.model.durations.length;\n            }\n            this.model.durations.push({\n                id: duration,\n                name: `${date.format('hh:mm A')} (${Utils.humaniseDuration(duration)})`\n            });\n            duration += 15;\n        }\n    }\n}\n","<div class=\"container\">\n    <div class=\"block header\">\n        <div class=\"content\">\n            <div class=\"header to-upper\">Available rooms</div>\n            <div class=\"filters\">\n                <btn klass=\"no-margin secondary\" (tapped)=\"toFilters()\">\n                    <div class=\"icon\"><i class=\"material-icons\">filter_list</i></div>\n                    <div class=\"text\">Add filters</div>\n                </btn>\n            </div>\n            <div class=\"filter-list\" *ngIf=\"model.filter_list\">\n                <div class=\"filter\" *ngFor=\"let item of model.filter_list\">\n                    <div class=\"text\">{{item.value}}</div>\n                    <div class=\"icon\" *ngIf=\"item.type !== -1\" (touchrelease)=\"clearFilter(item)\">\n                        <i class=\"material-icons\">close</i>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"block list\">\n        <div class=\"content\">\n            <div class=\"item\" *ngFor=\"let item of (model.filtered_items || [])\">\n                <div class=\"details\">\n                    <div class=\"detail\">\n                        <div class=\"icon\">\n                            <img src=\"assets/img/location.svg\">\n                        </div>\n                        <div class=\"text\">{{item.level?.name}}, {{item.name}}</div>\n                    </div>\n                    <div class=\"detail\">\n                        <div class=\"icon\">\n                            <img src=\"assets/img/persona.svg\">\n                        </div>\n                        <div class=\"text\">{{item.capacity}} {{item.capacity === 1 ? 'person' : 'people'}}</div>\n                    </div>\n                </div>\n                <div class=\"options\">\n                    <btn (tapped)=\"toBook(item)\">Book</btn>\n                    <btn (tapped)=\"toMap(item)\">Map</btn>\n                </div>\n            </div>\n        </div>\n        <div class=\"no-item\" center *ngIf=\"!model.filtered_items || model.filtered_items.length <= 0\">\n            <div class=\"icon\">\n                <i class=\"material-icons\">close</i>\n            </div>\n            <div class=\"text\">No spaces found</div>\n        </div>\n    </div>\n    <div class=\"block date\">\n        <div class=\"content\">\n            <div class=\"date-toggle\">\n                <div class=\"arrow prev\" (touchrelease)=\"changeDate(-1)\">\n                    <i class=\"material-icons\">keyboard_arrow_left</i>\n                </div>\n                <div class=\"day\">{{model.date}}</div>\n                <div class=\"arrow next\" (touchrelease)=\"changeDate(1)\">\n                    <i class=\"material-icons\">keyboard_arrow_right</i>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit, Input, EventEmitter, Output, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { IRoom } from '../../../../services/data/rooms.service';\nimport { Utils } from '../../../../shared/utility.class';\nimport { ISpaceFilters } from '../filters/filters.component';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'space-flow-select-space',\n    templateUrl: './select-space.template.html',\n    styleUrls: ['./select-space.styles.scss']\n})\nexport class SpaceFlowSelectSpaceComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public filters: ISpaceFilters;\n    @Output() public space = new EventEmitter();\n    @Output() public loading = new EventEmitter();\n    @Input() public filtersChange = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subs.obs.rooms = this.service.Rooms.listen('list', (rooms) => this.search());\n        if (!this.filters) { this.filters = {} as any; }\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.filters) {\n            this.search();\n            this.updateFilterList();\n        }\n    }\n\n    public search() {\n        if (!this.service.Buildings.current()) {\n            setTimeout(() => this.search(), 300);\n        }\n        this.updateDate();\n        this.loading.emit('Searching...');\n        if (!this.filters) { this.filters = {} as any; }\n        this.service.Rooms.available({\n            date: this.filters.date,\n            duration: this.filters.duration\n        }).then((list) => {\n            this.loading.emit(false);\n            this.model.rooms = this.service.Rooms.list();\n            this.model.items = list;\n            this.model.search_results = list;\n            for (const rm of this.model.items) {\n                rm.in_use_at_time = true;\n                for (const i of this.model.search_results) {\n                    if (rm.id === i.id) {\n                        rm.in_use_at_time = false;\n                        break;\n                    }\n                }\n            }\n            this.filter();\n        }, (err) => this.loading.emit(false));\n    }\n\n    public filter() {\n        this.loading.emit('Filtering...');\n        this.model.filtered_items = [];\n        if (this.filters) {\n            // Set level\n            const level = this.service.Buildings.getLevel(this.filters.level);\n            // Set Capacity\n            const capacity = this.filters.capacity || -1;\n            if (this.model.items) {\n                const item_list = this.model.search_results;\n                for (const rm of item_list) {\n                    rm.in_use_at_time = true;\n                    for (const i of this.model.search_results) {\n                        if (rm.id === i.id) {\n                            rm.in_use_at_time = false;\n                            break;\n                        }\n                    }\n                }\n                for (const item of item_list) {\n                    let match = true;\n                    // Check levels\n                    match = match && (!level || (level.id === -1 || item.level.id === level.id));\n                    // Check client floor when external users present\n                    match = match && (!this.model.has_external || !this.model.external_floors || this.model.external_floors.length <= 0 || (this.model.external_floors.indexOf(item.level.type.toLowerCase()) >= 0));\n                    // Check level type\n                    match = match && (!this.model.floor || (item.level.type.toLowerCase() === this.model.floor.toLowerCase()));\n                    // Check capacity\n                    match = match && (capacity <= 0 || item.capacity >= capacity);\n                    let count = 0;\n                    let found = 0;\n                    for (const e of (this.filters.extras || [])) {\n                        if (e.filter) { count++; }\n                        for (const r_e of item.extras) {\n                            if (r_e.id === e.id && e.filter) { found++; }\n                        }\n                    }\n                    match = match && (found >= count);\n                    if (match) { this.model.filtered_items.push(item); }\n                }\n            }\n        } else {\n            this.model.filtered_items = this.model.filtered_items.concat(this.model.items || []);\n        }\n        this.model.filtered_items.sort((a, b) => {\n            const da = {\n                lvl: (a.level ? a.level.name : '') || '',\n                name: a.name\n            };\n            const db = {\n                lvl: (a.level ? b.level.name : b.name) || '',\n                name: b.name\n            };\n            return a.order - b.order || da.lvl.localeCompare(db.lvl) || da.name.localeCompare(db.name);\n        });\n        if (!this.model.searching) {\n            this.loading.emit(false);\n        }\n    }\n\n    public updateDate() {\n        this.model.date = moment(this.filters.date).format('dddd D/MM/YYYY');\n    }\n\n    public changeDate(offset: number) {\n        const date = moment(this.filters.date);\n        date.add(offset, 'd');\n        const now = moment();\n        while (date.isBefore(now, 'm')) {\n            date.add(1, 'd');\n        }\n        this.filters.date = date.valueOf();\n        this.post();\n        this.search();\n    }\n\n    public post() {\n        this.timeout('post', () => {\n            this.updateFilterList();\n            this.filtersChange.emit(this.filters);\n        });\n    }\n\n    public updateFilterList() {\n        this.model.filter_list = [];\n        const level = this.service.Buildings.getLevel(this.filters.level);\n        this.model.filter_list.push({\n            id: 'level',\n            type: level && level.name ? level.id : -1,\n            value: level ? level.name || 'Any Level' : 'Any Level'\n        });\n        const cap = this.filters.capacity;\n        this.model.filter_list.push({\n            id: 'capacity',\n            type: cap && cap > 0 ? 1 : -1,\n            value: cap && cap > 0 ? `${cap} ${cap === 1 ? 'person' : 'people'}` : 'Any capacity'\n        });\n        const date = moment(this.filters.date);\n        this.model.filter_list.push({\n            id: 'date',\n            type: date.isValid() && date.isSameOrAfter(moment(), 'm') ? 1 : -1,\n            value: date.format('hh:mm A')\n        });\n        this.model.filter_list.push({\n            id: 'duration',\n            type: this.filters.duration && this.filters.duration > 30 ? 1 : -1,\n            value: Utils.humaniseDuration(this.filters.duration || 30, true)\n        });\n        for (const item of (this.filters.extras || [])) {\n            if (item.filter) {\n                this.model.filter_list.push({\n                    id: 'extras',\n                    type: item.id,\n                    value: item.name\n                });\n            }\n        }\n    }\n\n    public clearFilter(filter: any) {\n        let change = false;\n        if (filter.type !== -1) {\n            if (filter.id === 'extras') {\n                for (const item of (this.filters.extras || [])) {\n                    if (item.filter && item.id === filter.type) {\n                        item.filter = false;\n                        change = true;\n                    }\n                }\n            } else {\n                switch (filter.id) {\n                    case 'level':\n                        this.filters.level = null;\n                        change = true;\n                        break;\n                    case 'capacity':\n                        this.filters.capacity = -1;\n                        change = true;\n                        break;\n                    case 'duration':\n                        this.filters.duration = 30;\n                        change = true;\n                        break;\n                    case 'date':\n                        const now = moment();\n                        const date = moment(this.filters.date);\n                        date.hours(now.hours()).minutes(Math.ceil(now.minutes() / 5) * 5);\n                        this.filters.date = date.valueOf();\n                        change = true;\n                        break;\n                }\n            }\n        }\n        if (change) {\n            this.post();\n            this.search();\n        }\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'space', name], query);\n    }\n\n    public toBook(rm: IRoom) {\n        this.loading.emit('Checking room is still available...');\n        this.service.Rooms.isAvailable(rm.id, this.filters.date, this.filters.duration)\n            .then(() => {\n                this.loading.emit(false);\n                this.space.emit(rm.id);\n                this.to('confirm-details', { room_id: rm.id });\n            }, () => {\n                this.service.error(`Room \"${rm.name}\" is now unavailable`);\n                this.search();\n            });\n    }\n\n    public toMap(rm: IRoom) { this.to('map', { room_id: rm.id }); }\n    public toFilters() { this.to('filters'); }\n}\n","<div class=\"container\" (window:mouseup)=\"model.move = ''\" (window:touchend)=\"model.move = ''\">\n    <div class=\"block header\">\n        <div class=\"content\">\n            <div class=\"header to-upper\">Select time</div>\n        </div>\n    </div>\n    <div class=\"block date\">\n        <div class=\"content\">\n            <div class=\"date-toggle\">\n                <div class=\"arrow prev\" (touchrelease)=\"changeDate(-1)\">\n                    <i class=\"material-icons\">keyboard_arrow_left</i>\n                </div>\n                <div class=\"day\">{{model.date}}</div>\n                <div class=\"arrow next\" (touchrelease)=\"changeDate(1)\">\n                    <i class=\"material-icons\">keyboard_arrow_right</i>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"block timeline\">\n        <div class=\"content\" (mousemove)=\"move($event)\" (touchmove)=\"move($event)\">\n            <div class=\"timeblocks\">\n                <div class=\"blk\" *ngFor=\"let item of model.blocks\">\n                    <div class=\"text\" *ngIf=\"item.hour\">{{item.display}}</div>\n                </div>\n            </div>\n            <div class=\"eventblocks\" #block>\n                <div class=\"blk\" *ngFor=\"let item of model.blocks\" [class.shown-block]=\"item.show\" [class.hour]=\"item.hour\" [class.disabled]=\"item.disabled\" [class.in-use]=\"item.in_use\">\n                </div>\n                <div class=\"selected-time\" #time\n                    [style.top]=\"((model.active_start || (2 / 14)) * 100) + '%'\"\n                    [style.height]=\"((model.active_length || (.5 / 14)) * 100) + '%'\">\n                    <div class=\"inner\" (touchpress)=\"model.move = 'top'; setOffset($event)\">{{model.display}}</div>\n                    <div class=\"handle top\" (touchpress)=\"model.move = 'top'; setOffset($event)\"></div>\n                    <div class=\"handle bottom\" (touchpress)=\"model.move = 'bottom'; setOffset($event)\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"block footer\">\n        <div class=\"content\">\n            <btn klass=\"full-width\" (tapped)=\"cancel()\">\n                <div class=\"text\">Back</div>\n            </btn>\n            <btn klass=\"full-width\" [disabled]=\"model.past\" (tapped)=\"toSpaces()\">\n                <div class=\"text\">Select</div>\n            </btn>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, ElementRef, SimpleChanges, OnChanges } from '@angular/core';\n\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { AppService } from '../../../../services/app.service';\nimport { IUser } from '../../../../services/data/users.service';\nimport { ISpaceFilters } from '../filters/filters.component';\n\nimport * as moment from 'moment';\nimport { Utils } from '../../../../shared/utility.class';\n\n@Component({\n    selector: 'space-flow-select-time',\n    templateUrl: './select-time.template.html',\n    styleUrls: ['./select-time.styles.scss']\n})\nexport class SpaceFlowSelectTimeComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() filters: ISpaceFilters;\n    @Input() attendees: IUser[];\n    @Output() filtersChange = new EventEmitter();\n    @Output() back = new EventEmitter();\n\n    public model: any = {};\n\n    @ViewChild('block') private block: ElementRef;\n    @ViewChild('time') private time: ElementRef;\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.model.settings = this.service.Settings.get('app.booking') || {};\n        this.generateDay();\n        this.updateDisplay();\n        this.interval('update', () => this.generateDay(), 2 * 60 * 1000);\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.attendees) {\n            this.disableInUseBlocks();\n        }\n    }\n\n    public generateDay() {\n        this.model.blocks = [];\n        const date = moment(this.filters.date);\n        date.minutes(Math.ceil(date.minutes() / 5) * 5);\n        const now = moment();\n        now.minutes(Math.floor(now.minutes() / 5) * 5);\n        const time = moment(date).hours(6).minutes(0);\n        const end = moment(time).hours(20).minutes(0);\n        for (; time.isBefore(end); time.add(5, 'm')) {\n            this.model.blocks.push({\n                id: time.format('HH:mm'),\n                display: time.format('HH:mm'),\n                hour: time.minutes() === 0,\n                show: time.minutes() % 30 === 0,\n                disabled: time.isBefore(now, 'm')\n            });\n        }\n        this.disableInUseBlocks();\n    }\n\n    public move(e) {\n        this.timeout('move', () => {\n            if (!this.filters) { this.filters = {} as any; }\n            if (!this.model.offset) { this.model.offset = { x: 0, y: 0 }; }\n            if (this.model.move && this.block) {\n                const center = {\n                    x: e.touches && e.touches.length > 0 ? e.touches[0].clientX || e.clientX : e.clientX,\n                    y: e.touches && e.touches.length > 0 ? e.touches[0].clientY || e.clientY : e.clientY\n                };\n                const off = this.model.move === 'bottom' ? { x: 0, y: 0 } : this.model.offset;\n                const content_box = this.block.nativeElement.getBoundingClientRect();\n                const percent_w = ((center.x - off.x) - content_box.left) / content_box.width;\n                const percent_h = ((center.y - off.y) - content_box.top) / content_box.height;\n                const percent = this.model.vertical ? percent_w : percent_h;\n\n                const start_time = this.model.settings.start_hour || 6;\n                const end_time = (this.model.settings.end_hour || 20);\n                const diff_time = end_time - start_time;\n                const block_size = this.model.settings.block_size || 15;\n                const hour = Math.ceil((diff_time * percent + start_time) * (60 / block_size)) / (60 / block_size);\n                if (this.model.move === 'bottom') {\n                    let date = moment(this.filters.date);\n                    const end = moment(this.filters.date).hours(Math.floor(hour)).minutes(Math.floor((hour * 60) % 60));\n                    if (end.isSameOrBefore(date, 'm')) {\n                        date = moment(end).add(-this.filters.duration, 'm');\n                        this.filters.date = date.valueOf();\n                    } else {\n                        const duration = Math.floor(moment.duration(end.diff(date)).asMinutes());\n                        this.filters.duration = Math.max(30, (duration || block_size));\n                    }\n                } else if (this.model.move === 'top') {\n                    const date = moment(this.filters.date).hours(Math.floor(hour)).minutes(Math.floor((hour * 60) % 60));\n                    this.filters.date = date.valueOf();\n                }\n                this.post();\n            }\n        }, 10);\n    }\n\n    public setOffset(e) {\n        if (this.time) {\n            const box = this.time.nativeElement.getBoundingClientRect();\n            this.model.offset = { x: e.center.x - box.left, y: e.center.y - box.top };\n        }\n    }\n\n    public post() {\n        this.timeout('post', () => {\n            this.filtersChange.emit(this.filters);\n        }, 100);\n        this.updateDisplay();\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'space', name], query);\n    }\n\n    public toSpaces() { this.to('spaces'); }\n    public cancel() { this.back.emit(); }\n\n    public changeDate(offset: number) {\n        const date = moment(this.filters.date);\n        date.add(offset, 'd');\n        const now = moment().hours(0).minutes(0);\n        while (date.isBefore(now, 'm')) {\n            date.add(1, 'd');\n        }\n        this.filters.date = date.valueOf();\n        this.generateDay();\n        this.post();\n    }\n\n    public disableInUseBlocks() {\n        if (!this.model.blocks) {\n            return this.timeout('disable_blocks', () => this.disableInUseBlocks());\n        }\n        this.model.blocks.forEach(item => item.in_use = false);\n        for (const user of (this.attendees || [])) {\n            if (user && !user.optional && !user.external) {\n                const date = moment(this.filters.date);\n                this.service.Bookings.show(user.email, {\n                    from: date.hours(0).minutes(0).seconds(0).unix(),\n                    to: date.hours(23).minutes(59).seconds(59).unix()\n                }).then((list) => {\n                    (list || []).forEach(bkn => {\n                        const bkn_start = moment(bkn.date);\n                        if (bkn_start.isSame(date, 'd')) {\n                            bkn_start.minutes(Math.floor(bkn_start.minutes() / 5) * 5);\n                            const bkn_end = moment(bkn_start).add(bkn.duration, 'm');\n                            for (; bkn_start.isBefore(bkn_end, 'm'); bkn_start.add(5, 'm')) {\n                                const format = bkn_start.format('HH:mm');\n                                const blk = this.model.blocks.find(item => item.id === format);\n                                if (blk) { blk.in_use = true; }\n                            }\n                        }\n                    });\n                });\n            }\n        }\n    }\n\n    public updateDisplay() {\n        if (!this.filters) { this.filters = {} as any; }\n        if (!this.filters.date) {\n            const date = moment().seconds(0).milliseconds(0);\n            date.minutes(Math.ceil(date.minutes() / 5) * 5);\n            this.filters.date = date.valueOf();\n        }\n        if (!this.filters.duration) { this.filters.duration = 30; }\n        const start_time = this.model.settings.start_hour || 6;\n        const end_time = (this.model.settings.end_hour || 20);\n        const start = moment(this.filters.date);\n        start.minutes(Math.ceil(start.minutes() / 5) * 5);\n        const end = moment(start).add(this.filters.duration, 'm');\n        const dur = Utils.humaniseDuration(this.filters.duration, true);\n        this.model.display = `${start.format('hh:mm A')} - ${end.format('hh:mm A')} (${dur})`;\n        this.model.date = `${start.format('dddd D/MM/YYYY')}`;\n        this.model.active_start = ((start.hours() + start.minutes() / 60) - start_time) / (end_time - start_time);\n        this.model.active_length = (this.filters.duration / 60) / (end_time - start_time);\n        this.model.past = start.isBefore(moment());\n    }\n}\n","<div class=\"container\">\n    <div class=\"topbar\">\n        <div class=\"icon back\" (touchrelease)=\"back()\">\n            <i class=\"material-icons\">arrow_back</i>\n        </div>\n        <div class=\"text to-upper\" [ngSwitch]=\"model.page\">\n            <ng-container *ngSwitchCase=\"'spaces'\">Room results</ng-container>\n            <ng-container *ngSwitchCase=\"'attendees'\">Suitable time for Attendees</ng-container>\n            <ng-container *ngSwitchCase=\"'confirm-attendees'\">Attendee Confirmation</ng-container>\n            <ng-container *ngSwitchCase=\"'find-time'\">Suitable time for Attendees</ng-container>\n            <ng-container *ngSwitchCase=\"'confirm-details'\">Let's create your meeting</ng-container>\n            <ng-container *ngSwitchCase=\"'filters'\">Space Filters</ng-container>\n            <ng-container *ngSwitchCase=\"'map'\">Room Location {{model.level}}</ng-container>\n            <ng-container *ngSwitchDefault>Book a meeting room</ng-container>\n        </div>\n    </div>\n    <div class=\"flow-step\" [ngSwitch]=\"model.page\">\n        <ng-container *ngSwitchCase=\"'spaces'\">\n            <space-flow-select-space (space)=\"model.space = $event; storeSpace()\" [(filters)]=\"model.filters\"\n                (filtersChange)=\"storeFilters()\" (loading)=\"loading = $event\"></space-flow-select-space>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'attendees'\">\n            <space-flow-attendees [(attendees)]=\"model.attendees\" (attendeesChange)=\"storeAttendees()\" (loading)=\"loading = $event\"\n                (back)=\"back()\"></space-flow-attendees>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'confirm-attendees'\">\n            <space-flow-confirm-attendees [(attendees)]=\"model.attendees\" (attendeesChange)=\"storeAttendees()\"\n                (loading)=\"loading = $event\" (back)=\"back()\"></space-flow-confirm-attendees>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'find-time'\">\n            <space-flow-select-time [(filters)]=\"model.filters\" (filtersChange)=\"storeFilters()\" [attendees]=\"model.attendees\"\n                (back)=\"back()\"></space-flow-select-time>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'confirm-details'\">\n            <space-flow-confirm-details [from]=\"model.from\" [(form)]=\"model.filters\" (formChange)=\"storeFilters()\"\n                [(attendees)]=\"model.attendees\" (attendeesChange)=\"storeAttendees()\" [space]=\"model.room\" (back)=\"back()\"\n                (loading)=\"loading = $event\"></space-flow-confirm-details>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'result'\">\n            <space-flow-result></space-flow-result>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'map'\">\n            <space-flow-view-space (level)=\"model.level = $event\" (back)=\"back()\"></space-flow-view-space>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'new-contact'\">\n            <visitor-flow-new-contact [(attendees)]=\"model.attendees\" (attendeesChange)=\"store('attendees')\" (back)=\"back()\"></visitor-flow-new-contact>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'filters'\">\n            <space-flow-filters [(filters)]=\"model.filters\" (filtersChange)=\"storeFilters()\" (back)=\"back()\"></space-flow-filters>\n        </ng-container>\n        <ng-container *ngSwitchDefault>\n            <space-flow-search-options [(filters)]=\"model.filters\" (filtersChange)=\"storeFilters()\"></space-flow-search-options>\n        </ng-container>\n    </div>\n    <div class=\"loader\" *ngIf=\"model.loading\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\" color=\"#000\"></spinner>\n            </div>\n            <div class=\"text\">{{model.loading === true ? 'Waiting...' : model.loading}}</div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\n\nimport { AppService } from '../../../services/app.service';\nimport { BaseComponent } from '../../../shared/components/base.component';\n\n@Component({\n    selector: 'space-booking-flow',\n    templateUrl: './space-flow.template.html',\n    styleUrls: ['./space-flow.styles.scss']\n})\nexport class SpaceBookingFlowComponent extends BaseComponent implements OnInit {\n\n    public model: any = {};\n\n    constructor(private service: AppService, private route: ActivatedRoute, private router: Router) {\n        super();\n        this.model.breadcrumbs = [];\n    }\n\n    public ngOnInit(): void {\n        this.model.flow = 'space';\n        this.load('breadcrumbs');\n        this.subs.obs.params = this.route.paramMap.subscribe((params) => {\n            if (this.model.page && !this.model.ignore) {\n                this.model.breadcrumbs.push(this.model.page);\n                this.store('breadcrumbs');\n            }\n            this.model.ignore = false;\n            this.model.page = '';\n            if (params.has('page')) {\n                this.model.page = params.get('page');\n            }\n            if (!this.model.page) { this.clearForm(); }\n        });\n        this.subs.obs.route = this.router.events.subscribe((e) => {\n            if (e instanceof NavigationEnd && e.url.indexOf('book/space') < 0) {\n                this.clearForm();\n            }\n        });\n        this.loadFilters();\n        this.loadSpace();\n        this.loadAttendees();\n        if (this.model.space) {\n            this.model.room = this.service.Rooms.item(this.model.space);\n        }\n    }\n\n    public store(name: string) {\n        if (localStorage) {\n            const d = this.model[name];\n            const value = typeof d === 'object' ? JSON.stringify(d) : d;\n            localStorage.setItem(`STAFF.${this.model.flow}.${name}`, value);\n        }\n    }\n\n    public load(name: string) {\n        if (localStorage) {\n            const item = localStorage.getItem(`STAFF.${this.model.flow}.${name}`);\n            if (item) {\n                try {\n                    this.model[name] = JSON.parse(item);\n                } catch (e) {\n                    this.model[name] = item;\n                }\n            }\n        }\n    }\n\n    public clear(name: string) {\n        if (localStorage) {\n            localStorage.removeItem(`STAFF.${this.model.flow}.${name}`);\n        }\n    }\n\n    public storeFilters() { this.store('filters'); }\n    public loadFilters() { this.load('filters'); }\n\n    public storeSpace() {\n        this.store('space');\n        if (this.model.space) {\n            this.model.room = this.service.Rooms.item(this.model.space);\n        }\n    }\n    public loadSpace() { this.load('space'); }\n\n    public storeAttendees() { this.store('attendees'); }\n    public loadAttendees() { this.load('attendees'); }\n\n    public clearForm() {\n        ['filters', 'space', 'attendees', 'breadcrumbs'].forEach(i => this.clear(i));\n    }\n\n    set loading(value: any) {\n        this.timeout('loading', () => this.model.loading = value, 10);\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'space', name], query);\n    }\n\n    public back() {\n        const previous = this.model.breadcrumbs.pop();\n        if (previous) {\n            this.to(previous);\n            this.model.ignore = true;\n            this.store('breadcrumbs');\n        } else {\n            this.service.navigate(['book']);\n        }\n    }\n}\n","<div class=\"container\">\n    <div class=\"block header\">\n        <div class=\"content\">\n            <div class=\"header to-upper\">{{model.room?.name}}</div>\n        </div>\n    </div>\n    <div class=\"block map\">\n        <map [src]=\"model.room.level.map_url\" [focus]=\"model.focus\" [poi]=\"model.poi || []\"></map>\n    </div>\n</div>","\nimport { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MapPinComponent } from '@acaprojects/ngx-widgets';\n\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { AppService } from '../../../../services/app.service';\nimport { IRoom } from '../../../../services/data/rooms.service';\n\n@Component({\n    selector: 'space-flow-view-space',\n    templateUrl: './view-space.template.html',\n    styleUrls: ['./view-space.styles.scss']\n})\nexport class SpaceFlowViewSpaceComponent extends BaseComponent implements OnInit {\n    @Output() public back = new EventEmitter();\n    @Output() public level = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService, private route: ActivatedRoute) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.subs.obs.params = this.route.queryParamMap.subscribe((params) => {\n            if (params.has('room_id')) {\n                this.model.room_id = params.get('room_id');\n                this.focus();\n            }\n        });\n    }\n\n    public focus() {\n        if (this.model.room_id) {\n            const room: IRoom = this.service.Rooms.item(this.model.room_id);\n            if (room) {\n                this.model.room = room;\n                this.level.emit(room.level.name);\n                this.model.focus = {\n                    id: `area-${room.map_id}-status`,\n                    zoom: 150\n                };\n                this.model.poi = [{\n                    id: `area-${room.map_id}-status`,\n                    cmp: MapPinComponent\n                }];\n            } else {\n                this.back.emit();\n            }\n        } else {\n            this.back.emit();\n        }\n    }\n}\n","\nimport { VisitorFlowComponent } from './visitor-flow.component';\nimport { VisitorFlowVisitorListComponent } from './visitor-list/visitor-list.component';\nimport { VisitorFlowNewContactComponent } from './new-contact/new-contact.component';\nimport { VisitorFlowOptionsComponent } from './options/options.component';\nimport { VisitorFlowInviteComponent } from './invite/invite.component';\nimport { VisitorFlowResultComponent } from './result/result.component';\n\nexport const VISITOR_FLOW_COMPONENTS: any[] = [\n    VisitorFlowComponent,\n    VisitorFlowVisitorListComponent,\n    VisitorFlowNewContactComponent,\n    VisitorFlowOptionsComponent,\n    VisitorFlowInviteComponent,\n    VisitorFlowResultComponent\n];\n","<div class=\"container\">\n    <div class=\"circle\"></div>\n    <div class=\"content\">\n        <div class=\"icon top\">\n            <img src=\"assets/img/sent_invite.svg\">\n        </div>\n        <div class=\"title\">Invite sent to visitor</div>\n        <div class=\"info\">Your guests will receive an email on the day of the meeting with a QR code that they will\n            need to scan at the Visitor Registration Kiosk in order to enter.</div>\n        <hr>\n        <div class=\"details\">\n            <div class=\"group\">\n                <div class=\"pair\">\n                    <div class=\"icon\"><img src=\"assets/img/calendar.svg\"></div>\n                    <div class=\"text\">{{model.display?.date}}</div>\n                </div>\n                <div class=\"pair\">\n                    <div class=\"icon\"><img src=\"assets/img/time.svg\"></div>\n                    <div class=\"text\">{{model.display?.time}}</div>\n                </div>\n                <div class=\"pair\">\n                    <div class=\"icon\"><img src=\"assets/img/date_pin.svg\"></div>\n                    <div class=\"text\">{{model.display?.location}}</div>\n                </div>\n            </div>\n            <div class=\"group\">\n                <img class=\"qrcode\" [src]=\"model.qrcode\">\n            </div>\n        </div>\n        <div class=\"options\">\n            <btn (tapped)=\"to('results')\">Done</btn>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, SimpleChanges, OnChanges } from '@angular/core';\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { ISpaceFilters } from '../../space-flow/filters/filters.component';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'visitor-flow-invite',\n    templateUrl: './invite.component.html',\n    styleUrls: ['./invite.component.scss']\n})\nexport class VisitorFlowInviteComponent extends BaseComponent implements OnInit, OnChanges {\n    @Input() public filters: ISpaceFilters;\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        if (!this.filters) { this.filters = {} as any; }\n        this.updateDisplay();\n    }\n\n    public ngOnChanges(changes: SimpleChanges): void {\n        if (changes.filters) {\n            this.updateDisplay();\n        }\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'visitor', name], query);\n    }\n\n    public updateDisplay() {\n        if (!this.filters) { this.filters = {} as any; }\n        const date = moment(this.filters.date || null);\n        if (!this.model.display) { this.model.display = {}; }\n        this.model.display.date = date.format('dddd DD/MM/YYYY');\n        this.model.display.time = date.format('hh:mmA');\n        if (this.filters.level) {\n            const level = this.service.Buildings.getLevel(this.filters.level);\n            if (level) {\n                this.model.display.level = `${level.name} Lobby`;\n            }\n        }\n    }\n\n}\n","<div class=\"block search\">\n    <div #ref class=\"reference\"></div>\n    <div class=\"content\">\n        <div class=\"header to-upper\">Create a new contact</div>\n        <div class=\"form\">\n            <div class=\"field\">\n                <label for=\"title\">Title</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"title\" [list]=\"model.titles\" [(model)]=\"model.title_index\" (modelChange)=\"model.title = model.titles[$event]\" placeholder=\"Select title\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\" [class.error]=\"model.error_first_name\">\n                <label for=\"name\">First &amp; Middle names</label>\n                <div class=\"value\">\n                    <input id=\"name\" type=\"text\" [(ngModel)]=\"model.first_name\" (ngModelChange)=\"model.error_first_name = null\" placeholder=\"Lucas\">\n                </div>\n                <div class=\"info\" *ngIf=\"model.error_first_name\">{{model.error_first_name}}</div>\n            </div>\n            <div class=\"field\" [class.error]=\"model.error_last_name\">\n                <label for=\"name\">Last Name</label>\n                <div class=\"value\">\n                    <input id=\"name\" type=\"text\" [(ngModel)]=\"model.last_name\" (ngModelChange)=\"model.error_last_name = null\" placeholder=\"Zhang\">\n                </div>\n                <div class=\"info\" *ngIf=\"model.error_last_name\">{{model.error_last_name}}</div>\n            </div>\n            <div class=\"field\">\n                <label for=\"company\">Company</label>\n                <div class=\"value\">\n                    <custom-dropdown klass=\"form\" [(show)]=\"model.show\" (showChange)=\"updateView()\" [content]=\"content\" [template]=\"template\">\n                        <ng-template #content>\n                            <div class=\"dropdown-header\">\n                                <div class=\"input\">\n                                    <input #input id=\"company\" class=\"company-new-contact\" type=\"text\" [(ngModel)]=\"model.org_name\" (ngModelChange)=\"checkOrg()\" placeholder=\"Company\">\n                                </div>\n                                <div class=\"icon\">\n                                    <i class=\"material-icons\">{{model.show ? 'keyboard_arrow_up' : 'keyboard_arrow_down'}}</i>\n                                </div>\n                            </div>\n                        </ng-template>\n                        <ng-template #template>\n                            <div class=\"list show\" [style.height]=\"(list_height * 2 * font_size) + 'px'\">\n                                <ng-container *ngIf=\"model.orgs\">\n                                    <cdk-virtual-scroll-viewport [itemSize]=\"2 * font_size\">\n                                        <ng-container *cdkVirtualFor=\"let item of model.orgs; let i = index\">\n                                            <div class=\"item\" [class.hide]=\"hideActive && (item.i || i) === model\" (touchrelease)=\"setOrg(item)\">\n                                                <div class=\"text\">{{ item.name || item }}</div>\n                                                <div class=\"icon\">\n                                                    <div class=\"done\" *ngIf=\"model.org_index === (item.i || i) ? 1 : 0\"></div>\n                                                </div>\n                                            </div>\n                                        </ng-container>\n                                    </cdk-virtual-scroll-viewport>\n                                </ng-container>\n                            </div>\n                        </ng-template>\n                    </custom-dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"phone\">Contact</label>\n                <div class=\"value\">\n                    <input id=\"phone\" type=\"tel\" [(ngModel)]=\"model.phone\" placeholder=\"85230778870\">\n                </div>\n            </div>\n            <div class=\"field\" [class.error]=\"model.error_email\">\n                <label for=\"email\">Email <span>*</span></label>\n                <div class=\"value\">\n                    <input id=\"email\" type=\"email\" [(ngModel)]=\"model.email\" (ngModelChange)=\"model.error_email = null\" placeholder=\"visitor@not-aia.com\">\n                </div>\n                <div class=\"info\" *ngIf=\"model.error_email\">{{model.error_email}}</div>\n            </div>\n            <div class=\"field\">\n                <label for=\"purpose\">Purpose of Visit</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"purpose\" [list]=\"model.purposes\" [(model)]=\"model.purpose_index\" (modelChange)=\"model.purpose = model.purposes[$event]\" placeholder=\"Select purpose of visit\"></dropdown>\n                </div>\n            </div>\n            <hr />\n            <div class=\"options\">\n                <btn (tapped)=\"cancel()\">Cancel</btn>\n                <btn (tapped)=\"add(!model.space)\">Add</btn>\n                <btn *ngIf=\"model.space\" (tapped)=\"add(true)\">Add &amp; Continue</btn>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild, ElementRef, QueryList } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { Utils } from '../../../../shared/utility.class';\n\nimport { IUser } from '../../../../services/data/users.service';\n\n@Component({\n    selector: 'visitor-flow-new-contact',\n    templateUrl: './new-contact.component.html',\n    styleUrls: ['./new-contact.component.scss']\n})\nexport class VisitorFlowNewContactComponent extends BaseComponent implements OnInit {\n    @Input() public attendees: IUser[];\n    @Output() public attendeesChange = new EventEmitter<IUser[]>();\n    @Output() public back = new EventEmitter();\n\n    public model: any = {};\n\n    public font_size = 16;\n    public list_height = 0;\n\n    @ViewChild('ref') private reference: ElementRef;\n    @ViewChild('input') private input: ElementRef;\n\n    constructor(private service: AppService, private router: Router) {\n        super();\n        this.model.titles = ['Mr', 'Ms', 'Mrs'];\n        this.model.purposes = ['Business', 'Project', 'Delivery', 'Interview', 'Maintenance ', 'Social', 'Training', 'Other'];\n    }\n\n    public ngOnInit() {\n        this.model.org_index = 0;\n        this.subs.obs.building = this.service.Buildings.listen((bld) => {\n            if (bld) {\n                this.model.orgs = bld.orgs || [];\n                if (this.model.orgs.length <= 0) {\n                    this.model.orgs.push({ id: -1, name: 'No companies' });\n                }\n                this.list_height = Math.min(8, this.model.orgs.length);\n            }\n        });\n        this.model.space = this.router.url.indexOf('space') >= 0;\n    }\n\n    public cancel() { this.back.emit(); }\n\n    public add(next: boolean = false) {\n        let error = false;\n        // if (!this.model.first_name) { this.model.error_first_name = 'First & Middle names are required'; error = true; }\n        // if (!this.model.last_name) { this.model.error_last_name = 'Last name is required'; error = true; }\n        if (!this.model.email) { this.model.error_email = 'Email is required'; error = true; }\n        if (!Utils.validateEmail(this.model.email)) { this.model.error_email = 'A valid email is required'; error = true; }\n        if (error) { return error; }\n        const user: IUser = {\n            id: Math.random().toString(),\n            last_name: this.model.last_name,\n            first_name: this.model.first_name,\n            name: `${this.model.first_name} ${this.model.last_name}`,\n            email: this.model.email,\n            organisation_name: this.model.org_name,\n            phone: this.model.phone,\n            title: this.model.title,\n            purpose: this.model.purpose,\n            external: true,\n            type: 'external',\n            image: ''\n        };\n        if (!this.attendees) { this.attendees = []; }\n        const exists = this.attendees.find(i => i.email === user.email);\n        if (!exists) { this.attendees.push(user); }\n        this.attendeesChange.emit(this.attendees);\n        if (next) {\n            this.model.space ? this.to('confirm-attendees') : this.back.emit();\n        } else {\n            this.service.info(`Added contact \"${this.model.name || this.model.email.split('@')[0]}\"`);\n            this.model = {\n                ...this.model, name: '', email: '', phone: '', title: '', purpose: '', org_name: ''\n            };\n            this.checkOrg();\n            this.model.title_index = -1;\n            this.model.purpose_index = -1;\n        }\n    }\n\n    public to(name: string, query?: any) {\n        const loc = this.model.space ? 'space' : 'visitor';\n        this.service.navigate(['book', loc, name], query);\n    }\n\n    public checkOrg() {\n        if (!this.model.org_name) { this.model.org_name = ''; }\n        const exists = this.model.orgs.find(i => i.name.toLowerCase() === this.model.org_name.toLowerCase());\n        this.model.org_index = this.model.orgs.indexOf(exists);\n    }\n\n    public setOrg(item) {\n        if (item && item.name !== 'No companies') {\n            this.model.org_name = item.name;\n            this.model.org_index = this.model.orgs.indexOf(item);\n            this.model.show = false;\n        }\n    }\n\n    public updateView() {\n        if (!this.input) {\n            return this.timeout('update_view', () => this.updateView());\n        }\n        this.timeout('update_view', () => {\n            const el = document.getElementsByClassName('company-new-contact');\n            if (el && el.length >= 2) {\n                (el[0] as HTMLInputElement).blur();\n                (el[1] as HTMLInputElement).focus();\n            }\n        }, 200);\n    }\n}\n","<div class=\"container\">\n    <div class=\"circle\"></div>\n    <div class=\"content\">\n        <div class=\"header to-upper\">Select Meeting point</div>\n        <div class=\"form\">\n            <div class=\"field\">\n                <label for=\"date\">Date</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"date\" [list]=\"model.dates\" [(model)]=\"model.date_index\" (modelChange)=\"updateForm(); loadTimes()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"time\">Time</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"time\" [list]=\"model.times\" [(model)]=\"model.time_index\" (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label for=\"level\">Level</label>\n                <div class=\"value\">\n                    <dropdown klass=\"form\" id=\"level\" [list]=\"model.levels\" [(model)]=\"model.level_index\" (modelChange)=\"updateForm()\"></dropdown>\n                </div>\n            </div>\n            <hr />\n            <div class=\"options\">\n                <btn klass=\"full-width\" (tapped)=\"cancel()\">\n                    <div class=\"text\">Cancel</div>\n                </btn>\n                <btn klass=\"full-width\" (tapped)=\"book()\">\n                    <div class=\"text\">Book</div>\n                </btn>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\n\nimport { IUser } from '../../../../services/data/users.service';\nimport { ISpaceFilters } from '../../space-flow/filters/filters.component';\n\nimport * as moment from 'moment';\n\n@Component({\n    selector: 'visitor-flow-options',\n    templateUrl: './options.component.html',\n    styleUrls: ['./options.component.scss']\n})\nexport class VisitorFlowOptionsComponent extends BaseComponent implements OnInit {\n    @Input() public filters: ISpaceFilters;\n    @Input() public attendees: IUser[];\n    @Output() public filtersChange = new EventEmitter<ISpaceFilters>();\n    @Output() public loading = new EventEmitter();\n    @Output() public back = new EventEmitter();\n\n    public model: any = {\n        date_index: 0,\n        time_index: 0,\n        duration_index: 0,\n        level_index: 0\n    };\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        if (!this.filters) {\n            this.filters = {\n                date: moment().valueOf(),\n                duration: 30,\n\n            };\n        }\n        this.subs.obs.building = this.service.Buildings.listen((bld) => {\n            if (bld) {\n                this.model.levels = [ ...bld.levels ];\n                const exists = this.model.levels.find(i => this.filters.level && i.id === this.filters.level);\n                if (exists) {\n                    this.model.level_index = this.model.levels.indexOf(exists);\n                    if (this.model.level_index < 0) { this.model.level_index = 0; }\n                }\n                this.updateForm();\n            }\n        });\n        this.loadDates();\n        this.updateForm();\n    }\n\n    public updateForm() {\n        this.timeout('update', () => {\n            // Prevent pre-initialisation errors\n            if (!this.model.dates) { this.model.dates = [{ id: moment().seconds(0).milliseconds(0).valueOf() }]; }\n            if (!this.model.times) { this.model.times = [{ id: moment().format('HH:mm') }]; }\n            // Update filter fields\n            const date = moment(this.model.dates[this.model.date_index].id);\n            const time = this.model.times[this.model.time_index].id.split(':');\n            this.filters = {\n                date: date.hours(+time[0]).minutes(+time[1]).valueOf(),\n                duration: 30,\n                level: this.model.levels[this.model.level_index].id\n            };\n            this.filtersChange.emit(this.filters);\n        }, 100);\n    }\n\n    public loadDates() {\n        this.model.dates = [];\n        const date = moment().hour(0).minutes(0).seconds(0).milliseconds(0);\n        const end = moment(date).add(2, 'M');\n        let offset = 0;\n        for (; date.isBefore(end); date.add(1, 'd')) {\n            this.model.dates.push({\n                id: date.valueOf(),\n                name: date.format('ddd MMMM DD, YYYY'),\n                offset\n            });\n            offset++;\n        }\n        this.loadTimes();\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'visitor', name], query);\n    }\n\n    public toSpaces() { this.to('spaces'); }\n    public cancel() { this.back.emit(); }\n\n    public loadTimes() {\n        // Clean up time\n        this.filters.date = this.cleanTime(this.filters.date);\n        this.model.times = [];\n        const date = moment(this.filters.date);\n        const now = moment();\n        if (date.isAfter(now, 'd')) {\n            now.hours(0).minutes(0);\n        } else {\n            now.minutes(Math.ceil(now.minutes() / 5) * 5);\n        }\n        if (now.minutes() % 15 !== 0) {\n            this.model.times.push({\n                id: now.format('HH:mm'),\n                name: now.format('hh:mm A')\n            });\n            now.minutes(Math.ceil(now.minutes() / 15) * 15);\n        }\n        const end = moment(now).hours(23).minutes(59);\n        for (; now.isBefore(end, 'm'); now.add(15, 'm')) {\n            this.model.times.push({\n                id: now.format('HH:mm'),\n                name: now.format('hh:mm A')\n            });\n        }\n        const time = date.format('HH:mm');\n        let exists = this.model.times.find(a => a.id === time);\n        if (exists) {\n            this.model.time_index = this.model.times.indexOf(exists);\n        } else {\n            this.model.times.push({\n                id: date.format('HH:mm'),\n                name: date.format('hh:mm A')\n            });\n            this.model.times.sort((a, b) => a.id.localeCompare(b.id));\n            exists = this.model.times.find(a => a.id === time);\n            this.model.time_index = this.model.times.indexOf(exists);\n        }\n    }\n\n\n    public cleanTime(datestamp, block_size: number = 5) {\n        if (!datestamp) { datestamp = moment().valueOf(); }\n        const now = moment().seconds(0).milliseconds(0);\n        now.minutes(Math.ceil(now.minutes() / block_size) * block_size);\n        let date = moment(datestamp).seconds(0).milliseconds(0);\n        if (date.isBefore(now, 'm')) {\n            date = moment(now);\n        } else {\n            date.minutes(Math.ceil(date.minutes() / block_size) * block_size);\n        }\n        return date.valueOf();\n    }\n\n    public book() {\n        if (!this.attendees || this.attendees.length <= 0) { return this.back.emit(); }\n        this.loading.emit('Processing...');\n        const user = this.service.Users.current();\n        const a = this.attendees;\n        this.service.Visitors.add({\n            title: `Visitors for ${user.name}: ${a[0].name}${a.length > 1 ? ', +' + (a.length - 1) : ''}`,\n            visitors: a,\n            date: this.filters.date,\n            duration: this.filters.duration\n        }).then(() => {\n            this.loading.emit(false);\n            this.to('invite');\n        }, () => {\n            this.loading.emit(false);\n            this.service.error(`Error creating new visitor ${a.length > 1 ? 'group' : ''}`);\n        });\n    }\n}\n","<div class=\"container\">\n    <div class=\"circle\"></div>\n    <div class=\"content\">\n        <div class=\"icon top\">\n            <img src=\"assets/img/external.svg\">\n        </div>\n        <div class=\"title\">Booking created</div>\n        <div class=\"info\">Are you happy with your experience?</div>\n        <div class=\"options\">\n            <div class=\"option icon\" (touchrelease)=\"toHome()\">\n                <i class=\"material-icons\">done</i>\n            </div>\n            <div class=\"option icon\" (touchrelease)=\"toFeedback()\">\n                <i class=\"material-icons\">close</i>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\n\n@Component({\n    selector: 'visitor-flow-result',\n    templateUrl: './result.component.html',\n    styleUrls: ['./result.component.scss']\n})\nexport class VisitorFlowResultComponent extends BaseComponent implements OnInit {\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n        this.clearForm();\n    }\n\n    public clear(name: string) {\n        if (localStorage) {\n            localStorage.removeItem(`STAFF.visitor.${name}`);\n        }\n    }\n\n    public clearForm() {\n        this.clear('filters');\n        this.clear('space');\n        this.clear('attendees');\n    }\n\n    public toHome() { this.service.navigate('home'); }\n    public toFeedback() { this.service.navigate(['book', 'feedback']); }\n}\n","<div class=\"container\">\n    <div class=\"topbar\">\n        <div class=\"icon back\" (touchrelease)=\"back()\">\n            <i class=\"material-icons\">arrow_back</i>\n        </div>\n        <div class=\"text to-upper\" [ngSwitch]=\"model.page\">\n            <ng-container *ngSwitchCase=\"'new-contact'\">Add new contact</ng-container>\n            <ng-container *ngSwitchCase=\"'options'\">Meeting selections</ng-container>\n            <ng-container *ngSwitchDefault>Invite external visitors</ng-container>\n        </div>\n    </div>\n    <div class=\"flow-step\" [ngSwitch]=\"model.page\">\n        <ng-container *ngSwitchCase=\"'new-contact'\">\n            <visitor-flow-new-contact [(attendees)]=\"model.attendees\" (attendeesChange)=\"store('attendees')\" (back)=\"back()\"></visitor-flow-new-contact>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'options'\">\n            <visitor-flow-options [attendees]=\"model.attendees\" [(filters)]=\"model.filters\" (filtersChange)=\"store('filters')\"\n                (loading)=\"model.loading = $event\" (back)=\"back()\">\n            </visitor-flow-options>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'invite'\">\n            <visitor-flow-invite [filters]=\"model.filters\"></visitor-flow-invite>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'results'\">\n            <visitor-flow-result></visitor-flow-result>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'result'\">\n            <visitor-flow-result></visitor-flow-result>\n        </ng-container>\n        <ng-container *ngSwitchDefault>\n            <visitor-flow-visitor-list [(attendees)]=\"model.attendees\" (attendeesChange)=\"store('attendees')\"\n                (loading)=\"model.loading = $event\" (back)=\"back()\">\n            </visitor-flow-visitor-list>\n        </ng-container>\n    </div>\n    <div class=\"loader\" *ngIf=\"model.loading\">\n        <div class=\"no-item\">\n            <div class=\"icon\">\n                <spinner type=\"circle-ring\" color=\"#000\"></spinner>\n            </div>\n            <div class=\"text\">{{model.loading === true ? 'Waiting...' : model.loading}}</div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\n\nimport { AppService } from '../../../services/app.service';\nimport { BaseComponent } from '../../../shared/components/base.component';\n\n@Component({\n    selector: 'visitor-booking-flow',\n    templateUrl: './visitor-flow.component.html',\n    styleUrls: ['./visitor-flow.component.scss']\n})\nexport class VisitorFlowComponent extends BaseComponent implements OnInit {\n\n    public model: any = {};\n\n    constructor(private service: AppService, private route: ActivatedRoute, private router: Router) {\n        super();\n        this.model.breadcrumbs = [];\n    }\n\n    public ngOnInit(): void {\n        this.model.flow = 'visitor';\n        this.load('breadcrumbs');\n        this.subs.obs.params = this.route.paramMap.subscribe((params) => {\n            if (this.model.page && !this.model.ignore) {\n                this.model.breadcrumbs.push(this.model.page);\n                this.store('breadcrumbs');\n            }\n            this.model.ignore = false;\n            this.model.page = '';\n            if (params.has('page')) {\n                this.model.page = params.get('page');\n            }\n            if (!this.model.page) { this.clearForm(); }\n        });\n        this.subs.obs.route = this.router.events.subscribe((e) => {\n            if (e instanceof NavigationEnd && e.url.indexOf('book/visitor') < 0) {\n                this.clearForm();\n            }\n        });\n        this.load('attendees');\n    }\n\n    public store(name: string) {\n        if (localStorage) {\n            const d = this.model[name];\n            const value = typeof d === 'object' ? JSON.stringify(d) : d;\n            localStorage.setItem(`STAFF.${this.model.flow}.${name}`, value);\n        }\n    }\n\n    public load(name: string) {\n        if (localStorage) {\n            const item = localStorage.getItem(`STAFF.${this.model.flow}.${name}`);\n            if (item) {\n                try {\n                    this.model[name] = JSON.parse(item);\n                } catch (e) {\n                    this.model[name] = item;\n                }\n            }\n        }\n    }\n\n    public clear(name: string) {\n        if (localStorage) {\n            localStorage.removeItem(`STAFF.${this.model.flow}.${name}`);\n        }\n    }\n\n    public storeFilters() { this.store('filters'); }\n    public loadFilters() { this.load('filters'); }\n\n    public storeSpace() { this.store('space'); }\n    public loadSpace() { this.load('space'); }\n\n    public storeAttendees() { this.store('attendees'); }\n    public loadAttendees() { this.load('attendees'); }\n\n    public clearForm() {\n        ['filters', 'space', 'attendees', 'breadcrumbs'].forEach(i => this.clear(i));\n    }\n\n    set loading(value: any) {\n        this.timeout('loading', () => this.model.loading = value, 10);\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'visitor', name], query);\n    }\n\n    public back() {\n        const previous = this.model.breadcrumbs.pop();\n        if (previous) {\n            this.to(previous);\n            this.model.ignore = true;\n            this.store('breadcrumbs');\n        } else {\n            this.service.navigate(['']);\n        }\n    }\n}\n","<div class=\"container\">\n    <div class=\"block header\">\n        <div class=\"content\">\n            <div class=\"header to-upper\">Add a visitor</div>\n            <div class=\"action\" (touchrelease)=\"to('new-contact')\">\n                <div class=\"icon\">\n                    <i class=\"material-icons\">add</i>\n                </div>\n                <div class=\"text\">Create a new contact</div>\n            </div>\n            <div class=\"divider\">\n                <div class=\"bar\"></div>\n                <div class=\"text to-upper\">Or</div>\n                <div class=\"bar\"></div>\n            </div>\n            <div class=\"search\">\n                <div class=\"text\">Search my Outlook contacts</div>\n                <searchbar [(filter)]=\"model.search\" (filterChange)=\"search()\"></searchbar>\n            </div>\n        </div>\n    </div>\n    <div class=\"block list\">\n        <div class=\"content\">\n            <div class=\"header to-upper\">Guests Added({{attendees?.length || '0'}}):</div>\n            <div class=\"item-list\">\n                <div class=\"user\" *ngFor=\"let item of (attendees || [])\">\n                    <div class=\"icon\">\n                        <img src=\"assets/img/persona.svg\">\n                    </div>\n                    <div class=\"details\">\n                        <div class=\"name\">{{item.name}} - {{item.organisation?.name || item.organisation}}</div>\n                    </div>\n                    <div class=\"option\">\n                        <div class=\"icon\" (touchrelease)=\"remove(item)\"><i class=\"material-icons\">close</i></div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"options\" *ngIf=\"attendees && attendees.length > 0\">\n                <btn (touchrelease)=\"cancel()\">Cancel</btn>\n                <btn (touchrelease)=\"to('options')\">Next</btn>\n            </div>\n        </div>\n        <div class=\"block search\" [class.hide]=\"!model.search\">\n            <div class=\"content\">\n                <div class=\"header to-upper\">Results</div>\n                <div class=\"item-list\">\n                    <div class=\"item\" *ngFor=\"let item of (model.results || [])\">\n                        <div class=\"details\">\n                            <div class=\"name\">{{item.name}}</div>\n                            <div class=\"email\">{{item.email}}</div>\n                        </div>\n                        <div class=\"option\">\n                            <div class=\"icon\" (touchrelease)=\"add(item)\"><i class=\"material-icons\">add</i></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\n\nimport { IUser } from '../../../../services/data/users.service';\nimport { AppService } from '../../../../services/app.service';\nimport { BaseComponent } from '../../../../shared/components/base.component';\nimport { Utils } from '../../../../shared/utility.class';\nimport { ISpaceFilters } from '../../space-flow/filters/filters.component';\n\n@Component({\n    selector: 'visitor-flow-visitor-list',\n    templateUrl: './visitor-list.component.html',\n    styleUrls: ['./visitor-list.component.scss']\n})\nexport class VisitorFlowVisitorListComponent extends BaseComponent implements OnInit {\n    @Input() public attendees: IUser[];\n    @Output() public attendeesChange = new EventEmitter();\n    @Output() public loading = new EventEmitter();\n    @Output() public back = new EventEmitter();\n\n    public model: any = {};\n\n    constructor(private service: AppService) {\n        super();\n    }\n\n    public ngOnInit() {\n\n    }\n\n    public search() {\n        this.loading.emit('Searching...');\n        const contacts = this.service.Contacts.list();\n        const filtered_items = Utils.filter(this.model.search, contacts, ['name', 'email']);\n        this.model.results = filtered_items;\n        this.loading.emit(false);\n    }\n\n    public add(item: IUser) {\n        if (!this.attendees) { this.attendees = []; }\n        const exists = this.attendees.find(i => item.email === i.email);\n        if (!exists) {\n            this.attendees.push(item);\n        }\n        this.model.search = '';\n        this.attendeesChange.emit(this.attendees);\n    }\n\n    public remove(item: IUser) {\n        if (!this.attendees) { this.attendees = []; }\n        const exists = this.attendees.find(i => item.email === i.email);\n        if (exists) {\n            this.attendees.splice(this.attendees.indexOf(exists), 1);\n        }\n        this.attendeesChange.emit(this.attendees);\n    }\n\n    public to(name: string, query?: any) {\n        this.service.navigate(['book', 'visitor', name], query);\n    }\n\n    public cancel() { this.back.emit(); }\n}\n"],"sourceRoot":""}